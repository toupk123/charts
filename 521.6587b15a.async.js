!(function(){var Ret=(Rr,dn)=>(dn=Symbol[Rr])?dn:Symbol.for("Symbol."+Rr),xot=Rr=>{throw TypeError(Rr)},Ga=Math.pow;var wot=function(Rr,dn){this[0]=Rr,this[1]=dn};var dit=Rr=>{var dn=Rr[Ret("asyncIterator")],Kt=!1,me,re={};return dn==null?(dn=Rr[Ret("iterator")](),me=Ot=>re[Ot]=$r=>dn[Ot]($r)):(dn=dn.call(Rr),me=Ot=>re[Ot]=$r=>{if(Kt){if(Kt=!1,Ot==="throw")throw $r;return $r}return Kt=!0,{done:!1,value:new wot(new Promise(sr=>{var tr=dn[Ot]($r);tr instanceof Object||xot("Object expected"),sr(tr)}),1)}}),re[Ret("iterator")]=()=>re,me("next"),"throw"in dn?me("throw"):re.throw=Ot=>{throw Ot},"return"in dn&&me("return"),re};(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[521],{95025:function(Rr,dn,Kt){"use strict";var me=Kt(1413),re=Kt(67294),Ot=Kt(57727),$r=Kt(91146),sr=function(Ie,$t){return re.createElement($r.Z,(0,me.Z)((0,me.Z)({},Ie),{},{ref:$t,icon:Ot.Z}))},tr=re.forwardRef(sr);dn.Z=tr},18121:function(Rr,dn,Kt){"use strict";var me=Kt(1413),re=Kt(67294),Ot=Kt(54200),$r=Kt(91146),sr=function(Ie,$t){return re.createElement($r.Z,(0,me.Z)((0,me.Z)({},Ie),{},{ref:$t,icon:Ot.Z}))},tr=re.forwardRef(sr);dn.Z=tr},17816:function(Rr,dn){(function(Kt,me){me(dn)})(this,function(Kt){"use strict";function me(dt){var pt=typeof Symbol=="function"&&Symbol.iterator,gt=pt&&dt[pt],_t=0;if(gt)return gt.call(dt);if(dt&&typeof dt.length=="number")return{next:function(){return{value:(dt=dt&&_t>=dt.length?void 0:dt)&&dt[_t++],done:!dt}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(dt,pt){var gt=typeof Symbol=="function"&&dt[Symbol.iterator];if(!gt)return dt;var _t,Dt,Nt=gt.call(dt),At=[];try{for(;(pt===void 0||0<pt--)&&!(_t=Nt.next()).done;)At.push(_t.value)}catch(Tt){Dt={error:Tt}}finally{try{_t&&!_t.done&&(gt=Nt.return)&&gt.call(Nt)}finally{if(Dt)throw Dt.error}}return At}function Ot(dt,pt,gt){if(gt||arguments.length===2)for(var _t,Dt=0,Nt=pt.length;Dt<Nt;Dt++)!_t&&Dt in pt||((_t=_t||Array.prototype.slice.call(pt,0,Dt))[Dt]=pt[Dt]);return dt.concat(_t||Array.prototype.slice.call(pt))}function $r(dt){return tr(dt,"Function")}var sr={}.toString,tr=function(dt,pt){return sr.call(dt)==="[object "+pt+"]"},Ze=function(dt){return Array.isArray?Array.isArray(dt):tr(dt,"Array")},Ie=function(dt){if(typeof(pt=dt)!="object"||pt===null||!tr(dt,"Object"))return!1;var pt;if(Object.getPrototypeOf(dt)===null)return!0;for(var gt=dt;Object.getPrototypeOf(gt)!==null;)gt=Object.getPrototypeOf(gt);return Object.getPrototypeOf(dt)===gt},$t=function(dt){return tr(dt,"Number")},er=Object.values?function(dt){return Object.values(dt)}:function(dt){var pt,gt=[],_t=dt,Dt=function(It,Yt){$r(dt)&&Yt==="prototype"||gt.push(It)};if(_t){if(Ze(_t))for(var Nt=0,At=_t.length;Nt<At&&Dt(_t[Nt],Nt)!==!1;Nt++);else if(pt=typeof _t,_t!==null&&pt=="object"||pt=="function"){for(var Tt in _t)if(_t.hasOwnProperty(Tt)&&Dt(_t[Tt],Tt)===!1)break}}return gt},Ae=5;function ge(dt){for(var pt=[],gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];for(var _t=0;_t<pt.length;_t+=1)(function Dt(Nt,At,Tt,It){for(var Yt in Tt=Tt||0,It=It||Ae,At){var Jt;At.hasOwnProperty(Yt)&&((Jt=At[Yt])!==null&&Ie(Jt)?(Ie(Nt[Yt])||(Nt[Yt]={}),Tt<It?Dt(Nt[Yt],Jt,Tt+1,It):Nt[Yt]=At[Yt]):Ze(Jt)?(Nt[Yt]=[],Nt[Yt]=Nt[Yt].concat(Jt)):Jt!==void 0&&(Nt[Yt]=Jt))}})(dt,pt[_t]);return dt}function Re(dt){return dt}(function(dt,pt){var gt;if($r(dt))return(gt=function(){for(var _t=[],Dt=0;Dt<arguments.length;Dt++)_t[Dt]=arguments[Dt];var Nt,At=pt?pt.apply(this,_t):_t[0],Tt=gt.cache;return Tt.has(At)?Tt.get(At):(Nt=dt.apply(this,_t),Tt.set(At,Nt),Nt)}).cache=new Map;throw new TypeError("Expected a function")})(function(dt,At){var gt=(At=At===void 0?{}:At).fontSize,_t=At.fontFamily,Dt=At.fontWeight,Nt=At.fontStyle,At=At.fontVariant;return(ie=ie||document.createElement("canvas").getContext("2d")).font=[Nt,At,Dt,gt+"px",_t].join(" "),ie.measureText(tr(dt,"String")?dt:"").width},function(dt,pt){return function(){for(var gt=0,_t=0,Dt=arguments.length;_t<Dt;_t++)gt+=arguments[_t].length;for(var Nt=Array(gt),At=0,_t=0;_t<Dt;_t++)for(var Tt=arguments[_t],It=0,Yt=Tt.length;It<Yt;It++,At++)Nt[At]=Tt[It];return Nt}([dt],er(pt=pt===void 0?{}:pt)).join("")});var ie,te=typeof Float32Array!="undefined"?Float32Array:Array;function Qt(){var dt=new te(9);return te!=Float32Array&&(dt[1]=0,dt[2]=0,dt[3]=0,dt[5]=0,dt[6]=0,dt[7]=0),dt[0]=1,dt[4]=1,dt[8]=1,dt}Math.hypot||(Math.hypot=function(){for(var dt=0,pt=arguments.length;pt--;)dt+=arguments[pt]*arguments[pt];return Math.sqrt(dt)});var le=function(dt,Le,He){var _t=Le[0],Dt=Le[1],Nt=Le[2],At=Le[3],Tt=Le[4],It=Le[5],Yt=Le[6],Jt=Le[7],Le=Le[8],rr=He[0],Se=He[1],ye=He[2],Fe=He[3],pe=He[4],Ee=He[5],Me=He[6],wr=He[7],He=He[8];return dt[0]=rr*_t+Se*At+ye*Yt,dt[1]=rr*Dt+Se*Tt+ye*Jt,dt[2]=rr*Nt+Se*It+ye*Le,dt[3]=Fe*_t+pe*At+Ee*Yt,dt[4]=Fe*Dt+pe*Tt+Ee*Jt,dt[5]=Fe*Nt+pe*It+Ee*Le,dt[6]=Me*_t+wr*At+He*Yt,dt[7]=Me*Dt+wr*Tt+He*Jt,dt[8]=Me*Nt+wr*It+He*Le,dt};function gr(){var dt=new te(16);return te!=Float32Array&&(dt[1]=0,dt[2]=0,dt[3]=0,dt[4]=0,dt[6]=0,dt[7]=0,dt[8]=0,dt[9]=0,dt[11]=0,dt[12]=0,dt[13]=0,dt[14]=0),dt[0]=1,dt[5]=1,dt[10]=1,dt[15]=1,dt}var Vr=function(dt,Me,gt){var _t=Me[0],Dt=Me[1],Nt=Me[2],At=Me[3],Tt=Me[4],It=Me[5],Yt=Me[6],Jt=Me[7],Le=Me[8],rr=Me[9],Se=Me[10],ye=Me[11],Fe=Me[12],pe=Me[13],Ee=Me[14],Me=Me[15],wr=gt[0],He=gt[1],yr=gt[2],Wr=gt[3];return dt[0]=wr*_t+He*Tt+yr*Le+Wr*Fe,dt[1]=wr*Dt+He*It+yr*rr+Wr*pe,dt[2]=wr*Nt+He*Yt+yr*Se+Wr*Ee,dt[3]=wr*At+He*Jt+yr*ye+Wr*Me,wr=gt[4],He=gt[5],yr=gt[6],Wr=gt[7],dt[4]=wr*_t+He*Tt+yr*Le+Wr*Fe,dt[5]=wr*Dt+He*It+yr*rr+Wr*pe,dt[6]=wr*Nt+He*Yt+yr*Se+Wr*Ee,dt[7]=wr*At+He*Jt+yr*ye+Wr*Me,wr=gt[8],He=gt[9],yr=gt[10],Wr=gt[11],dt[8]=wr*_t+He*Tt+yr*Le+Wr*Fe,dt[9]=wr*Dt+He*It+yr*rr+Wr*pe,dt[10]=wr*Nt+He*Yt+yr*Se+Wr*Ee,dt[11]=wr*At+He*Jt+yr*ye+Wr*Me,wr=gt[12],He=gt[13],yr=gt[14],Wr=gt[15],dt[12]=wr*_t+He*Tt+yr*Le+Wr*Fe,dt[13]=wr*Dt+He*It+yr*rr+Wr*pe,dt[14]=wr*Nt+He*Yt+yr*Se+Wr*Ee,dt[15]=wr*At+He*Jt+yr*ye+Wr*Me,dt};function Qn(dt){for(var pt=[],gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];return dt?pt.reduce(function(_t,Dt){return function(Nt){return Dt(_t(Nt))}},dt):Re}function Sn(dt){return dt instanceof Float32Array||dt instanceof Array}function Mn(dt,pt,gt){for(;dt<pt;)dt+=2*Math.PI;for(;gt<dt;)dt-=2*Math.PI;return dt}vr=new te(3),te!=Float32Array&&(vr[0]=0,vr[1]=0,vr[2]=0),vr=new te(4),te!=Float32Array&&(vr[0]=0,vr[1]=0,vr[2]=0,vr[3]=0);function Jn(At,pt,gt,_t,Dt){var Nt=(At=re(At,2))[0],At=At[1],Tt=Qt();return Nt=[Nt,At],(At=Tt)[0]=1,At[1]=0,At[2]=0,At[3]=0,At[4]=1,At[5]=0,At[6]=Nt[0],At[7]=Nt[1],At[8]=1,At}function gn(dt,...pt){return pt.reduce((gt,_t)=>Dt=>gt(_t(Dt)),dt)}function rn(dt,pt){return pt-dt?gt=>(gt-dt)/(pt-dt):gt=>.5}const ti=Math.sqrt(50),Or=Math.sqrt(10),Er=Math.sqrt(2);function oa(dt,pt,gt){return pt=(pt-dt)/Math.max(0,gt),dt=Math.floor(Math.log(pt)/Math.LN10),gt=pt/Ga(10,dt),0<=dt?(gt>=ti?10:gt>=Or?5:gt>=Er?2:1)*Ga(10,dt):-Ga(10,-dt)/(gt>=ti?10:gt>=Or?5:gt>=Er?2:1)}const Mi=(dt,pt,gt=5)=>{dt=[dt,pt];let _t=0,Dt=dt.length-1,Nt=dt[_t],At=dt[Dt],Tt;return At<Nt&&([Nt,At]=[At,Nt],[_t,Dt]=[Dt,_t]),0<(Tt=oa(Nt,At,gt))?(Nt=Math.floor(Nt/Tt)*Tt,At=Math.ceil(At/Tt)*Tt,Tt=oa(Nt,At,gt)):Tt<0&&(Nt=Math.ceil(Nt*Tt)/Tt,At=Math.floor(At*Tt)/Tt,Tt=oa(Nt,At,gt)),0<Tt?(dt[_t]=Math.floor(Nt/Tt)*Tt,dt[Dt]=Math.ceil(At/Tt)*Tt):Tt<0&&(dt[_t]=Math.ceil(Nt*Tt)/Tt,dt[Dt]=Math.floor(At*Tt)/Tt),dt};function Po(dt){return dt!=null&&!Number.isNaN(dt)}function cr(dt,pt){return gt=>{gt.prototype.rescale=function(){this.initRange(),this.nice();var[_t]=this.chooseTransforms();this.composeOutput(_t,this.chooseClamp(_t))},gt.prototype.initRange=function(){var _t=this.options.interpolator;this.options.range=dt(_t)},gt.prototype.composeOutput=function(_t,Dt){var Nt,{domain:Tt,interpolator:At,round:It}=this.getOptions(),Tt=pt(Tt.map(_t)),It=It?(Nt=At,Yt=>(Yt=Nt(Yt),$t(Yt)?Math.round(Yt):Yt)):At;this.output=gn(It,Tt,Dt,_t)},gt.prototype.invert=void 0}}var Ti,vr={exports:{}},Oa={exports:{}},Ta=function(dt){return!(!dt||typeof dt=="string")&&(dt instanceof Array||Array.isArray(dt)||0<=dt.length&&(dt.splice instanceof Function||Object.getOwnPropertyDescriptor(dt,dt.length-1)&&dt.constructor.name!=="String"))},Vt=Array.prototype.concat,Be=Array.prototype.slice,Ft=Oa.exports=function(dt){for(var pt=[],gt=0,_t=dt.length;gt<_t;gt++){var Dt=dt[gt];Ta(Dt)?pt=Vt.call(pt,Be.call(Dt)):pt.push(Dt)}return pt},be=(Ft.wrap=function(dt){return function(){return dt(Ft(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),ar=Oa.exports,$n=Object.hasOwnProperty,zr=Object.create(null);for(Ti in be)$n.call(be,Ti)&&(zr[be[Ti]]=Ti);var qr=vr.exports={to:{},get:{}};function xr(dt,pt,gt){return Math.min(Math.max(pt,dt),gt)}function Ja(dt){return dt=Math.round(dt).toString(16).toUpperCase(),dt.length<2?"0"+dt:dt}qr.get=function(dt){var pt,gt;switch(dt.substring(0,3).toLowerCase()){case"hsl":pt=qr.get.hsl(dt),gt="hsl";break;case"hwb":pt=qr.get.hwb(dt),gt="hwb";break;default:pt=qr.get.rgb(dt),gt="rgb"}return pt?{model:gt,value:pt}:null},qr.get.rgb=function(dt){if(!dt)return null;var pt,gt,_t,Dt=[0,0,0,1];if(pt=dt.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(_t=pt[2],pt=pt[1],gt=0;gt<3;gt++){var Nt=2*gt;Dt[gt]=parseInt(pt.slice(Nt,2+Nt),16)}_t&&(Dt[3]=parseInt(_t,16)/255)}else if(pt=dt.match(/^#([a-f0-9]{3,4})$/i)){for(_t=(pt=pt[1])[3],gt=0;gt<3;gt++)Dt[gt]=parseInt(pt[gt]+pt[gt],16);_t&&(Dt[3]=parseInt(_t+_t,16)/255)}else{if(pt=dt.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(gt=0;gt<3;gt++)Dt[gt]=parseInt(pt[gt+1],0);else{if(!(pt=dt.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(pt=dt.match(/^(\w+)$/))?pt[1]==="transparent"?[0,0,0,0]:$n.call(be,pt[1])?((Dt=be[pt[1]])[3]=1,Dt):null:null;for(gt=0;gt<3;gt++)Dt[gt]=Math.round(2.55*parseFloat(pt[gt+1]))}pt[4]&&(pt[5]?Dt[3]=.01*parseFloat(pt[4]):Dt[3]=parseFloat(pt[4]))}for(gt=0;gt<3;gt++)Dt[gt]=xr(Dt[gt],0,255);return Dt[3]=xr(Dt[3],0,1),Dt},qr.get.hsl=function(dt){var pt;return(dt=dt&&dt.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(pt=parseFloat(dt[4]),[(parseFloat(dt[1])%360+360)%360,xr(parseFloat(dt[2]),0,100),xr(parseFloat(dt[3]),0,100),xr(isNaN(pt)?1:pt,0,1)]):null},qr.get.hwb=function(dt){var pt;return(dt=dt&&dt.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/))?(pt=parseFloat(dt[4]),[(parseFloat(dt[1])%360+360)%360,xr(parseFloat(dt[2]),0,100),xr(parseFloat(dt[3]),0,100),xr(isNaN(pt)?1:pt,0,1)]):null},qr.to.hex=function(){var dt=ar(arguments);return"#"+Ja(dt[0])+Ja(dt[1])+Ja(dt[2])+(dt[3]<1?Ja(Math.round(255*dt[3])):"")},qr.to.rgb=function(){var dt=ar(arguments);return dt.length<4||dt[3]===1?"rgb("+Math.round(dt[0])+", "+Math.round(dt[1])+", "+Math.round(dt[2])+")":"rgba("+Math.round(dt[0])+", "+Math.round(dt[1])+", "+Math.round(dt[2])+", "+dt[3]+")"},qr.to.rgb.percent=function(){var dt=ar(arguments),pt=Math.round(dt[0]/255*100),gt=Math.round(dt[1]/255*100),_t=Math.round(dt[2]/255*100);return dt.length<4||dt[3]===1?"rgb("+pt+"%, "+gt+"%, "+_t+"%)":"rgba("+pt+"%, "+gt+"%, "+_t+"%, "+dt[3]+")"},qr.to.hsl=function(){var dt=ar(arguments);return dt.length<4||dt[3]===1?"hsl("+dt[0]+", "+dt[1]+"%, "+dt[2]+"%)":"hsla("+dt[0]+", "+dt[1]+"%, "+dt[2]+"%, "+dt[3]+")"},qr.to.hwb=function(){var dt=ar(arguments),pt="";return 4<=dt.length&&dt[3]!==1&&(pt=", "+dt[3]),"hwb("+dt[0]+", "+dt[1]+"%, "+dt[2]+"%"+pt+")"},qr.to.keyword=function(dt){return zr[dt.slice(0,3)]};var to=vr.exports;function eo(dt,pt,gt){let _t=gt;return _t<0&&(_t+=1),1<_t&&--_t,_t<1/6?dt+6*(pt-dt)*_t:_t<.5?pt:_t<2/3?dt+(pt-dt)*(2/3-_t)*6:dt}function Eo(Dt){var pt,gt,_t,Dt=to.get(Dt);return Dt?({model:Dt,value:pt}=Dt,Dt==="rgb"?pt:Dt==="hsl"?(pt=(Dt=pt)[0]/360,gt=Dt[1]/100,_t=Dt[2]/100,Dt=Dt[3],gt==0?[255*_t,255*_t,255*_t,Dt]:[255*eo(gt=2*_t-(_t=_t<.5?_t*(1+gt):_t+gt-_t*gt),_t,pt+1/3),255*eo(gt,_t,pt),255*eo(gt,_t,pt-1/3),Dt]):null):null}const ln=(dt,pt)=>gt=>dt*(1-gt)+pt*gt,gc=(dt,pt)=>{if(typeof dt=="number"&&typeof pt=="number")return ln(dt,pt);if(typeof dt!="string"||typeof pt!="string")return()=>dt;{var gt=dt,_t=pt;const Dt=Eo(gt),Nt=Eo(_t);return Dt===null||Nt===null?Dt?()=>gt:()=>_t:At=>{var Tt=new Array(4);for(let ye=0;ye<4;ye+=1){var It=Dt[ye],Yt=Nt[ye];Tt[ye]=It*(1-At)+Yt*At}var[Jt,Le,rr,Se]=Tt;return`rgba(${Math.round(Jt)}, ${Math.round(Le)}, ${Math.round(rr)}, ${Se})`}}},Ni=(dt,pt)=>{const gt=ln(dt,pt);return _t=>Math.round(gt(_t))};function ro({map:dt,initKey:pt},gt){return pt=pt(gt),dt.has(pt)?dt.get(pt):gt}function Ml(dt){return typeof dt=="object"?dt.valueOf():dt}class Tl extends Map{constructor(pt){if(super(),this.map=new Map,this.initKey=Ml,pt!==null)for(var[gt,_t]of pt)this.set(gt,_t)}get(pt){return super.get(ro({map:this.map,initKey:this.initKey},pt))}has(pt){return super.has(ro({map:this.map,initKey:this.initKey},pt))}set(pt,gt){return super.set(([{map:pt,initKey:_t},Dt]=[{map:this.map,initKey:this.initKey},pt],_t=_t(Dt),pt.has(_t)?pt.get(_t):(pt.set(_t,Dt),Dt)),gt);var _t,Dt}delete(pt){return super.delete(([{map:pt,initKey:gt},_t]=[{map:this.map,initKey:this.initKey},pt],gt=gt(_t),pt.has(gt)&&(_t=pt.get(gt),pt.delete(gt)),_t));var gt,_t}}class ko{constructor(pt){this.options=ge({},this.getDefaultOptions()),this.update(pt)}getOptions(){return this.options}update(pt={}){this.options=ge({},this.options,pt),this.rescale(pt)}rescale(pt){}}const Yo=Symbol("defaultUnknown");function Bi(dt,pt,gt){for(let _t=0;_t<pt.length;_t+=1)dt.has(pt[_t])||dt.set(gt(pt[_t]),_t)}function Ne(pt){var{value:pt,from:gt,to:_t,mapper:Dt,notFoundReturn:Nt}=pt;let At=Dt.get(pt);if(At===void 0){if(Nt!==Yo)return Nt;At=gt.push(pt)-1,Dt.set(pt,At)}return _t[At%_t.length]}function lr(dt){return dt instanceof Date?pt=>""+pt:typeof dt=="object"?pt=>JSON.stringify(pt):pt=>pt}class Ol extends ko{getDefaultOptions(){return{domain:[],range:[],unknown:Yo}}constructor(pt){super(pt)}map(pt){return this.domainIndexMap.size===0&&Bi(this.domainIndexMap,this.getDomain(),this.domainKey),Ne({value:this.domainKey(pt),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(pt){return this.rangeIndexMap.size===0&&Bi(this.rangeIndexMap,this.getRange(),this.rangeKey),Ne({value:this.rangeKey(pt),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(pt){var[gt]=this.options.domain,[_t]=this.options.range;this.domainKey=lr(gt),this.rangeKey=lr(_t),this.rangeIndexMap?(pt&&!pt.range||this.rangeIndexMap.clear(),pt&&!pt.domain&&!pt.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new Ol(this.options)}getRange(){return this.options.range}getDomain(){var pt,gt;return this.sortedDomain||({domain:pt,compare:gt}=this.options,this.sortedDomain=gt?[...pt].sort(gt):pt),this.sortedDomain}}function Wt(pe){const{domain:pt,range:gt,paddingOuter:_t,paddingInner:Dt,flex:Nt,round:At,align:Tt}=pe;var It=pt.length,Se=0<(Se=(pe=It)-(Yt=Nt).length)?[...Yt,...new Array(Se).fill(1)]:Se<0?Yt.slice(0,pe):Yt,[pe,Yt]=gt,Yt=Yt-pe,Fe=Yt/(2/It*_t+1-1/It*Dt);const Jt=Fe*Dt/It;Fe-=It*Jt;const Le=function(He){const yr=Math.min(...He);return He.map(Wr=>Wr/yr)}(Se),rr=Fe/Le.reduce((He,yr)=>He+yr);var Se=new Tl(pt.map((He,yr)=>(yr=Le[yr]*rr,[He,At?Math.floor(yr):yr]))),ye=new Tl(pt.map((He,yr)=>(yr=Le[yr]*rr+Jt,[He,At?Math.floor(yr):yr]))),Fe=Array.from(ye.values()).reduce((He,yr)=>He+yr),pe=pe+(Yt-(Fe-Fe/It*Dt))*Tt;let Ee=At?Math.round(pe):pe;var Me=new Array(It);for(let He=0;He<It;He+=1){Me[He]=(wr=Ee,Math.round(1e12*wr)/1e12);var wr=pt[He];Ee+=ye.get(wr)}return{valueBandWidth:Se,valueStep:ye,adjustedRange:Me}}class je extends Ol{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:Yo,flex:[]}}constructor(pt){super(pt)}clone(){return new je(this.options)}getStep(pt){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:pt===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(pt)}getBandWidth(pt){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:pt===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(pt)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:pt,paddingInner:gt}=this.options;return 0<pt?pt:gt}getPaddingOuter(){var{padding:pt,paddingOuter:gt}=this.options;return 0<pt?pt:gt}rescale(){super.rescale();var{align:_t,domain:pt,range:Dt,round:Nt,flex:gt}=this.options,{adjustedRange:_t,valueBandWidth:Dt,valueStep:Nt}=function(Yt){var Tt=Yt.domain;if((Tt=Tt.length)===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!((It=Yt.flex)==null||!It.length))return Wt(Yt);var{range:It,paddingOuter:Yt,paddingInner:Jt,round:Le,align:rr}=Yt;let Se,ye,Fe=It[0];return It=It[1]-Fe,Se=It/Math.max(1,2*Yt+(Tt-Jt)),Le&&(Se=Math.floor(Se)),Fe+=(It-Se*(Tt-Jt))*rr,ye=Se*(1-Jt),Le&&(Fe=Math.round(Fe),ye=Math.round(ye)),Yt=new Array(Tt).fill(0).map((pe,Ee)=>Fe+Ee*Se),{valueStep:Se,valueBandWidth:ye,adjustedRange:Yt}}({align:_t,range:Dt,round:Nt,flex:gt,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:pt});this.valueStep=Nt,this.valueBandWidth=Dt,this.adjustedRange=_t}}const wf=(dt,pt,gt)=>{let _t,Dt,Nt=dt,At=pt;if(Nt===At&&0<gt)return[Nt];let Tt=oa(Nt,At,gt);if(Tt===0||!Number.isFinite(Tt))return[];if(0<Tt){Nt=Math.ceil(Nt/Tt),At=Math.floor(At/Tt),Dt=new Array(_t=Math.ceil(At-Nt+1));for(let It=0;It<_t;It+=1)Dt[It]=(Nt+It)*Tt}else{Tt=-Tt,Nt=Math.ceil(Nt*Tt),At=Math.floor(At*Tt),Dt=new Array(_t=Math.ceil(At-Nt+1));for(let It=0;It<_t;It+=1)Dt[It]=(Nt+It)/Tt}return Dt},Xe=(_t,Nt,gt)=>{var[_t,Dt]=_t,[Nt,At]=Nt;let Tt,It;return gn(It=_t<Dt?(Tt=rn(_t,Dt),gt(Nt,At)):(Tt=rn(Dt,_t),gt(At,Nt)),Tt)},Al=(dt,pt,gt)=>{const _t=Math.min(dt.length,pt.length)-1,Dt=new Array(_t),Nt=new Array(_t);var At=dt[0]>dt[_t],Tt=At?[...dt].reverse():dt,It=At?[...pt].reverse():pt;for(let Yt=0;Yt<_t;Yt+=1)Dt[Yt]=rn(Tt[Yt],Tt[Yt+1]),Nt[Yt]=gt(It[Yt],It[Yt+1]);return Yt=>{var Jt=function(rr,Se,ye,Fe,pe){let Ee=ye||0,Me=Fe||rr.length;for(var wr=pe||(yr=>yr);Ee<Me;){var He=Math.floor((Ee+Me)/2);wr(rr[He])>Se?Me=He:Ee=He+1}return Ee}(dt,Yt,1,_t)-1,Le=Dt[Jt];return gn(Nt[Jt],Le)(Yt)}},Ln=(dt,pt,gt,_t)=>(2<Math.min(dt.length,pt.length)?Al:Xe)(dt,pt,_t?Ni:gt);class vi extends ko{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:ln,tickCount:5}}map(pt){return Po(pt)?this.output(pt):this.options.unknown}invert(pt){return Po(pt)?this.input(pt):this.options.unknown}nice(){var pt,gt,_t,Dt;this.options.nice&&([pt,gt,_t,...Dt]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(pt,gt,_t,...Dt))}getTicks(){var pt=this.options.tickMethod,[gt,_t,Dt,...Nt]=this.getTickMethodOptions();return pt(gt,_t,Dt,...Nt)}getTickMethodOptions(){var{domain:pt,tickCount:gt}=this.options;return[pt[0],pt[pt.length-1],gt]}chooseNice(){return Mi}rescale(){this.nice();var[pt,gt]=this.chooseTransforms();this.composeOutput(pt,this.chooseClamp(pt)),this.composeInput(pt,gt,this.chooseClamp(gt))}chooseClamp(_t){var{clamp:gt,range:Dt}=this.options,_t=this.options.domain.map(_t),Dt=Math.min(_t.length,Dt.length);if(gt){gt=_t[0],_t=_t[Dt-1];const Nt=_t<gt?_t:gt,At=_t<gt?gt:_t;return Tt=>Math.min(Math.max(Nt,Tt),At)}return Re}composeOutput(pt,gt){var{domain:At,range:_t,round:Dt,interpolate:Nt}=this.options,At=Ln(At.map(pt),_t,Nt,Dt);this.output=gn(At,gt,pt)}composeInput(pt,gt,_t){var{domain:Dt,range:Nt}=this.options,Nt=Ln(Nt,Dt.map(pt),ln);this.input=gn(gt,_t,Nt)}}class it extends vi{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:gc,tickMethod:wf,tickCount:5}}chooseTransforms(){return[Re,Re]}clone(){return new it(this.options)}}class Gt extends je{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:Yo,paddingInner:1,paddingOuter:0}}constructor(pt){super(pt)}getPaddingInner(){return 1}clone(){return new Gt(this.options)}update(pt){super.update(pt)}getPaddingOuter(){return this.options.padding}}function pi(dt,pt){for(var gt=[],_t=0,Dt=dt.length;_t<Dt;_t++)gt.push(dt[_t].substr(0,pt));return gt}var Zr,Oa=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],vr=["January","February","March","April","May","June","July","August","September","October","November","December"],Sf=pi(vr,3);(function(dt){for(var pt=[],gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];for(var _t=0,Dt=pt;_t<Dt.length;_t++){var Nt,At=Dt[_t];for(Nt in At)dt[Nt]=At[Nt]}})({},{dayNamesShort:pi(Oa,3),dayNames:Oa,monthNamesShort:Sf,monthNames:vr,amPm:["am","pm"],DoFn:function(dt){return dt+["th","st","nd","rd"][3<dt%10?0:(dt-dt%10!=10?1:0)*dt%10]}});var ue;let hr=Zr=class extends it{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Re,tickMethod:wf,tickCount:5}}constructor(dt){super(dt)}clone(){return new Zr(this.options)}};hr=Zr=function(dt,pt,gt,_t){var Dt,Nt=arguments.length,At=Nt<3?pt:_t===null?_t=Object.getOwnPropertyDescriptor(pt,gt):_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")At=Reflect.decorate(dt,pt,gt,_t);else for(var Tt=dt.length-1;0<=Tt;Tt--)(Dt=dt[Tt])&&(At=(Nt<3?Dt(At):3<Nt?Dt(pt,gt,At):Dt(pt,gt))||At);return 3<Nt&&At&&Object.defineProperty(pt,gt,At),At}([cr(function(dt){return[dt(0),dt(1)]},pt=>{var[pt,gt]=pt;return gn(ln(0,1),rn(pt,gt))})],hr);let Ut=ue=class extends it{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Re,tickMethod:wf,tickCount:5}}constructor(dt){super(dt)}clone(){return new ue(this.options)}};Ut=ue=function(dt,pt,gt,_t){var Dt,Nt=arguments.length,At=Nt<3?pt:_t===null?_t=Object.getOwnPropertyDescriptor(pt,gt):_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")At=Reflect.decorate(dt,pt,gt,_t);else for(var Tt=dt.length-1;0<=Tt;Tt--)(Dt=dt[Tt])&&(At=(Nt<3?Dt(At):3<Nt?Dt(pt,gt,At):Dt(pt,gt))||At);return 3<Nt&&At&&Object.defineProperty(pt,gt,At),At}([cr(function(dt){return[dt(0),dt(.5),dt(1)]},dt=>{const[pt,gt,_t]=dt,Dt=gn(ln(0,.5),rn(pt,gt)),Nt=gn(ln(.5,1),rn(gt,_t));return At=>(pt>_t?At<gt?Nt:Dt:At<gt?Dt:Nt)(At)})],Ut);function ze(dt,pt,gt,_t,Dt){var Nt=new it({range:[pt,pt+_t]}),At=new it({range:[gt,gt+Dt]});return{transform:function(Yt){var Yt=re(Yt,2),It=Yt[0],Yt=Yt[1];return[Nt.map(It),At.map(Yt)]},untransform:function(Yt){var Yt=re(Yt,2),It=Yt[0],Yt=Yt[1];return[Nt.invert(It),At.invert(Yt)]}}}function oe(dt,pt,gt,_t,Dt){return(0,re(dt,1)[0])(pt,gt,_t,Dt)}function yc(dt,pt,gt,_t,Dt){return re(dt,1)[0]}function qe(It,pt,gt,_t,Dt){var Nt=(It=re(It,4))[0],At=It[1],Tt=It[2],It=It[3],Yt=new it({range:[Tt,It]}),Jt=new it({range:[Nt,At]}),Le=1<(Tt=Dt/_t)?1:Tt,rr=1<Tt?1/Tt:1;return{transform:function(Fe){var Fe=re(Fe,2),ye=Fe[0],Fe=Fe[1],ye=Jt.map(ye),Fe=Yt.map(Fe);return[.5*(Fe*Math.cos(ye)*Le)+.5,.5*(Fe*Math.sin(ye)*rr)+.5]},untransform:function(pe){var pe=re(pe,2),ye=pe[0],pe=pe[1],ye=2*(ye-.5)/Le,pe=2*(pe-.5)/rr,Fe=Math.sqrt(Math.pow(ye,2)+Math.pow(pe,2)),pe=Mn(Math.atan2(pe,ye),Nt,At);return[Jt.invert(pe),Yt.invert(Fe)]}}}function ce(dt,pt,gt,_t,Dt){return{transform:function(At){var At=re(At,2),Tt=At[0];return[At[1],Tt]},untransform:function(At){var At=re(At,2),Tt=At[0];return[At[1],Tt]}}}function mu(dt){for(var pt=[],gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];return Pi.apply(void 0,Ot([[-1,-1]],re(pt),!1))}function Aa(dt){for(var pt=[],gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];return Pi.apply(void 0,Ot([[-1,1]],re(pt),!1))}function Uo(dt){for(var pt=[],gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];return Pi.apply(void 0,Ot([[1,-1]],re(pt),!1))}function mc(At,pt,gt,_t,Dt){var Nt,At=re(At,1)[0],Tt=Qt();return Tt=Tt,At=At,Nt=Math.sin(At),At=Math.cos(At),Tt[0]=At,Tt[1]=Nt,Tt[2]=0,Tt[3]=-Nt,Tt[4]=At,Tt[5]=0,Tt[6]=0,Tt[7]=0,Tt[8]=1,Tt}function Ky(dt,pt,gt,_t,Dt){var Nt=(dt=re(dt,4))[0],At=dt[1],Tt=dt[2],It=(dt[3]-Tt)/(+At/(2*Math.PI)+1),Yt=It/(2*Math.PI),Jt=new it({range:[Tt,Tt+.99*It]}),Le=new it({range:[Nt,At]}),rr=1<(dt=Dt/_t)?1:dt,Se=1<dt?1/dt:1;return{transform:function(pe){var pe=re(pe,2),Fe=pe[0],pe=pe[1],Fe=Le.map(Fe),pe=Jt.map(pe);return[.5*(Math.cos(Fe)*(Yt*Fe+pe)*rr)+.5,.5*(Math.sin(Fe)*(Yt*Fe+pe)*Se)+.5]},untransform:function(pe){var pe=re(pe,2),Ee=pe[0],pe=pe[1],Ee=2*(Ee-.5)/rr,pe=2*(pe-.5)/Se,Fe=Math.sqrt(Math.pow(Ee,2)+Math.pow(pe,2)),pe=Mn(Math.atan2(pe,Ee)+Math.floor(Fe/It)*Math.PI*2,Nt,At),Ee=Fe-Yt*pe;return[Le.invert(pe),Jt.invert(Ee)]}}}function bu(It,pt,gt,_t,Dt){var Nt=(It=re(It,4))[0],At=It[1],Tt=It[2],It=It[3],Yt=new it({range:[Tt,It]});return{transform:function(Jt){for(var Le=[],rr=Jt.length,Se=new Gt({domain:new Array(rr).fill(0).map(function(Ee,Me){return Me}),range:[Nt,At]}),ye=0;ye<rr;ye++){var pe=Jt[ye],Fe=Se.map(ye),pe=Yt.map(pe);Le.push(Fe,pe)}return Le},untransform:function(Jt){for(var Le=[],rr=0;rr<Jt.length;rr+=2){var Se=Jt[rr+1];Le.push(Yt.invert(Se))}return Le}}}var Pi=function(At,pt,gt,_t,Dt){var At=re(At,2),Nt=At[0],At=At[1],Tt=Qt();return Nt=[Nt,At],(At=Tt)[0]=Nt[0],At[1]=0,At[2]=0,At[3]=0,At[4]=Nt[1],At[5]=0,At[6]=0,At[7]=0,At[8]=1,At};function mn(dt){return 1/Math.tan(dt)}function fe(dt,pt,gt,_t,Dt){var Nt=mn(re(dt,1)[0]);return{transform:function(It){var It=re(It,2),Tt=It[0],It=It[1];return[Tt+It*Nt,It]},untransform:function(It){var It=re(It,2),Tt=It[0],It=It[1];return[Tt-It*Nt,It]}}}function Ui(dt,pt,gt,_t,Dt){var Nt=mn(re(dt,1)[0]);return{transform:function(Tt){var Tt=re(Tt,2),It=Tt[0];return[It,Tt[1]+It*Nt]},untransform:function(Tt){var Tt=re(Tt,2),It=Tt[0];return[It,Tt[1]-It*Nt]}}}function ds(dt,pt,gt,Tt,At){var Nt=dt<pt,At=(Nt?pt-Tt:At-pt)||At-Tt,Tt=Nt?-1:1;return Tt*At*(gt+1)/(gt+At/((dt-pt)*Tt))+pt}function _u(dt,pt,gt,_t,At){var Nt=dt<pt,At=(Nt?pt-_t:At-pt)||At-_t;return At/(At*(gt+1)/(dt-pt)-gt*(Nt?-1:1))+pt}function ei(dt,pt,gt){return gt?new it({range:[0,1],domain:[0,pt]}).map(dt):dt}function Xo(Tt,pt,gt,_t,Dt){var Nt=(Tt=re(Tt,3))[0],At=Tt[1],Tt=Tt[2],It=ei(Nt,_t,Tt!==void 0&&Tt);return{transform:function(Le){var Le=re(Le,2),Jt=Le[0],Le=Le[1];return[ds(Jt,It,At,0,1),Le]},untransform:function(Le){var Le=re(Le,2),Jt=Le[0],Le=Le[1];return[_u(Jt,It,At,0,1),Le]}}}function Qy(Tt,pt,gt,_t,Dt){var Nt=(Tt=re(Tt,3))[0],At=Tt[1],Tt=Tt[2],It=ei(Nt,Dt,Tt!==void 0&&Tt);return{transform:function(Yt){return Yt=re(Yt,2),[Yt[0],ds(Yt[1],It,At,0,1)]},untransform:function(Yt){return Yt=re(Yt,2),[Yt[0],_u(Yt[1],It,At,0,1)]}}}function Gr(Yt,pt,gt,_t,Dt){var Nt=(Yt=re(Yt,5))[0],At=Yt[1],Tt=Yt[2],It=Yt[3],Yt=Yt[4],Jt=ei(Nt,_t,Yt=Yt!==void 0&&Yt),Le=ei(At,Dt,Yt);return{transform:function(ye){var ye=re(ye,2),Se=ye[0],ye=ye[1];return[ds(Se,Jt,Tt,0,1),ds(ye,Le,It,0,1)]},untransform:function(ye){var ye=re(ye,2),Se=ye[0],ye=ye[1];return[_u(Se,Jt,Tt,0,1),_u(ye,Le,It,0,1)]}}}function Mf(Yt,pt,gt,_t,Dt){var Nt=(Yt=re(Yt,5))[0],At=Yt[1],Tt=Yt[2],It=Yt[3],Yt=(Yt=Yt[4])!==void 0&&Yt,Jt=new it({range:[0,_t]}),Le=new it({range:[0,Dt]}),rr=Yt?Nt:Jt.map(Nt),Se=Yt?At:Le.map(At);return{transform:function(pe){var pe=re(pe,2),Fe=pe[0],pe=pe[1],Ee=Jt.map(Fe)-rr,Me=Le.map(pe)-Se,wr=Math.sqrt(Ee*Ee+Me*Me);return Tt<wr?[Fe,pe]:(Fe=ds(wr,0,It,0,Tt),pe=Math.atan2(Me,Ee),wr=rr+Fe*Math.cos(pe),Me=Se+Fe*Math.sin(pe),[Jt.invert(wr),Le.invert(Me)])},untransform:function(pe){var pe=re(pe,2),Fe=pe[0],pe=pe[1],Ee=Jt.map(Fe)-rr,Me=Le.map(pe)-Se,wr=Math.sqrt(Ee*Ee+Me*Me);return Tt<wr?[Fe,pe]:(Fe=_u(wr,0,It,0,Tt),pe=Math.atan2(Me,Ee),wr=rr+Fe*Math.cos(pe),Me=Se+Fe*Math.sin(pe),[Jt.invert(wr),Le.invert(Me)])}}}function Tn(dt,pt,gt,_t,Dt,Nt,At){var Tt=new it({range:[pt,pt+Dt]}),It=new it({range:[gt,gt+Nt]}),Yt=new it({range:[_t,_t+At]});return{transform:function(Se){var Se=re(Se,3),Le=Se[0],rr=Se[1],Se=Se[2];return[Tt.map(Le),It.map(rr),Yt.map(Se)]},untransform:function(Se){var Se=re(Se,3),Le=Se[0],rr=Se[1],Se=Se[2];return[Tt.invert(Le),It.invert(rr),Yt.invert(Se)]}}}function ke(Jt,pt,gt,_t,Dt,Nt,At){var Tt,It=(Jt=re(Jt,3))[0],Yt=Jt[1],Jt=Jt[2];return Tt=gr(),It=[It,Yt,Jt],Tt[0]=1,Tt[1]=0,Tt[2]=0,Tt[3]=0,Tt[4]=0,Tt[5]=1,Tt[6]=0,Tt[7]=0,Tt[8]=0,Tt[9]=0,Tt[10]=1,Tt[11]=0,Tt[12]=It[0],Tt[13]=It[1],Tt[14]=It[2],Tt[15]=1,Tt}function t_(dt,pt,gt,_t,Dt,Nt,At){return{transform:function(It){var It=re(It,3),Yt=It[0];return[It[1],Yt,It[2]]},untransform:function(It){var It=re(It,3),Yt=It[0];return[It[1],Yt,It[2]]}}}function De(Jt,pt,gt,_t,Dt,Nt,At){var Tt,It=(Jt=re(Jt,3))[0],Yt=Jt[1],Jt=Jt[2];return Tt=gr(),It=[It,Yt,Jt],Tt[0]=It[0],Tt[1]=0,Tt[2]=0,Tt[3]=0,Tt[4]=0,Tt[5]=It[1],Tt[6]=0,Tt[7]=0,Tt[8]=0,Tt[9]=0,Tt[10]=It[2],Tt[11]=0,Tt[12]=0,Tt[13]=0,Tt[14]=0,Tt[15]=1,Tt}ve.prototype.update=function(dt){this.options=ge({},this.options,dt),this.recoordinate()},ve.prototype.clone=function(){return new ve(this.options)},ve.prototype.getOptions=function(){return this.options},ve.prototype.clear=function(){this.update({transformations:[]})},ve.prototype.getSize=function(){var dt=this.options;return[dt.width,dt.height]},ve.prototype.getCenter=function(){var dt=this.options,pt=dt.x,gt=dt.y;return[(2*pt+dt.width)/2,(2*gt+dt.height)/2]},ve.prototype.transform=function(){for(var dt=[],pt=0;pt<arguments.length;pt++)dt[pt]=arguments[pt];var gt=this.options.transformations;return this.update({transformations:Ot(Ot([],re(gt),!1),[Ot([],re(dt),!1)],!1)}),this},ve.prototype.map=function(dt){return this.output(dt)},ve.prototype.invert=function(dt){return this.input(dt)},ve.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},ve.prototype.compose=function(dt){function pt(He,yr){var Wr;Tt.push((yr=yr===void 0?!0:yr)?(Wr=He,function(vs){for(var Cr=[],Ei=0;Ei<vs.length-1;Ei+=2){var Xi=[vs[Ei],vs[Ei+1]],Xi=Wr(Xi);Cr.push.apply(Cr,Ot([],re(Xi),!1))}return Cr}):He)}var gt,_t,Dt=(dt=dt===void 0?!1:dt)?Ot([],re(this.options.transformations),!1).reverse():this.options.transformations,Nt=dt?function(He){return He.untransform}:function(He){return He.transform},At=[],Tt=[];try{for(var It=me(Dt),Yt=It.next();!Yt.done;Yt=It.next()){var Jt,Le,rr,Se,ye,Fe,pe=re(Yt.value),Ee=pe[0],Me=pe.slice(1),wr=this.transformers[Ee];wr&&(Le=(Jt=this.options).x,rr=Jt.y,Se=Jt.width,ye=Jt.height,Sn(Fe=wr(Ot([],re(Me),!1),Le,rr,Se,ye))?At.push(Fe):(At.length&&(pt(this.createMatrixTransform(At,dt)),At.splice(0,At.length)),pt(Nt(Fe)||Re,Ee!=="parallel")))}}catch(He){gt={error:He}}finally{try{Yt&&!Yt.done&&(_t=It.return)&&_t.call(It)}finally{if(gt)throw gt.error}}return At.length&&pt(this.createMatrixTransform(At,dt)),Qn.apply(void 0,Ot([],re(Tt),!1))},ve.prototype.createMatrixTransform=function(dt,pt){var gt,_t,Dt,Nt,At,Tt,It,Yt,Jt,Le,rr,Se,ye=Qt();return pt&&dt.reverse(),dt.forEach(function(Fe){return le(ye,ye,Fe)}),pt&&(pt=dt=ye,(Se=new te(9))[0]=pt[0],Se[1]=pt[1],Se[2]=pt[2],Se[3]=pt[3],Se[4]=pt[4],Se[5]=pt[5],Se[6]=pt[6],Se[7]=pt[7],Se[8]=pt[8],Se=(pt=Se)[0],gt=pt[1],_t=pt[2],Dt=pt[3],Nt=pt[4],At=pt[5],Tt=pt[6],It=pt[7],Yt=(pt=pt[8])*Nt-At*It,rr=Se*Yt+gt*(Jt=-pt*Dt+At*Tt)+_t*(Le=It*Dt-Nt*Tt))&&(dt[0]=Yt*(rr=1/rr),dt[1]=(-pt*gt+_t*It)*rr,dt[2]=(At*gt-_t*Nt)*rr,dt[3]=Jt*rr,dt[4]=(pt*Se-_t*Tt)*rr,dt[5]=(-At*Se+_t*Dt)*rr,dt[6]=Le*rr,dt[7]=(-It*Se+gt*Tt)*rr,dt[8]=(Nt*Se-gt*Dt)*rr),function(yr){var pe,Ee,Me,wr,He,yr=[yr[0],yr[1],1];return Me=ye,wr=(Ee=pe=yr)[0],He=Ee[1],Ee=Ee[2],pe[0]=wr*Me[0]+He*Me[3]+Ee*Me[6],pe[1]=wr*Me[1]+He*Me[4]+Ee*Me[7],pe[2]=wr*Me[2]+He*Me[5]+Ee*Me[8],[yr[0],yr[1]]}},Oa=ve;function ve(dt){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:ze,translate:Jn,custom:oe,matrix:yc,polar:qe,transpose:ce,scale:Pi,"shear.x":fe,"shear.y":Ui,reflect:mu,"reflect.x":Aa,"reflect.y":Uo,rotate:mc,helix:Ky,parallel:bu,fisheye:Gr,"fisheye.x":Xo,"fisheye.y":Qy,"fisheye.circular":Mf},this.update(dt)}ha.prototype.update=function(dt){this.options=ge({},this.options,dt),this.recoordinate()},ha.prototype.clone=function(){return new ha(this.options)},ha.prototype.getOptions=function(){return this.options},ha.prototype.clear=function(){this.update({transformations:[]})},ha.prototype.getSize=function(){var dt=this.options;return[dt.width,dt.height,dt.depth]},ha.prototype.getCenter=function(){var dt=this.options,pt=dt.x,gt=dt.y,_t=dt.z;return[(2*pt+dt.width)/2,(2*gt+dt.height)/2,(2*_t+dt.depth)/2]},ha.prototype.transform=function(){for(var dt=[],pt=0;pt<arguments.length;pt++)dt[pt]=arguments[pt];var gt=this.options.transformations;return this.update({transformations:Ot(Ot([],re(gt),!1),[Ot([],re(dt),!1)],!1)}),this},ha.prototype.map=function(dt){return this.output(dt)},ha.prototype.invert=function(dt){return this.input(dt)},ha.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},ha.prototype.compose=function(dt){function pt(Wr,vs){var Cr;Tt.push((vs=vs===void 0?!0:vs)?(Cr=Wr,function(Ei){for(var Xi=[],Br=0;Br<Ei.length-1;Br+=3){var On=[Ei[Br],Ei[Br+1],Ei[Br+2]],On=Cr(On);Xi.push.apply(Xi,Ot([],re(On),!1))}return Xi}):Wr)}var gt,_t,Dt=(dt=dt===void 0?!1:dt)?Ot([],re(this.options.transformations),!1).reverse():this.options.transformations,Nt=dt?function(Wr){return Wr.untransform}:function(Wr){return Wr.transform},At=[],Tt=[];try{for(var It=me(Dt),Yt=It.next();!Yt.done;Yt=It.next()){var Jt,Le,rr,Se,ye,Fe,pe,Ee,Me=re(Yt.value),wr=Me[0],He=Me.slice(1),yr=this.transformers[wr];yr&&(Le=(Jt=this.options).x,rr=Jt.y,Se=Jt.z,ye=Jt.width,Fe=Jt.height,pe=Jt.depth,Sn(Ee=yr(Ot([],re(He),!1),Le,rr,Se,ye,Fe,pe))?At.push(Ee):(At.length&&(pt(this.createMatrixTransform(At,dt)),At.splice(0,At.length)),pt(Nt(Ee)||Re,!0)))}}catch(Wr){gt={error:Wr}}finally{try{Yt&&!Yt.done&&(_t=It.return)&&_t.call(It)}finally{if(gt)throw gt.error}}return At.length&&pt(this.createMatrixTransform(At,dt)),Qn.apply(void 0,Ot([],re(Tt),!1))},ha.prototype.createMatrixTransform=function(dt,pt){var gt,_t,Dt,Nt,At,Tt,It,Yt,Jt,Le,rr,Se,ye,Fe,pe,Ee,Me,wr,He,yr,Wr,vs,Cr,Ei,Xi,Br,On,nn,Xs=gr();return pt&&dt.reverse(),dt.forEach(function(e_){return Vr(Xs,Xs,e_)}),pt&&(pt=dt=Xs,(nn=new te(16))[0]=pt[0],nn[1]=pt[1],nn[2]=pt[2],nn[3]=pt[3],nn[4]=pt[4],nn[5]=pt[5],nn[6]=pt[6],nn[7]=pt[7],nn[8]=pt[8],nn[9]=pt[9],nn[10]=pt[10],nn[11]=pt[11],nn[12]=pt[12],nn[13]=pt[13],nn[14]=pt[14],nn[15]=pt[15],nn=(pt=nn)[0],gt=pt[1],_t=pt[2],Dt=pt[3],Nt=pt[4],At=pt[5],Tt=pt[6],It=pt[7],Yt=pt[8],Jt=pt[9],Le=pt[10],rr=pt[11],Se=pt[12],ye=pt[13],Fe=pt[14],pt=pt[15],On=(pe=nn*At-gt*Nt)*(Br=Le*pt-rr*Fe)-(Ee=nn*Tt-_t*Nt)*(Xi=Jt*pt-rr*ye)+(Me=nn*It-Dt*Nt)*(Ei=Jt*Fe-Le*ye)+(wr=gt*Tt-_t*At)*(Cr=Yt*pt-rr*Se)-(He=gt*It-Dt*At)*(vs=Yt*Fe-Le*Se)+(yr=_t*It-Dt*Tt)*(Wr=Yt*ye-Jt*Se))&&(dt[0]=(At*Br-Tt*Xi+It*Ei)*(On=1/On),dt[1]=(_t*Xi-gt*Br-Dt*Ei)*On,dt[2]=(ye*yr-Fe*He+pt*wr)*On,dt[3]=(Le*He-Jt*yr-rr*wr)*On,dt[4]=(Tt*Cr-Nt*Br-It*vs)*On,dt[5]=(nn*Br-_t*Cr+Dt*vs)*On,dt[6]=(Fe*Me-Se*yr-pt*Ee)*On,dt[7]=(Yt*yr-Le*Me+rr*Ee)*On,dt[8]=(Nt*Xi-At*Cr+It*Wr)*On,dt[9]=(gt*Cr-nn*Xi-Dt*Wr)*On,dt[10]=(Se*He-ye*Me+pt*pe)*On,dt[11]=(Jt*Me-Yt*He-rr*pe)*On,dt[12]=(At*vs-Nt*Ei-Tt*Wr)*On,dt[13]=(nn*Ei-gt*vs+_t*Wr)*On,dt[14]=(ye*Ee-Se*wr-Fe*pe)*On,dt[15]=(Yt*wr-Jt*Ee+Le*pe)*On),function(Lo){var ps,ki,gi,Tf,Of,bc,Lo=[Lo[0],Lo[1],Lo[2],1];return gi=Xs,Tf=(ki=ps=Lo)[0],Of=ki[1],bc=ki[2],ki=ki[3],ps[0]=gi[0]*Tf+gi[4]*Of+gi[8]*bc+gi[12]*ki,ps[1]=gi[1]*Tf+gi[5]*Of+gi[9]*bc+gi[13]*ki,ps[2]=gi[2]*Tf+gi[6]*Of+gi[10]*bc+gi[14]*ki,ps[3]=gi[3]*Tf+gi[7]*Of+gi[11]*bc+gi[15]*ki,[Lo[0],Lo[1],Lo[2]]}},Sf=ha;function ha(dt){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:Tn,translate3D:ke,scale3D:De,transpose3D:t_},this.update(dt)}Kt.Coordinate=Oa,Kt.Coordinate3D=Sf,Object.defineProperty(Kt,"__esModule",{value:!0})})},38554:function(Rr){"use strict";var dn=Object.prototype.hasOwnProperty,Kt="~";function me(){}Object.create&&(me.prototype=Object.create(null),new me().__proto__||(Kt=!1));function re(tr,Ze,Ie){this.fn=tr,this.context=Ze,this.once=Ie||!1}function Ot(tr,Ze,Ie,$t,er){if(typeof Ie!="function")throw new TypeError("The listener must be a function");var Ae=new re(Ie,$t||tr,er),ge=Kt?Kt+Ze:Ze;return tr._events[ge]?tr._events[ge].fn?tr._events[ge]=[tr._events[ge],Ae]:tr._events[ge].push(Ae):(tr._events[ge]=Ae,tr._eventsCount++),tr}function $r(tr,Ze){--tr._eventsCount===0?tr._events=new me:delete tr._events[Ze]}function sr(){this._events=new me,this._eventsCount=0}sr.prototype.eventNames=function(){var Ze=[],Ie,$t;if(this._eventsCount===0)return Ze;for($t in Ie=this._events)dn.call(Ie,$t)&&Ze.push(Kt?$t.slice(1):$t);return Object.getOwnPropertySymbols?Ze.concat(Object.getOwnPropertySymbols(Ie)):Ze},sr.prototype.listeners=function(Ze){var Ie=Kt?Kt+Ze:Ze,$t=this._events[Ie];if(!$t)return[];if($t.fn)return[$t.fn];for(var er=0,Ae=$t.length,ge=new Array(Ae);er<Ae;er++)ge[er]=$t[er].fn;return ge},sr.prototype.listenerCount=function(Ze){var Ie=Kt?Kt+Ze:Ze,$t=this._events[Ie];return $t?$t.fn?1:$t.length:0},sr.prototype.emit=function(Ze,Ie,$t,er,Ae,ge){var Re=Kt?Kt+Ze:Ze;if(!this._events[Re])return!1;var ie=this._events[Re],te=arguments.length,Qt,le;if(ie.fn){switch(ie.once&&this.removeListener(Ze,ie.fn,void 0,!0),te){case 1:return ie.fn.call(ie.context),!0;case 2:return ie.fn.call(ie.context,Ie),!0;case 3:return ie.fn.call(ie.context,Ie,$t),!0;case 4:return ie.fn.call(ie.context,Ie,$t,er),!0;case 5:return ie.fn.call(ie.context,Ie,$t,er,Ae),!0;case 6:return ie.fn.call(ie.context,Ie,$t,er,Ae,ge),!0}for(le=1,Qt=new Array(te-1);le<te;le++)Qt[le-1]=arguments[le];ie.fn.apply(ie.context,Qt)}else{var gr=ie.length,Vr;for(le=0;le<gr;le++)switch(ie[le].once&&this.removeListener(Ze,ie[le].fn,void 0,!0),te){case 1:ie[le].fn.call(ie[le].context);break;case 2:ie[le].fn.call(ie[le].context,Ie);break;case 3:ie[le].fn.call(ie[le].context,Ie,$t);break;case 4:ie[le].fn.call(ie[le].context,Ie,$t,er);break;default:if(!Qt)for(Vr=1,Qt=new Array(te-1);Vr<te;Vr++)Qt[Vr-1]=arguments[Vr];ie[le].fn.apply(ie[le].context,Qt)}}return!0},sr.prototype.on=function(Ze,Ie,$t){return Ot(this,Ze,Ie,$t,!1)},sr.prototype.once=function(Ze,Ie,$t){return Ot(this,Ze,Ie,$t,!0)},sr.prototype.removeListener=function(Ze,Ie,$t,er){var Ae=Kt?Kt+Ze:Ze;if(!this._events[Ae])return this;if(!Ie)return $r(this,Ae),this;var ge=this._events[Ae];if(ge.fn)ge.fn===Ie&&(!er||ge.once)&&(!$t||ge.context===$t)&&$r(this,Ae);else{for(var Re=0,ie=[],te=ge.length;Re<te;Re++)(ge[Re].fn!==Ie||er&&!ge[Re].once||$t&&ge[Re].context!==$t)&&ie.push(ge[Re]);ie.length?this._events[Ae]=ie.length===1?ie[0]:ie:$r(this,Ae)}return this},sr.prototype.removeAllListeners=function(Ze){var Ie;return Ze?(Ie=Kt?Kt+Ze:Ze,this._events[Ie]&&$r(this,Ie)):(this._events=new me,this._eventsCount=0),this},sr.prototype.off=sr.prototype.removeListener,sr.prototype.addListener=sr.prototype.on,sr.prefixed=Kt,sr.EventEmitter=sr,Rr.exports=sr},34921:function(Rr,dn,Kt){"use strict";Kt.d(dn,{kL:function(){return got}});var me={};Kt.r(me),Kt.d(me,{add:function(){return u_},adjoint:function(){return Je},clone:function(){return i_},copy:function(){return Mu},create:function(){return Dn},determinant:function(){return zT},equals:function(){return h_},exactEquals:function(){return f_},frob:function(){return QI},fromQuat:function(){return mp},fromQuat2:function(){return $I},fromRotation:function(){return FT},fromRotationTranslation:function(){return XI},fromRotationTranslationScale:function(){return VT},fromRotationTranslationScaleOrigin:function(){return r0},fromScaling:function(){return kf},fromTranslation:function(){return Ef},fromValues:function(){return a_},fromXRotation:function(){return UI},fromYRotation:function(){return jT},fromZRotation:function(){return gd},frustum:function(){return gs},getRotation:function(){return yp},getScaling:function(){return yd},getTranslation:function(){return s_},identity:function(){return Pf},invert:function(){return kl},lookAt:function(){return HT},mul:function(){return Ll},multiply:function(){return mo},multiplyScalar:function(){return c_},multiplyScalarAndAdd:function(){return JI},ortho:function(){return ZI},orthoNO:function(){return WT},orthoZO:function(){return KI},perspective:function(){return _p},perspectiveFromFieldOfView:function(){return GT},perspectiveNO:function(){return bp},perspectiveZO:function(){return qI},rotate:function(){return e0},rotateX:function(){return HI},rotateY:function(){return o_},rotateZ:function(){return YI},scale:function(){return WI},set:function(){return NT},str:function(){return l_},sub:function(){return qs},subtract:function(){return wc},targetTo:function(){return YT},translate:function(){return gp},transpose:function(){return BT}});var re={};Kt.r(re),Kt.d(re,{area:function(){return c$},bottom:function(){return ac},bottomLeft:function(){return ac},bottomRight:function(){return ac},inside:function(){return ac},left:function(){return ac},outside:function(){return f$},right:function(){return ac},spider:function(){return v$},surround:function(){return jE},top:function(){return ac},topLeft:function(){return ac},topRight:function(){return ac}});var Ot={};Kt.r(Ot),Kt.d(Ot,{interpolateBlues:function(){return U$},interpolateBrBG:function(){return F$},interpolateBuGn:function(){return ek},interpolateBuPu:function(){return S6},interpolateCividis:function(){return I6},interpolateCool:function(){return V6},interpolateCubehelixDefault:function(){return pk},interpolateGnBu:function(){return M6},interpolateGreens:function(){return X$},interpolateGreys:function(){return sk},interpolateInferno:function(){return Y6},interpolateMagma:function(){return Bv},interpolateOrRd:function(){return H$},interpolateOranges:function(){return ck},interpolatePRGn:function(){return d6},interpolatePiYG:function(){return j$},interpolatePlasma:function(){return U6},interpolatePuBu:function(){return rk},interpolatePuBuGn:function(){return Y$},interpolatePuOr:function(){return V$},interpolatePuRd:function(){return ik},interpolatePurples:function(){return _nt},interpolateRainbow:function(){return G6},interpolateRdBu:function(){return y6},interpolateRdGy:function(){return G$},interpolateRdPu:function(){return q1},interpolateRdYlBu:function(){return b6},interpolateRdYlGn:function(){return W$},interpolateReds:function(){return $$},interpolateSinebow:function(){return q$},interpolateSpectral:function(){return D2},interpolateTurbo:function(){return Z$},interpolateViridis:function(){return K$},interpolateWarm:function(){return j6},interpolateYlGn:function(){return ak},interpolateYlGnBu:function(){return C6},interpolateYlOrBr:function(){return E6},interpolateYlOrRd:function(){return ty},schemeAccent:function(){return e6},schemeBlues:function(){return L6},schemeBrBG:function(){return f6},schemeBuGn:function(){return w6},schemeBuPu:function(){return $1},schemeCategory10:function(){return S$},schemeDark2:function(){return M$},schemeGnBu:function(){return Qg},schemeGreens:function(){return D6},schemeGreys:function(){return ok},schemeObservable10:function(){return T$},schemeOrRd:function(){return T6},schemeOranges:function(){return uk},schemePRGn:function(){return h6},schemePaired:function(){return O$},schemePastel1:function(){return r6},schemePastel2:function(){return WE},schemePiYG:function(){return v6},schemePuBu:function(){return O6},schemePuBuGn:function(){return I2},schemePuOr:function(){return p6},schemePuRd:function(){return nk},schemePurples:function(){return lk},schemeRdBu:function(){return g6},schemeRdGy:function(){return m6},schemeRdPu:function(){return A6},schemeRdYlBu:function(){return tk},schemeRdYlGn:function(){return _6},schemeReds:function(){return N2},schemeSet1:function(){return A$},schemeSet2:function(){return C$},schemeSet3:function(){return P$},schemeSpectral:function(){return x6},schemeTableau10:function(){return E$},schemeYlGn:function(){return R2},schemeYlGnBu:function(){return Jg},schemeYlOrBr:function(){return P6},schemeYlOrRd:function(){return k6}});var $r={};Kt.r($r),Kt.d($r,{geoAlbers:function(){return OQ},geoAlbersUsa:function(){return AQ},geoAzimuthalEqualArea:function(){return HV},geoAzimuthalEqualAreaRaw:function(){return bD},geoAzimuthalEquidistant:function(){return CQ},geoAzimuthalEquidistantRaw:function(){return Kv},geoConicConformal:function(){return My},geoConicConformalRaw:function(){return YV},geoConicEqualArea:function(){return du},geoConicEqualAreaRaw:function(){return WV},geoConicEquidistant:function(){return kQ},geoConicEquidistantRaw:function(){return UV},geoEqualEarth:function(){return XV},geoEqualEarthRaw:function(){return us},geoEquirectangular:function(){return EQ},geoEquirectangularRaw:function(){return Ty},geoGnomonic:function(){return $V},geoGnomonicRaw:function(){return nd},geoIdentity:function(){return DQ},geoMercator:function(){return PQ},geoMercatorRaw:function(){return Cb},geoNaturalEarth1:function(){return qV},geoNaturalEarth1Raw:function(){return _D},geoOrthographic:function(){return IQ},geoOrthographicRaw:function(){return xD},geoProjection:function(){return dc},geoProjectionMutator:function(){return yD},geoStereographic:function(){return RQ},geoStereographicRaw:function(){return wD},geoTransverseMercator:function(){return ZV},geoTransverseMercatorRaw:function(){return SD}});var sr={};Kt.r(sr),Kt.d(sr,{frequency:function(){return WJ},id:function(){return HJ},name:function(){return YJ},weight:function(){return GJ}});const tr=()=>[["cartesian"]];tr.props={};function Ze(t){return t*Math.PI/180}function Ie(t){return t*180/Math.PI}function $t(t,i){return t=t%(2*Math.PI),i=i%(2*Math.PI),t<0&&(t=2*Math.PI+t),i<0&&(i=2*Math.PI+i),t>=i&&(i=i+2*Math.PI),{startAngle:t,endAngle:i}}const er=(t={})=>{const i={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},a=Object.assign(Object.assign({},i),t);return Object.assign(Object.assign({},a),$t(a.startAngle,a.endAngle))},Ae=t=>{const{startAngle:i,endAngle:a,innerRadius:s,outerRadius:u}=er(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",i,a,s,u]]};Ae.props={};const ge=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];ge.props={transform:!0};const Re=(t={})=>{const i={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},i),t)},ie=t=>{const{startAngle:i,endAngle:a,innerRadius:s,outerRadius:u}=Re(t);return[...ge(),...Ae({startAngle:i,endAngle:a,innerRadius:s,outerRadius:u})]};ie.props={};const te=()=>[["parallel",0,1,0,1]];te.props={};const Qt=({focusX:t=0,focusY:i=0,distortionX:a=2,distortionY:s=2,visual:u=!1})=>[["fisheye",t,i,a,s,u]];Qt.props={transform:!0};const le=(t={})=>{const i={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},i),t)},gr=t=>{const{startAngle:i,endAngle:a,innerRadius:s,outerRadius:u}=le(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...Ae({startAngle:i,endAngle:a,innerRadius:s,outerRadius:u})]};gr.props={};const Vr=t=>{const{startAngle:i=-Math.PI/2,endAngle:a=Math.PI*3/2,innerRadius:s=0,outerRadius:u=1}=t;return[...te(),...Ae({startAngle:i,endAngle:a,innerRadius:s,outerRadius:u})]};Vr.props={};const Qn=({startAngle:t=0,endAngle:i=Math.PI*6,innerRadius:a=0,outerRadius:s=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,i,a,s]];Qn.props={};const Sn=({value:t})=>i=>i.map(()=>t);Sn.props={};const Mn=({value:t})=>i=>i.map(a=>a[t]);Mn.props={};const Jn=({value:t})=>i=>i.map(t);Jn.props={};const gn=({value:t})=>()=>t;gn.props={};function rn(t){return Array.isArray(t)}var ti=function(t){return typeof t=="object"&&t!==null},Or=ti,Er={}.toString,oa=function(t,i){return Er.call(t)==="[object "+i+"]"},Mi=oa,Po=function(t){if(!Or(t)||!Mi(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var i=t;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i},cr=Po,Ti=5;function Ta(t,i){if(Object.hasOwn)return Object.hasOwn(t,i);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),i)}function Vt(t,i,a,s){a=a||0,s=s||Ti;for(var u in i)if(Ta(i,u)){var h=i[u];h!==null&&cr(h)?(cr(t[u])||(t[u]={}),a<s?Vt(t[u],h,a+1,s):t[u]=i[u]):rn(h)?(t[u]=[],t[u]=t[u].concat(h)):h!==void 0&&(t[u]=h)}}var Be=function(t){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];for(var s=0;s<i.length;s+=1)Vt(t,i[s]);return t},Ft=Be;function be(t,i){if(t!==null)return{type:"column",value:t,field:i}}function ar(t,i){const a=be(t,i);return Object.assign(Object.assign({},a),{inferred:!0})}function $n(t,i){if(t!==null)return{type:"column",value:t,field:i,visual:!0}}function zr(t,i){const a=be(t,i);return Object.assign(Object.assign({},a),{constant:!1})}function qr(t,i){const a=[];for(const s of t)a[s]=i;return a}function xr(t,i){const a=t[i];if(!a)return[null,null];const{value:s,field:u=null}=a;return[s,u]}function Ja(t,...i){for(const a of i)if(typeof a=="string"){const[s,u]=xr(t,a);if(s!==null)return[s,u]}else return[a,null];return[null,null]}function to(t){return t instanceof Date?!1:typeof t=="object"}const eo=()=>(t,i)=>{const{encode:a}=i,{y1:s}=a;return s!==void 0?[t,i]:[t,Ft({},i,{encode:{y1:ar(qr(t,0))}})]};eo.props={};const Eo=()=>(t,i)=>{const{encode:a}=i,{x:s}=a;return s!==void 0?[t,i]:[t,Ft({},i,{encode:{x:ar(qr(t,0))},scale:{x:{guide:null}}})]};Eo.props={};function ln(t){return function(){return t}}const gc=Math.abs,Ni=Math.atan2,ro=Math.cos,Ml=Math.max,Tl=Math.min,ko=Math.sin,Yo=Math.sqrt,Bi=1e-12,Ne=Math.PI,lr=Ne/2,Ol=2*Ne;function Wt(t){return t>1?0:t<-1?Ne:Math.acos(t)}function je(t){return t>=1?lr:t<=-1?-lr:Math.asin(t)}const wf=Math.PI,Xe=2*wf,Al=1e-6,Ln=Xe-Al;function vi(t){this._+=t[0];for(let i=1,a=t.length;i<a;++i)this._+=arguments[i]+t[i]}function it(t){let i=Math.floor(t);if(!(i>=0))throw new Error(`invalid digits: ${t}`);if(i>15)return vi;const a=Ga(10,i);return function(s){this._+=s[0];for(let u=1,h=s.length;u<h;++u)this._+=Math.round(arguments[u]*a)/a+s[u]}}class Gt{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?vi:it(i)}moveTo(i,a){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,a){this._append`L${this._x1=+i},${this._y1=+a}`}quadraticCurveTo(i,a,s,u){this._append`Q${+i},${+a},${this._x1=+s},${this._y1=+u}`}bezierCurveTo(i,a,s,u,h,v){this._append`C${+i},${+a},${+s},${+u},${this._x1=+h},${this._y1=+v}`}arcTo(i,a,s,u,h){if(i=+i,a=+a,s=+s,u=+u,h=+h,h<0)throw new Error(`negative radius: ${h}`);let v=this._x1,g=this._y1,m=s-i,_=u-a,w=v-i,M=g-a,O=w*w+M*M;if(this._x1===null)this._append`M${this._x1=i},${this._y1=a}`;else if(O>Al)if(!(Math.abs(M*m-_*w)>Al)||!h)this._append`L${this._x1=i},${this._y1=a}`;else{let C=s-v,P=u-g,k=m*m+_*_,D=C*C+P*P,R=Math.sqrt(k),B=Math.sqrt(O),z=h*Math.tan((wf-Math.acos((k+O-D)/(2*R*B)))/2),j=z/B,V=z/R;Math.abs(j-1)>Al&&this._append`L${i+j*w},${a+j*M}`,this._append`A${h},${h},0,0,${+(M*C>w*P)},${this._x1=i+V*m},${this._y1=a+V*_}`}}arc(i,a,s,u,h,v){if(i=+i,a=+a,s=+s,v=!!v,s<0)throw new Error(`negative radius: ${s}`);let g=s*Math.cos(u),m=s*Math.sin(u),_=i+g,w=a+m,M=1^v,O=v?u-h:h-u;this._x1===null?this._append`M${_},${w}`:(Math.abs(this._x1-_)>Al||Math.abs(this._y1-w)>Al)&&this._append`L${_},${w}`,s&&(O<0&&(O=O%Xe+Xe),O>Ln?this._append`A${s},${s},0,1,${M},${i-g},${a-m}A${s},${s},0,1,${M},${this._x1=_},${this._y1=w}`:O>Al&&this._append`A${s},${s},0,${+(O>=wf)},${M},${this._x1=i+s*Math.cos(h)},${this._y1=a+s*Math.sin(h)}`)}rect(i,a,s,u){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+a}h${s=+s}v${+u}h${-s}Z`}toString(){return this._}}function pi(){return new Gt}pi.prototype=Gt.prototype;function Zr(t=3){return new Gt(+t)}function Oa(t){let i=3;return t.digits=function(a){if(!arguments.length)return i;if(a==null)i=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);i=s}return t},()=>new Gt(i)}function vr(t){return t.innerRadius}function Sf(t){return t.outerRadius}function ue(t){return t.startAngle}function hr(t){return t.endAngle}function Ut(t){return t&&t.padAngle}function ze(t,i,a,s,u,h,v,g){var m=a-t,_=s-i,w=v-u,M=g-h,O=M*m-w*_;if(!(O*O<Bi))return O=(w*(i-h)-M*(t-u))/O,[t+O*m,i+O*_]}function oe(t,i,a,s,u,h,v){var g=t-a,m=i-s,_=(v?h:-h)/Yo(g*g+m*m),w=_*m,M=-_*g,O=t+w,C=i+M,P=a+w,k=s+M,D=(O+P)/2,R=(C+k)/2,B=P-O,z=k-C,j=B*B+z*z,V=u-h,G=O*k-P*C,Y=(z<0?-1:1)*Yo(Ml(0,V*V*j-G*G)),Z=(G*z-B*Y)/j,Q=(-G*B-z*Y)/j,tt=(G*z+B*Y)/j,rt=(-G*B+z*Y)/j,ct=Z-D,nt=Q-R,lt=tt-D,ft=rt-R;return ct*ct+nt*nt>lt*lt+ft*ft&&(Z=tt,Q=rt),{cx:Z,cy:Q,x01:-w,y01:-M,x11:Z*(u/V-1),y11:Q*(u/V-1)}}function yc(){var t=vr,i=Sf,a=ln(0),s=null,u=ue,h=hr,v=Ut,g=null,m=Oa(_);function _(){var w,M,O=+t.apply(this,arguments),C=+i.apply(this,arguments),P=u.apply(this,arguments)-lr,k=h.apply(this,arguments)-lr,D=gc(k-P),R=k>P;if(g||(g=w=m()),C<O&&(M=C,C=O,O=M),!(C>Bi))g.moveTo(0,0);else if(D>Ol-Bi)g.moveTo(C*ro(P),C*ko(P)),g.arc(0,0,C,P,k,!R),O>Bi&&(g.moveTo(O*ro(k),O*ko(k)),g.arc(0,0,O,k,P,R));else{var B=P,z=k,j=P,V=k,G=D,Y=D,Z=v.apply(this,arguments)/2,Q=Z>Bi&&(s?+s.apply(this,arguments):Yo(O*O+C*C)),tt=Tl(gc(C-O)/2,+a.apply(this,arguments)),rt=tt,ct=tt,nt,lt;if(Q>Bi){var ft=je(Q/O*ko(Z)),q=je(Q/C*ko(Z));(G-=ft*2)>Bi?(ft*=R?1:-1,j+=ft,V-=ft):(G=0,j=V=(P+k)/2),(Y-=q*2)>Bi?(q*=R?1:-1,B+=q,z-=q):(Y=0,B=z=(P+k)/2)}var H=C*ro(B),U=C*ko(B),J=O*ro(V),st=O*ko(V);if(tt>Bi){var ut=C*ro(z),mt=C*ko(z),xt=O*ro(j),Ct=O*ko(j),kt;if(D<Ne)if(kt=ze(H,U,xt,Ct,ut,mt,J,st)){var jt=H-kt[0],Bt=U-kt[1],Zt=ut-kt[0],Oe=mt-kt[1],se=1/ko(Wt((jt*Zt+Bt*Oe)/(Yo(jt*jt+Bt*Bt)*Yo(Zt*Zt+Oe*Oe)))/2),he=Yo(kt[0]*kt[0]+kt[1]*kt[1]);rt=Tl(tt,(O-he)/(se-1)),ct=Tl(tt,(C-he)/(se+1))}else rt=ct=0}Y>Bi?ct>Bi?(nt=oe(xt,Ct,H,U,C,ct,R),lt=oe(ut,mt,J,st,C,ct,R),g.moveTo(nt.cx+nt.x01,nt.cy+nt.y01),ct<tt?g.arc(nt.cx,nt.cy,ct,Ni(nt.y01,nt.x01),Ni(lt.y01,lt.x01),!R):(g.arc(nt.cx,nt.cy,ct,Ni(nt.y01,nt.x01),Ni(nt.y11,nt.x11),!R),g.arc(0,0,C,Ni(nt.cy+nt.y11,nt.cx+nt.x11),Ni(lt.cy+lt.y11,lt.cx+lt.x11),!R),g.arc(lt.cx,lt.cy,ct,Ni(lt.y11,lt.x11),Ni(lt.y01,lt.x01),!R))):(g.moveTo(H,U),g.arc(0,0,C,B,z,!R)):g.moveTo(H,U),!(O>Bi)||!(G>Bi)?g.lineTo(J,st):rt>Bi?(nt=oe(J,st,ut,mt,O,-rt,R),lt=oe(H,U,xt,Ct,O,-rt,R),g.lineTo(nt.cx+nt.x01,nt.cy+nt.y01),rt<tt?g.arc(nt.cx,nt.cy,rt,Ni(nt.y01,nt.x01),Ni(lt.y01,lt.x01),!R):(g.arc(nt.cx,nt.cy,rt,Ni(nt.y01,nt.x01),Ni(nt.y11,nt.x11),!R),g.arc(0,0,O,Ni(nt.cy+nt.y11,nt.cx+nt.x11),Ni(lt.cy+lt.y11,lt.cx+lt.x11),R),g.arc(lt.cx,lt.cy,rt,Ni(lt.y11,lt.x11),Ni(lt.y01,lt.x01),!R))):g.arc(0,0,O,V,j,R)}if(g.closePath(),w)return g=null,w+""||null}return _.centroid=function(){var w=(+t.apply(this,arguments)+ +i.apply(this,arguments))/2,M=(+u.apply(this,arguments)+ +h.apply(this,arguments))/2-Ne/2;return[ro(M)*w,ko(M)*w]},_.innerRadius=function(w){return arguments.length?(t=typeof w=="function"?w:ln(+w),_):t},_.outerRadius=function(w){return arguments.length?(i=typeof w=="function"?w:ln(+w),_):i},_.cornerRadius=function(w){return arguments.length?(a=typeof w=="function"?w:ln(+w),_):a},_.padRadius=function(w){return arguments.length?(s=w==null?null:typeof w=="function"?w:ln(+w),_):s},_.startAngle=function(w){return arguments.length?(u=typeof w=="function"?w:ln(+w),_):u},_.endAngle=function(w){return arguments.length?(h=typeof w=="function"?w:ln(+w),_):h},_.padAngle=function(w){return arguments.length?(v=typeof w=="function"?w:ln(+w),_):v},_.context=function(w){return arguments.length?(g=w==null?null:w,_):g},_}function qe(t){const{transformations:i}=t.getOptions();return i.map(([s])=>s).filter(s=>s==="transpose").length%2!==0}function ce(t){const{transformations:i}=t.getOptions();return i.some(([a])=>a==="polar")}function mu(t){const{transformations:i}=t.getOptions();return i.some(([a])=>a==="reflect")&&i.some(([a])=>a.startsWith("transpose"))}function Aa(t){const{transformations:i}=t.getOptions();return i.some(([a])=>a==="helix")}function Uo(t){const{transformations:i}=t.getOptions();return i.some(([a])=>a==="parallel")}function mc(t){const{transformations:i}=t.getOptions();return i.some(([a])=>a==="fisheye")}function Ky(t){return Uo(t)&&ce(t)}function bu(t){return Aa(t)||ce(t)}function Pi(t){return ce(t)&&qe(t)}function mn(t){return ce(t)||Uo(t)||mu(t)||Pi(t)}function fe(t){if(bu(t)){const[i,a]=t.getSize(),s=t.getOptions().transformations.find(u=>u[0]==="polar");if(s)return Math.max(i,a)/2*s[4]}return 0}function Ui(t){const{transformations:i}=t.getOptions(),[,,,a,s]=i.find(u=>u[0]==="polar");return[+a,+s]}function ds(t,i=!0){const{transformations:a}=t.getOptions(),[,s,u]=a.find(h=>h[0]==="polar");return i?[+s*180/Math.PI,+u*180/Math.PI]:[s,u]}function _u(t,i){const{transformations:a}=t.getOptions(),[,...s]=a.find(u=>u[0]===i);return s}function ei(t){"@babel/helpers - typeof";return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ei(t)}function Xo(t,i){if(ei(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(ei(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function Qy(t){var i=Xo(t,"string");return ei(i)=="symbol"?i:i+""}function Gr(t,i,a){return(i=Qy(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Mf(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),a.push.apply(a,s)}return a}function Tn(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Mf(Object(a),!0).forEach(function(s){Gr(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Mf(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function ke(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function t_(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Qy(s.key),s)}}function De(t,i,a){return i&&t_(t.prototype,i),a&&t_(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function ve(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,s=Array(i);a<i;a++)s[a]=t[a];return s}function ha(t){if(Array.isArray(t))return ve(t)}function dt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pt(t,i){if(t){if(typeof t=="string")return ve(t,i);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ve(t,i):void 0}}function gt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(t){return ha(t)||dt(t)||pt(t)||gt()}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Dt(t)}function Nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(Nt=function(){return!!t})()}function At(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t,i){if(i&&(ei(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return At(t)}function It(t,i,a){return i=Dt(i),Tt(t,Nt()?Reflect.construct(i,a||[],Dt(t).constructor):i.apply(t,a))}function Yt(t,i){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Yt(t,i)}function Jt(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Yt(t,i)}function Le(t){if(Array.isArray(t))return t}function rr(t,i){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,u,h,v,g=[],m=!0,_=!1;try{if(h=(a=a.call(t)).next,i===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(s=h.call(a)).done)&&(g.push(s.value),g.length!==i);m=!0);}catch(w){_=!0,u=w}finally{try{if(!m&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(_)throw u}}return g}}function Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(t,i){return Le(t)||rr(t,i)||pt(t,i)||Se()}var Fe=Kt(38554),pe=Fe,Ee=1e-6,Me=typeof Float32Array!="undefined"?Float32Array:Array,wr=Math.random;function He(t){Me=t}var yr=Math.PI/180;function Wr(t){return t*yr}function vs(t,i){return Math.abs(t-i)<=Ee*Math.max(1,Math.abs(t),Math.abs(i))}Math.hypot||(Math.hypot=function(){for(var t=0,i=arguments.length;i--;)t+=arguments[i]*arguments[i];return Math.sqrt(t)});function Cr(){var t=new Me(3);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ei(t){var i=new Me(3);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i}function Xi(t){var i=t[0],a=t[1],s=t[2];return Math.hypot(i,a,s)}function Br(t,i,a){var s=new Me(3);return s[0]=t,s[1]=i,s[2]=a,s}function On(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t}function nn(t,i,a,s){return t[0]=i,t[1]=a,t[2]=s,t}function Xs(t,i,a){return t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t}function e_(t,i,a){return t[0]=i[0]-a[0],t[1]=i[1]-a[1],t[2]=i[2]-a[2],t}function ps(t,i,a){return t[0]=i[0]*a[0],t[1]=i[1]*a[1],t[2]=i[2]*a[2],t}function ki(t,i,a){return t[0]=i[0]/a[0],t[1]=i[1]/a[1],t[2]=i[2]/a[2],t}function gi(t,i){return t[0]=Math.ceil(i[0]),t[1]=Math.ceil(i[1]),t[2]=Math.ceil(i[2]),t}function Tf(t,i){return t[0]=Math.floor(i[0]),t[1]=Math.floor(i[1]),t[2]=Math.floor(i[2]),t}function Of(t,i,a){return t[0]=Math.min(i[0],a[0]),t[1]=Math.min(i[1],a[1]),t[2]=Math.min(i[2],a[2]),t}function bc(t,i,a){return t[0]=Math.max(i[0],a[0]),t[1]=Math.max(i[1],a[1]),t[2]=Math.max(i[2],a[2]),t}function Lo(t,i){return t[0]=Math.round(i[0]),t[1]=Math.round(i[1]),t[2]=Math.round(i[2]),t}function lp(t,i,a){return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t}function vit(t,i,a,s){return t[0]=i[0]+a[0]*s,t[1]=i[1]+a[1]*s,t[2]=i[2]+a[2]*s,t}function y9(t,i){var a=i[0]-t[0],s=i[1]-t[1],u=i[2]-t[2];return Math.hypot(a,s,u)}function pit(t,i){var a=i[0]-t[0],s=i[1]-t[1],u=i[2]-t[2];return a*a+s*s+u*u}function git(t){var i=t[0],a=t[1],s=t[2];return i*i+a*a+s*s}function yit(t,i){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t}function mit(t,i){return t[0]=1/i[0],t[1]=1/i[1],t[2]=1/i[2],t}function xu(t,i){var a=i[0],s=i[1],u=i[2],h=a*a+s*s+u*u;return h>0&&(h=1/Math.sqrt(h)),t[0]=i[0]*h,t[1]=i[1]*h,t[2]=i[2]*h,t}function go(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function up(t,i,a){var s=i[0],u=i[1],h=i[2],v=a[0],g=a[1],m=a[2];return t[0]=u*m-h*g,t[1]=h*v-s*m,t[2]=s*g-u*v,t}function wu(t,i,a,s){var u=i[0],h=i[1],v=i[2];return t[0]=u+s*(a[0]-u),t[1]=h+s*(a[1]-h),t[2]=v+s*(a[2]-v),t}function Net(t,i,a,s,u,h){var v=h*h,g=v*(2*h-3)+1,m=v*(h-2)+h,_=v*(h-1),w=v*(3-2*h);return t[0]=i[0]*g+a[0]*m+s[0]*_+u[0]*w,t[1]=i[1]*g+a[1]*m+s[1]*_+u[1]*w,t[2]=i[2]*g+a[2]*m+s[2]*_+u[2]*w,t}function cp(t,i,a,s,u,h){var v=1-h,g=v*v,m=h*h,_=g*v,w=3*h*g,M=3*m*v,O=m*h;return t[0]=i[0]*_+a[0]*w+s[0]*M+u[0]*O,t[1]=i[1]*_+a[1]*w+s[1]*M+u[1]*O,t[2]=i[2]*_+a[2]*w+s[2]*M+u[2]*O,t}function bit(t,i){i=i||1;var a=glMatrix.RANDOM()*2*Math.PI,s=glMatrix.RANDOM()*2-1,u=Math.sqrt(1-s*s)*i;return t[0]=Math.cos(a)*u,t[1]=Math.sin(a)*u,t[2]=s*i,t}function yi(t,i,a){var s=i[0],u=i[1],h=i[2],v=a[3]*s+a[7]*u+a[11]*h+a[15];return v=v||1,t[0]=(a[0]*s+a[4]*u+a[8]*h+a[12])/v,t[1]=(a[1]*s+a[5]*u+a[9]*h+a[13])/v,t[2]=(a[2]*s+a[6]*u+a[10]*h+a[14])/v,t}function $i(t,i,a){var s=i[0],u=i[1],h=i[2];return t[0]=s*a[0]+u*a[3]+h*a[6],t[1]=s*a[1]+u*a[4]+h*a[7],t[2]=s*a[2]+u*a[5]+h*a[8],t}function Af(t,i,a){var s=a[0],u=a[1],h=a[2],v=a[3],g=i[0],m=i[1],_=i[2],w=u*_-h*m,M=h*g-s*_,O=s*m-u*g,C=u*O-h*M,P=h*w-s*O,k=s*M-u*w,D=v*2;return w*=D,M*=D,O*=D,C*=2,P*=2,k*=2,t[0]=g+w+C,t[1]=m+M+P,t[2]=_+O+k,t}function dd(t,i,a,s){var u=[],h=[];return u[0]=i[0]-a[0],u[1]=i[1]-a[1],u[2]=i[2]-a[2],h[0]=u[0],h[1]=u[1]*Math.cos(s)-u[2]*Math.sin(s),h[2]=u[1]*Math.sin(s)+u[2]*Math.cos(s),t[0]=h[0]+a[0],t[1]=h[1]+a[1],t[2]=h[2]+a[2],t}function Jy(t,i,a,s){var u=[],h=[];return u[0]=i[0]-a[0],u[1]=i[1]-a[1],u[2]=i[2]-a[2],h[0]=u[2]*Math.sin(s)+u[0]*Math.cos(s),h[1]=u[1],h[2]=u[2]*Math.cos(s)-u[0]*Math.sin(s),t[0]=h[0]+a[0],t[1]=h[1]+a[1],t[2]=h[2]+a[2],t}function Bet(t,i,a,s){var u=[],h=[];return u[0]=i[0]-a[0],u[1]=i[1]-a[1],u[2]=i[2]-a[2],h[0]=u[0]*Math.cos(s)-u[1]*Math.sin(s),h[1]=u[0]*Math.sin(s)+u[1]*Math.cos(s),h[2]=u[2],t[0]=h[0]+a[0],t[1]=h[1]+a[1],t[2]=h[2]+a[2],t}function zet(t,i){var a=t[0],s=t[1],u=t[2],h=i[0],v=i[1],g=i[2],m=Math.sqrt(a*a+s*s+u*u),_=Math.sqrt(h*h+v*v+g*g),w=m*_,M=w&&go(t,i)/w;return Math.acos(Math.min(Math.max(M,-1),1))}function Fet(t){return t[0]=0,t[1]=0,t[2]=0,t}function Cl(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function jet(t,i){return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]}function vd(t,i){var a=t[0],s=t[1],u=t[2],h=i[0],v=i[1],g=i[2];return Math.abs(a-h)<=Ee*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-v)<=Ee*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-g)<=Ee*Math.max(1,Math.abs(u),Math.abs(g))}var RI=e_,LT=null,NI=null,BI=y9,Vet=null,r_=Xi,Get=null,Wet=function(){var t=Cr();return function(i,a,s,u,h,v){var g,m;for(a||(a=3),s||(s=0),u?m=Math.min(u*a+s,i.length):m=i.length,g=s;g<m;g+=a)t[0]=i[g],t[1]=i[g+1],t[2]=i[g+2],h(t,t,v),i[g]=t[0],i[g+1]=t[1],i[g+2]=t[2];return i}}();function Pl(){var t=new Me(4);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function m9(t){var i=new Me(4);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}function t0(t,i,a,s){var u=new Me(4);return u[0]=t,u[1]=i,u[2]=a,u[3]=s,u}function yo(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t}function b9(t,i,a,s,u){return t[0]=i,t[1]=a,t[2]=s,t[3]=u,t}function DT(t,i,a){return t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t[3]=i[3]+a[3],t}function Het(t,i,a){return t[0]=i[0]-a[0],t[1]=i[1]-a[1],t[2]=i[2]-a[2],t[3]=i[3]-a[3],t}function zI(t,i,a){return t[0]=i[0]*a[0],t[1]=i[1]*a[1],t[2]=i[2]*a[2],t[3]=i[3]*a[3],t}function _9(t,i,a){return t[0]=i[0]/a[0],t[1]=i[1]/a[1],t[2]=i[2]/a[2],t[3]=i[3]/a[3],t}function FI(t,i){return t[0]=Math.ceil(i[0]),t[1]=Math.ceil(i[1]),t[2]=Math.ceil(i[2]),t[3]=Math.ceil(i[3]),t}function El(t,i){return t[0]=Math.floor(i[0]),t[1]=Math.floor(i[1]),t[2]=Math.floor(i[2]),t[3]=Math.floor(i[3]),t}function Yet(t,i,a){return t[0]=Math.min(i[0],a[0]),t[1]=Math.min(i[1],a[1]),t[2]=Math.min(i[2],a[2]),t[3]=Math.min(i[3],a[3]),t}function jI(t,i,a){return t[0]=Math.max(i[0],a[0]),t[1]=Math.max(i[1],a[1]),t[2]=Math.max(i[2],a[2]),t[3]=Math.max(i[3],a[3]),t}function Uet(t,i){return t[0]=Math.round(i[0]),t[1]=Math.round(i[1]),t[2]=Math.round(i[2]),t[3]=Math.round(i[3]),t}function _c(t,i,a){return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=i[3]*a,t}function x9(t,i,a,s){return t[0]=i[0]+a[0]*s,t[1]=i[1]+a[1]*s,t[2]=i[2]+a[2]*s,t[3]=i[3]+a[3]*s,t}function Xet(t,i){var a=i[0]-t[0],s=i[1]-t[1],u=i[2]-t[2],h=i[3]-t[3];return Math.hypot(a,s,u,h)}function w9(t,i){var a=i[0]-t[0],s=i[1]-t[1],u=i[2]-t[2],h=i[3]-t[3];return a*a+s*s+u*u+h*h}function S9(t){var i=t[0],a=t[1],s=t[2],u=t[3];return Math.hypot(i,a,s,u)}function IT(t){var i=t[0],a=t[1],s=t[2],u=t[3];return i*i+a*a+s*s+u*u}function no(t,i){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t[3]=-i[3],t}function RT(t,i){return t[0]=1/i[0],t[1]=1/i[1],t[2]=1/i[2],t[3]=1/i[3],t}function n_(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=a*a+s*s+u*u+h*h;return v>0&&(v=1/Math.sqrt(v)),t[0]=a*v,t[1]=s*v,t[2]=u*v,t[3]=h*v,t}function Su(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]+t[3]*i[3]}function xc(t,i,a,s){var u=a[0]*s[1]-a[1]*s[0],h=a[0]*s[2]-a[2]*s[0],v=a[0]*s[3]-a[3]*s[0],g=a[1]*s[2]-a[2]*s[1],m=a[1]*s[3]-a[3]*s[1],_=a[2]*s[3]-a[3]*s[2],w=i[0],M=i[1],O=i[2],C=i[3];return t[0]=M*_-O*m+C*g,t[1]=-(w*_)+O*v-C*h,t[2]=w*m-M*v+C*u,t[3]=-(w*g)+M*h-O*u,t}function Cf(t,i,a,s){var u=i[0],h=i[1],v=i[2],g=i[3];return t[0]=u+s*(a[0]-u),t[1]=h+s*(a[1]-h),t[2]=v+s*(a[2]-v),t[3]=g+s*(a[3]-g),t}function VI(t,i){i=i||1;var a,s,u,h,v,g;do a=glMatrix.RANDOM()*2-1,s=glMatrix.RANDOM()*2-1,v=a*a+s*s;while(v>=1);do u=glMatrix.RANDOM()*2-1,h=glMatrix.RANDOM()*2-1,g=u*u+h*h;while(g>=1);var m=Math.sqrt((1-v)/g);return t[0]=i*a,t[1]=i*s,t[2]=i*u*m,t[3]=i*h*m,t}function Ca(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3];return t[0]=a[0]*s+a[4]*u+a[8]*h+a[12]*v,t[1]=a[1]*s+a[5]*u+a[9]*h+a[13]*v,t[2]=a[2]*s+a[6]*u+a[10]*h+a[14]*v,t[3]=a[3]*s+a[7]*u+a[11]*h+a[15]*v,t}function $et(t,i,a){var s=i[0],u=i[1],h=i[2],v=a[0],g=a[1],m=a[2],_=a[3],w=_*s+g*h-m*u,M=_*u+m*s-v*h,O=_*h+v*u-g*s,C=-v*s-g*u-m*h;return t[0]=w*_+C*-v+M*-m-O*-g,t[1]=M*_+C*-g+O*-v-w*-m,t[2]=O*_+C*-m+w*-g-M*-v,t[3]=i[3],t}function qet(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Ke(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function pd(t,i){return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]}function fp(t,i){var a=t[0],s=t[1],u=t[2],h=t[3],v=i[0],g=i[1],m=i[2],_=i[3];return Math.abs(a-v)<=Ee*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-g)<=Ee*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=Ee*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(h-_)<=Ee*Math.max(1,Math.abs(h),Math.abs(_))}var GI=null,M9=null,Zet=null,hp=null,dp=null,vp=null,pp=null,$s=function(){var t=Pl();return function(i,a,s,u,h,v){var g,m;for(a||(a=4),s||(s=0),u?m=Math.min(u*a+s,i.length):m=i.length,g=s;g<m;g+=a)t[0]=i[g],t[1]=i[g+1],t[2]=i[g+2],t[3]=i[g+3],h(t,t,v),i[g]=t[0],i[g+1]=t[1],i[g+2]=t[2],i[g+3]=t[3];return i}}();function Dn(){var t=new Me(16);return Me!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function i_(t){var i=new Me(16);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}function Mu(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}function a_(t,i,a,s,u,h,v,g,m,_,w,M,O,C,P,k){var D=new Me(16);return D[0]=t,D[1]=i,D[2]=a,D[3]=s,D[4]=u,D[5]=h,D[6]=v,D[7]=g,D[8]=m,D[9]=_,D[10]=w,D[11]=M,D[12]=O,D[13]=C,D[14]=P,D[15]=k,D}function NT(t,i,a,s,u,h,v,g,m,_,w,M,O,C,P,k,D){return t[0]=i,t[1]=a,t[2]=s,t[3]=u,t[4]=h,t[5]=v,t[6]=g,t[7]=m,t[8]=_,t[9]=w,t[10]=M,t[11]=O,t[12]=C,t[13]=P,t[14]=k,t[15]=D,t}function Pf(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function BT(t,i){if(t===i){var a=i[1],s=i[2],u=i[3],h=i[6],v=i[7],g=i[11];t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=a,t[6]=i[9],t[7]=i[13],t[8]=s,t[9]=h,t[11]=i[14],t[12]=u,t[13]=v,t[14]=g}else t[0]=i[0],t[1]=i[4],t[2]=i[8],t[3]=i[12],t[4]=i[1],t[5]=i[5],t[6]=i[9],t[7]=i[13],t[8]=i[2],t[9]=i[6],t[10]=i[10],t[11]=i[14],t[12]=i[3],t[13]=i[7],t[14]=i[11],t[15]=i[15];return t}function kl(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=i[4],g=i[5],m=i[6],_=i[7],w=i[8],M=i[9],O=i[10],C=i[11],P=i[12],k=i[13],D=i[14],R=i[15],B=a*g-s*v,z=a*m-u*v,j=a*_-h*v,V=s*m-u*g,G=s*_-h*g,Y=u*_-h*m,Z=w*k-M*P,Q=w*D-O*P,tt=w*R-C*P,rt=M*D-O*k,ct=M*R-C*k,nt=O*R-C*D,lt=B*nt-z*ct+j*rt+V*tt-G*Q+Y*Z;return lt?(lt=1/lt,t[0]=(g*nt-m*ct+_*rt)*lt,t[1]=(u*ct-s*nt-h*rt)*lt,t[2]=(k*Y-D*G+R*V)*lt,t[3]=(O*G-M*Y-C*V)*lt,t[4]=(m*tt-v*nt-_*Q)*lt,t[5]=(a*nt-u*tt+h*Q)*lt,t[6]=(D*j-P*Y-R*z)*lt,t[7]=(w*Y-O*j+C*z)*lt,t[8]=(v*ct-g*tt+_*Z)*lt,t[9]=(s*tt-a*ct-h*Z)*lt,t[10]=(P*G-k*j+R*B)*lt,t[11]=(M*j-w*G-C*B)*lt,t[12]=(g*Q-v*rt-m*Z)*lt,t[13]=(a*rt-s*Q+u*Z)*lt,t[14]=(k*z-P*V-D*B)*lt,t[15]=(w*V-M*z+O*B)*lt,t):null}function Je(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=i[4],g=i[5],m=i[6],_=i[7],w=i[8],M=i[9],O=i[10],C=i[11],P=i[12],k=i[13],D=i[14],R=i[15];return t[0]=g*(O*R-C*D)-M*(m*R-_*D)+k*(m*C-_*O),t[1]=-(s*(O*R-C*D)-M*(u*R-h*D)+k*(u*C-h*O)),t[2]=s*(m*R-_*D)-g*(u*R-h*D)+k*(u*_-h*m),t[3]=-(s*(m*C-_*O)-g*(u*C-h*O)+M*(u*_-h*m)),t[4]=-(v*(O*R-C*D)-w*(m*R-_*D)+P*(m*C-_*O)),t[5]=a*(O*R-C*D)-w*(u*R-h*D)+P*(u*C-h*O),t[6]=-(a*(m*R-_*D)-v*(u*R-h*D)+P*(u*_-h*m)),t[7]=a*(m*C-_*O)-v*(u*C-h*O)+w*(u*_-h*m),t[8]=v*(M*R-C*k)-w*(g*R-_*k)+P*(g*C-_*M),t[9]=-(a*(M*R-C*k)-w*(s*R-h*k)+P*(s*C-h*M)),t[10]=a*(g*R-_*k)-v*(s*R-h*k)+P*(s*_-h*g),t[11]=-(a*(g*C-_*M)-v*(s*C-h*M)+w*(s*_-h*g)),t[12]=-(v*(M*D-O*k)-w*(g*D-m*k)+P*(g*O-m*M)),t[13]=a*(M*D-O*k)-w*(s*D-u*k)+P*(s*O-u*M),t[14]=-(a*(g*D-m*k)-v*(s*D-u*k)+P*(s*m-u*g)),t[15]=a*(g*O-m*M)-v*(s*O-u*M)+w*(s*m-u*g),t}function zT(t){var i=t[0],a=t[1],s=t[2],u=t[3],h=t[4],v=t[5],g=t[6],m=t[7],_=t[8],w=t[9],M=t[10],O=t[11],C=t[12],P=t[13],k=t[14],D=t[15],R=i*v-a*h,B=i*g-s*h,z=i*m-u*h,j=a*g-s*v,V=a*m-u*v,G=s*m-u*g,Y=_*P-w*C,Z=_*k-M*C,Q=_*D-O*C,tt=w*k-M*P,rt=w*D-O*P,ct=M*D-O*k;return R*ct-B*rt+z*tt+j*Q-V*Z+G*Y}function mo(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3],g=i[4],m=i[5],_=i[6],w=i[7],M=i[8],O=i[9],C=i[10],P=i[11],k=i[12],D=i[13],R=i[14],B=i[15],z=a[0],j=a[1],V=a[2],G=a[3];return t[0]=z*s+j*g+V*M+G*k,t[1]=z*u+j*m+V*O+G*D,t[2]=z*h+j*_+V*C+G*R,t[3]=z*v+j*w+V*P+G*B,z=a[4],j=a[5],V=a[6],G=a[7],t[4]=z*s+j*g+V*M+G*k,t[5]=z*u+j*m+V*O+G*D,t[6]=z*h+j*_+V*C+G*R,t[7]=z*v+j*w+V*P+G*B,z=a[8],j=a[9],V=a[10],G=a[11],t[8]=z*s+j*g+V*M+G*k,t[9]=z*u+j*m+V*O+G*D,t[10]=z*h+j*_+V*C+G*R,t[11]=z*v+j*w+V*P+G*B,z=a[12],j=a[13],V=a[14],G=a[15],t[12]=z*s+j*g+V*M+G*k,t[13]=z*u+j*m+V*O+G*D,t[14]=z*h+j*_+V*C+G*R,t[15]=z*v+j*w+V*P+G*B,t}function gp(t,i,a){var s=a[0],u=a[1],h=a[2],v,g,m,_,w,M,O,C,P,k,D,R;return i===t?(t[12]=i[0]*s+i[4]*u+i[8]*h+i[12],t[13]=i[1]*s+i[5]*u+i[9]*h+i[13],t[14]=i[2]*s+i[6]*u+i[10]*h+i[14],t[15]=i[3]*s+i[7]*u+i[11]*h+i[15]):(v=i[0],g=i[1],m=i[2],_=i[3],w=i[4],M=i[5],O=i[6],C=i[7],P=i[8],k=i[9],D=i[10],R=i[11],t[0]=v,t[1]=g,t[2]=m,t[3]=_,t[4]=w,t[5]=M,t[6]=O,t[7]=C,t[8]=P,t[9]=k,t[10]=D,t[11]=R,t[12]=v*s+w*u+P*h+i[12],t[13]=g*s+M*u+k*h+i[13],t[14]=m*s+O*u+D*h+i[14],t[15]=_*s+C*u+R*h+i[15]),t}function WI(t,i,a){var s=a[0],u=a[1],h=a[2];return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=i[3]*s,t[4]=i[4]*u,t[5]=i[5]*u,t[6]=i[6]*u,t[7]=i[7]*u,t[8]=i[8]*h,t[9]=i[9]*h,t[10]=i[10]*h,t[11]=i[11]*h,t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t}function e0(t,i,a,s){var u=s[0],h=s[1],v=s[2],g=Math.hypot(u,h,v),m,_,w,M,O,C,P,k,D,R,B,z,j,V,G,Y,Z,Q,tt,rt,ct,nt,lt,ft;return g<Ee?null:(g=1/g,u*=g,h*=g,v*=g,m=Math.sin(a),_=Math.cos(a),w=1-_,M=i[0],O=i[1],C=i[2],P=i[3],k=i[4],D=i[5],R=i[6],B=i[7],z=i[8],j=i[9],V=i[10],G=i[11],Y=u*u*w+_,Z=h*u*w+v*m,Q=v*u*w-h*m,tt=u*h*w-v*m,rt=h*h*w+_,ct=v*h*w+u*m,nt=u*v*w+h*m,lt=h*v*w-u*m,ft=v*v*w+_,t[0]=M*Y+k*Z+z*Q,t[1]=O*Y+D*Z+j*Q,t[2]=C*Y+R*Z+V*Q,t[3]=P*Y+B*Z+G*Q,t[4]=M*tt+k*rt+z*ct,t[5]=O*tt+D*rt+j*ct,t[6]=C*tt+R*rt+V*ct,t[7]=P*tt+B*rt+G*ct,t[8]=M*nt+k*lt+z*ft,t[9]=O*nt+D*lt+j*ft,t[10]=C*nt+R*lt+V*ft,t[11]=P*nt+B*lt+G*ft,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t)}function HI(t,i,a){var s=Math.sin(a),u=Math.cos(a),h=i[4],v=i[5],g=i[6],m=i[7],_=i[8],w=i[9],M=i[10],O=i[11];return i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[4]=h*u+_*s,t[5]=v*u+w*s,t[6]=g*u+M*s,t[7]=m*u+O*s,t[8]=_*u-h*s,t[9]=w*u-v*s,t[10]=M*u-g*s,t[11]=O*u-m*s,t}function o_(t,i,a){var s=Math.sin(a),u=Math.cos(a),h=i[0],v=i[1],g=i[2],m=i[3],_=i[8],w=i[9],M=i[10],O=i[11];return i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[0]=h*u-_*s,t[1]=v*u-w*s,t[2]=g*u-M*s,t[3]=m*u-O*s,t[8]=h*s+_*u,t[9]=v*s+w*u,t[10]=g*s+M*u,t[11]=m*s+O*u,t}function YI(t,i,a){var s=Math.sin(a),u=Math.cos(a),h=i[0],v=i[1],g=i[2],m=i[3],_=i[4],w=i[5],M=i[6],O=i[7];return i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[0]=h*u+_*s,t[1]=v*u+w*s,t[2]=g*u+M*s,t[3]=m*u+O*s,t[4]=_*u-h*s,t[5]=w*u-v*s,t[6]=M*u-g*s,t[7]=O*u-m*s,t}function Ef(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function kf(t,i){return t[0]=i[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=i[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function FT(t,i,a){var s=a[0],u=a[1],h=a[2],v=Math.hypot(s,u,h),g,m,_;return v<Ee?null:(v=1/v,s*=v,u*=v,h*=v,g=Math.sin(i),m=Math.cos(i),_=1-m,t[0]=s*s*_+m,t[1]=u*s*_+h*g,t[2]=h*s*_-u*g,t[3]=0,t[4]=s*u*_-h*g,t[5]=u*u*_+m,t[6]=h*u*_+s*g,t[7]=0,t[8]=s*h*_+u*g,t[9]=u*h*_-s*g,t[10]=h*h*_+m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function UI(t,i){var a=Math.sin(i),s=Math.cos(i);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jT(t,i){var a=Math.sin(i),s=Math.cos(i);return t[0]=s,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gd(t,i){var a=Math.sin(i),s=Math.cos(i);return t[0]=s,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function XI(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3],g=s+s,m=u+u,_=h+h,w=s*g,M=s*m,O=s*_,C=u*m,P=u*_,k=h*_,D=v*g,R=v*m,B=v*_;return t[0]=1-(C+k),t[1]=M+B,t[2]=O-R,t[3]=0,t[4]=M-B,t[5]=1-(w+k),t[6]=P+D,t[7]=0,t[8]=O+R,t[9]=P-D,t[10]=1-(w+C),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function $I(t,i){var a=new Me(3),s=-i[0],u=-i[1],h=-i[2],v=i[3],g=i[4],m=i[5],_=i[6],w=i[7],M=s*s+u*u+h*h+v*v;return M>0?(a[0]=(g*v+w*s+m*h-_*u)*2/M,a[1]=(m*v+w*u+_*s-g*h)*2/M,a[2]=(_*v+w*h+g*u-m*s)*2/M):(a[0]=(g*v+w*s+m*h-_*u)*2,a[1]=(m*v+w*u+_*s-g*h)*2,a[2]=(_*v+w*h+g*u-m*s)*2),XI(t,i,a),t}function s_(t,i){return t[0]=i[12],t[1]=i[13],t[2]=i[14],t}function yd(t,i){var a=i[0],s=i[1],u=i[2],h=i[4],v=i[5],g=i[6],m=i[8],_=i[9],w=i[10];return t[0]=Math.hypot(a,s,u),t[1]=Math.hypot(h,v,g),t[2]=Math.hypot(m,_,w),t}function yp(t,i){var a=new Me(3);yd(a,i);var s=1/a[0],u=1/a[1],h=1/a[2],v=i[0]*s,g=i[1]*u,m=i[2]*h,_=i[4]*s,w=i[5]*u,M=i[6]*h,O=i[8]*s,C=i[9]*u,P=i[10]*h,k=v+w+P,D=0;return k>0?(D=Math.sqrt(k+1)*2,t[3]=.25*D,t[0]=(M-C)/D,t[1]=(O-m)/D,t[2]=(g-_)/D):v>w&&v>P?(D=Math.sqrt(1+v-w-P)*2,t[3]=(M-C)/D,t[0]=.25*D,t[1]=(g+_)/D,t[2]=(O+m)/D):w>P?(D=Math.sqrt(1+w-v-P)*2,t[3]=(O-m)/D,t[0]=(g+_)/D,t[1]=.25*D,t[2]=(M+C)/D):(D=Math.sqrt(1+P-v-w)*2,t[3]=(g-_)/D,t[0]=(O+m)/D,t[1]=(M+C)/D,t[2]=.25*D),t}function VT(t,i,a,s){var u=i[0],h=i[1],v=i[2],g=i[3],m=u+u,_=h+h,w=v+v,M=u*m,O=u*_,C=u*w,P=h*_,k=h*w,D=v*w,R=g*m,B=g*_,z=g*w,j=s[0],V=s[1],G=s[2];return t[0]=(1-(P+D))*j,t[1]=(O+z)*j,t[2]=(C-B)*j,t[3]=0,t[4]=(O-z)*V,t[5]=(1-(M+D))*V,t[6]=(k+R)*V,t[7]=0,t[8]=(C+B)*G,t[9]=(k-R)*G,t[10]=(1-(M+P))*G,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function r0(t,i,a,s,u){var h=i[0],v=i[1],g=i[2],m=i[3],_=h+h,w=v+v,M=g+g,O=h*_,C=h*w,P=h*M,k=v*w,D=v*M,R=g*M,B=m*_,z=m*w,j=m*M,V=s[0],G=s[1],Y=s[2],Z=u[0],Q=u[1],tt=u[2],rt=(1-(k+R))*V,ct=(C+j)*V,nt=(P-z)*V,lt=(C-j)*G,ft=(1-(O+R))*G,q=(D+B)*G,H=(P+z)*Y,U=(D-B)*Y,J=(1-(O+k))*Y;return t[0]=rt,t[1]=ct,t[2]=nt,t[3]=0,t[4]=lt,t[5]=ft,t[6]=q,t[7]=0,t[8]=H,t[9]=U,t[10]=J,t[11]=0,t[12]=a[0]+Z-(rt*Z+lt*Q+H*tt),t[13]=a[1]+Q-(ct*Z+ft*Q+U*tt),t[14]=a[2]+tt-(nt*Z+q*Q+J*tt),t[15]=1,t}function mp(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=a+a,g=s+s,m=u+u,_=a*v,w=s*v,M=s*g,O=u*v,C=u*g,P=u*m,k=h*v,D=h*g,R=h*m;return t[0]=1-M-P,t[1]=w+R,t[2]=O-D,t[3]=0,t[4]=w-R,t[5]=1-_-P,t[6]=C+k,t[7]=0,t[8]=O+D,t[9]=C-k,t[10]=1-_-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gs(t,i,a,s,u,h,v){var g=1/(a-i),m=1/(u-s),_=1/(h-v);return t[0]=h*2*g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h*2*m,t[6]=0,t[7]=0,t[8]=(a+i)*g,t[9]=(u+s)*m,t[10]=(v+h)*_,t[11]=-1,t[12]=0,t[13]=0,t[14]=v*h*2*_,t[15]=0,t}function bp(t,i,a,s,u){var h=1/Math.tan(i/2),v;return t[0]=h/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,u!=null&&u!==1/0?(v=1/(s-u),t[10]=(u+s)*v,t[14]=2*u*s*v):(t[10]=-1,t[14]=-2*s),t}var _p=bp;function qI(t,i,a,s,u){var h=1/Math.tan(i/2),v;return t[0]=h/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,u!=null&&u!==1/0?(v=1/(s-u),t[10]=u*v,t[14]=u*s*v):(t[10]=-1,t[14]=-s),t}function GT(t,i,a,s){var u=Math.tan(i.upDegrees*Math.PI/180),h=Math.tan(i.downDegrees*Math.PI/180),v=Math.tan(i.leftDegrees*Math.PI/180),g=Math.tan(i.rightDegrees*Math.PI/180),m=2/(v+g),_=2/(u+h);return t[0]=m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=_,t[6]=0,t[7]=0,t[8]=-((v-g)*m*.5),t[9]=(u-h)*_*.5,t[10]=s/(a-s),t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a/(a-s),t[15]=0,t}function WT(t,i,a,s,u,h,v){var g=1/(i-a),m=1/(s-u),_=1/(h-v);return t[0]=-2*g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*_,t[11]=0,t[12]=(i+a)*g,t[13]=(u+s)*m,t[14]=(v+h)*_,t[15]=1,t}var ZI=WT;function KI(t,i,a,s,u,h,v){var g=1/(i-a),m=1/(s-u),_=1/(h-v);return t[0]=-2*g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*m,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=_,t[11]=0,t[12]=(i+a)*g,t[13]=(u+s)*m,t[14]=h*_,t[15]=1,t}function HT(t,i,a,s){var u,h,v,g,m,_,w,M,O,C,P=i[0],k=i[1],D=i[2],R=s[0],B=s[1],z=s[2],j=a[0],V=a[1],G=a[2];return Math.abs(P-j)<Ee&&Math.abs(k-V)<Ee&&Math.abs(D-G)<Ee?Pf(t):(w=P-j,M=k-V,O=D-G,C=1/Math.hypot(w,M,O),w*=C,M*=C,O*=C,u=B*O-z*M,h=z*w-R*O,v=R*M-B*w,C=Math.hypot(u,h,v),C?(C=1/C,u*=C,h*=C,v*=C):(u=0,h=0,v=0),g=M*v-O*h,m=O*u-w*v,_=w*h-M*u,C=Math.hypot(g,m,_),C?(C=1/C,g*=C,m*=C,_*=C):(g=0,m=0,_=0),t[0]=u,t[1]=g,t[2]=w,t[3]=0,t[4]=h,t[5]=m,t[6]=M,t[7]=0,t[8]=v,t[9]=_,t[10]=O,t[11]=0,t[12]=-(u*P+h*k+v*D),t[13]=-(g*P+m*k+_*D),t[14]=-(w*P+M*k+O*D),t[15]=1,t)}function YT(t,i,a,s){var u=i[0],h=i[1],v=i[2],g=s[0],m=s[1],_=s[2],w=u-a[0],M=h-a[1],O=v-a[2],C=w*w+M*M+O*O;C>0&&(C=1/Math.sqrt(C),w*=C,M*=C,O*=C);var P=m*O-_*M,k=_*w-g*O,D=g*M-m*w;return C=P*P+k*k+D*D,C>0&&(C=1/Math.sqrt(C),P*=C,k*=C,D*=C),t[0]=P,t[1]=k,t[2]=D,t[3]=0,t[4]=M*D-O*k,t[5]=O*P-w*D,t[6]=w*k-M*P,t[7]=0,t[8]=w,t[9]=M,t[10]=O,t[11]=0,t[12]=u,t[13]=h,t[14]=v,t[15]=1,t}function l_(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function QI(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function u_(t,i,a){return t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t[3]=i[3]+a[3],t[4]=i[4]+a[4],t[5]=i[5]+a[5],t[6]=i[6]+a[6],t[7]=i[7]+a[7],t[8]=i[8]+a[8],t[9]=i[9]+a[9],t[10]=i[10]+a[10],t[11]=i[11]+a[11],t[12]=i[12]+a[12],t[13]=i[13]+a[13],t[14]=i[14]+a[14],t[15]=i[15]+a[15],t}function wc(t,i,a){return t[0]=i[0]-a[0],t[1]=i[1]-a[1],t[2]=i[2]-a[2],t[3]=i[3]-a[3],t[4]=i[4]-a[4],t[5]=i[5]-a[5],t[6]=i[6]-a[6],t[7]=i[7]-a[7],t[8]=i[8]-a[8],t[9]=i[9]-a[9],t[10]=i[10]-a[10],t[11]=i[11]-a[11],t[12]=i[12]-a[12],t[13]=i[13]-a[13],t[14]=i[14]-a[14],t[15]=i[15]-a[15],t}function c_(t,i,a){return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=i[3]*a,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=i[7]*a,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=i[11]*a,t[12]=i[12]*a,t[13]=i[13]*a,t[14]=i[14]*a,t[15]=i[15]*a,t}function JI(t,i,a,s){return t[0]=i[0]+a[0]*s,t[1]=i[1]+a[1]*s,t[2]=i[2]+a[2]*s,t[3]=i[3]+a[3]*s,t[4]=i[4]+a[4]*s,t[5]=i[5]+a[5]*s,t[6]=i[6]+a[6]*s,t[7]=i[7]+a[7]*s,t[8]=i[8]+a[8]*s,t[9]=i[9]+a[9]*s,t[10]=i[10]+a[10]*s,t[11]=i[11]+a[11]*s,t[12]=i[12]+a[12]*s,t[13]=i[13]+a[13]*s,t[14]=i[14]+a[14]*s,t[15]=i[15]+a[15]*s,t}function f_(t,i){return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]&&t[4]===i[4]&&t[5]===i[5]&&t[6]===i[6]&&t[7]===i[7]&&t[8]===i[8]&&t[9]===i[9]&&t[10]===i[10]&&t[11]===i[11]&&t[12]===i[12]&&t[13]===i[13]&&t[14]===i[14]&&t[15]===i[15]}function h_(t,i){var a=t[0],s=t[1],u=t[2],h=t[3],v=t[4],g=t[5],m=t[6],_=t[7],w=t[8],M=t[9],O=t[10],C=t[11],P=t[12],k=t[13],D=t[14],R=t[15],B=i[0],z=i[1],j=i[2],V=i[3],G=i[4],Y=i[5],Z=i[6],Q=i[7],tt=i[8],rt=i[9],ct=i[10],nt=i[11],lt=i[12],ft=i[13],q=i[14],H=i[15];return Math.abs(a-B)<=Ee*Math.max(1,Math.abs(a),Math.abs(B))&&Math.abs(s-z)<=Ee*Math.max(1,Math.abs(s),Math.abs(z))&&Math.abs(u-j)<=Ee*Math.max(1,Math.abs(u),Math.abs(j))&&Math.abs(h-V)<=Ee*Math.max(1,Math.abs(h),Math.abs(V))&&Math.abs(v-G)<=Ee*Math.max(1,Math.abs(v),Math.abs(G))&&Math.abs(g-Y)<=Ee*Math.max(1,Math.abs(g),Math.abs(Y))&&Math.abs(m-Z)<=Ee*Math.max(1,Math.abs(m),Math.abs(Z))&&Math.abs(_-Q)<=Ee*Math.max(1,Math.abs(_),Math.abs(Q))&&Math.abs(w-tt)<=Ee*Math.max(1,Math.abs(w),Math.abs(tt))&&Math.abs(M-rt)<=Ee*Math.max(1,Math.abs(M),Math.abs(rt))&&Math.abs(O-ct)<=Ee*Math.max(1,Math.abs(O),Math.abs(ct))&&Math.abs(C-nt)<=Ee*Math.max(1,Math.abs(C),Math.abs(nt))&&Math.abs(P-lt)<=Ee*Math.max(1,Math.abs(P),Math.abs(lt))&&Math.abs(k-ft)<=Ee*Math.max(1,Math.abs(k),Math.abs(ft))&&Math.abs(D-q)<=Ee*Math.max(1,Math.abs(D),Math.abs(q))&&Math.abs(R-H)<=Ee*Math.max(1,Math.abs(R),Math.abs(H))}var Ll=mo,qs=wc;function md(){var t=new Me(9);return Me!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Lf(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[4],t[4]=i[5],t[5]=i[6],t[6]=i[8],t[7]=i[9],t[8]=i[10],t}function T9(t){var i=new glMatrix.ARRAY_TYPE(9);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i}function Wa(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t}function tR(t,i,a,s,u,h,v,g,m){var _=new Me(9);return _[0]=t,_[1]=i,_[2]=a,_[3]=s,_[4]=u,_[5]=h,_[6]=v,_[7]=g,_[8]=m,_}function UT(t,i,a,s,u,h,v,g,m,_){return t[0]=i,t[1]=a,t[2]=s,t[3]=u,t[4]=h,t[5]=v,t[6]=g,t[7]=m,t[8]=_,t}function O9(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function bd(t,i){if(t===i){var a=i[1],s=i[2],u=i[5];t[1]=i[3],t[2]=i[6],t[3]=a,t[5]=i[7],t[6]=s,t[7]=u}else t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8];return t}function A9(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=i[4],g=i[5],m=i[6],_=i[7],w=i[8],M=w*v-g*_,O=-w*h+g*m,C=_*h-v*m,P=a*M+s*O+u*C;return P?(P=1/P,t[0]=M*P,t[1]=(-w*s+u*_)*P,t[2]=(g*s-u*v)*P,t[3]=O*P,t[4]=(w*a-u*m)*P,t[5]=(-g*a+u*h)*P,t[6]=C*P,t[7]=(-_*a+s*m)*P,t[8]=(v*a-s*h)*P,t):null}function Ket(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=i[4],g=i[5],m=i[6],_=i[7],w=i[8];return t[0]=v*w-g*_,t[1]=u*_-s*w,t[2]=s*g-u*v,t[3]=g*m-h*w,t[4]=a*w-u*m,t[5]=u*h-a*g,t[6]=h*_-v*m,t[7]=s*m-a*_,t[8]=a*v-s*h,t}function io(t){var i=t[0],a=t[1],s=t[2],u=t[3],h=t[4],v=t[5],g=t[6],m=t[7],_=t[8];return i*(_*h-v*m)+a*(-_*u+v*g)+s*(m*u-h*g)}function eR(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3],g=i[4],m=i[5],_=i[6],w=i[7],M=i[8],O=a[0],C=a[1],P=a[2],k=a[3],D=a[4],R=a[5],B=a[6],z=a[7],j=a[8];return t[0]=O*s+C*v+P*_,t[1]=O*u+C*g+P*w,t[2]=O*h+C*m+P*M,t[3]=k*s+D*v+R*_,t[4]=k*u+D*g+R*w,t[5]=k*h+D*m+R*M,t[6]=B*s+z*v+j*_,t[7]=B*u+z*g+j*w,t[8]=B*h+z*m+j*M,t}function Qet(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3],g=i[4],m=i[5],_=i[6],w=i[7],M=i[8],O=a[0],C=a[1];return t[0]=s,t[1]=u,t[2]=h,t[3]=v,t[4]=g,t[5]=m,t[6]=O*s+C*v+_,t[7]=O*u+C*g+w,t[8]=O*h+C*m+M,t}function C9(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3],g=i[4],m=i[5],_=i[6],w=i[7],M=i[8],O=Math.sin(a),C=Math.cos(a);return t[0]=C*s+O*v,t[1]=C*u+O*g,t[2]=C*h+O*m,t[3]=C*v-O*s,t[4]=C*g-O*u,t[5]=C*m-O*h,t[6]=_,t[7]=w,t[8]=M,t}function d_(t,i,a){var s=a[0],u=a[1];return t[0]=s*i[0],t[1]=s*i[1],t[2]=s*i[2],t[3]=u*i[3],t[4]=u*i[4],t[5]=u*i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t}function P9(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=i[0],t[7]=i[1],t[8]=1,t}function Jet(t,i){var a=Math.sin(i),s=Math.cos(i);return t[0]=s,t[1]=a,t[2]=0,t[3]=-a,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function trt(t,i){return t[0]=i[0],t[1]=0,t[2]=0,t[3]=0,t[4]=i[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function rR(t,i){return t[0]=i[0],t[1]=i[1],t[2]=0,t[3]=i[2],t[4]=i[3],t[5]=0,t[6]=i[4],t[7]=i[5],t[8]=1,t}function ert(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=a+a,g=s+s,m=u+u,_=a*v,w=s*v,M=s*g,O=u*v,C=u*g,P=u*m,k=h*v,D=h*g,R=h*m;return t[0]=1-M-P,t[3]=w-R,t[6]=O+D,t[1]=w+R,t[4]=1-_-P,t[7]=C-k,t[2]=O-D,t[5]=C+k,t[8]=1-_-M,t}function rrt(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=i[4],g=i[5],m=i[6],_=i[7],w=i[8],M=i[9],O=i[10],C=i[11],P=i[12],k=i[13],D=i[14],R=i[15],B=a*g-s*v,z=a*m-u*v,j=a*_-h*v,V=s*m-u*g,G=s*_-h*g,Y=u*_-h*m,Z=w*k-M*P,Q=w*D-O*P,tt=w*R-C*P,rt=M*D-O*k,ct=M*R-C*k,nt=O*R-C*D,lt=B*nt-z*ct+j*rt+V*tt-G*Q+Y*Z;return lt?(lt=1/lt,t[0]=(g*nt-m*ct+_*rt)*lt,t[1]=(m*tt-v*nt-_*Q)*lt,t[2]=(v*ct-g*tt+_*Z)*lt,t[3]=(u*ct-s*nt-h*rt)*lt,t[4]=(a*nt-u*tt+h*Q)*lt,t[5]=(s*tt-a*ct-h*Z)*lt,t[6]=(k*Y-D*G+R*V)*lt,t[7]=(D*j-P*Y-R*z)*lt,t[8]=(P*G-k*j+R*B)*lt,t):null}function E9(t,i,a){return t[0]=2/i,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function nrt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function irt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function n0(t,i,a){return t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t[3]=i[3]+a[3],t[4]=i[4]+a[4],t[5]=i[5]+a[5],t[6]=i[6]+a[6],t[7]=i[7]+a[7],t[8]=i[8]+a[8],t}function k9(t,i,a){return t[0]=i[0]-a[0],t[1]=i[1]-a[1],t[2]=i[2]-a[2],t[3]=i[3]-a[3],t[4]=i[4]-a[4],t[5]=i[5]-a[5],t[6]=i[6]-a[6],t[7]=i[7]-a[7],t[8]=i[8]-a[8],t}function Tu(t,i,a){return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=i[3]*a,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=i[7]*a,t[8]=i[8]*a,t}function art(t,i,a,s){return t[0]=i[0]+a[0]*s,t[1]=i[1]+a[1]*s,t[2]=i[2]+a[2]*s,t[3]=i[3]+a[3]*s,t[4]=i[4]+a[4]*s,t[5]=i[5]+a[5]*s,t[6]=i[6]+a[6]*s,t[7]=i[7]+a[7]*s,t[8]=i[8]+a[8]*s,t}function v_(t,i){return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]&&t[3]===i[3]&&t[4]===i[4]&&t[5]===i[5]&&t[6]===i[6]&&t[7]===i[7]&&t[8]===i[8]}function nR(t,i){var a=t[0],s=t[1],u=t[2],h=t[3],v=t[4],g=t[5],m=t[6],_=t[7],w=t[8],M=i[0],O=i[1],C=i[2],P=i[3],k=i[4],D=i[5],R=i[6],B=i[7],z=i[8];return Math.abs(a-M)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(s-O)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(u-C)<=glMatrix.EPSILON*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(h-P)<=glMatrix.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(v-k)<=glMatrix.EPSILON*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(g-D)<=glMatrix.EPSILON*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(m-R)<=glMatrix.EPSILON*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(_-B)<=glMatrix.EPSILON*Math.max(1,Math.abs(_),Math.abs(B))&&Math.abs(w-z)<=glMatrix.EPSILON*Math.max(1,Math.abs(w),Math.abs(z))}var _d=null,iR=null;function mi(){var t=new Me(4);return Me!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Dl(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ou(t,i,a){a=a*.5;var s=Math.sin(a);return t[0]=s*i[0],t[1]=s*i[1],t[2]=s*i[2],t[3]=Math.cos(a),t}function L9(t,i){var a=Math.acos(i[3])*2,s=Math.sin(a/2);return s>glMatrix.EPSILON?(t[0]=i[0]/s,t[1]=i[1]/s,t[2]=i[2]/s):(t[0]=1,t[1]=0,t[2]=0),a}function XT(t,i){var a=g_(t,i);return Math.acos(2*a*a-1)}function ys(t,i,a){var s=i[0],u=i[1],h=i[2],v=i[3],g=a[0],m=a[1],_=a[2],w=a[3];return t[0]=s*w+v*g+u*_-h*m,t[1]=u*w+v*m+h*g-s*_,t[2]=h*w+v*_+s*m-u*g,t[3]=v*w-s*g-u*m-h*_,t}function $o(t,i,a){a*=.5;var s=i[0],u=i[1],h=i[2],v=i[3],g=Math.sin(a),m=Math.cos(a);return t[0]=s*m+v*g,t[1]=u*m+h*g,t[2]=h*m-u*g,t[3]=v*m-s*g,t}function aR(t,i,a){a*=.5;var s=i[0],u=i[1],h=i[2],v=i[3],g=Math.sin(a),m=Math.cos(a);return t[0]=s*m-h*g,t[1]=u*m+v*g,t[2]=h*m+s*g,t[3]=v*m-u*g,t}function ort(t,i,a){a*=.5;var s=i[0],u=i[1],h=i[2],v=i[3],g=Math.sin(a),m=Math.cos(a);return t[0]=s*m+u*g,t[1]=u*m-s*g,t[2]=h*m+v*g,t[3]=v*m-h*g,t}function oR(t,i){var a=i[0],s=i[1],u=i[2];return t[0]=a,t[1]=s,t[2]=u,t[3]=Math.sqrt(Math.abs(1-a*a-s*s-u*u)),t}function srt(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=Math.sqrt(a*a+s*s+u*u),g=Math.exp(h),m=v>0?g*Math.sin(v)/v:0;return t[0]=a*m,t[1]=s*m,t[2]=u*m,t[3]=g*Math.cos(v),t}function $T(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=Math.sqrt(a*a+s*s+u*u),g=v>0?Math.atan2(v,h)/v:0;return t[0]=a*g,t[1]=s*g,t[2]=u*g,t[3]=.5*Math.log(a*a+s*s+u*u+h*h),t}function _it(t,i,a){return $T(t,i),Df(t,t,a),srt(t,t),t}function qT(t,i,a,s){var u=i[0],h=i[1],v=i[2],g=i[3],m=a[0],_=a[1],w=a[2],M=a[3],O,C,P,k,D;return C=u*m+h*_+v*w+g*M,C<0&&(C=-C,m=-m,_=-_,w=-w,M=-M),1-C>Ee?(O=Math.acos(C),P=Math.sin(O),k=Math.sin((1-s)*O)/P,D=Math.sin(s*O)/P):(k=1-s,D=s),t[0]=k*u+D*m,t[1]=k*h+D*_,t[2]=k*v+D*w,t[3]=k*g+D*M,t}function xit(t){var i=glMatrix.RANDOM(),a=glMatrix.RANDOM(),s=glMatrix.RANDOM(),u=Math.sqrt(1-i),h=Math.sqrt(i);return t[0]=u*Math.sin(2*Math.PI*a),t[1]=u*Math.cos(2*Math.PI*a),t[2]=h*Math.sin(2*Math.PI*s),t[3]=h*Math.cos(2*Math.PI*s),t}function Au(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=a*a+s*s+u*u+h*h,g=v?1/v:0;return t[0]=-a*g,t[1]=-s*g,t[2]=-u*g,t[3]=h*g,t}function ZT(t,i){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t[3]=i[3],t}function Il(t,i){var a=i[0]+i[4]+i[8],s;if(a>0)s=Math.sqrt(a+1),t[3]=.5*s,s=.5/s,t[0]=(i[5]-i[7])*s,t[1]=(i[6]-i[2])*s,t[2]=(i[1]-i[3])*s;else{var u=0;i[4]>i[0]&&(u=1),i[8]>i[u*3+u]&&(u=2);var h=(u+1)%3,v=(u+2)%3;s=Math.sqrt(i[u*3+u]-i[h*3+h]-i[v*3+v]+1),t[u]=.5*s,s=.5/s,t[3]=(i[h*3+v]-i[v*3+h])*s,t[h]=(i[h*3+u]+i[u*3+h])*s,t[v]=(i[v*3+u]+i[u*3+v])*s}return t}function xd(t,i,a,s){var u=.5*Math.PI/180;i*=u,a*=u,s*=u;var h=Math.sin(i),v=Math.cos(i),g=Math.sin(a),m=Math.cos(a),_=Math.sin(s),w=Math.cos(s);return t[0]=h*m*w-v*g*_,t[1]=v*g*w+h*m*_,t[2]=v*m*_-h*g*w,t[3]=v*m*w+h*g*_,t}function wit(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var D9=m9,KT=t0,i0=yo,xp=b9,p_=DT,QT=ys,Df=_c,g_=Su,sR=Cf,Sit=S9,lrt=null,urt=IT,crt=null,y_=n_,frt=pd,Mit=fp,I9=function(){var t=Cr(),i=Br(1,0,0),a=Br(0,1,0);return function(s,u,h){var v=go(u,h);return v<-.999999?(up(t,i,u),r_(t)<1e-6&&up(t,a,u),xu(t,t),Ou(s,t,Math.PI),s):v>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(up(t,u,h),s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=1+v,y_(s,s))}}(),hrt=function(){var t=mi(),i=mi();return function(a,s,u,h,v,g){return qT(t,s,v,g),qT(i,u,h,g),qT(a,t,i,2*g*(1-g)),a}}(),lR=function(){var t=md();return function(i,a,s,u){return t[0]=s[0],t[3]=s[1],t[6]=s[2],t[1]=u[0],t[4]=u[1],t[7]=u[2],t[2]=-a[0],t[5]=-a[1],t[8]=-a[2],y_(i,Il(i,t))}}();function m_(){var t=new Me(2);return Me!=Float32Array&&(t[0]=0,t[1]=0),t}function R9(t){var i=new glMatrix.ARRAY_TYPE(2);return i[0]=t[0],i[1]=t[1],i}function N9(t,i){var a=new glMatrix.ARRAY_TYPE(2);return a[0]=t,a[1]=i,a}function b_(t,i){return t[0]=i[0],t[1]=i[1],t}function uR(t,i,a){return t[0]=i,t[1]=a,t}function B9(t,i,a){return t[0]=i[0]+a[0],t[1]=i[1]+a[1],t}function drt(t,i,a){return t[0]=i[0]-a[0],t[1]=i[1]-a[1],t}function cR(t,i,a){return t[0]=i[0]*a[0],t[1]=i[1]*a[1],t}function If(t,i,a){return t[0]=i[0]/a[0],t[1]=i[1]/a[1],t}function fR(t,i){return t[0]=Math.ceil(i[0]),t[1]=Math.ceil(i[1]),t}function vrt(t,i){return t[0]=Math.floor(i[0]),t[1]=Math.floor(i[1]),t}function JT(t,i,a){return t[0]=Math.min(i[0],a[0]),t[1]=Math.min(i[1],a[1]),t}function z9(t,i,a){return t[0]=Math.max(i[0],a[0]),t[1]=Math.max(i[1],a[1]),t}function prt(t,i){return t[0]=Math.round(i[0]),t[1]=Math.round(i[1]),t}function grt(t,i,a){return t[0]=i[0]*a,t[1]=i[1]*a,t}function __(t,i,a,s){return t[0]=i[0]+a[0]*s,t[1]=i[1]+a[1]*s,t}function tO(t,i){var a=i[0]-t[0],s=i[1]-t[1];return Math.hypot(a,s)}function yrt(t,i){var a=i[0]-t[0],s=i[1]-t[1];return a*a+s*s}function eO(t){var i=t[0],a=t[1];return Math.hypot(i,a)}function rO(t){var i=t[0],a=t[1];return i*i+a*a}function F9(t,i){return t[0]=-i[0],t[1]=-i[1],t}function x_(t,i){return t[0]=1/i[0],t[1]=1/i[1],t}function nO(t,i){var a=i[0],s=i[1],u=a*a+s*s;return u>0&&(u=1/Math.sqrt(u)),t[0]=i[0]*u,t[1]=i[1]*u,t}function iO(t,i){return t[0]*i[0]+t[1]*i[1]}function j9(t,i,a){var s=i[0]*a[1]-i[1]*a[0];return t[0]=t[1]=0,t[2]=s,t}function V9(t,i,a,s){var u=i[0],h=i[1];return t[0]=u+s*(a[0]-u),t[1]=h+s*(a[1]-h),t}function aO(t,i){i=i||1;var a=glMatrix.RANDOM()*2*Math.PI;return t[0]=Math.cos(a)*i,t[1]=Math.sin(a)*i,t}function w_(t,i,a){var s=i[0],u=i[1];return t[0]=a[0]*s+a[2]*u,t[1]=a[1]*s+a[3]*u,t}function mrt(t,i,a){var s=i[0],u=i[1];return t[0]=a[0]*s+a[2]*u+a[4],t[1]=a[1]*s+a[3]*u+a[5],t}function brt(t,i,a){var s=i[0],u=i[1];return t[0]=a[0]*s+a[3]*u+a[6],t[1]=a[1]*s+a[4]*u+a[7],t}function hR(t,i,a){var s=i[0],u=i[1];return t[0]=a[0]*s+a[4]*u+a[12],t[1]=a[1]*s+a[5]*u+a[13],t}function a0(t,i,a,s){var u=i[0]-a[0],h=i[1]-a[1],v=Math.sin(s),g=Math.cos(s);return t[0]=u*g-h*v+a[0],t[1]=u*v+h*g+a[1],t}function _rt(t,i){var a=t[0],s=t[1],u=i[0],h=i[1],v=Math.sqrt(a*a+s*s)*Math.sqrt(u*u+h*h),g=v&&(a*u+s*h)/v;return Math.acos(Math.min(Math.max(g,-1),1))}function xrt(t){return t[0]=0,t[1]=0,t}function wrt(t){return"vec2("+t[0]+", "+t[1]+")"}function oO(t,i){return t[0]===i[0]&&t[1]===i[1]}function dR(t,i){var a=t[0],s=t[1],u=i[0],h=i[1];return Math.abs(a-u)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(s-h)<=glMatrix.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))}var G9=null,W9=null,vR=null,Srt=null,pR=null,Mrt=null,H9=null,Trt=function(){var t=m_();return function(i,a,s,u,h,v){var g,m;for(a||(a=2),s||(s=0),u?m=Math.min(u*a+s,i.length):m=i.length,g=s;g<m;g+=a)t[0]=i[g],t[1]=i[g+1],h(t,t,v),i[g]=t[0],i[g+1]=t[1];return i}}();function yn(t){return typeof t=="number"}function bo(t,i){return Math.sqrt((t[0]-i[0])*(t[0]-i[0])+(t[1]-i[1])*(t[1]-i[1]))}function Ar(t){return t==null}function zi(t){return typeof t=="string"}var S_=function(t,i,a){return t<i?i:t>a?a:t},Oi=S_,M_=function(t,i){return M_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])},M_(t,i)};function Ai(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");M_(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}var ae=function(){return ae=Object.assign||function(i){for(var a,s=1,u=arguments.length;s<u;s++){a=arguments[s];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(i[h]=a[h])}return i},ae.apply(this,arguments)};function da(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a}function Ort(t,i,a,s){var u=arguments.length,h=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(t,i,a,s);else for(var g=t.length-1;g>=0;g--)(v=t[g])&&(h=(u<3?v(h):u>3?v(i,a,h):v(i,a))||h);return u>3&&h&&Object.defineProperty(i,a,h),h}function T_(t,i){return function(a,s){i(a,s,t)}}function sO(t,i,a,s,u,h){function v(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var g=s.kind,m=g==="getter"?"get":g==="setter"?"set":"value",_=!i&&t?s.static?t:t.prototype:null,w=i||(_?Object.getOwnPropertyDescriptor(_,s.name):{}),M,O=!1,C=a.length-1;C>=0;C--){var P={};for(var k in s)P[k]=k==="access"?{}:s[k];for(var k in s.access)P.access[k]=s.access[k];P.addInitializer=function(R){if(O)throw new TypeError("Cannot add initializers after decoration has completed");h.push(v(R||null))};var D=(0,a[C])(g==="accessor"?{get:w.get,set:w.set}:w[m],P);if(g==="accessor"){if(D===void 0)continue;if(D===null||typeof D!="object")throw new TypeError("Object expected");(M=v(D.get))&&(w.get=M),(M=v(D.set))&&(w.set=M),(M=v(D.init))&&u.unshift(M)}else(M=v(D))&&(g==="field"?u.unshift(M):w[m]=M)}_&&Object.defineProperty(_,s.name,w),O=!0}function lO(t,i,a){for(var s=arguments.length>2,u=0;u<i.length;u++)a=s?i[u].call(t,a):i[u].call(t);return s?a:void 0}function uO(t){return typeof t=="symbol"?t:"".concat(t)}function Y9(t,i,a){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:a?"".concat(a," ",i):i})}function gR(t,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,i)}function yR(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})}function wd(t,i){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,u,h,v=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return v.next=g(0),v.throw=g(1),v.return=g(2),typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function g(_){return function(w){return m([_,w])}}function m(_){if(s)throw new TypeError("Generator is already executing.");for(;v&&(v=0,_[0]&&(a=0)),a;)try{if(s=1,u&&(h=_[0]&2?u.return:_[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,_[1])).done)return h;switch(u=0,h&&(_=[_[0]&2,h.value]),_[0]){case 0:case 1:h=_;break;case 4:return a.label++,{value:_[1],done:!1};case 5:a.label++,u=_[1],_=[0];continue;case 7:_=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(_[0]===6||_[0]===2)){a=0;continue}if(_[0]===3&&(!h||_[1]>h[0]&&_[1]<h[3])){a.label=_[1];break}if(_[0]===6&&a.label<h[1]){a.label=h[1],h=_;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(_);break}h[2]&&a.ops.pop(),a.trys.pop();continue}_=i.call(t,a)}catch(w){_=[6,w],u=0}finally{s=h=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}var Sc=Object.create?function(t,i,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(t,s,u)}:function(t,i,a,s){s===void 0&&(s=a),t[s]=i[a]};function wp(t,i){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&Sc(i,t,a)}function Cu(t){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&t[i],s=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function wt(t,i){var a=typeof Symbol=="function"&&t[Symbol.iterator];if(!a)return t;var s=a.call(t),u,h=[],v;try{for(;(i===void 0||i-- >0)&&!(u=s.next()).done;)h.push(u.value)}catch(g){v={error:g}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(v)throw v.error}}return h}function U9(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(wt(arguments[i]));return t}function Pu(){for(var t=0,i=0,a=arguments.length;i<a;i++)t+=arguments[i].length;for(var s=Array(t),u=0,i=0;i<a;i++)for(var h=arguments[i],v=0,g=h.length;v<g;v++,u++)s[u]=h[v];return s}function Ve(t,i,a){if(a||arguments.length===2)for(var s=0,u=i.length,h;s<u;s++)(h||!(s in i))&&(h||(h=Array.prototype.slice.call(i,0,s)),h[s]=i[s]);return t.concat(h||Array.prototype.slice.call(i))}function ms(t){return this instanceof ms?(this.v=t,this):new ms(t)}function Art(t,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(t,i||[]),u,h=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",v),u[Symbol.asyncIterator]=function(){return this},u;function v(C){return function(P){return Promise.resolve(P).then(C,M)}}function g(C,P){s[C]&&(u[C]=function(k){return new Promise(function(D,R){h.push([C,k,D,R])>1||m(C,k)})},P&&(u[C]=P(u[C])))}function m(C,P){try{_(s[C](P))}catch(k){O(h[0][3],k)}}function _(C){C.value instanceof ms?Promise.resolve(C.value.v).then(w,M):O(h[0][2],C)}function w(C){m("next",C)}function M(C){m("throw",C)}function O(C,P){C(P),h.shift(),h.length&&m(h[0][0],h[0][1])}}function Rl(t){var i,a;return i={},s("next"),s("throw",function(u){throw u}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(u,h){i[u]=t[u]?function(v){return(a=!a)?{value:ms(t[u](v)),done:!1}:h?h(v):v}:h}}function O_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],a;return i?i.call(t):(t=typeof Cu=="function"?Cu(t):t[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(h){a[h]=t[h]&&function(v){return new Promise(function(g,m){v=t[h](v),u(g,m,v.done,v.value)})}}function u(h,v,g,m){Promise.resolve(m).then(function(_){h({value:_,done:g})},v)}}function X9(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}var cO=Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i},A_=function(t){return A_=Object.getOwnPropertyNames||function(i){var a=[];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[a.length]=s);return a},A_(t)};function mR(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var a=A_(t),s=0;s<a.length;s++)a[s]!=="default"&&Sc(i,t,a[s]);return cO(i,t),i}function Nl(t){return t&&t.__esModule?t:{default:t}}function o0(t,i,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(t):s?s.value:i.get(t)}function C_(t,i,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?t!==i||!u:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(t,a):u?u.value=a:i.set(t,a),a}function Sp(t,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?i===t:t.has(i)}function Sd(t,i,a){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var s,u;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=i[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=i[Symbol.dispose],a&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(h){return Promise.reject(h)}}),t.stack.push({value:i,dispose:s,async:a})}else a&&t.stack.push({async:!0});return i}var s0=typeof SuppressedError=="function"?SuppressedError:function(t,i,a){var s=new Error(a);return s.name="SuppressedError",s.error=t,s.suppressed=i,s};function Crt(t){function i(h){t.error=t.hasError?new s0(h,t.error,"An error was suppressed during disposal."):h,t.hasError=!0}var a,s=0;function u(){for(;a=t.stack.pop();)try{if(!a.async&&s===1)return s=0,t.stack.push(a),Promise.resolve().then(u);if(a.dispose){var h=a.dispose.call(a.value);if(a.async)return s|=2,Promise.resolve(h).then(u,function(v){return i(v),u()})}else s|=1}catch(v){i(v)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return u()}function Bl(t,i){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,s,u,h,v){return s?i?".jsx":".js":u&&(!h||!v)?a:u+h+"."+v.toLowerCase()+"js"}):t}var fO={__extends:Ai,__assign:ae,__rest:da,__decorate:Ort,__param:T_,__esDecorate:sO,__runInitializers:lO,__propKey:uO,__setFunctionName:Y9,__metadata:gR,__awaiter:yR,__generator:wd,__createBinding:Sc,__exportStar:wp,__values:Cu,__read:wt,__spread:U9,__spreadArrays:Pu,__spreadArray:Ve,__await:ms,__asyncGenerator:Art,__asyncDelegator:Rl,__asyncValues:O_,__makeTemplateObject:X9,__importStar:mR,__importDefault:Nl,__classPrivateFieldGet:o0,__classPrivateFieldSet:C_,__classPrivateFieldIn:Sp,__addDisposableResource:Sd,__disposeResources:Crt,__rewriteRelativeImportExtension:Bl},Md={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function P_(t){return Array.isArray(t)&&t.every(function(i){var a=i[0].toLowerCase();return Md[a]===i.length-1&&"achlmqstvz".includes(a)})}function bR(t){return P_(t)&&t.every(function(i){var a=i[0];return a===a.toUpperCase()})}function Td(t){return bR(t)&&t.every(function(i){var a=i[0];return"ACLMQZ".includes(a)})}var _R={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function l0(t){for(var i=t.pathValue[t.segmentStart],a=i.toLowerCase(),s=t.data;s.length>=Md[a]&&(a==="m"&&s.length>2?(t.segments.push([i].concat(s.splice(0,2))),a="l",i=i==="m"?"l":"L"):t.segments.push([i].concat(s.splice(0,Md[a]))),!!Md[a]););}function hO(t){var i=t.index,a=t.pathValue,s=a.charCodeAt(i);if(s===48){t.param=0,t.index+=1;return}if(s===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'.concat(a[i],'", expecting 0 or 1 at index ').concat(i)}function dO(t){return t>=48&&t<=57||t===43||t===45||t===46}function Rf(t){return t>=48&&t<=57}function $9(t){var i=t.max,a=t.pathValue,s=t.index,u=s,h=!1,v=!1,g=!1,m=!1,_;if(u>=i){t.err="[path-util]: Invalid path value at index ".concat(u,', "pathValue" is missing param');return}if(_=a.charCodeAt(u),(_===43||_===45)&&(u+=1,_=a.charCodeAt(u)),!Rf(_)&&_!==46){t.err="[path-util]: Invalid path value at index ".concat(u,', "').concat(a[u],'" is not a number');return}if(_!==46){if(h=_===48,u+=1,_=a.charCodeAt(u),h&&u<i&&_&&Rf(_)){t.err="[path-util]: Invalid path value at index ".concat(s,', "').concat(a[s],'" illegal number');return}for(;u<i&&Rf(a.charCodeAt(u));)u+=1,v=!0;_=a.charCodeAt(u)}if(_===46){for(m=!0,u+=1;Rf(a.charCodeAt(u));)u+=1,g=!0;_=a.charCodeAt(u)}if(_===101||_===69){if(m&&!v&&!g){t.err="[path-util]: Invalid path value at index ".concat(u,', "').concat(a[u],'" invalid float exponent');return}if(u+=1,_=a.charCodeAt(u),(_===43||_===45)&&(u+=1),u<i&&Rf(a.charCodeAt(u)))for(;u<i&&Rf(a.charCodeAt(u));)u+=1;else{t.err="[path-util]: Invalid path value at index ".concat(u,', "').concat(a[u],'" invalid integer exponent');return}}t.index=u,t.param=+t.pathValue.slice(s,u)}function q9(t){var i=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&i.includes(t)}function E_(t){for(var i=t.pathValue,a=t.max;t.index<a&&q9(i.charCodeAt(t.index));)t.index+=1}function Z9(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function xR(t){return(t|32)===97}function wR(t){var i=t.max,a=t.pathValue,s=t.index,u=a.charCodeAt(s),h=Md[a[s].toLowerCase()];if(t.segmentStart=s,!Z9(u)){t.err='[path-util]: Invalid path value "'.concat(a[s],'" is not a path command');return}if(t.index+=1,E_(t),t.data=[],!h){l0(t);return}for(;;){for(var v=h;v>0;v-=1){if(xR(u)&&(v===3||v===4)?hO(t):$9(t),t.err.length)return;t.data.push(t.param),E_(t),t.index<i&&a.charCodeAt(t.index)===44&&(t.index+=1,E_(t))}if(t.index>=t.max||!dO(a.charCodeAt(t.index)))break}l0(t)}var SR=function(){function t(i){this.pathValue=i,this.segments=[],this.max=i.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Ye(t){if(P_(t))return[].concat(t);var i=new SR(t);for(E_(i);i.index<i.max&&!i.err.length;)wR(i);return i.err?i.err:i.segments}function k_(t){if(bR(t))return[].concat(t);var i=Ye(t),a=0,s=0,u=0,h=0;return i.map(function(v){var g=v.slice(1).map(Number),m=v[0],_=m.toUpperCase();if(m==="M")return a=g[0],s=g[1],u=a,h=s,["M",a,s];var w;if(m!==_)switch(_){case"A":w=[_,g[0],g[1],g[2],g[3],g[4],g[5]+a,g[6]+s];break;case"V":w=[_,g[0]+s];break;case"H":w=[_,g[0]+a];break;default:{var M=g.map(function(C,P){return C+(P%2?s:a)});w=[_].concat(M)}}else w=[_].concat(g);var O=w.length;switch(_){case"Z":a=u,s=h;break;case"H":a=w[1];break;case"V":s=w[1];break;default:a=w[O-2],s=w[O-1],_==="M"&&(u=a,h=s)}return w})}function Od(t,i){var a=t[0],s=i.x1,u=i.y1,h=i.x2,v=i.y2,g=t.slice(1).map(Number),m=t;if("TQ".includes(a)||(i.qx=null,i.qy=null),a==="H")m=["L",t[1],u];else if(a==="V")m=["L",s,t[1]];else if(a==="S"){var _=s*2-h,w=u*2-v;i.x1=_,i.y1=w,m=["C",_,w].concat(g)}else if(a==="T"){var M=s*2-i.qx,O=u*2-i.qy;i.qx=M,i.qy=O,m=["Q",M,O].concat(g)}else if(a==="Q"){var C=g[0],P=g[1];i.qx=C,i.qy=P}return m}function L_(t){if(Td(t))return[].concat(t);for(var i=k_(t),a=ae({},_R),s=0;s<i.length;s+=1){i[s]=Od(i[s],a);var u=i[s],h=u.length;a.x1=+u[h-2],a.y1=+u[h-1],a.x2=+u[h-4]||a.x1,a.y2=+u[h-3]||a.y1}return i}function Nf(t,i,a){var s=t[0],u=t[1],h=i[0],v=i[1];return[s+(h-s)*a,u+(v-u)*a]}function vO(t,i,a,s,u){var h=bo([t,i],[a,s]),v={x:0,y:0};if(typeof u=="number")if(u<=0)v={x:t,y:i};else if(u>=h)v={x:a,y:s};else{var g=Nf([t,i],[a,s],u/h),m=g[0],_=g[1];v={x:m,y:_}}return{length:h,point:v,min:{x:Math.min(t,a),y:Math.min(i,s)},max:{x:Math.max(t,a),y:Math.max(i,s)}}}function pO(t,i){var a=t.x,s=t.y,u=i.x,h=i.y,v=a*u+s*h,g=Math.sqrt((Math.pow(a,2)+Math.pow(s,2))*(Math.pow(u,2)+Math.pow(h,2))),m=a*h-s*u<0?-1:1,_=m*Math.acos(v/g);return _}function Prt(t,i,a,s,u,h,v,g,m,_){var w=Math.abs,M=Math.sin,O=Math.cos,C=Math.sqrt,P=Math.PI,k=w(a),D=w(s),R=(u%360+360)%360,B=R*(P/180);if(t===g&&i===m)return{x:t,y:i};if(k===0||D===0)return vO(t,i,g,m,_).point;var z=(t-g)/2,j=(i-m)/2,V={x:O(B)*z+M(B)*j,y:-M(B)*z+O(B)*j},G=Math.pow(V.x,2)/Math.pow(k,2)+Math.pow(V.y,2)/Math.pow(D,2);G>1&&(k*=C(G),D*=C(G));var Y=Math.pow(k,2)*Math.pow(D,2)-Math.pow(k,2)*Math.pow(V.y,2)-Math.pow(D,2)*Math.pow(V.x,2),Z=Math.pow(k,2)*Math.pow(V.y,2)+Math.pow(D,2)*Math.pow(V.x,2),Q=Y/Z;Q=Q<0?0:Q;var tt=(h!==v?1:-1)*C(Q),rt={x:tt*(k*V.y/D),y:tt*(-(D*V.x)/k)},ct={x:O(B)*rt.x-M(B)*rt.y+(t+g)/2,y:M(B)*rt.x+O(B)*rt.y+(i+m)/2},nt={x:(V.x-rt.x)/k,y:(V.y-rt.y)/D},lt=pO({x:1,y:0},nt),ft={x:(-V.x-rt.x)/k,y:(-V.y-rt.y)/D},q=pO(nt,ft);!v&&q>0?q-=2*P:v&&q<0&&(q+=2*P),q%=2*P;var H=lt+q*_,U=k*O(H),J=D*M(H),st={x:O(B)*U-M(B)*J+ct.x,y:M(B)*U+O(B)*J+ct.y};return st}function Ert(t,i,a,s,u,h,v,g,m,_,w){var M,O=w.bbox,C=O===void 0?!0:O,P=w.length,k=P===void 0?!0:P,D=w.sampleSize,R=D===void 0?30:D,B=typeof _=="number",z=t,j=i,V=0,G=[z,j,V],Y=[z,j],Z=0,Q={x:0,y:0},tt=[{x:z,y:j}];B&&_<=0&&(Q={x:z,y:j});for(var rt=0;rt<=R;rt+=1){if(Z=rt/R,M=Prt(t,i,a,s,u,h,v,g,m,Z),z=M.x,j=M.y,C&&tt.push({x:z,y:j}),k&&(V+=bo(Y,[z,j])),Y=[z,j],B&&V>=_&&_>G[2]){var ct=(V-_)/(V-G[2]);Q={x:Y[0]*(1-ct)+G[0]*ct,y:Y[1]*(1-ct)+G[1]*ct}}G=[z,j,V]}return B&&_>=V&&(Q={x:g,y:m}),{length:V,point:Q,min:{x:Math.min.apply(null,tt.map(function(nt){return nt.x})),y:Math.min.apply(null,tt.map(function(nt){return nt.y}))},max:{x:Math.max.apply(null,tt.map(function(nt){return nt.x})),y:Math.max.apply(null,tt.map(function(nt){return nt.y}))}}}function krt(t,i,a,s,u,h,v,g,m){var _=1-m;return{x:Math.pow(_,3)*t+3*Math.pow(_,2)*m*a+3*_*Math.pow(m,2)*u+Math.pow(m,3)*v,y:Math.pow(_,3)*i+3*Math.pow(_,2)*m*s+3*_*Math.pow(m,2)*h+Math.pow(m,3)*g}}function MR(t,i,a,s,u,h,v,g,m,_){var w,M=_.bbox,O=M===void 0?!0:M,C=_.length,P=C===void 0?!0:C,k=_.sampleSize,D=k===void 0?10:k,R=typeof m=="number",B=t,z=i,j=0,V=[B,z,j],G=[B,z],Y=0,Z={x:0,y:0},Q=[{x:B,y:z}];R&&m<=0&&(Z={x:B,y:z});for(var tt=0;tt<=D;tt+=1){if(Y=tt/D,w=krt(t,i,a,s,u,h,v,g,Y),B=w.x,z=w.y,O&&Q.push({x:B,y:z}),P&&(j+=bo(G,[B,z])),G=[B,z],R&&j>=m&&m>V[2]){var rt=(j-m)/(j-V[2]);Z={x:G[0]*(1-rt)+V[0]*rt,y:G[1]*(1-rt)+V[1]*rt}}V=[B,z,j]}return R&&m>=j&&(Z={x:v,y:g}),{length:j,point:Z,min:{x:Math.min.apply(null,Q.map(function(ct){return ct.x})),y:Math.min.apply(null,Q.map(function(ct){return ct.y}))},max:{x:Math.max.apply(null,Q.map(function(ct){return ct.x})),y:Math.max.apply(null,Q.map(function(ct){return ct.y}))}}}function gO(t,i,a,s,u,h,v){var g=1-v;return{x:Math.pow(g,2)*t+2*g*v*a+Math.pow(v,2)*u,y:Math.pow(g,2)*i+2*g*v*s+Math.pow(v,2)*h}}function K9(t,i,a,s,u,h,v,g){var m,_=g.bbox,w=_===void 0?!0:_,M=g.length,O=M===void 0?!0:M,C=g.sampleSize,P=C===void 0?10:C,k=typeof v=="number",D=t,R=i,B=0,z=[D,R,B],j=[D,R],V=0,G={x:0,y:0},Y=[{x:D,y:R}];k&&v<=0&&(G={x:D,y:R});for(var Z=0;Z<=P;Z+=1){if(V=Z/P,m=gO(t,i,a,s,u,h,V),D=m.x,R=m.y,w&&Y.push({x:D,y:R}),O&&(B+=bo(j,[D,R])),j=[D,R],k&&B>=v&&v>z[2]){var Q=(B-v)/(B-z[2]);G={x:j[0]*(1-Q)+z[0]*Q,y:j[1]*(1-Q)+z[1]*Q}}z=[D,R,B]}return k&&v>=B&&(G={x:u,y:h}),{length:B,point:G,min:{x:Math.min.apply(null,Y.map(function(tt){return tt.x})),y:Math.min.apply(null,Y.map(function(tt){return tt.y}))},max:{x:Math.max.apply(null,Y.map(function(tt){return tt.x})),y:Math.max.apply(null,Y.map(function(tt){return tt.y}))}}}function TR(t,i,a){for(var s,u,h,v,g,m,_=L_(t),w=typeof i=="number",M,O=[],C,P=0,k=0,D=0,R=0,B,z=[],j=[],V=0,G={x:0,y:0},Y=G,Z=G,Q=G,tt=0,rt=0,ct=_.length;rt<ct;rt+=1)B=_[rt],C=B[0],M=C==="M",O=M?O:[P,k].concat(B.slice(1)),M?(D=B[1],R=B[2],G={x:D,y:R},Y=G,V=0,w&&i<.001&&(Q=G)):C==="L"?(s=vO(O[0],O[1],O[2],O[3],(i||0)-tt),V=s.length,G=s.min,Y=s.max,Z=s.point):C==="A"?(u=Ert(O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],O[8],(i||0)-tt,a||{}),V=u.length,G=u.min,Y=u.max,Z=u.point):C==="C"?(h=MR(O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],(i||0)-tt,a||{}),V=h.length,G=h.min,Y=h.max,Z=h.point):C==="Q"?(v=K9(O[0],O[1],O[2],O[3],O[4],O[5],(i||0)-tt,a||{}),V=v.length,G=v.min,Y=v.max,Z=v.point):C==="Z"&&(O=[P,k,D,R],g=vO(O[0],O[1],O[2],O[3],(i||0)-tt),V=g.length,G=g.min,Y=g.max,Z=g.point),w&&tt<i&&tt+V>=i&&(Q=Z),j.push(Y),z.push(G),tt+=V,m=C!=="Z"?B.slice(-2):[D,R],P=m[0],k=m[1];return w&&i>=tt&&(Q={x:P,y:k}),{length:tt,point:Q,min:{x:Math.min.apply(null,z.map(function(nt){return nt.x})),y:Math.min.apply(null,z.map(function(nt){return nt.y}))},max:{x:Math.max.apply(null,j.map(function(nt){return nt.x})),y:Math.max.apply(null,j.map(function(nt){return nt.y}))}}}function Lrt(t,i){return TR(t,void 0,ae(ae({},i),{bbox:!1,length:!0})).length}var u0=function(t){if(rn(t))return t.reduce(function(i,a){return Math.min(i,a)},t[0])};function c0(t){if(!Array.isArray(t))return-1/0;var i=t.length;if(!i)return-1/0;for(var a=t[0],s=1;s<i;s++)a=Math.max(a,t[s]);return a}var Q9=1e-5;function ao(t,i,a){return a===void 0&&(a=Q9),t===i||Math.abs(t-i)<a}var qi=function(t,i){return(t%i+i)%i},zl=qi;function vn(t,i,a){if(t[a].length>7){t[a].shift();for(var s=t[a],u=a;s.length;)i[a]="A",t.splice(u+=1,0,["C"].concat(s.splice(0,6)));t.splice(a,1)}}function de(t){return Td(t)&&t.every(function(i){var a=i[0];return"MC".includes(a)})}function D_(t,i,a){var s=t*Math.cos(a)-i*Math.sin(a),u=t*Math.sin(a)+i*Math.cos(a);return{x:s,y:u}}function Mp(t,i,a,s,u,h,v,g,m,_){var w=t,M=i,O=a,C=s,P=g,k=m,D=Math.PI*120/180,R=Math.PI/180*(+u||0),B=[],z,j,V,G,Y;if(_)j=_[0],V=_[1],G=_[2],Y=_[3];else{z=D_(w,M,-R),w=z.x,M=z.y,z=D_(P,k,-R),P=z.x,k=z.y;var Z=(w-P)/2,Q=(M-k)/2,tt=Z*Z/(O*O)+Q*Q/(C*C);tt>1&&(tt=Math.sqrt(tt),O*=tt,C*=tt);var rt=O*O,ct=C*C,nt=(h===v?-1:1)*Math.sqrt(Math.abs((rt*ct-rt*Q*Q-ct*Z*Z)/(rt*Q*Q+ct*Z*Z)));G=nt*O*Q/C+(w+P)/2,Y=nt*-C*Z/O+(M+k)/2,j=Math.asin(((M-Y)/C*Math.pow(10,9)>>0)/Math.pow(10,9)),V=Math.asin(((k-Y)/C*Math.pow(10,9)>>0)/Math.pow(10,9)),j=w<G?Math.PI-j:j,V=P<G?Math.PI-V:V,j<0&&(j=Math.PI*2+j),V<0&&(V=Math.PI*2+V),v&&j>V&&(j-=Math.PI*2),!v&&V>j&&(V-=Math.PI*2)}var lt=V-j;if(Math.abs(lt)>D){var ft=V,q=P,H=k;V=j+D*(v&&V>j?1:-1),P=G+O*Math.cos(V),k=Y+C*Math.sin(V),B=Mp(P,k,O,C,u,0,v,q,H,[V,ft,G,Y])}lt=V-j;var U=Math.cos(j),J=Math.sin(j),st=Math.cos(V),ut=Math.sin(V),mt=Math.tan(lt/4),xt=4/3*O*mt,Ct=4/3*C*mt,kt=[w,M],jt=[w+xt*J,M-Ct*U],Bt=[P+xt*ut,k-Ct*st],Zt=[P,k];if(jt[0]=2*kt[0]-jt[0],jt[1]=2*kt[1]-jt[1],_)return jt.concat(Bt,Zt,B);B=jt.concat(Bt,Zt,B);for(var Oe=[],se=0,he=B.length;se<he;se+=1)Oe[se]=se%2?D_(B[se-1],B[se],R).y:D_(B[se],B[se+1],R).x;return Oe}function sa(t,i,a,s,u,h){var v=.3333333333333333,g=2/3;return[v*t+g*a,v*i+g*s,v*u+g*a,v*h+g*s,u,h]}var bs=function(t,i,a,s){var u=.5,h=Nf([t,i],[a,s],u);return Ve(Ve([],h,!0),[a,s,a,s],!1)};function Eu(t,i){var a=t[0],s=t.slice(1).map(Number),u=s[0],h=s[1],v,g=i.x1,m=i.y1,_=i.x,w=i.y;switch("TQ".includes(a)||(i.qx=null,i.qy=null),a){case"M":return i.x=u,i.y=h,t;case"A":return v=[g,m].concat(s),["C"].concat(Mp(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9]));case"Q":return i.qx=u,i.qy=h,v=[g,m].concat(s),["C"].concat(sa(v[0],v[1],v[2],v[3],v[4],v[5]));case"L":return["C"].concat(bs(g,m,u,h));case"Z":return g===_&&m===w?["C",g,m,_,w,_,w]:["C"].concat(bs(g,m,_,w));default:}return t}function yO(t,i){if(i===void 0&&(i=!1),de(t)){var a=[].concat(t);return i?[a,[]]:a}for(var s=L_(t),u=ae({},_R),h=[],v="",g=s.length,m,_,w=[],M=0;M<g;M+=1){s[M]&&(v=s[M][0]),h[M]=v;var O=Eu(s[M],u);s[M]=O,vn(s,h,M),g=s.length,v==="Z"&&w.push(M),m=s[M],_=m.length,u.x1=+m[_-2],u.y1=+m[_-1],u.x2=+m[_-4]||u.x1,u.y2=+m[_-3]||u.y1}return i?[s,w]:s}function OR(t,i){i===void 0&&(i=.5);var a=t.slice(0,2),s=t.slice(2,4),u=t.slice(4,6),h=t.slice(6,8),v=Nf(a,s,i),g=Nf(s,u,i),m=Nf(u,h,i),_=Nf(v,g,i),w=Nf(g,m,i),M=Nf(_,w,i);return[["C"].concat(v,_,M),["C"].concat(w,m,h)]}function J9(t){return t.map(function(i,a,s){var u=a&&s[a-1].slice(-2).concat(i.slice(1)),h=a?MR(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],{bbox:!1}).length:0,v;return a?v=h?OR(u):[i,i]:v=[i],{s:i,ss:v,l:h}})}function mO(t,i,a){var s=J9(t),u=J9(i),h=s.length,v=u.length,g=s.filter(function(D){return D.l}).length,m=u.filter(function(D){return D.l}).length,_=s.filter(function(D){return D.l}).reduce(function(D,R){var B=R.l;return D+B},0)/g||0,w=u.filter(function(D){return D.l}).reduce(function(D,R){var B=R.l;return D+B},0)/m||0,M=a||Math.max(h,v),O=[_,w],C=[M-h,M-v],P=0,k=[s,u].map(function(D,R){return D.l===M?D.map(function(B){return B.s}):D.map(function(B,z){return P=z&&C[R]&&B.l>=O[R],C[R]-=P?1:0,P?B.ss:[B.s]}).flat()});return k[0].length===k[1].length?k:mO(k[0],k[1],M)}function tW(t,i,a,s,u,h,v,g){return 3*((g-i)*(a+u)-(v-t)*(s+h)+s*(t-u)-a*(i-h)+g*(u+t/3)-v*(h+i/3))/20}function AR(t){var i=0,a=0,s=0;return yO(t).map(function(u){var h;switch(u[0]){case"M":return i=u[1],a=u[2],0;default:var v=u.slice(1),g=v[0],m=v[1],_=v[2],w=v[3],M=v[4],O=v[5];return s=tW(i,a,g,m,_,w,M,O),h=u.slice(-2),i=h[0],a=h[1],s}}).reduce(function(u,h){return u+h},0)}function bO(t){return AR(t)>=0}function f0(t){var i=t.slice(1).map(function(a,s,u){return s?u[s-1].slice(-2).concat(a.slice(1)):t[0].slice(1).concat(a.slice(1))}).map(function(a){return a.map(function(s,u){return a[a.length-u-2*(1-u%2)]})}).reverse();return[["M"].concat(i[0].slice(0,2))].concat(i.map(function(a){return["C"].concat(a.slice(2))}))}function eW(t){return t.map(function(i){return Array.isArray(i)?[].concat(i):i})}function Ad(t){var i=t.length,a=i-1;return t.map(function(s,u){return t.map(function(h,v){var g=u+v,m;return v===0||t[g]&&t[g][0]==="M"?(m=t[g],["M"].concat(m.slice(-2))):(g>=i&&(g-=a),t[g])})})}function rW(t,i){var a=t.length-1,s=[],u=0,h=0,v=Ad(t);return v.forEach(function(g,m){t.slice(1).forEach(function(_,w){h+=bo(t[(m+w)%a].slice(-2),i[w%a].slice(-2))}),s[m]=h,h=0}),u=s.indexOf(Math.min.apply(null,s)),v[u]}var _O=function(t){return t===void 0},qn=_O,xO=function(t){return Mi(t,"Boolean")},wO=xO;function si(t){return typeof t=="function"}var h0=function(t){var i=typeof t;return t!==null&&i==="object"||i==="function"};function CR(t,i,a){return TR(t,i,ae(ae({},a),{bbox:!1,length:!0})).point}function PR(t,i){for(;!{}.hasOwnProperty.call(t,i)&&(t=Dt(t))!==null;);return t}function I_(){return I_=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(t,i,a){var s=PR(t,i);if(s){var u=Object.getOwnPropertyDescriptor(s,i);return u.get?u.get.call(arguments.length<3?t:a):u.value}},I_.apply(null,arguments)}function SO(t,i,a,s){var u=I_(Dt(1&s?t.prototype:t),i,a);return 2&s&&typeof u=="function"?function(h){return u.apply(a,h)}:u}function oo(t,i,a,s){var u=t-a,h=i-s;return Math.sqrt(u*u+h*h)}function d0(t,i){var a=Math.min.apply(Math,Ve([],wt(t),!1)),s=Math.min.apply(Math,Ve([],wt(i),!1)),u=Math.max.apply(Math,Ve([],wt(t),!1)),h=Math.max.apply(Math,Ve([],wt(i),!1));return{x:a,y:s,width:u-a,height:h-s}}function An(t){return(t+Math.PI*2)%(Math.PI*2)}function Bf(t,i){var a=Math.abs(t);return i>0?a:a*-1}function ER(t,i,a,s,u,h){var v=a,g=s;if(v===0||g===0)return{x:t,y:i};for(var m=u-t,_=h-i,w=Math.abs(m),M=Math.abs(_),O=v*v,C=g*g,P=Math.PI/4,k=0,D=0,R=0;R<4;R++){k=v*Math.cos(P),D=g*Math.sin(P);var B=(O-C)*Math.pow(Math.cos(P),3)/v,z=(C-O)*Math.pow(Math.sin(P),3)/g,j=k-B,V=D-z,G=w-B,Y=M-z,Z=Math.hypot(V,j),Q=Math.hypot(Y,G),tt=Z*Math.asin((j*Y-V*G)/(Z*Q)),rt=tt/Math.sqrt(O+C-k*k-D*D);P+=rt,P=Math.min(Math.PI/2,Math.max(0,P))}return{x:t+Bf(k,m),y:i+Bf(D,_)}}function Tp(t,i,a,s,u,h,v,g){return-1*a*Math.cos(u)*Math.sin(g)-s*Math.sin(u)*Math.cos(g)}function nW(t,i,a,s,u,h,v,g){return-1*a*Math.sin(u)*Math.sin(g)+s*Math.cos(u)*Math.cos(g)}function kR(t,i,a){return Math.atan(-i/t*Math.tan(a))}function iW(t,i,a){return Math.atan(i/(t*Math.tan(a)))}function aW(t,i,a,s,u,h){return a*Math.cos(u)*Math.cos(h)-s*Math.sin(u)*Math.sin(h)+t}function oW(t,i,a,s,u,h){return a*Math.sin(u)*Math.cos(h)+s*Math.cos(u)*Math.sin(h)+i}function sW(t,i,a,s){var u=Math.atan2(s*t,a*i);return(u+Math.PI*2)%(Math.PI*2)}function LR(t,i,a){return{x:t*Math.cos(a),y:i*Math.sin(a)}}function DR(t,i,a){var s=Math.cos(a),u=Math.sin(a);return[t*s-i*u,t*u+i*s]}function IR(t,i,a,s,u,h,v){for(var g=kR(a,s,u),m=1/0,_=-1/0,w=[h,v],M=-Math.PI*2;M<=Math.PI*2;M+=Math.PI){var O=g+M;h<v?h<O&&O<v&&w.push(O):v<O&&O<h&&w.push(O)}for(var M=0;M<w.length;M++){var C=aW(t,i,a,s,u,w[M]);C<m&&(m=C),C>_&&(_=C)}for(var P=iW(a,s,u),k=1/0,D=-1/0,R=[h,v],M=-Math.PI*2;M<=Math.PI*2;M+=Math.PI){var B=P+M;h<v?h<B&&B<v&&R.push(B):v<B&&B<h&&R.push(B)}for(var M=0;M<R.length;M++){var z=oW(t,i,a,s,u,R[M]);z<k&&(k=z),z>D&&(D=z)}return{x:m,y:k,width:_-m,height:D-k}}function R_(t,i,a,s,u,h,v,g,m){var _=DR(g-t,m-i,-u),w=__read(_,2),M=w[0],O=w[1],C=ER(0,0,a,s,M,O),P=sW(a,s,C.x,C.y);P<h?C=LR(a,s,h):P>v&&(C=LR(a,s,v));var k=DR(C.x,C.y,u);return{x:k[0]+t,y:k[1]+i}}function Pa(t,i,a,s,u,h,v,g){var m=(v-h)*g+h,_=Tp(t,i,a,s,u,h,v,m),w=nW(t,i,a,s,u,h,v,m);return An(Math.atan2(w,_))}var Drt=1e-4;function lW(t,i,a,s,u,h){var v=-1,g=1/0,m=[a,s],_=20;h&&h>200&&(_=h/10);for(var w=1/_,M=w/10,O=0;O<=_;O++){var C=O*w,P=[u.apply(void 0,Ve([],wt(t.concat([C])),!1)),u.apply(void 0,Ve([],wt(i.concat([C])),!1))],k=oo(m[0],m[1],P[0],P[1]);k<g&&(v=C,g=k)}if(v===0)return{x:t[0],y:i[0]};if(v===1){var D=t.length;return{x:t[D-1],y:i[D-1]}}g=1/0;for(var O=0;O<32&&!(M<Drt);O++){var R=v-M,B=v+M,P=[u.apply(void 0,Ve([],wt(t.concat([R])),!1)),u.apply(void 0,Ve([],wt(i.concat([R])),!1))],k=oo(m[0],m[1],P[0],P[1]);if(R>=0&&k<g)v=R,g=k;else{var z=[u.apply(void 0,Ve([],wt(t.concat([B])),!1)),u.apply(void 0,Ve([],wt(i.concat([B])),!1))],j=oo(m[0],m[1],z[0],z[1]);B<=1&&j<g?(v=B,g=j):M*=.5}}return{x:u.apply(void 0,Ve([],wt(t.concat([v])),!1)),y:u.apply(void 0,Ve([],wt(i.concat([v])),!1))}}function MO(t,i){for(var a=0,s=t.length,u=0;u<s;u++){var h=t[u],v=i[u],g=t[(u+1)%s],m=i[(u+1)%s];a+=oo(h,v,g,m)}return a/2}function N_(t,i,a,s){return d0([t,a],[i,s])}function RR(t,i,a,s){return oo(t,i,a,s)}function ku(t,i,a,s,u){return{x:(1-u)*t+u*a,y:(1-u)*i+u*s}}function uW(t,i,a,s,u,h){var v=(a-t)*(u-t)+(s-i)*(h-i);if(v<0)return oo(t,i,u,h);var g=(a-t)*(a-t)+(s-i)*(s-i);return v>g?oo(a,s,u,h):NR(t,i,a,s,u,h)}function NR(t,i,a,s,u,h){var v=[a-t,s-i];if(oO(v,[0,0]))return Math.sqrt((u-t)*(u-t)+(h-i)*(h-i));var g=[-v[1],v[0]];nO(g,g);var m=[u-t,h-i];return Math.abs(iO(m,g))}function Op(t,i,a,s){return Math.atan2(s-i,a-t)}function br(t,i,a,s,u){var h=1-u;return h*h*h*t+3*i*u*h*h+3*a*u*u*h+s*u*u*u}function BR(t,i,a,s,u){var h=1-u;return 3*(h*h*(i-t)+2*h*u*(a-i)+u*u*(s-a))}function Cd(t,i,a,s){var u=-3*t+9*i-9*a+3*s,h=6*t-12*i+6*a,v=3*i-3*t,g=[],m,_,w;if(ao(u,0))ao(h,0)||(m=-v/h,m>=0&&m<=1&&g.push(m));else{var M=h*h-4*u*v;ao(M,0)?g.push(-h/(2*u)):M>0&&(w=Math.sqrt(M),m=(-h+w)/(2*u),_=(-h-w)/(2*u),m>=0&&m<=1&&g.push(m),_>=0&&_<=1&&g.push(_))}return g}function TO(t,i,a,s,u,h,v,g,m){var _=br(t,a,u,v,m),w=br(i,s,h,g,m),M=ku(t,i,a,s,m),O=ku(a,s,u,h,m),C=ku(u,h,v,g,m),P=ku(M.x,M.y,O.x,O.y,m),k=ku(O.x,O.y,C.x,C.y,m);return[[t,i,M.x,M.y,P.x,P.y,_,w],[_,w,k.x,k.y,C.x,C.y,v,g]]}function bi(t,i,a,s,u,h,v,g,m){if(m===0)return MO([t,a,u,v],[i,s,h,g]);var _=TO(t,i,a,s,u,h,v,g,.5),w=__spreadArray(__spreadArray([],__read(_[0]),!1),[m-1],!1),M=__spreadArray(__spreadArray([],__read(_[1]),!1),[m-1],!1);return bi.apply(void 0,__spreadArray([],__read(w),!1))+bi.apply(void 0,__spreadArray([],__read(M),!1))}function cW(t,i,a,s,u,h,v,g){for(var m=[t,v],_=[i,g],w=Cd(t,a,u,v),M=Cd(i,s,h,g),O=0;O<w.length;O++)m.push(br(t,a,u,v,w[O]));for(var O=0;O<M.length;O++)_.push(br(i,s,h,g,M[O]));return d0(m,_)}function v0(t,i,a,s,u,h,v,g){return bi(t,i,a,s,u,h,v,g,3)}function zR(t,i,a,s,u,h,v,g,m,_,w){return lW([t,a,u,v],[i,s,h,g],m,_,br,w)}function FR(t,i,a,s,u,h,v,g,m,_,w){var M=zR(t,i,a,s,u,h,v,g,m,_,w);return oo(M.x,M.y,m,_)}function Irt(t,i,a,s,u,h,v,g,m){return{x:br(t,a,u,v,m),y:br(i,s,h,g,m)}}function jR(t,i,a,s,u,h,v,g,m){var _=BR(t,a,u,v,m),w=BR(i,s,h,g,m);return An(Math.atan2(w,_))}function OO(t){for(var i=0,a=[],s=0;s<t.length-1;s++){var u=t[s],h=t[s+1],v=oo(u[0],u[1],h[0],h[1]),g={from:u,to:h,length:v};a.push(g),i+=v}return{segments:a,totalLength:i}}function Mc(t){if(t.length<2)return 0;for(var i=0,a=0;a<t.length-1;a++){var s=t[a],u=t[a+1];i+=oo(s[0],s[1],u[0],u[1])}return i}function B_(t,i){if(i>1||i<0||t.length<2)return null;var a=OO(t),s=a.segments,u=a.totalLength;if(u===0)return{x:t[0][0],y:t[0][1]};for(var h=0,v=null,g=0;g<s.length;g++){var m=s[g],_=m.from,w=m.to,M=m.length/u;if(i>=h&&i<=h+M){var O=(i-h)/M;v=ku(_[0],_[1],w[0],w[1],O);break}h+=M}return v}function VR(t,i){if(i>1||i<0||t.length<2)return 0;for(var a=OO(t),s=a.segments,u=a.totalLength,h=0,v=0,g=0;g<s.length;g++){var m=s[g],_=m.from,w=m.to,M=m.length/u;if(i>=h&&i<=h+M){v=Math.atan2(w[1]-_[1],w[0]-_[0]);break}h+=M}return v}function zf(t,i,a){for(var s=1/0,u=0;u<t.length-1;u++){var h=t[u],v=t[u+1],g=uW(h[0],h[1],v[0],v[1],i,a);g<s&&(s=g)}return s}function GR(t){for(var i=[],a=[],s=0;s<t.length;s++){var u=t[s];i.push(u[0]),a.push(u[1])}return d0(i,a)}function Lu(t){return Mc(t)}function Rrt(t,i){return B_(t,i)}function Nrt(t,i,a){return zf(t,i,a)}function WR(t,i){return VR(t,i)}function z_(t){var i=t.slice(0);return t.length&&i.push(t[0]),i}function fW(t){return GR(t)}function Brt(t){return Mc(z_(t))}function zrt(t,i){return B_(z_(t),i)}function Frt(t,i,a){return zf(z_(t),i,a)}function jrt(t,i){return VR(z_(t),i)}function Ff(t,i,a,s){var u=1-s;return u*u*t+2*s*u*i+s*s*a}function jf(t,i,a){var s=t+a-2*i;if(ao(s,0))return[.5];var u=(t-i)/s;return u<=1&&u>=0?[u]:[]}function hW(t,i,a,s,u,h,v){var g=Ff(t,a,u,v),m=Ff(i,s,h,v),_=ku(t,i,a,s,v),w=ku(a,s,u,h,v);return[[t,i,_.x,_.y,g,m],[g,m,w.x,w.y,u,h]]}function AO(t,i,a,s,u,h,v){if(v===0)return(oo(t,i,a,s)+oo(a,s,u,h)+oo(t,i,u,h))/2;var g=hW(t,i,a,s,u,h,.5),m=g[0],_=g[1];return m.push(v-1),_.push(v-1),AO.apply(void 0,__spreadArray([],__read(m),!1))+AO.apply(void 0,__spreadArray([],__read(_),!1))}function dW(t,i,a,s,u,h){var v=jf(t,a,u)[0],g=jf(i,s,h)[0],m=[t,u],_=[i,h];return v!==void 0&&m.push(Ff(t,a,u,v)),g!==void 0&&_.push(Ff(i,s,h,g)),d0(m,_)}function HR(t,i,a,s,u,h){return AO(t,i,a,s,u,h,3)}function vW(t,i,a,s,u,h,v,g){return lW([t,a,u],[i,s,h],v,g,Ff)}function CO(t,i,a,s,u,h,v,g){var m=vW(t,i,a,s,u,h,v,g);return oo(m.x,m.y,v,g)}function Vf(){"use strict";Vf=function(){return i};var t,i={},a=Object.prototype,s=a.hasOwnProperty,u=Object.defineProperty||function(q,H,U){q[H]=U.value},h=typeof Symbol=="function"?Symbol:{},v=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",m=h.toStringTag||"@@toStringTag";function _(q,H,U){return Object.defineProperty(q,H,{value:U,enumerable:!0,configurable:!0,writable:!0}),q[H]}try{_({},"")}catch(q){_=function(U,J,st){return U[J]=st}}function w(q,H,U,J){var st=H&&H.prototype instanceof R?H:R,ut=Object.create(st.prototype),mt=new lt(J||[]);return u(ut,"_invoke",{value:tt(q,U,mt)}),ut}function M(q,H,U){try{return{type:"normal",arg:q.call(H,U)}}catch(J){return{type:"throw",arg:J}}}i.wrap=w;var O="suspendedStart",C="suspendedYield",P="executing",k="completed",D={};function R(){}function B(){}function z(){}var j={};_(j,v,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(ft([])));G&&G!==a&&s.call(G,v)&&(j=G);var Y=z.prototype=R.prototype=Object.create(j);function Z(q){["next","throw","return"].forEach(function(H){_(q,H,function(U){return this._invoke(H,U)})})}function Q(q,H){function U(st,ut,mt,xt){var Ct=M(q[st],q,ut);if(Ct.type!=="throw"){var kt=Ct.arg,jt=kt.value;return jt&&ei(jt)=="object"&&s.call(jt,"__await")?H.resolve(jt.__await).then(function(Bt){U("next",Bt,mt,xt)},function(Bt){U("throw",Bt,mt,xt)}):H.resolve(jt).then(function(Bt){kt.value=Bt,mt(kt)},function(Bt){return U("throw",Bt,mt,xt)})}xt(Ct.arg)}var J;u(this,"_invoke",{value:function(ut,mt){function xt(){return new H(function(Ct,kt){U(ut,mt,Ct,kt)})}return J=J?J.then(xt,xt):xt()}})}function tt(q,H,U){var J=O;return function(st,ut){if(J===P)throw Error("Generator is already running");if(J===k){if(st==="throw")throw ut;return{value:t,done:!0}}for(U.method=st,U.arg=ut;;){var mt=U.delegate;if(mt){var xt=rt(mt,U);if(xt){if(xt===D)continue;return xt}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(J===O)throw J=k,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);J=P;var Ct=M(q,H,U);if(Ct.type==="normal"){if(J=U.done?k:C,Ct.arg===D)continue;return{value:Ct.arg,done:U.done}}Ct.type==="throw"&&(J=k,U.method="throw",U.arg=Ct.arg)}}}function rt(q,H){var U=H.method,J=q.iterator[U];if(J===t)return H.delegate=null,U==="throw"&&q.iterator.return&&(H.method="return",H.arg=t,rt(q,H),H.method==="throw")||U!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+U+"' method")),D;var st=M(J,q.iterator,H.arg);if(st.type==="throw")return H.method="throw",H.arg=st.arg,H.delegate=null,D;var ut=st.arg;return ut?ut.done?(H[q.resultName]=ut.value,H.next=q.nextLoc,H.method!=="return"&&(H.method="next",H.arg=t),H.delegate=null,D):ut:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,D)}function ct(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function nt(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function lt(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ct,this),this.reset(!0)}function ft(q){if(q||q===""){var H=q[v];if(H)return H.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var U=-1,J=function st(){for(;++U<q.length;)if(s.call(q,U))return st.value=q[U],st.done=!1,st;return st.value=t,st.done=!0,st};return J.next=J}}throw new TypeError(ei(q)+" is not iterable")}return B.prototype=z,u(Y,"constructor",{value:z,configurable:!0}),u(z,"constructor",{value:B,configurable:!0}),B.displayName=_(z,m,"GeneratorFunction"),i.isGeneratorFunction=function(q){var H=typeof q=="function"&&q.constructor;return!!H&&(H===B||(H.displayName||H.name)==="GeneratorFunction")},i.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,z):(q.__proto__=z,_(q,m,"GeneratorFunction")),q.prototype=Object.create(Y),q},i.awrap=function(q){return{__await:q}},Z(Q.prototype),_(Q.prototype,g,function(){return this}),i.AsyncIterator=Q,i.async=function(q,H,U,J,st){st===void 0&&(st=Promise);var ut=new Q(w(q,H,U,J),st);return i.isGeneratorFunction(H)?ut:ut.next().then(function(mt){return mt.done?mt.value:ut.next()})},Z(Y),_(Y,m,"Generator"),_(Y,v,function(){return this}),_(Y,"toString",function(){return"[object Generator]"}),i.keys=function(q){var H=Object(q),U=[];for(var J in H)U.push(J);return U.reverse(),function st(){for(;U.length;){var ut=U.pop();if(ut in H)return st.value=ut,st.done=!1,st}return st.done=!0,st}},i.values=ft,lt.prototype={constructor:lt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(nt),!H)for(var U in this)U.charAt(0)==="t"&&s.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=t)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function J(kt,jt){return mt.type="throw",mt.arg=H,U.next=kt,jt&&(U.method="next",U.arg=t),!!jt}for(var st=this.tryEntries.length-1;st>=0;--st){var ut=this.tryEntries[st],mt=ut.completion;if(ut.tryLoc==="root")return J("end");if(ut.tryLoc<=this.prev){var xt=s.call(ut,"catchLoc"),Ct=s.call(ut,"finallyLoc");if(xt&&Ct){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}else if(xt){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0)}else{if(!Ct)throw Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}}}},abrupt:function(H,U){for(var J=this.tryEntries.length-1;J>=0;--J){var st=this.tryEntries[J];if(st.tryLoc<=this.prev&&s.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var ut=st;break}}ut&&(H==="break"||H==="continue")&&ut.tryLoc<=U&&U<=ut.finallyLoc&&(ut=null);var mt=ut?ut.completion:{};return mt.type=H,mt.arg=U,ut?(this.method="next",this.next=ut.finallyLoc,D):this.complete(mt)},complete:function(H,U){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&U&&(this.next=U),D},finish:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===H)return this.complete(J.completion,J.afterLoc),nt(J),D}},catch:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===H){var st=J.completion;if(st.type==="throw"){var ut=st.arg;nt(J)}return ut}}throw Error("illegal catch attempt")},delegateYield:function(H,U,J){return this.delegate={iterator:ft(H),resultName:U,nextLoc:J},this.method==="next"&&(this.arg=t),D}},i}function p0(t,i,a,s,u,h,v){try{var g=t[h](v),m=g.value}catch(_){return void a(_)}g.done?i(m):Promise.resolve(m).then(s,u)}function g0(t){return function(){var i=this,a=arguments;return new Promise(function(s,u){var h=t.apply(i,a);function v(m){p0(h,s,u,v,g,"next",m)}function g(m){p0(h,s,u,v,g,"throw",m)}v(void 0)})}}function y0(t,i){var a=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=pt(t))||i&&t&&typeof t.length=="number"){a&&(t=a);var s=0,u=function(){};return{s:u,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(_){throw _},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,v=!0,g=!1;return{s:function(){a=a.call(t)},n:function(){var _=a.next();return v=_.done,_},e:function(_){g=!0,h=_},f:function(){try{v||a.return==null||a.return()}finally{if(g)throw h}}}}function YR(t,i){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(i.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function Gf(t,i){if(t==null)return{};var a,s,u=YR(t,i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);for(s=0;s<h.length;s++)a=h[s],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(u[a]=t[a])}return u}var UR=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Kt.g!="undefined"?Kt.g:typeof self!="undefined"?self:{},XR={exports:{}};(function(t,i){(function(a,s){t.exports=s()})(UR,function(){function a(V,G,Y,Z,Q){s(V,G,Y||0,Z||V.length-1,Q||h)}function s(V,G,Y,Z,Q){for(;Z>Y;){if(Z-Y>600){var tt=Z-Y+1,rt=G-Y+1,ct=Math.log(tt),nt=.5*Math.exp(2*ct/3),lt=.5*Math.sqrt(ct*nt*(tt-nt)/tt)*(rt-tt/2<0?-1:1),ft=Math.max(Y,Math.floor(G-rt*nt/tt+lt)),q=Math.min(Z,Math.floor(G+(tt-rt)*nt/tt+lt));s(V,G,ft,q,Q)}var H=V[G],U=Y,J=Z;for(u(V,Y,G),Q(V[Z],H)>0&&u(V,Y,Z);U<J;){for(u(V,U,J),U++,J--;Q(V[U],H)<0;)U++;for(;Q(V[J],H)>0;)J--}Q(V[Y],H)===0?u(V,Y,J):(J++,u(V,J,Z)),J<=G&&(Y=J+1),G<=J&&(Z=J-1)}}function u(V,G,Y){var Z=V[G];V[G]=V[Y],V[Y]=Z}function h(V,G){return V<G?-1:V>G?1:0}var v=function(G){G===void 0&&(G=9),this._maxEntries=Math.max(4,G),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};v.prototype.all=function(){return this._all(this.data,[])},v.prototype.search=function(G){var Y=this.data,Z=[];if(!B(G,Y))return Z;for(var Q=this.toBBox,tt=[];Y;){for(var rt=0;rt<Y.children.length;rt++){var ct=Y.children[rt],nt=Y.leaf?Q(ct):ct;B(G,nt)&&(Y.leaf?Z.push(ct):R(G,nt)?this._all(ct,Z):tt.push(ct))}Y=tt.pop()}return Z},v.prototype.collides=function(G){var Y=this.data;if(!B(G,Y))return!1;for(var Z=[];Y;){for(var Q=0;Q<Y.children.length;Q++){var tt=Y.children[Q],rt=Y.leaf?this.toBBox(tt):tt;if(B(G,rt)){if(Y.leaf||R(G,rt))return!0;Z.push(tt)}}Y=Z.pop()}return!1},v.prototype.load=function(G){if(!(G&&G.length))return this;if(G.length<this._minEntries){for(var Y=0;Y<G.length;Y++)this.insert(G[Y]);return this}var Z=this._build(G.slice(),0,G.length-1,0);if(!this.data.children.length)this.data=Z;else if(this.data.height===Z.height)this._splitRoot(this.data,Z);else{if(this.data.height<Z.height){var Q=this.data;this.data=Z,Z=Q}this._insert(Z,this.data.height-Z.height-1,!0)}return this},v.prototype.insert=function(G){return G&&this._insert(G,this.data.height-1),this},v.prototype.clear=function(){return this.data=z([]),this},v.prototype.remove=function(G,Y){if(!G)return this;for(var Z=this.data,Q=this.toBBox(G),tt=[],rt=[],ct,nt,lt;Z||tt.length;){if(Z||(Z=tt.pop(),nt=tt[tt.length-1],ct=rt.pop(),lt=!0),Z.leaf){var ft=g(G,Z.children,Y);if(ft!==-1)return Z.children.splice(ft,1),tt.push(Z),this._condense(tt),this}!lt&&!Z.leaf&&R(Z,Q)?(tt.push(Z),rt.push(ct),ct=0,nt=Z,Z=Z.children[0]):nt?(ct++,Z=nt.children[ct],lt=!1):Z=null}return this},v.prototype.toBBox=function(G){return G},v.prototype.compareMinX=function(G,Y){return G.minX-Y.minX},v.prototype.compareMinY=function(G,Y){return G.minY-Y.minY},v.prototype.toJSON=function(){return this.data},v.prototype.fromJSON=function(G){return this.data=G,this},v.prototype._all=function(G,Y){for(var Z=[];G;)G.leaf?Y.push.apply(Y,G.children):Z.push.apply(Z,G.children),G=Z.pop();return Y},v.prototype._build=function(G,Y,Z,Q){var tt=Z-Y+1,rt=this._maxEntries,ct;if(tt<=rt)return ct=z(G.slice(Y,Z+1)),m(ct,this.toBBox),ct;Q||(Q=Math.ceil(Math.log(tt)/Math.log(rt)),rt=Math.ceil(tt/Math.pow(rt,Q-1))),ct=z([]),ct.leaf=!1,ct.height=Q;var nt=Math.ceil(tt/rt),lt=nt*Math.ceil(Math.sqrt(rt));j(G,Y,Z,lt,this.compareMinX);for(var ft=Y;ft<=Z;ft+=lt){var q=Math.min(ft+lt-1,Z);j(G,ft,q,nt,this.compareMinY);for(var H=ft;H<=q;H+=nt){var U=Math.min(H+nt-1,q);ct.children.push(this._build(G,H,U,Q-1))}}return m(ct,this.toBBox),ct},v.prototype._chooseSubtree=function(G,Y,Z,Q){for(;Q.push(Y),!(Y.leaf||Q.length-1===Z);){for(var tt=1/0,rt=1/0,ct=void 0,nt=0;nt<Y.children.length;nt++){var lt=Y.children[nt],ft=C(lt),q=k(G,lt)-ft;q<rt?(rt=q,tt=ft<tt?ft:tt,ct=lt):q===rt&&ft<tt&&(tt=ft,ct=lt)}Y=ct||Y.children[0]}return Y},v.prototype._insert=function(G,Y,Z){var Q=Z?G:this.toBBox(G),tt=[],rt=this._chooseSubtree(Q,this.data,Y,tt);for(rt.children.push(G),w(rt,Q);Y>=0&&tt[Y].children.length>this._maxEntries;)this._split(tt,Y),Y--;this._adjustParentBBoxes(Q,tt,Y)},v.prototype._split=function(G,Y){var Z=G[Y],Q=Z.children.length,tt=this._minEntries;this._chooseSplitAxis(Z,tt,Q);var rt=this._chooseSplitIndex(Z,tt,Q),ct=z(Z.children.splice(rt,Z.children.length-rt));ct.height=Z.height,ct.leaf=Z.leaf,m(Z,this.toBBox),m(ct,this.toBBox),Y?G[Y-1].children.push(ct):this._splitRoot(Z,ct)},v.prototype._splitRoot=function(G,Y){this.data=z([G,Y]),this.data.height=G.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},v.prototype._chooseSplitIndex=function(G,Y,Z){for(var Q,tt=1/0,rt=1/0,ct=Y;ct<=Z-Y;ct++){var nt=_(G,0,ct,this.toBBox),lt=_(G,ct,Z,this.toBBox),ft=D(nt,lt),q=C(nt)+C(lt);ft<tt?(tt=ft,Q=ct,rt=q<rt?q:rt):ft===tt&&q<rt&&(rt=q,Q=ct)}return Q||Z-Y},v.prototype._chooseSplitAxis=function(G,Y,Z){var Q=G.leaf?this.compareMinX:M,tt=G.leaf?this.compareMinY:O,rt=this._allDistMargin(G,Y,Z,Q),ct=this._allDistMargin(G,Y,Z,tt);rt<ct&&G.children.sort(Q)},v.prototype._allDistMargin=function(G,Y,Z,Q){G.children.sort(Q);for(var tt=this.toBBox,rt=_(G,0,Y,tt),ct=_(G,Z-Y,Z,tt),nt=P(rt)+P(ct),lt=Y;lt<Z-Y;lt++){var ft=G.children[lt];w(rt,G.leaf?tt(ft):ft),nt+=P(rt)}for(var q=Z-Y-1;q>=Y;q--){var H=G.children[q];w(ct,G.leaf?tt(H):H),nt+=P(ct)}return nt},v.prototype._adjustParentBBoxes=function(G,Y,Z){for(var Q=Z;Q>=0;Q--)w(Y[Q],G)},v.prototype._condense=function(G){for(var Y=G.length-1,Z=void 0;Y>=0;Y--)G[Y].children.length===0?Y>0?(Z=G[Y-1].children,Z.splice(Z.indexOf(G[Y]),1)):this.clear():m(G[Y],this.toBBox)};function g(V,G,Y){if(!Y)return G.indexOf(V);for(var Z=0;Z<G.length;Z++)if(Y(V,G[Z]))return Z;return-1}function m(V,G){_(V,0,V.children.length,G,V)}function _(V,G,Y,Z,Q){Q||(Q=z(null)),Q.minX=1/0,Q.minY=1/0,Q.maxX=-1/0,Q.maxY=-1/0;for(var tt=G;tt<Y;tt++){var rt=V.children[tt];w(Q,V.leaf?Z(rt):rt)}return Q}function w(V,G){return V.minX=Math.min(V.minX,G.minX),V.minY=Math.min(V.minY,G.minY),V.maxX=Math.max(V.maxX,G.maxX),V.maxY=Math.max(V.maxY,G.maxY),V}function M(V,G){return V.minX-G.minX}function O(V,G){return V.minY-G.minY}function C(V){return(V.maxX-V.minX)*(V.maxY-V.minY)}function P(V){return V.maxX-V.minX+(V.maxY-V.minY)}function k(V,G){return(Math.max(G.maxX,V.maxX)-Math.min(G.minX,V.minX))*(Math.max(G.maxY,V.maxY)-Math.min(G.minY,V.minY))}function D(V,G){var Y=Math.max(V.minX,G.minX),Z=Math.max(V.minY,G.minY),Q=Math.min(V.maxX,G.maxX),tt=Math.min(V.maxY,G.maxY);return Math.max(0,Q-Y)*Math.max(0,tt-Z)}function R(V,G){return V.minX<=G.minX&&V.minY<=G.minY&&G.maxX<=V.maxX&&G.maxY<=V.maxY}function B(V,G){return G.minX<=V.maxX&&G.minY<=V.maxY&&G.maxX>=V.minX&&G.maxY>=V.minY}function z(V){return{children:V,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(V,G,Y,Z,Q){for(var tt=[G,Y];tt.length;)if(Y=tt.pop(),G=tt.pop(),!(Y-G<=Z)){var rt=G+Math.ceil((Y-G)/Z/2)*Z;a(V,rt,G,Y,Q),tt.push(G,rt,rt,Y)}}return v})})(XR);var pW=XR.exports,Xt=function(t){return t.GROUP="g",t.FRAGMENT="fragment",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh",t}({}),m0=function(t){return t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE",t}({}),Wf=function(){function t(){ke(this,t),this.plugins=[]}return De(t,[{key:"addRenderingPlugin",value:function(a){this.plugins.push(a),this.context.renderingPlugins.push(a)}},{key:"removeAllRenderingPlugins",value:function(){var a=this;this.plugins.forEach(function(s){var u=a.context.renderingPlugins.indexOf(s);u>=0&&a.context.renderingPlugins.splice(u,1)})}}])}(),gW=function(){function t(i){ke(this,t),this.clipSpaceNearZ=m0.NEGATIVE_ONE,this.plugins=[],this.config=Tn({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},i)}return De(t,[{key:"registerPlugin",value:function(a){var s=this.plugins.findIndex(function(u){return u===a});s===-1&&this.plugins.push(a)}},{key:"unregisterPlugin",value:function(a){var s=this.plugins.findIndex(function(u){return u===a});s>-1&&this.plugins.splice(s,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(a){return this.plugins.find(function(s){return s.name===a})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(a){Object.assign(this.config,a)}}])}(),b0=Xs,Ap=On,yW=bc,mW=Of,PO=lp,F_=RI,Zi=function(){function t(){ke(this,t),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return De(t,[{key:"update",value:function(a,s){Ap(this.center,a),Ap(this.halfExtents,s),F_(this.min,this.center,this.halfExtents),b0(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(a,s){b0(this.center,s,a),PO(this.center,this.center,.5),F_(this.halfExtents,s,a),PO(this.halfExtents,this.halfExtents,.5),Ap(this.min,a),Ap(this.max,s)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(a){if(!t.isEmpty(a)){if(t.isEmpty(this)){this.setMinMax(a.getMin(),a.getMax());return}var s=this.center,u=s[0],h=s[1],v=s[2],g=this.halfExtents,m=g[0],_=g[1],w=g[2],M=u-m,O=u+m,C=h-_,P=h+_,k=v-w,D=v+w,R=a.center,B=R[0],z=R[1],j=R[2],V=a.halfExtents,G=V[0],Y=V[1],Z=V[2],Q=B-G,tt=B+G,rt=z-Y,ct=z+Y,nt=j-Z,lt=j+Z;Q<M&&(M=Q),tt>O&&(O=tt),rt<C&&(C=rt),ct>P&&(P=ct),nt<k&&(k=nt),lt>D&&(D=lt),s[0]=(M+O)*.5,s[1]=(C+P)*.5,s[2]=(k+D)*.5,g[0]=(O-M)*.5,g[1]=(P-C)*.5,g[2]=(D-k)*.5,this.min[0]=M,this.min[1]=C,this.min[2]=k,this.max[0]=O,this.max[1]=P,this.max[2]=D}}},{key:"setFromTransformedAABB",value:function(a,s){var u=this.center,h=this.halfExtents,v=a.center,g=a.halfExtents,m=s[0],_=s[4],w=s[8],M=s[1],O=s[5],C=s[9],P=s[2],k=s[6],D=s[10],R=Math.abs(m),B=Math.abs(_),z=Math.abs(w),j=Math.abs(M),V=Math.abs(O),G=Math.abs(C),Y=Math.abs(P),Z=Math.abs(k),Q=Math.abs(D);u[0]=s[12]+m*v[0]+_*v[1]+w*v[2],u[1]=s[13]+M*v[0]+O*v[1]+C*v[2],u[2]=s[14]+P*v[0]+k*v[1]+D*v[2],h[0]=R*g[0]+B*g[1]+z*g[2],h[1]=j*g[0]+V*g[1]+G*g[2],h[2]=Y*g[0]+Z*g[1]+Q*g[2],F_(this.min,u,h),b0(this.max,u,h)}},{key:"intersects",value:function(a){var s=this.getMax(),u=this.getMin(),h=a.getMax(),v=a.getMin();return u[0]<=h[0]&&s[0]>=v[0]&&u[1]<=h[1]&&s[1]>=v[1]&&u[2]<=h[2]&&s[2]>=v[2]}},{key:"intersection",value:function(a){if(!this.intersects(a))return null;var s=new t,u=yW([0,0,0],this.getMin(),a.getMin()),h=mW([0,0,0],this.getMax(),a.getMax());return s.setMinMax(u,h),s}},{key:"getNegativeFarPoint",value:function(a){return a.pnVertexFlag===273?Ap([0,0,0],this.min):a.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:a.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:a.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:a.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:a.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:a.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(a){return a.pnVertexFlag===273?Ap([0,0,0],this.max):a.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:a.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:a.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:a.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:a.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:a.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(a){return!a||a.halfExtents[0]===0&&a.halfExtents[1]===0&&a.halfExtents[2]===0}}])}(),$R=function(){function t(i,a){ke(this,t),this.distance=i||0,this.normal=a||Br(0,1,0),this.updatePNVertexFlag()}return De(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(a){return go(a,this.normal)-this.distance}},{key:"normalize",value:function(){var a=1/r_(this.normal);lp(this.normal,this.normal,a),this.distance*=a}},{key:"intersectsLine",value:function(a,s,u){var h=this.distanceToPoint(a),v=this.distanceToPoint(s),g=h/(h-v),m=g>=0&&g<=1;return m&&u&&wu(u,a,s,g),m}}])}(),Hf=function(t){return t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE",t}({}),bW=function(){function t(i){if(ke(this,t),this.planes=[],i)this.planes=i;else for(var a=0;a<6;a++)this.planes.push(new $R)}return De(t,[{key:"extractFromVPMatrix",value:function(a){var s=ye(a,16),u=s[0],h=s[1],v=s[2],g=s[3],m=s[4],_=s[5],w=s[6],M=s[7],O=s[8],C=s[9],P=s[10],k=s[11],D=s[12],R=s[13],B=s[14],z=s[15];nn(this.planes[0].normal,g-u,M-m,k-O),this.planes[0].distance=z-D,nn(this.planes[1].normal,g+u,M+m,k+O),this.planes[1].distance=z+D,nn(this.planes[2].normal,g+h,M+_,k+C),this.planes[2].distance=z+R,nn(this.planes[3].normal,g-h,M-_,k-C),this.planes[3].distance=z-R,nn(this.planes[4].normal,g-v,M-w,k-P),this.planes[4].distance=z-B,nn(this.planes[5].normal,g+v,M+w,k+P),this.planes[5].distance=z+B,this.planes.forEach(function(j){j.normalize(),j.updatePNVertexFlag()})}}])}(),Ea=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ke(this,t),this.x=0,this.y=0,this.x=i,this.y=a}return De(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(a){this.x=a.x,this.y=a.y}}])}(),Pd=function(){function t(i,a,s,u){ke(this,t),this.x=i,this.y=a,this.width=s,this.height=u,this.left=i,this.right=i+s,this.top=a,this.bottom=a+u}return De(t,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(a){return new t(a.x,a.y,a.width,a.height)}},{key:"applyTransform",value:function(a,s){var u=t0(a.x,a.y,0,1),h=t0(a.x+a.width,a.y,0,1),v=t0(a.x,a.y+a.height,0,1),g=t0(a.x+a.width,a.y+a.height,0,1),m=Pl(),_=Pl(),w=Pl(),M=Pl();Ca(m,u,s),Ca(_,h,s),Ca(w,v,s),Ca(M,g,s);var O=Math.min(m[0],_[0],w[0],M[0]),C=Math.min(m[1],_[1],w[1],M[1]),P=Math.max(m[0],_[0],w[0],M[0]),k=Math.max(m[1],_[1],w[1],M[1]);return t.fromRect({x:O,y:C,width:P-O,height:k-C})}}])}(),In="Method not implemented.",Zs="Use document.documentElement instead.",j_="Cannot append a destroyed element.";function Ed(t){return t===void 0?0:t>360||t<-360?t%360:t}var EO=Cr();function Do(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(t)&&t.length===3?s?Ei(t):On(EO,t):yn(t)?s?Br(t,i,a):nn(EO,t,i,a):s?Br(t[0],t[1]||i,t[2]||a):nn(EO,t[0],t[1]||i,t[2]||a)}var kO=Math.PI/180;function Rn(t){return t*kO}var _W=180/Math.PI;function Fi(t){return t*_W}var qo=.9;function _s(t){return t%=400,t<0&&(t+=400),t*qo}function qR(t){return t/360}function LO(t){return 360*t}var Du=Math.PI/2;function V_(t,i){var a=i[0],s=i[1],u=i[2],h=i[3],v=a*a,g=s*s,m=u*u,_=h*h,w=v+g+m+_,M=a*h-s*u;return M>.499995*w?(t[0]=Du,t[1]=2*Math.atan2(s,a),t[2]=0):M<-.499995*w?(t[0]=-Du,t[1]=2*Math.atan2(s,a),t[2]=0):(t[0]=Math.asin(2*(a*u-h*s)),t[1]=Math.atan2(2*(a*h+s*u),1-2*(m+_)),t[2]=Math.atan2(2*(a*s+u*h),1-2*(g+m))),t}function G_(t,i){var a,s,u=yd(Cr(),i),h=ye(u,3),v=h[0],g=h[1],m=h[2],_=Math.asin(-i[2]/v);return _<Du?_>-Du?(a=Math.atan2(i[6]/g,i[10]/m),s=Math.atan2(i[1]/v,i[0]/v)):(s=0,a=-Math.atan2(i[4]/g,i[5]/g)):(s=0,a=Math.atan2(i[4]/g,i[5]/g)),t[0]=a,t[1]=_,t[2]=s,t}function Cp(t,i){return i.length===16?G_(t,i):V_(t,i)}function W_(t,i,a,s,u){var h=Math.cos(t),v=Math.sin(t);return tR(s*h,u*v,0,-s*v,u*h,0,i,a,1)}function ZR(t,i,a,s,u,h,v){var g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,m=2*h,_=a-i,w=s-u,M=m/_,O=m/w,C=(a+i)/_,P=(s+u)/w,k,D,R=v-h,B=v*h;return g?(k=-v/R,D=-B/R):(k=-(v+h)/R,D=-2*B/R),t[0]=M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=O,t[6]=0,t[7]=0,t[8]=C,t[9]=P,t[10]=k,t[11]=-1,t[12]=0,t[13]=0,t[14]=D,t[15]=0,t}function DO(t){var i=t[0],a=t[1],s=t[3],u=t[4],h=Math.sqrt(i*i+a*a),v=Math.sqrt(s*s+u*u),g=i*u-a*s;if(g<0&&(i<u?h=-h:v=-v),h){var m=1/h;i*=m,a*=m}if(v){var _=1/v;s*=_,u*=_}var w=Math.atan2(a,i),M=Fi(w);return[t[6],t[7],h,v,M]}var Fl=Dn(),jl=Dn(),_0=Pl(),Lr=[Cr(),Cr(),Cr()],Nn=Cr();function kd(t,i,a,s,u,h){if(!Ld(Fl,t)||(Mu(jl,Fl),jl[3]=0,jl[7]=0,jl[11]=0,jl[15]=1,Math.abs(zT(jl))<1e-8))return!1;var v=Fl[3],g=Fl[7],m=Fl[11],_=Fl[12],w=Fl[13],M=Fl[14],O=Fl[15];if(v!==0||g!==0||m!==0){_0[0]=v,_0[1]=g,_0[2]=m,_0[3]=O;var C=kl(jl,jl);if(!C)return!1;BT(jl,jl),Ca(u,_0,jl)}else u[0]=u[1]=u[2]=0,u[3]=1;if(i[0]=_,i[1]=w,i[2]=M,Iu(Lr,Fl),a[0]=Xi(Lr[0]),xu(Lr[0],Lr[0]),s[0]=go(Lr[0],Lr[1]),Ru(Lr[1],Lr[1],Lr[0],1,-s[0]),a[1]=Xi(Lr[1]),xu(Lr[1],Lr[1]),s[0]/=a[1],s[1]=go(Lr[0],Lr[2]),Ru(Lr[2],Lr[2],Lr[0],1,-s[1]),s[2]=go(Lr[1],Lr[2]),Ru(Lr[2],Lr[2],Lr[1],1,-s[2]),a[2]=Xi(Lr[2]),xu(Lr[2],Lr[2]),s[1]/=a[2],s[2]/=a[2],up(Nn,Lr[1],Lr[2]),go(Lr[0],Nn)<0)for(var P=0;P<3;P++)a[P]*=-1,Lr[P][0]*=-1,Lr[P][1]*=-1,Lr[P][2]*=-1;return h[0]=.5*Math.sqrt(Math.max(1+Lr[0][0]-Lr[1][1]-Lr[2][2],0)),h[1]=.5*Math.sqrt(Math.max(1-Lr[0][0]+Lr[1][1]-Lr[2][2],0)),h[2]=.5*Math.sqrt(Math.max(1-Lr[0][0]-Lr[1][1]+Lr[2][2],0)),h[3]=.5*Math.sqrt(Math.max(1+Lr[0][0]+Lr[1][1]+Lr[2][2],0)),Lr[2][1]>Lr[1][2]&&(h[0]=-h[0]),Lr[0][2]>Lr[2][0]&&(h[1]=-h[1]),Lr[1][0]>Lr[0][1]&&(h[2]=-h[2]),!0}function Ld(t,i){var a=i[15];if(a===0)return!1;for(var s=1/a,u=0;u<16;u++)t[u]=i[u]*s;return!0}function Iu(t,i){t[0][0]=i[0],t[0][1]=i[1],t[0][2]=i[2],t[1][0]=i[4],t[1][1]=i[5],t[1][2]=i[6],t[2][0]=i[8],t[2][1]=i[9],t[2][2]=i[10]}function Ru(t,i,a,s,u){t[0]=i[0]*s+a[0]*u,t[1]=i[1]*s+a[1]*u,t[2]=i[2]*s+a[2]*u}var fn=function(t){return t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING",t}({}),Ks=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC",t}({}),Zo=function(t){return t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE",t}({}),H_={UPDATED:"updated"},Yf=2e-4,Uf=function(){function t(){ke(this,t),this.clipSpaceNearZ=m0.NEGATIVE_ONE,this.eventEmitter=new pe,this.matrix=Dn(),this.right=Br(1,0,0),this.up=Br(0,1,0),this.forward=Br(0,0,1),this.position=Br(0,0,1),this.focalPoint=Br(0,0,0),this.distanceVector=Br(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=Dn(),this.projectionMatrixInverse=Dn(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=fn.EXPLORING,this.trackingMode=Ks.DEFAULT,this.projectionMode=Zo.PERSPECTIVE,this.frustum=new bW,this.orthoMatrix=Dn()}return De(t,[{key:"isOrtho",value:function(){return this.projectionMode===Zo.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(a){this.enableUpdate=a}},{key:"setType",value:function(a,s){return this.type=a,this.type===fn.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===fn.TRACKING&&s!==void 0&&this.setTrackingMode(s),this}},{key:"setProjectionMode",value:function(a){return this.projectionMode=a,this}},{key:"setTrackingMode",value:function(a){if(this.type!==fn.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=a,this}},{key:"setWorldRotation",value:function(a){return this.rotateWorld=a,this._getAngles(),this}},{key:"getViewTransform",value:function(){return kl(Dn(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(a,s){var u=Ef(Dn(),[a,s,0]);this.jitteredProjectionMatrix=mo(Dn(),u,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(a){return this.matrix=a,this._update(),this}},{key:"setProjectionMatrix",value:function(a){this.projectionMatrix=a}},{key:"setFov",value:function(a){return this.setPerspective(this.near,this.far,a,this.aspect),this}},{key:"setAspect",value:function(a){return this.setPerspective(this.near,this.far,this.fov,a),this}},{key:"setNear",value:function(a){return this.projectionMode===Zo.PERSPECTIVE?this.setPerspective(a,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,a,this.far),this}},{key:"setFar",value:function(a){return this.projectionMode===Zo.PERSPECTIVE?this.setPerspective(this.near,a,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,a),this}},{key:"setViewOffset",value:function(a,s,u,h,v,g){return this.aspect=a/s,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=s,this.view.offsetX=u,this.view.offsetY=h,this.view.width=v,this.view.height=g,this.projectionMode===Zo.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Zo.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(a){return this.zoom=a,this.projectionMode===Zo.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===Zo.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(a,s){var u=this.canvas.viewport2Canvas({x:s[0],y:s[1]}),h=u.x,v=u.y,g=this.roll;this.rotate(0,0,-g),this.setPosition(h,v),this.setFocalPoint(h,v),this.setZoom(a),this.rotate(0,0,g);var m=this.canvas.viewport2Canvas({x:s[0],y:s[1]}),_=m.x,w=m.y,M=Br(_-h,w-v,0),O=go(M,this.right)/Xi(this.right),C=go(M,this.up)/Xi(this.up),P=this.getPosition(),k=ye(P,2),D=k[0],R=k[1],B=this.getFocalPoint(),z=ye(B,2),j=z[0],V=z[1];return this.setPosition(D-O,R-C),this.setFocalPoint(j-O,V-C),this}},{key:"setPerspective",value:function(a,s,u,h){var v;this.projectionMode=Zo.PERSPECTIVE,this.fov=u,this.near=a,this.far=s,this.aspect=h;var g=this.near*Math.tan(Rn(.5*this.fov))/this.zoom,m=2*g,_=this.aspect*m,w=-.5*_;if((v=this.view)!==null&&v!==void 0&&v.enabled){var M=this.view.fullWidth,O=this.view.fullHeight;w+=this.view.offsetX*_/M,g-=this.view.offsetY*m/O,_*=this.view.width/M,m*=this.view.height/O}return ZR(this.projectionMatrix,w,w+_,g-m,g,a,this.far,this.clipSpaceNearZ===m0.ZERO),kl(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(a,s,u,h,v,g){var m;this.projectionMode=Zo.ORTHOGRAPHIC,this.rright=s,this.left=a,this.top=u,this.bottom=h,this.near=v,this.far=g;var _=(this.rright-this.left)/(2*this.zoom),w=(this.top-this.bottom)/(2*this.zoom),M=(this.rright+this.left)/2,O=(this.top+this.bottom)/2,C=M-_,P=M+_,k=O+w,D=O-w;if((m=this.view)!==null&&m!==void 0&&m.enabled){var R=(this.rright-this.left)/this.view.fullWidth/this.zoom,B=(this.top-this.bottom)/this.view.fullHeight/this.zoom;C+=R*this.view.offsetX,P=C+R*this.view.width,k-=B*this.view.offsetY,D=k-B*this.view.height}return this.clipSpaceNearZ===m0.NEGATIVE_ONE?ZI(this.projectionMatrix,C,P,k,D,v,g):KI(this.projectionMatrix,C,P,k,D,v,g),kl(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],h=Do(a,s,u);return this._setPosition(h),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],h=Br(0,1,0);if(this.focalPoint=Do(a,s,u),this.trackingMode===Ks.CINEMATIC){var v=e_(Cr(),this.focalPoint,this.position);a=v[0],s=v[1],u=v[2];var g=Xi(v),m=Fi(Math.asin(s/g)),_=90+Fi(Math.atan2(u,a)),w=Dn();o_(w,w,Rn(_)),HI(w,w,Rn(m)),h=yi(Cr(),[0,1,0],w)}return kl(this.matrix,HT(Dn(),this.position,this.focalPoint,h)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(a){if(this.distance===a||a<0)return this;this.distance=a,this.distance<Yf&&(this.distance=Yf),this.dollyingStep=this.distance/100;var s=Cr();a=this.distance;var u=this.forward,h=this.focalPoint;return s[0]=a*u[0]+h[0],s[1]=a*u[1]+h[1],s[2]=a*u[2]+h[2],this._setPosition(s),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(a){return this.maxDistance=a,this}},{key:"setMinDistance",value:function(a){return this.minDistance=a,this}},{key:"setAzimuth",value:function(a){return this.azimuth=Ed(a),this.computeMatrix(),this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(a){return this.elevation=Ed(a),this.computeMatrix(),this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(a){return this.roll=Ed(a),this.computeMatrix(),this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var a=Ou(mi(),[0,0,1],Rn(this.roll));Pf(this.matrix);var s=Ou(mi(),[1,0,0],Rn((this.rotateWorld&&this.type!==fn.TRACKING||this.type===fn.TRACKING?1:-1)*this.elevation)),u=Ou(mi(),[0,1,0],Rn((this.rotateWorld&&this.type!==fn.TRACKING||this.type===fn.TRACKING?1:-1)*this.azimuth)),h=ys(mi(),u,s);h=ys(mi(),h,a);var v=mp(Dn(),h);this.type===fn.ORBITING||this.type===fn.EXPLORING?(gp(this.matrix,this.matrix,this.focalPoint),mo(this.matrix,this.matrix,v),gp(this.matrix,this.matrix,[0,0,this.distance])):this.type===fn.TRACKING&&(gp(this.matrix,this.matrix,this.position),mo(this.matrix,this.matrix,v))}},{key:"_setPosition",value:function(a,s,u){this.position=Do(a,s,u);var h=this.matrix;h[12]=this.position[0],h[13]=this.position[1],h[14]=this.position[2],h[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){On(this.right,Do(Ca(Pl(),[1,0,0,0],this.matrix))),On(this.up,Do(Ca(Pl(),[0,1,0,0],this.matrix))),On(this.forward,Do(Ca(Pl(),[0,0,1,0],this.matrix))),xu(this.right,this.right),xu(this.up,this.up),xu(this.forward,this.forward)}},{key:"_getAngles",value:function(){var a=this.distanceVector[0],s=this.distanceVector[1],u=this.distanceVector[2],h=Xi(this.distanceVector);if(h===0){this.elevation=0,this.azimuth=0;return}this.type===fn.TRACKING?(this.elevation=Fi(Math.asin(s/h)),this.azimuth=Fi(Math.atan2(-a,-u))):this.rotateWorld?(this.elevation=Fi(Math.asin(s/h)),this.azimuth=Fi(Math.atan2(-a,-u))):(this.elevation=-Fi(Math.asin(s/h)),this.azimuth=-Fi(Math.atan2(-a,-u)))}},{key:"_getPosition",value:function(){On(this.position,Do(Ca(Pl(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){$i(this.distanceVector,[0,0,-this.distance],Lf(md(),this.matrix)),Xs(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=e_(Cr(),this.focalPoint,this.position),this.distance=Xi(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===Zo.ORTHOGRAPHIC){var a=this.position,s=Ou(mi(),[0,0,1],-this.roll*Math.PI/180);r0(this.orthoMatrix,s,Br((this.rright-this.left)/2-a[0],(this.top-this.bottom)/2-a[1],0),Br(this.zoom,this.zoom,1),a)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var a=this.getViewTransform(),s=mo(Dn(),this.getPerspective(),a);this.getFrustum().extractFromVPMatrix(s),this.eventEmitter.emit(H_.UPDATED)}}},{key:"rotate",value:function(a,s,u){throw new Error(In)}},{key:"pan",value:function(a,s){throw new Error(In)}},{key:"dolly",value:function(a){throw new Error(In)}},{key:"createLandmark",value:function(a,s){throw new Error(In)}},{key:"gotoLandmark",value:function(a,s){throw new Error(In)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(In)}}])}(),Tc=function(t){return t[t.Standard=0]="Standard",t}({}),Pp=function(t){return t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",t}({}),Oc={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Pd(0,0,0,0)},xe=function(t){return t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>",t}({});function Dd(t,i,a){t.prototype=i.prototype=a,a.constructor=t}function Y_(t,i){var a=Object.create(t.prototype);for(var s in i)a[s]=i[s];return a}function Xf(){}var x0=.7,xs=1/x0,ws="\\s*([+-]?\\d+)\\s*",w0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KR=/^#([0-9a-f]{3,8})$/,Ss=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),S0=new RegExp(`^rgb\\(${Vl},${Vl},${Vl}\\)$`),xW=new RegExp(`^rgba\\(${ws},${ws},${ws},${w0}\\)$`),Ac=new RegExp(`^rgba\\(${Vl},${Vl},${Vl},${w0}\\)$`),$f=new RegExp(`^hsl\\(${w0},${Vl},${Vl}\\)$`),Id=new RegExp(`^hsla\\(${w0},${Vl},${Vl},${w0}\\)$`),QR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dd(Xf,U_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JR,formatHex:JR,formatHex8:Io,formatHsl:Qs,formatRgb:tN,toString:tN});function JR(){return this.rgb().formatHex()}function Io(){return this.rgb().formatHex8()}function Qs(){return Ep(this).formatHsl()}function tN(){return this.rgb().formatRgb()}function U_(t){var i,a;return t=(t+"").trim().toLowerCase(),(i=KR.exec(t))?(a=i[1].length,i=parseInt(i[1],16),a===6?eN(i):a===3?new Ko(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):a===8?X_(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):a===4?X_(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=Ss.exec(t))?new Ko(i[1],i[2],i[3],1):(i=S0.exec(t))?new Ko(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=xW.exec(t))?X_(i[1],i[2],i[3],i[4]):(i=Ac.exec(t))?X_(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=$f.exec(t))?IO(i[1],i[2]/100,i[3]/100,1):(i=Id.exec(t))?IO(i[1],i[2]/100,i[3]/100,i[4]):QR.hasOwnProperty(t)?eN(QR[t]):t==="transparent"?new Ko(NaN,NaN,NaN,0):null}function eN(t){return new Ko(t>>16&255,t>>8&255,t&255,1)}function X_(t,i,a,s){return s<=0&&(t=i=a=NaN),new Ko(t,i,a,s)}function rN(t){return t instanceof Xf||(t=U_(t)),t?(t=t.rgb(),new Ko(t.r,t.g,t.b,t.opacity)):new Ko}function wW(t,i,a,s){return arguments.length===1?rN(t):new Ko(t,i,a,s==null?1:s)}function Ko(t,i,a,s){this.r=+t,this.g=+i,this.b=+a,this.opacity=+s}Dd(Ko,wW,Y_(Xf,{brighter(t){return t=t==null?xs:Math.pow(xs,t),new Ko(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?x0:Math.pow(x0,t),new Ko(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ko(Sr(this.r),Sr(this.g),Sr(this.b),q_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M0,formatHex:M0,formatHex8:SW,formatRgb:$_,toString:$_}));function M0(){return`#${Rd(this.r)}${Rd(this.g)}${Rd(this.b)}`}function SW(){return`#${Rd(this.r)}${Rd(this.g)}${Rd(this.b)}${Rd((isNaN(this.opacity)?1:this.opacity)*255)}`}function $_(){const t=q_(this.opacity);return`${t===1?"rgb(":"rgba("}${Sr(this.r)}, ${Sr(this.g)}, ${Sr(this.b)}${t===1?")":`, ${t})`}`}function q_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rd(t){return t=Sr(t),(t<16?"0":"")+t.toString(16)}function IO(t,i,a,s){return s<=0?t=i=a=NaN:a<=0||a>=1?t=i=NaN:i<=0&&(t=NaN),new Gl(t,i,a,s)}function Ep(t){if(t instanceof Gl)return new Gl(t.h,t.s,t.l,t.opacity);if(t instanceof Xf||(t=U_(t)),!t)return new Gl;if(t instanceof Gl)return t;t=t.rgb();var i=t.r/255,a=t.g/255,s=t.b/255,u=Math.min(i,a,s),h=Math.max(i,a,s),v=NaN,g=h-u,m=(h+u)/2;return g?(i===h?v=(a-s)/g+(a<s)*6:a===h?v=(s-i)/g+2:v=(i-a)/g+4,g/=m<.5?h+u:2-h-u,v*=60):g=m>0&&m<1?0:v,new Gl(v,g,m,t.opacity)}function MW(t,i,a,s){return arguments.length===1?Ep(t):new Gl(t,i,a,s==null?1:s)}function Gl(t,i,a,s){this.h=+t,this.s=+i,this.l=+a,this.opacity=+s}Dd(Gl,MW,Y_(Xf,{brighter(t){return t=t==null?xs:Math.pow(xs,t),new Gl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?x0:Math.pow(x0,t),new Gl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,i=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*i,u=2*a-s;return new Ko(ka(t>=240?t-240:t+120,u,s),ka(t,u,s),ka(t<120?t+240:t-120,u,s),this.opacity)},clamp(){return new Gl(nN(this.h),T0(this.s),T0(this.l),q_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=q_(this.opacity);return`${t===1?"hsl(":"hsla("}${nN(this.h)}, ${T0(this.s)*100}%, ${T0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nN(t){return t=(t||0)%360,t<0?t+360:t}function T0(t){return Math.max(0,Math.min(1,t||0))}function ka(t,i,a){return(t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i)*255}function va(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");var a=function(){for(var u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];var g=i?i.apply(this,h):h[0],m=a.cache;if(m.has(g))return m.get(g);var _=t.apply(this,h);return a.cache=m.set(g,_)||m,_};return a.cache=new(va.Cache||Map),va.cacheList.push(a.cache),a}va.Cache=Map,va.cacheList=[],va.clearCache=function(){va.cacheList.forEach(function(t){return t.clear()})};var we=function(t){return t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger",t}({}),Qo=function(t){return t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther",t}({}),iN=function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t}({}),Ms=function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t}({}),TW=[{name:"em",unit_type:we.kEms},{name:"px",unit_type:we.kPixels},{name:"deg",unit_type:we.kDegrees},{name:"rad",unit_type:we.kRadians},{name:"grad",unit_type:we.kGradians},{name:"ms",unit_type:we.kMilliseconds},{name:"s",unit_type:we.kSeconds},{name:"rem",unit_type:we.kRems},{name:"turn",unit_type:we.kTurns}],kp=function(t){return t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType",t}({}),aN=function(i){return TW.find(function(a){return a.name===i}).unit_type},kr=function(i){return i?i==="number"?we.kNumber:i==="percent"||i==="%"?we.kPercentage:aN(i):we.kUnknown},oN=function(i){switch(i){case we.kNumber:case we.kInteger:return Qo.kUNumber;case we.kPercentage:return Qo.kUPercent;case we.kPixels:return Qo.kULength;case we.kMilliseconds:case we.kSeconds:return Qo.kUTime;case we.kDegrees:case we.kRadians:case we.kGradians:case we.kTurns:return Qo.kUAngle;default:return Qo.kUOther}},sN=function(i){switch(i){case Qo.kUNumber:return we.kNumber;case Qo.kULength:return we.kPixels;case Qo.kUPercent:return we.kPercentage;case Qo.kUTime:return we.kSeconds;case Qo.kUAngle:return we.kDegrees;default:return we.kUnknown}},Wl=function(i){var a=1;switch(i){case we.kPixels:case we.kDegrees:case we.kSeconds:break;case we.kMilliseconds:a=.001;break;case we.kRadians:a=180/Math.PI;break;case we.kGradians:a=.9;break;case we.kTurns:a=360;break}return a},RO=function(i){switch(i){case we.kNumber:case we.kInteger:return"";case we.kPercentage:return"%";case we.kEms:return"em";case we.kRems:return"rem";case we.kPixels:return"px";case we.kDegrees:return"deg";case we.kRadians:return"rad";case we.kGradians:return"grad";case we.kMilliseconds:return"ms";case we.kSeconds:return"s";case we.kTurns:return"turn"}return""},O0=function(){function t(){ke(this,t)}return De(t,[{key:"toString",value:function(){return this.buildCSSText(iN.kNo,Ms.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=kp.kUnitType&&this.getType()<=kp.kClampType}}],[{key:"isAngle",value:function(a){return a===we.kDegrees||a===we.kRadians||a===we.kGradians||a===we.kTurns}},{key:"isLength",value:function(a){return a>=we.kEms&&a<we.kDegrees}},{key:"isRelativeUnit",value:function(a){return a===we.kPercentage||a===we.kEms||a===we.kRems}},{key:"isTime",value:function(a){return a===we.kSeconds||a===we.kMilliseconds}}])}(),OW=function(t){function i(a){var s;return ke(this,i),s=It(this,i),s.colorSpace=a,s}return Jt(i,t),De(i,[{key:"getType",value:function(){return kp.kColorType}},{key:"to",value:function(s){return this}}])}(O0),qf=function(t){return t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient",t}({}),A0=function(t){function i(a,s){var u;return ke(this,i),u=It(this,i),u.type=a,u.value=s,u}return Jt(i,t),De(i,[{key:"clone",value:function(){return new i(this.type,this.value)}},{key:"buildCSSText",value:function(s,u,h){return h}},{key:"getType",value:function(){return kp.kColorType}}])}(O0),Ts=function(t){function i(a){var s;return ke(this,i),s=It(this,i),s.value=a,s}return Jt(i,t),De(i,[{key:"clone",value:function(){return new i(this.value)}},{key:"getType",value:function(){return kp.kKeywordType}},{key:"buildCSSText",value:function(s,u,h){return h+this.value}}])}(O0),lN=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s="";return Number.isFinite(i)?s="NaN":i>0?s="infinity":s="-infinity",s+=a},Z_=function(i){return sN(oN(i))},Zn=function(t){function i(a){var s,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we.kNumber;ke(this,i),s=It(this,i);var h;return typeof u=="string"?h=kr(u):h=u,s.unit=h,s.value=a,s}return Jt(i,t),De(i,[{key:"clone",value:function(){return new i(this.value,this.unit)}},{key:"equals",value:function(s){var u=s;return this.value===u.value&&this.unit===u.unit}},{key:"getType",value:function(){return kp.kUnitType}},{key:"convertTo",value:function(s){if(this.unit===s)return new i(this.value,this.unit);var u=Z_(this.unit);if(u!==Z_(s)||u===we.kUnknown)return null;var h=Wl(this.unit)/Wl(s);return new i(this.value*h,s)}},{key:"buildCSSText",value:function(s,u,h){var v;switch(this.unit){case we.kUnknown:break;case we.kInteger:v=Number(this.value).toFixed(0);break;case we.kNumber:case we.kPercentage:case we.kEms:case we.kRems:case we.kPixels:case we.kDegrees:case we.kRadians:case we.kGradians:case we.kMilliseconds:case we.kSeconds:case we.kTurns:{var g=-999999,m=999999,_=this.value,w=RO(this.unit);if(_<g||_>m){var M=RO(this.unit);!Number.isFinite(_)||Number.isNaN(_)?v=lN(_,M):v=_+(M||"")}else v="".concat(_).concat(w)}}return h+=v,h}}])}(O0),Js=new Zn(0,"px");new Zn(1,"px");var Zf=new Zn(0,"deg"),K_=function(t){function i(a,s,u){var h,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return ke(this,i),h=It(this,i,["rgb"]),h.r=a,h.g=s,h.b=u,h.alpha=v,h.isNone=g,h}return Jt(i,t),De(i,[{key:"clone",value:function(){return new i(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(s,u,h){return"".concat(h,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(OW),NO=new Ts("unset"),uN=new Ts("initial"),BO=new Ts("inherit"),Hr={"":NO,unset:NO,initial:uN,inherit:BO},nr=function(i){return Hr[i]||(Hr[i]=new Ts(i)),Hr[i]},Q_=new K_(0,0,0,0,!0),zO=new K_(0,0,0,0),cN=va(function(t,i,a,s){return new K_(t,i,a,s)},function(t,i,a,s){return"rgba(".concat(t,",").concat(i,",").concat(a,",").concat(s,")")}),_i=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we.kNumber;return new Zn(i,a)};new Zn(50,"%");function FO(t){var i=t.type,a=t.value;return i==="hex"?"#".concat(a):i==="literal"?a:i==="rgb"?"rgb(".concat(a.join(","),")"):"rgba(".concat(a.join(","),")")}var jO=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},i="";function a(H){throw new Error("".concat(i,": ").concat(H))}function s(){var H=u();return i.length>0&&a("Invalid input not EOF"),H}function u(){return z(h)}function h(){return v("linear-gradient",t.linearGradient,m)||v("repeating-linear-gradient",t.repeatingLinearGradient,m)||v("radial-gradient",t.radialGradient,M)||v("repeating-radial-gradient",t.repeatingRadialGradient,M)||v("conic-gradient",t.conicGradient,M)}function v(H,U,J){return g(U,function(st){var ut=J();return ut&&(ft(t.comma)||a("Missing comma before color stops")),{type:H,orientation:ut,colorStops:z(j)}})}function g(H,U){var J=ft(H);if(J){ft(t.startCall)||a("Missing (");var st=U(J);return ft(t.endCall)||a("Missing )"),st}}function m(){return _()||w()}function _(){return lt("directional",t.sideOrCorner,1)}function w(){return lt("angular",t.angleValue,1)}function M(){var H,U=O(),J;return U&&(H=[],H.push(U),J=i,ft(t.comma)&&(U=O(),U?H.push(U):i=J)),H}function O(){var H=C()||P();if(H)H.at=D();else{var U=k();if(U){H=U;var J=D();J&&(H.at=J)}else{var st=R();st&&(H={type:"default-radial",at:st})}}return H}function C(){var H=lt("shape",/^(circle)/i,0);return H&&(H.style=nt()||k()),H}function P(){var H=lt("shape",/^(ellipse)/i,0);return H&&(H.style=rt()||k()),H}function k(){return lt("extent-keyword",t.extentKeywords,1)}function D(){if(lt("position",/^at/,0)){var H=R();return H||a("Missing positioning value"),H}}function R(){var H=B();if(H.x||H.y)return{type:"position",value:H}}function B(){return{x:rt(),y:rt()}}function z(H){var U=H(),J=[];if(U)for(J.push(U);ft(t.comma);)U=H(),U?J.push(U):a("One extra comma");return J}function j(){var H=V();return H||a("Expected color definition"),H.length=rt(),H}function V(){return Y()||Q()||Z()||G()}function G(){return lt("literal",t.literalColor,0)}function Y(){return lt("hex",t.hexColor,1)}function Z(){return g(t.rgbColor,function(){return{type:"rgb",value:z(tt)}})}function Q(){return g(t.rgbaColor,function(){return{type:"rgba",value:z(tt)}})}function tt(){return ft(t.number)[1]}function rt(){return lt("%",t.percentageValue,1)||ct()||nt()}function ct(){return lt("position-keyword",t.positionKeywords,1)}function nt(){return lt("px",t.pixelValue,1)||lt("em",t.emValue,1)}function lt(H,U,J){var st=ft(U);if(st)return{type:H,value:st[J]}}function ft(H){var U=/^[\n\r\t\s]+/.exec(i);U&&q(U[0].length);var J=H.exec(i);return J&&q(J[0].length),J}function q(H){i=i.substring(H)}return function(H){return i=H,s()}}();function C0(t,i,a,s){var u=Rn(s.value),h=0,v=0,g=h+i/2,m=v+a/2,_=Math.abs(i*Math.cos(u))+Math.abs(a*Math.sin(u)),w=t[0]+g-Math.cos(u)*_/2,M=t[1]+m-Math.sin(u)*_/2,O=t[0]+g+Math.cos(u)*_/2,C=t[1]+m+Math.sin(u)*_/2;return{x1:w,y1:M,x2:O,y2:C}}function J_(t,i,a,s,u,h){var v=s.value,g=u.value;s.unit===we.kPercentage&&(v=s.value/100*i),u.unit===we.kPercentage&&(g=u.value/100*a);var m=Math.max(bo([0,0],[v,g]),bo([0,a],[v,g]),bo([i,a],[v,g]),bo([i,0],[v,g]));return h&&(h instanceof Zn?m=h.value:h instanceof Ts&&(h.value==="closest-side"?m=Math.min(v,i-v,g,a-g):h.value==="farthest-side"?m=Math.max(v,i-v,g,a-g):h.value==="closest-corner"&&(m=Math.min(bo([0,0],[v,g]),bo([0,a],[v,g]),bo([i,a],[v,g]),bo([i,0],[v,g]))))),{x:v+t[0],y:g+t[1],r:m}}var Ro=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P0=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Lp=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,fN=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Nd(t){var i,a=t.length;if(t[a-1].length=(i=t[a-1].length)!==null&&i!==void 0?i:{type:"%",value:"100"},a>1){var s;t[0].length=(s=t[0].length)!==null&&s!==void 0?s:{type:"%",value:"0"}}for(var u=0,h=Number(t[0].length.value),v=1;v<a;v++){var g,m=(g=t[v].length)===null||g===void 0?void 0:g.value;if(!Ar(m)&&!Ar(h)){for(var _=1;_<v-u;_++)t[u+_].length={type:"%",value:"".concat(h+(Number(m)-h)*_/(v-u))};u=v,h=Number(m)}}}var tx={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},ex=va(function(t){var i;return t.type==="angular"?i=Number(t.value):i=tx[t.value]||0,_i(i,"deg")}),VO=va(function(t){var i=50,a=50,s="%",u="%";if((t==null?void 0:t.type)==="position"){var h=t.value,v=h.x,g=h.y;(v==null?void 0:v.type)==="position-keyword"&&(v.value==="left"?i=0:v.value==="center"?i=50:v.value==="right"?i=100:v.value==="top"?a=0:v.value==="bottom"&&(a=100)),(g==null?void 0:g.type)==="position-keyword"&&(g.value==="left"?i=0:g.value==="center"?a=50:g.value==="right"?i=100:g.value==="top"?a=0:g.value==="bottom"&&(a=100)),((v==null?void 0:v.type)==="px"||(v==null?void 0:v.type)==="%"||(v==null?void 0:v.type)==="em")&&(s=v==null?void 0:v.type,i=Number(v.value)),((g==null?void 0:g.type)==="px"||(g==null?void 0:g.type)==="%"||(g==null?void 0:g.type)==="em")&&(u=g==null?void 0:g.type,a=Number(g.value))}return{cx:_i(i,s),cy:_i(a,u)}}),rx=va(function(t){if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var i=jO(t);return i.map(function(g){var m=g.type,_=g.orientation,w=g.colorStops;Nd(w);var M=w.map(function(z){return{offset:_i(Number(z.length.value),"%"),color:FO(z)}});if(m==="linear-gradient")return new A0(qf.LinearGradient,{angle:_?ex(_):Zf,steps:M});if(m==="radial-gradient"&&(_||(_=[{type:"shape",value:"circle"}]),_[0].type==="shape"&&_[0].value==="circle")){var O=VO(_[0].at),C=O.cx,P=O.cy,k;if(_[0].style){var D=_[0].style,R=D.type,B=D.value;R==="extent-keyword"?k=nr(B):k=_i(B,R)}return new A0(qf.RadialGradient,{cx:C,cy:P,size:k,steps:M})}})}var a=t[0];if(t[1]==="("||t[2]==="("){if(a==="l"){var s=Ro.exec(t);if(s){var u,h=((u=s[2].match(fN))===null||u===void 0?void 0:u.map(function(g){return g.split(":")}))||[];return[new A0(qf.LinearGradient,{angle:_i(parseFloat(s[1]),"deg"),steps:h.map(function(g){var m=ye(g,2),_=m[0],w=m[1];return{offset:_i(Number(_)*100,"%"),color:w}})})]}}else if(a==="r"){var v=GO(t);if(v)if(zi(v))t=v;else return[new A0(qf.RadialGradient,v)]}else if(a==="p")return Dp(t)}});function GO(t){var i=P0.exec(t);if(i){var a,s=((a=i[4].match(fN))===null||a===void 0?void 0:a.map(function(u){return u.split(":")}))||[];return{cx:_i(50,"%"),cy:_i(50,"%"),steps:s.map(function(u){var h=ye(u,2),v=h[0],g=h[1];return{offset:_i(Number(v)*100,"%"),color:g}})}}return null}function Dp(t){var i=Lp.exec(t);if(i){var a=i[1],s=i[2];switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return{image:s,repetition:a}}return null}function WO(t){return!!t.type&&!!t.value}function Kf(t){return t&&!!t.image}function E0(t){return t&&!Ar(t.r)&&!Ar(t.g)&&!Ar(t.b)}var Nu=va(function(t){if(Kf(t))return Tn({repetition:"repeat"},t);if(Ar(t)&&(t=""),t==="transparent")return zO;if(t==="currentColor")t="black";else if(t==="none")return Q_;var i=rx(t);if(i)return i;var a=U_(t),s=[0,0,0,0];return a!==null&&(s[0]=a.r||0,s[1]=a.g||0,s[2]=a.b||0,s[3]=a.opacity),cN.apply(void 0,s)});function hN(t,i){if(!(!E0(t)||!E0(i)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(i.r),Number(i.g),Number(i.b),Number(i.alpha)],function(a){var s=a.slice();if(s[3])for(var u=0;u<3;u++)s[u]=Math.round(Oi(s[u],0,255));return s[3]=Oi(s[3],0,1),"rgba(".concat(s.join(","),")")}]}function k0(t,i){if(Ar(i))return _i(0,"px");if(i="".concat(i).trim().toLowerCase(),isFinite(Number(i))){if("px".search(t)>=0)return _i(Number(i),"px");if("deg".search(t)>=0)return _i(Number(i),"deg")}var a=[];i=i.replace(t,function(u){return a.push(u),"U".concat(u)});var s="U(".concat(t.source,")");return a.map(function(u){return _i(Number(i.replace(new RegExp("U".concat(u),"g"),"").replace(new RegExp(s,"g"),"*0")),u)})[0]}var dN=function(i){return k0(new RegExp("px","g"),i)},vN=va(dN),Cc=function(i){return k0(new RegExp("%","g"),i)};va(Cc);var L0=function(i){return yn(i)||isFinite(Number(i))?_i(Number(i)||0,"px"):k0(new RegExp("px|%|em|rem","g"),i)},pN=va(L0),gN=function(i){return k0(new RegExp("deg|rad|grad|turn","g"),i)},AW=va(gN);function CW(t,i,a,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,h="",v=t.value||0,g=i.value||0,m=Z_(t.unit),_=t.convertTo(m),w=i.convertTo(m);return _&&w?(v=_.value,g=w.value,h=RO(t.unit)):(Zn.isLength(t.unit)||Zn.isLength(i.unit))&&(v=La(t,u,a),g=La(i,u,a),h="px"),[v,g,function(M){return s&&(M=Math.max(M,0)),M+h}]}function Jo(t){var i=0;return t.unit===we.kDegrees?i=t.value:t.unit===we.kRadians?i=Fi(Number(t.value)):t.unit===we.kTurns?i=LO(Number(t.value)):t.value&&(i=t.value),i}function nx(t,i){var a;return Array.isArray(t)?a=t.map(function(s){return Number(s)}):zi(t)?a=t.split(" ").map(function(s){return Number(s)}):yn(t)&&(a=[t]),i===2?a.length===1?[a[0],a[0]]:[a[0],a[1]]:i===4?a.length===1?[a[0],a[0],a[0],a[0]]:a.length===2?[a[0],a[1],a[0],a[1]]:a.length===3?[a[0],a[1],a[2],a[1]]:[a[0],a[1],a[2],a[3]]:i==="even"&&a.length%2===1?[].concat(_t(a),_t(a)):a}function La(t,i,a){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.unit===we.kPixels)return Number(t.value);if(t.unit===we.kPercentage&&a){var u=a.nodeName===Xt.GROUP?a.getLocalBounds():a.getGeometryBounds();return(s?u.min[i]:0)+t.value/100*u.halfExtents[i]*2}return 0}var yN=function(i){return k0(/deg|rad|grad|turn|px|%/g,i)},mN=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Pc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(t=t.toLowerCase().trim(),t==="none")return[];for(var i=/\s*([\w-]+)\(([^)]*)\)/g,a=[],s,u=0;s=i.exec(t);){if(s.index!==u)return[];if(u=s.index+s[0].length,mN.indexOf(s[1])>-1&&a.push({name:s[1],params:s[2].split(" ").map(function(h){return yN(h)||Nu(h)})}),i.lastIndex===t.length)return a}return[]}function Bu(t){return t.toString()}var HO=function(i){return typeof i=="number"?_i(i):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(i)?_i(Number(i)):_i(0)},D0=va(HO);va(function(t){return zi(t)?t.split(" ").map(D0):t.map(D0)});function ix(t,i){return[t,i,Bu]}function ax(t,i){return function(a,s){return[a,s,function(u){return Bu(Oi(u,t,i))}]}}function YO(t,i){if(t.length===i.length)return[t,i,function(a){return a}]}function ox(t){return t.parsedStyle.d.totalLength===0&&(t.parsedStyle.d.totalLength=Lrt(t.parsedStyle.d.absolutePath)),t.parsedStyle.d.totalLength}function UO(t){return t.parsedStyle.points.totalLength===0&&(t.parsedStyle.points.totalLength=Lu(t.parsedStyle.points.points)),t.parsedStyle.points.totalLength}function XO(t){for(var i=0;i<t.length;i++){var a=t[i-1],s=t[i],u=s[0];if(u==="M"&&a){var h=a[0],v=[s[1],s[2]],g=void 0;h==="L"||h==="M"?g=[a[1],a[2]]:(h==="C"||h==="A"||h==="Q")&&(g=[a[a.length-2],a[a.length-1]]),g&&sx(v,g)&&(t.splice(i,1),i--)}}}function PW(t){for(var i=!1,a=t.length,s=0;s<a;s++){var u=t[s],h=u[0];if(h==="C"||h==="A"||h==="Q"){i=!0;break}}return i}function $O(t){for(var i=[],a=[],s=[],u=0;u<t.length;u++){var h=t[u],v=h[0];v==="M"?(s.length&&(a.push(s),s=[]),s.push([h[1],h[2]])):v==="Z"?s.length&&(i.push(s),s=[]):s.push([h[1],h[2]])}return s.length>0&&a.push(s),{polygons:i,polylines:a}}function sx(t,i){return t[0]===i[0]&&t[1]===i[1]}function EW(t,i){for(var a=[],s=[],u=[],h=0;h<t.length;h++){var v=t[h],g=v.currentPoint,m=v.params,_=v.prePoint,w=void 0;switch(v.command){case"Q":w=dW(_[0],_[1],m[1],m[2],m[3],m[4]);break;case"C":w=cW(_[0],_[1],m[1],m[2],m[3],m[4],m[5],m[6]);break;case"A":var M=v.arcParams;w=IR(M.cx,M.cy,M.rx,M.ry,M.xRotation,M.startAngle,M.endAngle);break;default:a.push(g[0]),s.push(g[1]);break}w&&(v.box=w,a.push(w.x,w.x+w.width),s.push(w.y,w.y+w.height)),i&&(v.command==="L"||v.command==="M")&&v.prePoint&&v.nextPoint&&u.push(v)}a=a.filter(function(j){return!Number.isNaN(j)&&j!==1/0&&j!==-1/0}),s=s.filter(function(j){return!Number.isNaN(j)&&j!==1/0&&j!==-1/0});var O=u0(a),C=u0(s),P=c0(a),k=c0(s);if(u.length===0)return{x:O,y:C,width:P-O,height:k-C};for(var D=0;D<u.length;D++){var R=u[D],B=R.currentPoint,z=void 0;B[0]===O?(z=lx(R,i),O-=z.xExtra):B[0]===P&&(z=lx(R,i),P+=z.xExtra),B[1]===C?(z=lx(R,i),C-=z.yExtra):B[1]===k&&(z=lx(R,i),k+=z.yExtra)}return{x:O,y:C,width:P-O,height:k-C}}function lx(t,i){var a=t.prePoint,s=t.currentPoint,u=t.nextPoint,h=Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2),v=Math.pow(s[0]-u[0],2)+Math.pow(s[1]-u[1],2),g=Math.pow(a[0]-u[0],2)+Math.pow(a[1]-u[1],2),m=Math.acos((h+v-g)/(2*Math.sqrt(h)*Math.sqrt(v)));if(!m||Math.sin(m)===0||ao(m,0))return{xExtra:0,yExtra:0};var _=Math.abs(Math.atan2(u[1]-s[1],u[0]-s[0])),w=Math.abs(Math.atan2(u[0]-s[0],u[1]-s[1]));_=_>Math.PI/2?Math.PI-_:_,w=w>Math.PI/2?Math.PI-w:w;var M={xExtra:Math.cos(m/2-_)*(i/2*(1/Math.sin(m/2)))-i/2||0,yExtra:Math.cos(w-m/2)*(i/2*(1/Math.sin(m/2)))-i/2||0};return M}function qO(t,i){return[i[0]+(i[0]-t[0]),i[1]+(i[1]-t[1])]}var bN=function(i,a){var s=i.x*a.x+i.y*a.y,u=Math.sqrt((Math.pow(i.x,2)+Math.pow(i.y,2))*(Math.pow(a.x,2)+Math.pow(a.y,2))),h=i.x*a.y-i.y*a.x<0?-1:1,v=h*Math.acos(s/u);return v},Qf=function(i,a,s,u,h,v,g,m){a=Math.abs(a),s=Math.abs(s),u=zl(u,360);var _=Rn(u);if(i.x===g.x&&i.y===g.y)return{x:i.x,y:i.y,ellipticalArcAngle:0};if(a===0||s===0)return{x:0,y:0,ellipticalArcAngle:0};var w=(i.x-g.x)/2,M=(i.y-g.y)/2,O={x:Math.cos(_)*w+Math.sin(_)*M,y:-Math.sin(_)*w+Math.cos(_)*M},C=Math.pow(O.x,2)/Math.pow(a,2)+Math.pow(O.y,2)/Math.pow(s,2);C>1&&(a*=Math.sqrt(C),s*=Math.sqrt(C));var P=Math.pow(a,2)*Math.pow(s,2)-Math.pow(a,2)*Math.pow(O.y,2)-Math.pow(s,2)*Math.pow(O.x,2),k=Math.pow(a,2)*Math.pow(O.y,2)+Math.pow(s,2)*Math.pow(O.x,2),D=P/k;D=D<0?0:D;var R=(h!==v?1:-1)*Math.sqrt(D),B={x:R*(a*O.y/s),y:R*(-(s*O.x)/a)},z={x:Math.cos(_)*B.x-Math.sin(_)*B.y+(i.x+g.x)/2,y:Math.sin(_)*B.x+Math.cos(_)*B.y+(i.y+g.y)/2},j={x:(O.x-B.x)/a,y:(O.y-B.y)/s},V=bN({x:1,y:0},j),G={x:(-O.x-B.x)/a,y:(-O.y-B.y)/s},Y=bN(j,G);!v&&Y>0?Y-=2*Math.PI:v&&Y<0&&(Y+=2*Math.PI),Y%=2*Math.PI;var Z=V+Y*m,Q=a*Math.cos(Z),tt=s*Math.sin(Z),rt={x:Math.cos(_)*Q-Math.sin(_)*tt+z.x,y:Math.sin(_)*Q+Math.cos(_)*tt+z.y,ellipticalArcStartAngle:V,ellipticalArcEndAngle:V+Y,ellipticalArcAngle:Z,ellipticalArcCenter:z,resultantRx:a,resultantRy:s};return rt};function kW(t){for(var i=[],a=null,s=null,u=null,h=0,v=t.length,g=0;g<v;g++){var m=t[g];s=t[g+1];var _=m[0],w={command:_,prePoint:a,params:m,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(_){case"M":u=[m[1],m[2]],h=g;break;case"A":var M=pa(a,m);w.arcParams=M;break}if(_==="Z")a=u,s=t[h+1];else{var O=m.length;a=[m[O-2],m[O-1]]}s&&s[0]==="Z"&&(s=t[h],i[h]&&(i[h].prePoint=a)),w.currentPoint=a,i[h]&&sx(a,i[h].currentPoint)&&(i[h].prePoint=w.prePoint);var C=s?[s[s.length-2],s[s.length-1]]:null;w.nextPoint=C;var P=w.prePoint;if(["L","H","V"].includes(_))w.startTangent=[P[0]-a[0],P[1]-a[1]],w.endTangent=[a[0]-P[0],a[1]-P[1]];else if(_==="Q"){var k=[m[1],m[2]];w.startTangent=[P[0]-k[0],P[1]-k[1]],w.endTangent=[a[0]-k[0],a[1]-k[1]]}else if(_==="T"){var D=i[g-1],R=qO(D.currentPoint,P);D.command==="Q"?(w.command="Q",w.startTangent=[P[0]-R[0],P[1]-R[1]],w.endTangent=[a[0]-R[0],a[1]-R[1]]):(w.command="TL",w.startTangent=[P[0]-a[0],P[1]-a[1]],w.endTangent=[a[0]-P[0],a[1]-P[1]])}else if(_==="C"){var B=[m[1],m[2]],z=[m[3],m[4]];w.startTangent=[P[0]-B[0],P[1]-B[1]],w.endTangent=[a[0]-z[0],a[1]-z[1]],w.startTangent[0]===0&&w.startTangent[1]===0&&(w.startTangent=[B[0]-z[0],B[1]-z[1]]),w.endTangent[0]===0&&w.endTangent[1]===0&&(w.endTangent=[z[0]-B[0],z[1]-B[1]])}else if(_==="S"){var j=i[g-1],V=qO(j.currentPoint,P),G=[m[1],m[2]];j.command==="C"?(w.command="C",w.startTangent=[P[0]-V[0],P[1]-V[1]],w.endTangent=[a[0]-G[0],a[1]-G[1]]):(w.command="SQ",w.startTangent=[P[0]-G[0],P[1]-G[1]],w.endTangent=[a[0]-G[0],a[1]-G[1]])}else if(_==="A"){var Y=ri(w,0),Z=Y.x,Q=Y.y,tt=ri(w,1,!1),rt=tt.x,ct=tt.y;w.startTangent=[Z,Q],w.endTangent=[rt,ct]}i.push(w)}return i}function ri(t,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=t.arcParams,u=s.rx,h=u===void 0?0:u,v=s.ry,g=v===void 0?0:v,m=s.xRotation,_=s.arcFlag,w=s.sweepFlag,M=Qf({x:t.prePoint[0],y:t.prePoint[1]},h,g,m,!!_,!!w,{x:t.currentPoint[0],y:t.currentPoint[1]},i),O=Qf({x:t.prePoint[0],y:t.prePoint[1]},h,g,m,!!_,!!w,{x:t.currentPoint[0],y:t.currentPoint[1]},a?i+.005:i-.005),C=O.x-M.x,P=O.y-M.y,k=Math.sqrt(C*C+P*P);return{x:-C/k,y:-P/k}}function Ip(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ux(t,i){return Ip(t)*Ip(i)?(t[0]*i[0]+t[1]*i[1])/(Ip(t)*Ip(i)):1}function _N(t,i){return(t[0]*i[1]<t[1]*i[0]?-1:1)*Math.acos(ux(t,i))}function pa(t,i){var a=i[1],s=i[2],u=zl(Rn(i[3]),Math.PI*2),h=i[4],v=i[5],g=t[0],m=t[1],_=i[6],w=i[7],M=Math.cos(u)*(g-_)/2+Math.sin(u)*(m-w)/2,O=-1*Math.sin(u)*(g-_)/2+Math.cos(u)*(m-w)/2,C=M*M/(a*a)+O*O/(s*s);C>1&&(a*=Math.sqrt(C),s*=Math.sqrt(C));var P=a*a*(O*O)+s*s*(M*M),k=P?Math.sqrt((a*a*(s*s)-P)/P):1;h===v&&(k*=-1),isNaN(k)&&(k=0);var D=s?k*a*O/s:0,R=a?k*-s*M/a:0,B=(g+_)/2+Math.cos(u)*D-Math.sin(u)*R,z=(m+w)/2+Math.sin(u)*D+Math.cos(u)*R,j=[(M-D)/a,(O-R)/s],V=[(-1*M-D)/a,(-1*O-R)/s],G=_N([1,0],j),Y=_N(j,V);return ux(j,V)<=-1&&(Y=Math.PI),ux(j,V)>=1&&(Y=0),v===0&&Y>0&&(Y-=2*Math.PI),v===1&&Y<0&&(Y+=2*Math.PI),{cx:B,cy:z,rx:sx(t,[_,w])?0:a,ry:sx(t,[_,w])?0:s,startAngle:G,endAngle:G+Y,xRotation:u,arcFlag:h,sweepFlag:v}}function Bd(t,i,a){return t.reduce(function(s,u){var h="";if(u[0]==="M"||u[0]==="L"){var v=Br(u[1],u[2],0);a&&yi(v,v,a),h="".concat(u[0]).concat(v[0],",").concat(v[1])}else if(u[0]==="Z")h=u[0];else if(u[0]==="C"){var g=Br(u[1],u[2],0),m=Br(u[3],u[4],0),_=Br(u[5],u[6],0);a&&(yi(g,g,a),yi(m,m,a),yi(_,_,a)),h="".concat(u[0]).concat(g[0],",").concat(g[1],",").concat(m[0],",").concat(m[1],",").concat(_[0],",").concat(_[1])}else if(u[0]==="A"){var w=Br(u[6],u[7],0);a&&yi(w,w,a),h="".concat(u[0]).concat(u[1],",").concat(u[2],",").concat(u[3],",").concat(u[4],",").concat(u[5],",").concat(w[0],",").concat(w[1])}else if(u[0]==="Q"){var M=Br(u[1],u[2],0),O=Br(u[3],u[4],0);a&&(yi(M,M,a),yi(O,O,a)),h="".concat(u[0]).concat(u[1],",").concat(u[2],",").concat(u[3],",").concat(u[4],"}")}return s+=h},"")}function I0(t,i,a,s){return[["M",t,i],["L",a,s]]}function xN(t,i,a,s){var u=(-1+Math.sqrt(2))/3*4,h=t*u,v=i*u,g=a-t,m=a+t,_=s-i,w=s+i;return[["M",g,s],["C",g,s-v,a-h,_,a,_],["C",a+h,_,m,s-v,m,s],["C",m,s+v,a+h,w,a,w],["C",a-h,w,g,s+v,g,s],["Z"]]}function LW(t,i){var a=t.map(function(s,u){return[u===0?"M":"L",s[0],s[1]]});return i&&a.push(["Z"]),a}function ZO(t,i,a,s,u){if(u){var h=ye(u,4),v=h[0],g=h[1],m=h[2],_=h[3],w=t>0?1:-1,M=i>0?1:-1,O=w+M!==0?1:0;return[["M",w*v+a,s],["L",t-w*g+a,s],g?["A",g,g,0,0,O,t+a,M*g+s]:null,["L",t+a,i-M*m+s],m?["A",m,m,0,0,O,t+a-w*m,i+s]:null,["L",a+w*_,i+s],_?["A",_,_,0,0,O,a,i+s-M*_]:null,["L",a,M*v+s],v?["A",v,v,0,0,O,w*v+a,s]:null,["Z"]].filter(function(C){return C})}return[["M",a,s],["L",a+t,s],["L",a+t,s+i],["L",a,s+i],["Z"]]}function wN(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLocalTransform(),a=[];switch(t.nodeName){case Xt.LINE:var s=t.parsedStyle,u=s.x1,h=u===void 0?0:u,v=s.y1,g=v===void 0?0:v,m=s.x2,_=m===void 0?0:m,w=s.y2,M=w===void 0?0:w;a=I0(h,g,_,M);break;case Xt.CIRCLE:{var O=t.parsedStyle,C=O.r,P=C===void 0?0:C,k=O.cx,D=k===void 0?0:k,R=O.cy,B=R===void 0?0:R;a=xN(P,P,D,B);break}case Xt.ELLIPSE:{var z=t.parsedStyle,j=z.rx,V=j===void 0?0:j,G=z.ry,Y=G===void 0?0:G,Z=z.cx,Q=Z===void 0?0:Z,tt=z.cy,rt=tt===void 0?0:tt;a=xN(V,Y,Q,rt);break}case Xt.POLYLINE:case Xt.POLYGON:var ct=t.parsedStyle.points;a=LW(ct.points,t.nodeName===Xt.POLYGON);break;case Xt.RECT:var nt=t.parsedStyle,lt=nt.width,ft=lt===void 0?0:lt,q=nt.height,H=q===void 0?0:q,U=nt.x,J=U===void 0?0:U,st=nt.y,ut=st===void 0?0:st,mt=nt.radius,xt=mt&&mt.some(function(kt){return kt!==0});a=ZO(ft,H,J,ut,xt&&mt.map(function(kt){return Oi(kt,0,Math.min(Math.abs(ft)/2,Math.abs(H)/2))}));break;case Xt.PATH:var Ct=t.parsedStyle.d.absolutePath;a=_t(Ct);break}if(a.length)return Bd(a,t,i)}function Vrt(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,h=t.map(function(v,g){var m=v[0],_=t[g+1],w=g===0&&(i!==0||a!==0),M=(g===t.length-1||_&&(_[0]==="M"||_[0]==="Z"))&&s!==0&&u!==0,O=w?[i,a]:[0,0],C=_slicedToArray(O,2),P=C[0],k=C[1],D=M?[s,u]:[0,0],R=_slicedToArray(D,2),B=R[0],z=R[1];switch(m){case"M":return"M ".concat(v[1]+P,",").concat(v[2]+k);case"L":return"L ".concat(v[1]+B,",").concat(v[2]+z);case"Q":return"Q ".concat(v[1]," ").concat(v[2],",").concat(v[3]+B," ").concat(v[4]+z);case"C":return"C ".concat(v[1]," ").concat(v[2],",").concat(v[3]," ").concat(v[4],",").concat(v[5]+B," ").concat(v[6]+z);case"A":return"A ".concat(v[1]," ").concat(v[2]," ").concat(v[3]," ").concat(v[4]," ").concat(v[5]," ").concat(v[6]," ").concat(v[7]).concat(M?" L ".concat(v[6]+s,",").concat(v[7]+u):"");case"Z":return"Z";default:return null}}).filter(function(v){return v!==null}).join(" ");return~h.indexOf("NaN")?"":h}var KO=function(i){if(i===""||Array.isArray(i)&&i.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var a;try{a=L_(i)}catch(C){a=L_(""),console.error("[g]: Invalid SVG Path definition: ".concat(i))}XO(a);var s=PW(a),u=$O(a),h=u.polygons,v=u.polylines,g=kW(a),m=EW(g,0),_=m.x,w=m.y,M=m.width,O=m.height;return{absolutePath:a,hasArc:s,segments:g,polygons:h,polylines:v,totalLength:0,rect:{x:Number.isFinite(_)?_:0,y:Number.isFinite(w)?w:0,width:Number.isFinite(M)?M:0,height:Number.isFinite(O)?O:0}}},Rp=va(KO);function cx(t){return zi(t)?Rp(t):KO(t)}function Qr(t,i,a){var s=t.curve,u=i.curve;(!s||s.length===0)&&(s=yO(t.absolutePath,!1),t.curve=s),(!u||u.length===0)&&(u=yO(i.absolutePath,!1),i.curve=u);var h=[s,u];s.length!==u.length&&(h=mO(s,u));var v=bO(h[0])!==bO(h[1])?f0(h[0]):eW(h[0]);return[v,rW(h[1],v),function(g){return g}]}function ni(t,i){var a;return zi(t)?a=t.split(" ").map(function(s){var u=s.split(","),h=ye(u,2),v=h[0],g=h[1];return[Number(v),Number(g)]}):a=t,{points:a,totalLength:0,segments:[]}}function Np(t,i){return[t.points,i.points,function(a){return a}]}var Vn=null,zd=/\s*(\w+)\(([^)]*)\)/g;function Ki(t){return function(i){var a=0;return t.map(function(s){return s===Vn?i[a++]:s})}}function Ha(t){return t}var R0={matrix:["NNNNNN",[Vn,Vn,0,0,Vn,Vn,0,0,0,0,1,0,Vn,Vn,0,1],Ha],matrix3d:["NNNNNNNNNNNNNNNN",Ha],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Ki([Vn,Vn,new Zn(1)]),Ha],scaleX:["N",Ki([Vn,new Zn(1),new Zn(1)]),Ki([Vn,new Zn(1)])],scaleY:["N",Ki([new Zn(1),Vn,new Zn(1)]),Ki([new Zn(1),Vn])],scaleZ:["N",Ki([new Zn(1),new Zn(1),Vn])],scale3d:["NNN",Ha],skew:["Aa",null,Ha],skewX:["A",null,Ki([Vn,Zf])],skewY:["A",null,Ki([Zf,Vn])],translate:["Tt",Ki([Vn,Vn,Js]),Ha],translateX:["T",Ki([Vn,Js,Js]),Ki([Vn,Js])],translateY:["T",Ki([Js,Vn,Js]),Ki([Js,Vn])],translateZ:["L",Ki([Js,Js,Vn])],translate3d:["TTL",Ha]};function N0(t){for(var i=[],a=t.length,s=0;s<a;s++){var u=t[s],h=u[0],v=u.slice(1);h==="translate"||h==="skew"?v.length===1&&v.push(0):h==="scale"&&v.length===1&&v.push(v[0]);var g=R0[h];if(!g)return[];var m=v.map(function(_){return _i(_)});i.push({t:h,d:m})}return i}function QO(t){if(Array.isArray(t))return N0(t);if(t=(t||"none").trim(),t==="none")return[];var i=[],a,s=0;for(zd.lastIndex=0;a=zd.exec(t);){if(a.index!==s)return[];s=a.index+a[0].length;var u=a[1],h=R0[u];if(!h)return[];var v=a[2].split(","),g=h[0];if(g.length<v.length)return[];for(var m=[],_=0;_<g.length;_++){var w=v[_],M=g[_],O=void 0;if(w?O={A:function(P){return P.trim()==="0"?Zf:AW(P)},N:D0,T:pN,L:vN}[M.toUpperCase()](w):O={a:Zf,n:m[0],t:Js}[M],O===void 0)return[];m.push(O)}if(i.push({t:u,d:m}),zd.lastIndex===t.length)return i}return[]}function JO(t){if(Array.isArray(t))return N0(t);if(t=(t||"none").trim(),t==="none")return[];var i=[],a,s=0;for(zd.lastIndex=0;a=zd.exec(t);){if(a.index!==s)return[];s=a.index+a[0].length;var u=a[1],h=R0[u];if(!h)return[];var v=a[2].split(","),g=h[0];if(g.length<v.length)return[];for(var m=[],_=0;_<g.length;_++){var w=v[_],M=g[_],O=void 0;if(w?O={A:function(P){return P.trim()==="0"?Zf:gN(P)},N:HO,T:L0,L:dN}[M.toUpperCase()](w):O={a:Zf,n:m[0],t:Js}[M],O===void 0)return[];m.push(O)}if(i.push({t:u,d:m}),zd.lastIndex===t.length)return i}return[]}function Da(t){var i,a,s,u;switch(t.t){case"rotateX":return u=Rn(Jo(t.d[0])),[1,0,0,0,0,Math.cos(u),Math.sin(u),0,0,-Math.sin(u),Math.cos(u),0,0,0,0,1];case"rotateY":return u=Rn(Jo(t.d[0])),[Math.cos(u),0,-Math.sin(u),0,0,1,0,0,Math.sin(u),0,Math.cos(u),0,0,0,0,1];case"rotate":case"rotateZ":return u=Rn(Jo(t.d[0])),[Math.cos(u),Math.sin(u),0,0,-Math.sin(u),Math.cos(u),0,0,0,0,1,0,0,0,0,1];case"rotate3d":i=t.d[0].value,a=t.d[1].value,s=t.d[2].value,u=Rn(Jo(t.d[3]));var h=i*i+a*a+s*s;if(h===0)i=1,a=0,s=0;else if(h!==1){var v=Math.sqrt(h);i/=v,a/=v,s/=v}var g=Math.sin(u/2),m=g*Math.cos(u/2),_=g*g;return[1-2*(a*a+s*s)*_,2*(i*a*_+s*m),2*(i*s*_-a*m),0,2*(i*a*_-s*m),1-2*(i*i+s*s)*_,2*(a*s*_+i*m),0,2*(i*s*_+a*m),2*(a*s*_-i*m),1-2*(i*i+a*a)*_,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var w=Rn(Jo(t.d[0])),M=Rn(Jo(t.d[1]));return[1,Math.tan(M),0,0,Math.tan(w),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return u=Rn(Jo(t.d[0])),[1,0,0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return u=Rn(Jo(t.d[0])),[1,Math.tan(u),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return i=La(t.d[0],0,null)||0,a=La(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,i,a,0,1];case"translateX":return i=La(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,i,0,0,1];case"translateY":return a=La(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,a,0,1];case"translateZ":return s=La(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,s,1];case"translate3d":return i=La(t.d[0],0,null)||0,a=La(t.d[1],0,null)||0,s=La(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,i,a,s,1];case"perspective":var O=La(t.d[0],0,null)||0,C=O?-1/O:0;return[1,0,0,0,0,1,0,0,0,0,1,C,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(P){return P.value})}}function ga(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15]]}function Gn(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(Da).reduce(ga)}function B0(t){var i=[0,0,0],a=[1,1,1],s=[0,0,0],u=[0,0,0,1],h=[0,0,0,1];return kd(Gn(t),i,a,s,u,h),[[i,a,s,h,u]]}var DW=function(){function t(s,u){for(var h=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],v=0;v<4;v++)for(var g=0;g<4;g++)for(var m=0;m<4;m++)h[v][g]+=u[v][m]*s[m][g];return h}function i(s){return s[0][2]===0&&s[0][3]===0&&s[1][2]===0&&s[1][3]===0&&s[2][0]===0&&s[2][1]===0&&s[2][2]===1&&s[2][3]===0&&s[3][2]===0&&s[3][3]===1}function a(s,u,h,v,g){for(var m=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],_=0;_<4;_++)m[_][3]=g[_];for(var w=0;w<3;w++)for(var M=0;M<3;M++)m[3][w]+=s[M]*m[M][w];var O=v[0],C=v[1],P=v[2],k=v[3],D=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];D[0][0]=1-2*(C*C+P*P),D[0][1]=2*(O*C-P*k),D[0][2]=2*(O*P+C*k),D[1][0]=2*(O*C+P*k),D[1][1]=1-2*(O*O+P*P),D[1][2]=2*(C*P-O*k),D[2][0]=2*(O*P-C*k),D[2][1]=2*(C*P+O*k),D[2][2]=1-2*(O*O+C*C),m=t(m,D);var R=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];h[2]&&(R[2][1]=h[2],m=t(m,R)),h[1]&&(R[2][1]=0,R[2][0]=h[0],m=t(m,R)),h[0]&&(R[2][0]=0,R[1][0]=h[0],m=t(m,R));for(var B=0;B<3;B++)for(var z=0;z<3;z++)m[B][z]*=u[B];return i(m)?[m[0][0],m[0][1],m[1][0],m[1][1],m[3][0],m[3][1]]:m[0].concat(m[1],m[2],m[3])}return a}();function IW(t){return t.toFixed(6).replace(".000000","")}function fx(t,i){var a,s;return t.decompositionPair!==i&&(t.decompositionPair=i,a=B0(t)),i.decompositionPair!==t&&(i.decompositionPair=t,s=B0(i)),a[0]===null||s[0]===null?[[!1],[!0],function(u){return u?i[0].d:t[0].d}]:(a[0].push(0),s[0].push(1),[a,s,function(u){var h=MN(a[0][3],s[0][3],u[5]),v=DW(u[0],u[1],u[2],h,u[4]),g=v.map(IW).join(",");return g}])}function SN(t,i){for(var a=0,s=0;s<t.length;s++)a+=t[s]*i[s];return a}function MN(t,i,a){var s=SN(t,i);s=Oi(s,-1,1);var u=[];if(s===1)u=t;else for(var h=Math.acos(s),v=Math.sin(a*h)*1/Math.sqrt(1-s*s),g=0;g<4;g++)u.push(t[g]*(Math.cos(a*h)-s*v)+i[g]*v);return u}function hx(t){return t.replace(/[XY]/,"")}function z0(t){return t.replace(/(X|Y|Z|3d)?$/,"3d")}var Bp=function(i,a){return i==="perspective"&&a==="perspective"||(i==="matrix"||i==="matrix3d")&&(a==="matrix"||a==="matrix3d")};function TN(t,i,a){var s=!1;if(!t.length||!i.length){t.length||(s=!0,t=i,i=[]);for(var u=function(){var rt=t[h],ct=rt.t,nt=rt.d,lt=ct.substring(0,5)==="scale"?1:0;i.push({t:ct,d:nt.map(function(ft){return typeof ft=="number"?_i(lt):_i(lt,ft.unit)})})},h=0;h<t.length;h++)u()}var v=[],g=[],m=[];if(t.length!==i.length){var _=fx(t,i);v=[_[0]],g=[_[1]],m=[["matrix",[_[2]]]]}else for(var w=0;w<t.length;w++){var M=t[w].t,O=i[w].t,C=t[w].d,P=i[w].d,k=R0[M],D=R0[O],R=void 0;if(Bp(M,O)){var B=fx([t[w]],[i[w]]);v.push(B[0]),g.push(B[1]),m.push(["matrix",[B[2]]]);continue}else if(M===O)R=M;else if(k[2]&&D[2]&&hx(M)===hx(O))R=hx(M),C=k[2](C),P=D[2](P);else if(k[1]&&D[1]&&z0(M)===z0(O))R=z0(M),C=k[1](C),P=D[1](P);else{var z=fx(t,i);v=[z[0]],g=[z[1]],m=[["matrix",[z[2]]]];break}for(var j=[],V=[],G=[],Y=0;Y<C.length;Y++){var Z=CW(C[Y],P[Y],a,!1,Y);j[Y]=Z[0],V[Y]=Z[1],G.push(Z[2])}v.push(j),g.push(V),m.push([R,G])}if(s){var Q=v;v=g,g=Q}return[v,g,function(tt){return tt.map(function(rt,ct){var nt=rt.map(function(lt,ft){return m[ct][1][ft](lt)}).join(",");return m[ct][0]==="matrix"&&nt.split(",").length===16&&(m[ct][0]="matrix3d"),m[ct][0]==="matrix3d"&&nt.split(",").length===6&&(m[ct][0]="matrix"),"".concat(m[ct][0],"(").concat(nt,")")}).join(" ")}]}var ON=va(function(t){if(zi(t)){if(t==="text-anchor")return[_i(0,"px"),_i(0,"px")];var i=t.split(" ");return i.length===1&&(i[0]==="top"||i[0]==="bottom"?(i[1]=i[0],i[0]="center"):i[1]="center"),i.length!==2?null:[pN(Fd(i[0])),pN(Fd(i[1]))]}return[_i(t[0]||0,"px"),_i(t[1]||0,"px")]});function Fd(t){return t==="center"?"50%":t==="left"||t==="top"?"0%":t==="right"||t==="bottom"?"100%":t}var tA=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:xe.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:xe.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:xe.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:xe.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:xe.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:xe.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:xe.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:xe.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:xe.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:xe.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:xe.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:xe.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:xe.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:xe.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:xe.FILTER},{n:"clipPath",syntax:xe.DEFINED_PATH},{n:"textPath",syntax:xe.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:xe.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:xe.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:xe.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:xe.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:xe.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:xe.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:xe.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:xe.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:xe.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:xe.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:xe.COORDINATE},{n:"y1",int:!0,l:!0,syntax:xe.COORDINATE},{n:"z1",int:!0,l:!0,syntax:xe.COORDINATE},{n:"x2",int:!0,l:!0,syntax:xe.COORDINATE},{n:"y2",int:!0,l:!0,syntax:xe.COORDINATE},{n:"z2",int:!0,l:!0,syntax:xe.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:xe.PATH,p:50},{n:"points",int:!0,l:!0,syntax:xe.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:xe.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:xe.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:xe.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:xe.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:xe.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:xe.NUMBER,d:function(i){return i===Xt.PATH||i===Xt.POLYGON||i===Xt.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:xe.MARKER},{n:"markerEnd",syntax:xe.MARKER},{n:"markerMid",syntax:xe.MARKER},{n:"markerStartOffset",syntax:xe.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:xe.LENGTH,l:!0,int:!0,d:"0"}],eA=new Set(tA.filter(function(t){return!!t.l}).map(function(t){return t.n})),dx={},RW=function(){function t(i){var a=this;ke(this,t),this.runtime=i,tA.forEach(function(s){a.registerMetadata(s)})}return De(t,[{key:"registerMetadata",value:function(a){[a.n].concat(_t(a.a||[])).forEach(function(s){dx[s]=a})}},{key:"getPropertySyntax",value:function(a){return this.runtime.CSSPropertySyntaxFactory[a]}},{key:"processProperties",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(a.attributes,s);var h=a.parsedStyle.clipPath,v=a.parsedStyle.offsetPath;NW(a,s);var g=!!u.forceUpdateGeometry;if(!g){for(var m in s)if(eA.has(m)){g=!0;break}}var _=rA(a);_.has("fill")&&s.fill&&(a.parsedStyle.fill=Nu(s.fill)),_.has("stroke")&&s.stroke&&(a.parsedStyle.stroke=Nu(s.stroke)),_.has("shadowColor")&&s.shadowColor&&(a.parsedStyle.shadowColor=Nu(s.shadowColor)),_.has("filter")&&s.filter&&(a.parsedStyle.filter=Pc(s.filter)),_.has("radius")&&!Ar(s.radius)&&(a.parsedStyle.radius=nx(s.radius,4)),_.has("lineDash")&&!Ar(s.lineDash)&&(a.parsedStyle.lineDash=nx(s.lineDash,"even")),_.has("points")&&s.points&&(a.parsedStyle.points=ni(s.points)),_.has("d")&&s.d===""&&(a.parsedStyle.d=Tn({},Oc)),_.has("d")&&s.d&&(a.parsedStyle.d=cx(s.d)),_.has("textTransform")&&s.textTransform&&this.runtime.CSSPropertySyntaxFactory[xe.TEXT_TRANSFORM].calculator(null,null,{value:s.textTransform},a,null),_.has("clipPath")&&!qn(s.clipPath)&&this.runtime.CSSPropertySyntaxFactory[xe.DEFINED_PATH].calculator("clipPath",h,s.clipPath,a,this.runtime),_.has("offsetPath")&&s.offsetPath&&this.runtime.CSSPropertySyntaxFactory[xe.DEFINED_PATH].calculator("offsetPath",v,s.offsetPath,a,this.runtime),_.has("transform")&&s.transform&&(a.parsedStyle.transform=QO(s.transform)),_.has("transformOrigin")&&s.transformOrigin&&(a.parsedStyle.transformOrigin=ON(s.transformOrigin)),_.has("markerStart")&&s.markerStart&&(a.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[xe.MARKER].calculator(null,s.markerStart,s.markerStart,null,null)),_.has("markerEnd")&&s.markerEnd&&(a.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[xe.MARKER].calculator(null,s.markerEnd,s.markerEnd,null,null)),_.has("markerMid")&&s.markerMid&&(a.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[xe.MARKER].calculator("",s.markerMid,s.markerMid,null,null)),_.has("zIndex")&&!Ar(s.zIndex)&&this.runtime.CSSPropertySyntaxFactory[xe.Z_INDEX].postProcessor(a),_.has("offsetDistance")&&!Ar(s.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[xe.OFFSET_DISTANCE].postProcessor(a),_.has("transform")&&s.transform&&this.runtime.CSSPropertySyntaxFactory[xe.TRANSFORM].postProcessor(a),_.has("transformOrigin")&&s.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[xe.TRANSFORM_ORIGIN].postProcessor(a),g&&(a.geometry.dirty=!0,a.renderable.boundsDirty=!0,a.renderable.renderBoundsDirty=!0,u.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(a))}},{key:"updateGeometry",value:function(a){var s=a.nodeName,u=this.runtime.geometryUpdaterFactory[s];if(u){var h=a.geometry;h.contentBounds||(h.contentBounds=new Zi),h.renderBounds||(h.renderBounds=new Zi);var v=a.parsedStyle,g=u.update(v,a),m=g.cx,_=m===void 0?0:m,w=g.cy,M=w===void 0?0:w,O=g.cz,C=O===void 0?0:O,P=g.hwidth,k=P===void 0?0:P,D=g.hheight,R=D===void 0?0:D,B=g.hdepth,z=B===void 0?0:B,j=[Math.abs(k),Math.abs(R),z],V=v.stroke,G=v.lineWidth,Y=G===void 0?1:G,Z=v.increasedLineWidthForHitTesting,Q=Z===void 0?0:Z,tt=v.shadowType,rt=tt===void 0?"outer":tt,ct=v.shadowColor,nt=v.filter,lt=nt===void 0?[]:nt,ft=v.transformOrigin,q=[_,M,C];h.contentBounds.update(q,j);var H=s===Xt.POLYLINE||s===Xt.POLYGON||s===Xt.PATH?Math.SQRT2:.5,U=V&&!V.isNone;if(U){var J=((Y||0)+(Q||0))*H;j[0]+=J,j[1]+=J}if(h.renderBounds.update(q,j),ct&&rt&&rt!=="inner"){var st=h.renderBounds,ut=st.min,mt=st.max,xt=v.shadowBlur,Ct=v.shadowOffsetX,kt=v.shadowOffsetY,jt=xt||0,Bt=Ct||0,Zt=kt||0,Oe=ut[0]-jt+Bt,se=mt[0]+jt+Bt,he=ut[1]-jt+Zt,_e=mt[1]+jt+Zt;ut[0]=Math.min(ut[0],Oe),mt[0]=Math.max(mt[0],se),ut[1]=Math.min(ut[1],he),mt[1]=Math.max(mt[1],_e),h.renderBounds.setMinMax(ut,mt)}lt.forEach(function(Tr){var Ir=Tr.name,Xn=Tr.params;if(Ir==="blur"){var za=Xn[0].value;h.renderBounds.update(h.renderBounds.center,Xs(h.renderBounds.halfExtents,h.renderBounds.halfExtents,[za,za,0]))}else if(Ir==="drop-shadow"){var po=Xn[0].value,Ri=Xn[1].value,Za=Xn[2].value,Fa=h.renderBounds,Ka=Fa.min,wi=Fa.max,ja=Ka[0]-Za+po,Wo=wi[0]+Za+po,Qa=Ka[1]-Za+Ri,or=wi[1]+Za+Ri;Ka[0]=Math.min(Ka[0],ja),wi[0]=Math.max(wi[0],Wo),Ka[1]=Math.min(Ka[1],Qa),wi[1]=Math.max(wi[1],or),h.renderBounds.setMinMax(Ka,wi)}}),a.geometry.dirty=!1;var We=k<0,ur=R<0,mr=(We?-1:1)*(ft?La(ft[0],0,a,!0):0),on=(ur?-1:1)*(ft?La(ft[1],1,a,!0):0);(mr||on)&&a.setOrigin(mr,on)}}},{key:"updateSizeAttenuation",value:function(a,s){a.style.isSizeAttenuation?(a.style.rawLineWidth||(a.style.rawLineWidth=a.style.lineWidth),a.style.lineWidth=(a.style.rawLineWidth||1)/s,a.nodeName===Xt.CIRCLE&&(a.style.rawR||(a.style.rawR=a.style.r),a.style.r=(a.style.rawR||1)/s)):(a.style.rawLineWidth&&(a.style.lineWidth=a.style.rawLineWidth,delete a.style.rawLineWidth),a.nodeName===Xt.CIRCLE&&a.style.rawR&&(a.style.r=a.style.rawR,delete a.style.rawR))}}])}();function NW(t,i){var a=rA(t);for(var s in i)a.has(s)&&(t.parsedStyle[s]=i[s])}function rA(t){return t.constructor.PARSED_STYLE_LIST}var BW=function(){function t(){ke(this,t),this.mixer=ix}return De(t,[{key:"calculator",value:function(a,s,u,h){return Jo(u)}}])}(),zW=function(){function t(){ke(this,t)}return De(t,[{key:"calculator",value:function(a,s,u,h,v){return u instanceof Ts&&(u=null),v.sceneGraphService.updateDisplayObjectDependency(a,s,u,h),a==="clipPath"&&h.forEach(function(g){g.childNodes.length===0&&v.sceneGraphService.dirtifyToRoot(g)}),u}}])}(),AN=function(){function t(){ke(this,t),this.parser=Nu,this.mixer=hN}return De(t,[{key:"calculator",value:function(a,s,u,h){return u instanceof Ts?u.value==="none"?Q_:zO:u}}])}(),FW=function(){function t(){ke(this,t)}return De(t,[{key:"calculator",value:function(a,s,u){return u instanceof Ts?[]:u}}])}();function CN(t){var i=t.parsedStyle,a=i.fontSize;return Ar(a)?null:a}var Ec=function(){function t(){ke(this,t),this.mixer=ix}return De(t,[{key:"calculator",value:function(a,s,u,h,v){if(yn(u))return u;if(Zn.isRelativeUnit(u.unit)){if(u.unit===we.kPercentage)return 0;if(u.unit===we.kEms){if(h.parentNode){var g=CN(h.parentNode);if(g)return g*=u.value,g}return 0}if(u.unit===we.kRems){var m;if(h!=null&&(m=h.ownerDocument)!==null&&m!==void 0&&m.documentElement){var _=CN(h.ownerDocument.documentElement);if(_)return _*=u.value,_}return 0}}else return u.value}}])}(),an=function(){function t(){ke(this,t),this.mixer=YO}return De(t,[{key:"calculator",value:function(a,s,u){return u.map(function(h){return h.value})}}])}(),jW=function(){function t(){ke(this,t),this.mixer=YO}return De(t,[{key:"calculator",value:function(a,s,u){return u.map(function(h){return h.value})}}])}(),zp=function(){function t(){ke(this,t)}return De(t,[{key:"calculator",value:function(a,s,u,h){var v;u instanceof Ts&&(u=null);var g=(v=u)===null||v===void 0?void 0:v.cloneNode(!0);return g&&(g.style.isMarker=!0),g}}])}(),VW=function(){function t(){ke(this,t),this.mixer=ix}return De(t,[{key:"calculator",value:function(a,s,u){return u.value}}])}(),GW=function(){function t(){ke(this,t),this.mixer=ax(0,1)}return De(t,[{key:"calculator",value:function(a,s,u){return u.value}},{key:"postProcessor",value:function(a){var s=a.parsedStyle,u=s.offsetPath,h=s.offsetDistance;if(u){var v=u.nodeName;if(v===Xt.LINE||v===Xt.PATH||v===Xt.POLYLINE){var g=u.getPoint(h);g&&a.setLocalPosition(g.x,g.y)}}}}])}(),Jf=function(){function t(){ke(this,t),this.mixer=ax(0,1)}return De(t,[{key:"calculator",value:function(a,s,u){return u.value}}])}(),WW=function(){function t(){ke(this,t),this.parser=cx,this.mixer=Qr}return De(t,[{key:"calculator",value:function(a,s,u){return u instanceof Ts&&u.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Pd(0,0,0,0)}:u}}])}(),HW=De(function t(){ke(this,t),this.mixer=Np}),vx=function(t){function i(){var a;ke(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=It(this,i,[].concat(u)),a.mixer=ax(0,1/0),a}return Jt(i,t),De(i)}(Ec),nA=function(){function t(){ke(this,t)}return De(t,[{key:"calculator",value:function(a,s,u,h){return u instanceof Ts?u.value==="unset"?"":u.value:"".concat(u)}},{key:"postProcessor",value:function(a){a.nodeValue="".concat(a.parsedStyle.text)||""}}])}(),Fp=function(){function t(){ke(this,t)}return De(t,[{key:"calculator",value:function(a,s,u,h){var v=h.getAttribute("text");if(v){var g=v;u.value==="capitalize"?g=v.charAt(0).toUpperCase()+v.slice(1):u.value==="lowercase"?g=v.toLowerCase():u.value==="uppercase"&&(g=v.toUpperCase()),h.parsedStyle.text=g}return u.value}}])}(),iA=function(i){return Object.fromEntries(Object.entries(i).filter(function(a){var s=_slicedToArray(a,2),u=s[1];return u!==void 0}))},F0=new WeakMap;function PN(t,i,a){if(t){var s=typeof t=="string"?document.getElementById(t):t;F0.has(s)&&F0.get(s).destroy(a),F0.set(s,i)}}var px=typeof window!="undefined"&&typeof window.document!="undefined";function YW(t){return!!t.getAttribute}function aA(t,i){for(var a=0,s=t.length;a<s;){var u=a+s>>>1;EN(t[u],i)<0?a=u+1:s=u}return a}function EN(t,i){var a=Number(t.parsedStyle.zIndex||0),s=Number(i.parsedStyle.zIndex||0);if(a===s){var u=t.parentNode;if(u){var h=u.childNodes||[];return h.indexOf(t)-h.indexOf(i)}}return a-s}function gx(t){var i=t;do{var a,s=(a=i.parsedStyle)===null||a===void 0?void 0:a.clipPath;if(s)return i;i=i.parentElement}while(i!==null);return null}var kN="px";function la(t,i,a){px&&t.style&&(t.style.width=i+kN,t.style.height=a+kN)}function yx(t,i){if(px)return document.defaultView.getComputedStyle(t,null).getPropertyValue(i)}function oA(t){var i=yx(t,"width");return i==="auto"?t.offsetWidth:parseFloat(i)}function j0(t){var i=yx(t,"height");return i==="auto"?t.offsetHeight:parseFloat(i)}var tl=1,LN={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},sA=typeof performance=="object"&&performance.now?performance:Date;function jd(t){return t.nodeName===Xt.FRAGMENT?!0:t.getRootNode().nodeName===Xt.FRAGMENT}function Vd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=!1,u=!1,h=!!i&&!i.isNone,v=!!a&&!a.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(s=h,u=v):t==="visiblefill"||t==="fill"?s=!0:t==="visiblestroke"||t==="stroke"?u=!0:(t==="visible"||t==="all")&&(s=!0,u=!0),[s,u]}var mx=1,DN=function(){return mx++},Qi=typeof self=="object"&&self.self===self?self:typeof Kt.g=="object"&&Kt.g.global===Kt.g?Kt.g:{},UW=Date.now(),XW=function(){return Qi.performance&&typeof Qi.performance.now=="function"?Qi.performance.now():Date.now()-UW},V0={},kc=Date.now(),G0=function(i){if(typeof i!="function")throw new TypeError("".concat(i," is not a function"));var a=Date.now(),s=a-kc,u=s>16?0:16-s,h=DN();return V0[h]=i,Object.keys(V0).length>1||setTimeout(function(){kc=a;var v=V0;V0={},Object.keys(v).forEach(function(g){return v[g](XW())})},u),h},$W=function(i){delete V0[i]},qW=["","webkit","moz","ms","o"],W0=function(i){return typeof i!="string"?G0:i===""?Qi.requestAnimationFrame:Qi["".concat(i,"RequestAnimationFrame")]},ZW=function(i){return typeof i!="string"?$W:i===""?Qi.cancelAnimationFrame:Qi["".concat(i,"CancelAnimationFrame")]||Qi["".concat(i,"CancelRequestAnimationFrame")]},jp=function(i,a){for(var s=0;i[s]!==void 0;){if(a(i[s]))return i[s];s+=1}},bx=jp(qW,function(t){return!!W0(t)}),_x=W0(bx),xx=ZW(bx);Qi.requestAnimationFrame=_x,Qi.cancelAnimationFrame=xx;var lA=function(){function t(){ke(this,t),this.callbacks=[]}return De(t,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(a,s){this.callbacks.push(s)}},{key:"promise",value:function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return Promise.all(this.callbacks.map(function(h){return h.apply(void 0,s)}))}}])}(),uA=function(){function t(){ke(this,t),this.callbacks=[]}return De(t,[{key:"tapPromise",value:function(a,s){this.callbacks.push(s)}},{key:"promise",value:function(){var i=g0(Vf().mark(function s(){var u,h,v,g,m=arguments;return Vf().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!this.callbacks.length){w.next=14;break}return w.next=3,(u=this.callbacks)[0].apply(u,m);case 3:h=w.sent,v=0;case 5:if(!(v<this.callbacks.length-1)){w.next=13;break}return g=this.callbacks[v],w.next=9,g(h);case 9:h=w.sent;case 10:v++,w.next=5;break;case 13:return w.abrupt("return",h);case 14:return w.abrupt("return",null);case 15:case"end":return w.stop()}},s,this)}));function a(){return i.apply(this,arguments)}return a}()}])}(),so=function(){function t(){ke(this,t),this.callbacks=[]}return De(t,[{key:"tap",value:function(a,s){this.callbacks.push(s)}},{key:"call",value:function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var h=arguments;this.callbacks.forEach(function(v){v.apply(void 0,h)})}}])}(),H0=function(){function t(){ke(this,t),this.callbacks=[]}return De(t,[{key:"tap",value:function(a,s){this.callbacks.push(s)}},{key:"call",value:function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];if(this.callbacks.length){for(var h=arguments,v=this.callbacks[0].apply(void 0,h),g=0;g<this.callbacks.length-1;g++){var m=this.callbacks[g];v=m(v)}return v}return null}}])}(),cA=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],KW=/([\"\'])[^\'\"]+\1/;function IN(t){for(var i=t.fontSize,a=i===void 0?16:i,s=t.fontFamily,u=s===void 0?"sans-serif":s,h=t.fontStyle,v=h===void 0?"normal":h,g=t.fontVariant,m=g===void 0?"normal":g,_=t.fontWeight,w=_===void 0?"normal":_,M=yn(a)&&"".concat(a,"px")||"16px",O=u.split(","),C=O.length-1;C>=0;C--){var P=O[C].trim();!KW.test(P)&&cA.indexOf(P)<0&&(P='"'.concat(P,'"')),O[C]=P}return"".concat(v," ").concat(m," ").concat(w," ").concat(M," ").concat(O.join(","))}function Sx(t,i,a){return Pf(t),t[4]=Math.tan(i),t[1]=Math.tan(a),t}var Ji=Dn(),RN=Dn(),NN={scale:function(i){kf(Ji,[i[0].value,i[1].value,1])},scaleX:function(i){kf(Ji,[i[0].value,1,1])},scaleY:function(i){kf(Ji,[1,i[0].value,1])},scaleZ:function(i){kf(Ji,[1,1,i[0].value])},scale3d:function(i){kf(Ji,[i[0].value,i[1].value,i[2].value])},translate:function(i){Ef(Ji,[i[0].value,i[1].value,0])},translateX:function(i){Ef(Ji,[i[0].value,0,0])},translateY:function(i){Ef(Ji,[0,i[0].value,0])},translateZ:function(i){Ef(Ji,[0,0,i[0].value])},translate3d:function(i){Ef(Ji,[i[0].value,i[1].value,i[2].value])},rotate:function(i){gd(Ji,Rn(Jo(i[0])))},rotateX:function(i){UI(Ji,Rn(Jo(i[0])))},rotateY:function(i){jT(Ji,Rn(Jo(i[0])))},rotateZ:function(i){gd(Ji,Rn(Jo(i[0])))},rotate3d:function(i){FT(Ji,Rn(Jo(i[3])),[i[0].value,i[1].value,i[2].value])},skew:function(i){Sx(Ji,Rn(i[0].value),Rn(i[1].value))},skewX:function(i){Sx(Ji,Rn(i[0].value),0)},skewY:function(i){Sx(Ji,0,Rn(i[0].value))},matrix:function(i){NT(Ji,i[0].value,i[1].value,0,0,i[2].value,i[3].value,0,0,0,0,1,0,i[4].value,i[5].value,0,1)},matrix3d:function(i){NT.apply(me,[Ji].concat(_t(i.map(function(a){return a.value}))))}},BN=Br(1,1,1),zN=Cr(),fA={translate:function(i,a){ee.sceneGraphService.setLocalScale(i,BN,!1),ee.sceneGraphService.setLocalEulerAngles(i,zN,void 0,void 0,!1),ee.sceneGraphService.setLocalPosition(i,[a[0].value,a[1].value,0],!1),ee.sceneGraphService.dirtifyLocal(i,i.transformable)}};function Vp(t,i){if(t.length){if(t.length===1&&fA[t[0].t]){fA[t[0].t](i,t[0].d);return}for(var a=Pf(RN),s=0;s<t.length;s++){var u=t[s],h=u.t,v=u.d,g=NN[h];g&&(g(v),Ll(a,a,Ji))}i.setLocalTransform(a)}else i.resetLocalTransform();return i.getLocalTransform()}var hA=function(){function t(){ke(this,t),this.parser=JO,this.mixer=TN}return De(t,[{key:"calculator",value:function(a,s,u,h){return u instanceof Ts?[]:u}},{key:"postProcessor",value:function(a){Vp(a.parsedStyle.transform,a)}}])}(),FN=function(){function t(){ke(this,t)}return De(t,[{key:"postProcessor",value:function(a){var s=a.parsedStyle.transformOrigin;s[0].unit===we.kPixels&&s[1].unit===we.kPixels?a.setOrigin(s[0].value,s[1].value):a.getGeometryBounds()}}])}(),dA=function(){function t(){ke(this,t)}return De(t,[{key:"calculator",value:function(a,s,u,h){return u.value}},{key:"postProcessor",value:function(a){if(a.parentNode){var s=a.parentNode,u=s.renderable,h=s.sortable;u&&(u.dirty=!0),h&&(h.dirty=!0,h.dirtyReason=Pp.Z_INDEX_CHANGED)}}}])}(),jN=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a,s){var u=a.cx,h=u===void 0?0:u,v=a.cy,g=v===void 0?0:v,m=a.r,_=m===void 0?0:m;return{cx:h,cy:g,hwidth:_,hheight:_}}}])}(),QW=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a,s){var u=a.cx,h=u===void 0?0:u,v=a.cy,g=v===void 0?0:v,m=a.rx,_=m===void 0?0:m,w=a.ry,M=w===void 0?0:w;return{cx:h,cy:g,hwidth:_,hheight:M}}}])}(),JW=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a){var s=a.x1,u=a.y1,h=a.x2,v=a.y2,g=Math.min(s,h),m=Math.max(s,h),_=Math.min(u,v),w=Math.max(u,v),M=m-g,O=w-_,C=M/2,P=O/2;return{cx:g+C,cy:_+P,hwidth:C,hheight:P}}}])}(),Grt=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a){var s=a.d,u=s.rect,h=u.x,v=u.y,g=u.width,m=u.height,_=g/2,w=m/2;return{cx:h+_,cy:v+w,hwidth:_,hheight:w}}}])}(),Wrt=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a){if(a.points&&rn(a.points.points)){var s=a.points.points,u=Math.min.apply(Math,_t(s.map(function(O){return O[0]}))),h=Math.max.apply(Math,_t(s.map(function(O){return O[0]}))),v=Math.min.apply(Math,_t(s.map(function(O){return O[1]}))),g=Math.max.apply(Math,_t(s.map(function(O){return O[1]}))),m=h-u,_=g-v,w=m/2,M=_/2;return{cx:u+w,cy:v+M,hwidth:w,hheight:M}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),Gd=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a,s){var u=a.x,h=u===void 0?0:u,v=a.y,g=v===void 0?0:v,m=a.src,_=a.width,w=_===void 0?0:_,M=a.height,O=M===void 0?0:M,C=w,P=O;return m&&!zi(m)&&(C||(C=m.width,a.width=C),P||(P=m.height,a.height=P)),{cx:h+C/2,cy:g+P/2,hwidth:C/2,hheight:P/2}}}])}(),Mx=function(){function t(i){ke(this,t),this.globalRuntime=i}return De(t,[{key:"isReadyToMeasure",value:function(a,s){var u=a.text;return u}},{key:"update",value:function(a,s){var u,h=a.text,v=a.textAlign,g=v===void 0?"start":v,m=a.lineWidth,_=m===void 0?1:m,w=a.textBaseline,M=w===void 0?"alphabetic":w,O=a.dx,C=O===void 0?0:O,P=a.dy,k=P===void 0?0:P,D=a.x,R=D===void 0?0:D,B=a.y,z=B===void 0?0:B;if(!this.isReadyToMeasure(a,s))return a.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var j=(s==null||(u=s.ownerDocument)===null||u===void 0||(u=u.defaultView)===null||u===void 0?void 0:u.getConfig())||{},V=j.offscreenCanvas,G=this.globalRuntime.textService.measureText(h,a,V);a.metrics=G;var Y=G.width,Z=G.height,Q=Y/2,tt=Z/2,rt=R+Q;g==="center"||g==="middle"?rt+=_/2-Q:(g==="right"||g==="end")&&(rt+=_-Q*2);var ct=z-tt;return M==="middle"?ct+=tt:M==="top"||M==="hanging"?ct+=tt*2:M==="alphabetic"||(M==="bottom"||M==="ideographic")&&(ct+=0),C&&(rt+=C),k&&(ct+=k),{cx:rt,cy:ct,hwidth:Q,hheight:tt}}}])}(),Tx=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a,s){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),vA=function(){function t(){ke(this,t)}return De(t,[{key:"update",value:function(a,s){var u=a.x,h=u===void 0?0:u,v=a.y,g=v===void 0?0:v,m=a.width,_=m===void 0?0:m,w=a.height,M=w===void 0?0:w;return{cx:h+_/2,cy:g+M/2,hwidth:_/2,hheight:M/2}}}])}();function Hrt(t){return!!t.type}var Ox=function(){function t(i){ke(this,t),this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ea,this.page=new Ea,this.canvas=new Ea,this.viewport=new Ea,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=i}return De(t,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(In)}}])}(),Ax=function(t){function i(){var a;ke(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=It(this,i,[].concat(u)),a.client=new Ea,a.movement=new Ea,a.offset=new Ea,a.global=new Ea,a.screen=new Ea,a}return Jt(i,t),De(i,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(s){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(s)}},{key:"initMouseEvent",value:function(){throw new Error(In)}}])}(Ox),pA=function(t){function i(){var a;ke(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=It(this,i,[].concat(u)),a.width=0,a.height=0,a.isPrimary=!1,a}return Jt(i,t),De(i,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Ax),Cx=function(t){function i(){return ke(this,i),It(this,i,arguments)}return Jt(i,t),De(i,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Ax),Kn=function(t){function i(a,s){var u;return ke(this,i),u=It(this,i,[null]),u.type=a,u.detail=s,Object.assign(u,s),u}return Jt(i,t),De(i)}(Ox),Hl=new WeakMap,gA=function(){function t(){ke(this,t),this.emitter=new pe}return De(t,[{key:"on",value:function(a,s,u){return this.addEventListener(a,s,u),this}},{key:"addEventListener",value:function(a,s,u){var h=!1,v=!1;if(wO(u))h=u;else if(u){var g=u.capture;h=g===void 0?!1:g;var m=u.once;v=m===void 0?!1:m}h&&(a+="capture"),s=si(s)?s:s.handleEvent;var _=si(s)?void 0:s;return v?this.emitter.once(a,s,_):this.emitter.on(a,s,_),this}},{key:"off",value:function(a,s,u){return a?this.removeEventListener(a,s,u):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var a;(a=this.emitter)===null||a===void 0||a.removeAllListeners()}},{key:"removeEventListener",value:function(a,s,u){var h;if(!this.emitter)return this;var v=wO(u)?u:u==null?void 0:u.capture;v&&(a+="capture"),s=si(s)?s:(h=s)===null||h===void 0?void 0:h.handleEvent;var g=si(s)?void 0:s;return this.emitter.off(a,s,g),this}},{key:"emit",value:function(a,s){this.dispatchEvent(new Kn(a,s))}},{key:"dispatchEvent",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=Hl.get(this);if(!u){var h;this.document?u=this:this.defaultView?u=this.defaultView:u=(h=this.ownerDocument)===null||h===void 0?void 0:h.defaultView,u&&Hl.set(this,u)}if(u){if(a.manager=u.getEventService(),!a.manager)return!1;a.defaultPrevented=!1,a.path?a.path.length=0:a.page=[],s||(a.target=this),a.manager.dispatchEvent(a,a.type,s)}else this.emitter.emit(a.type,a);return!a.defaultPrevented}}])}(),ii=function(t){function i(){var a;ke(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=It(this,i,[].concat(u)),a.shadow=!1,a.ownerDocument=null,a.isConnected=!1,a.baseURI="",a.childNodes=[],a.nodeType=0,a.nodeName="",a.nodeValue=null,a.parentNode=null,a}return Jt(i,t),De(i,[{key:"textContent",get:function(){var s="";this.nodeName===Xt.TEXT&&(s+=this.style.text);var u=y0(this.childNodes),h;try{for(u.s();!(h=u.n()).done;){var v=h.value;v.nodeName===Xt.TEXT?s+=v.nodeValue:s+=v.textContent}}catch(g){u.e(g)}finally{u.f()}return s},set:function(s){var u=this;this.childNodes.slice().forEach(function(h){u.removeChild(h)}),this.nodeName===Xt.TEXT&&(this.style.text="".concat(s))}},{key:"getRootNode",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(s):s.composed&&this.host?this.host.getRootNode(s):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(s){throw new Error(In)}},{key:"lookupNamespaceURI",value:function(s){throw new Error(In)}},{key:"lookupPrefix",value:function(s){throw new Error(In)}},{key:"normalize",value:function(){throw new Error(In)}},{key:"isEqualNode",value:function(s){return this===s}},{key:"isSameNode",value:function(s){return this.isEqualNode(s)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(s){if(s===this)return 0;for(var u=s,h=this,v=[u],g=[h];(m=u.parentNode)!==null&&m!==void 0?m:h.parentNode;){var m;u=u.parentNode?(v.push(u.parentNode),u.parentNode):u,h=h.parentNode?(g.push(h.parentNode),h.parentNode):h}if(u!==h)return i.DOCUMENT_POSITION_DISCONNECTED|i.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|i.DOCUMENT_POSITION_PRECEDING;var _=v.length>g.length?v:g,w=_===v?g:v;if(_[_.length-w.length]===w[0])return _===v?i.DOCUMENT_POSITION_CONTAINED_BY|i.DOCUMENT_POSITION_FOLLOWING:i.DOCUMENT_POSITION_CONTAINS|i.DOCUMENT_POSITION_PRECEDING;for(var M=_.length-w.length,O=w.length-1;O>=0;O--){var C=w[O],P=_[M+O];if(P!==C){var k=C.parentNode.childNodes;return k.indexOf(C)<k.indexOf(P)?w===v?i.DOCUMENT_POSITION_PRECEDING:i.DOCUMENT_POSITION_FOLLOWING:_===v?i.DOCUMENT_POSITION_PRECEDING:i.DOCUMENT_POSITION_FOLLOWING}}return i.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(s){return this.contains(s)}},{key:"contains",value:function(s){for(var u=s;u&&this!==u;)u=u.parentNode;return!!u}},{key:"getAncestor",value:function(s){for(var u=this;s>0&&u;)u=u.parentNode,s--;return u}},{key:"forEach",value:function(s){for(var u=[this];u.length>0;){var h=u.pop(),v=s(h);if(v===!1)break;for(var g=h.childNodes.length-1;g>=0;g--)u.push(h.childNodes[g])}}}],[{key:"isNode",value:function(s){return!!s.childNodes}}])}(gA);ii.DOCUMENT_POSITION_DISCONNECTED=1,ii.DOCUMENT_POSITION_PRECEDING=2,ii.DOCUMENT_POSITION_FOLLOWING=4,ii.DOCUMENT_POSITION_CONTAINS=8,ii.DOCUMENT_POSITION_CONTAINED_BY=16,ii.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var VN=2048,Y0=function(){function t(i,a){var s=this;ke(this,t),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=Dn(),this.tmpVec3=Cr(),this.onPointerDown=function(u){var h=s.createPointerEvent(u);if(s.dispatchEvent(h,"pointerdown"),h.pointerType==="touch")s.dispatchEvent(h,"touchstart");else if(h.pointerType==="mouse"||h.pointerType==="pen"){var v=h.button===2;s.dispatchEvent(h,v?"rightdown":"mousedown")}var g=s.trackingData(u.pointerId);g.pressTargetsByButton[u.button]=h.composedPath(),s.freeEvent(h)},this.onPointerUp=function(u){var h=sA.now(),v=s.createPointerEvent(u,void 0,void 0,s.context.config.alwaysTriggerPointerEventOnCanvas?s.rootTarget:void 0);if(s.dispatchEvent(v,"pointerup"),v.pointerType==="touch")s.dispatchEvent(v,"touchend");else if(v.pointerType==="mouse"||v.pointerType==="pen"){var g=v.button===2;s.dispatchEvent(v,g?"rightup":"mouseup")}var m=s.trackingData(u.pointerId),_=s.findMountedTarget(m.pressTargetsByButton[u.button]),w=_;if(_&&!v.composedPath().includes(_)){for(var M=_;M&&!v.composedPath().includes(M);){if(v.currentTarget=M,s.notifyTarget(v,"pointerupoutside"),v.pointerType==="touch")s.notifyTarget(v,"touchendoutside");else if(v.pointerType==="mouse"||v.pointerType==="pen"){var O=v.button===2;s.notifyTarget(v,O?"rightupoutside":"mouseupoutside")}ii.isNode(M)&&(M=M.parentNode)}delete m.pressTargetsByButton[u.button],w=M}if(w){var C,P=s.clonePointerEvent(v,"click");P.target=w,P.path=[],m.clicksByButton[u.button]||(m.clicksByButton[u.button]={clickCount:0,target:P.target,timeStamp:h});var k=s.context.renderingContext.root.ownerDocument.defaultView,D=m.clicksByButton[u.button];D.target===P.target&&h-D.timeStamp<k.getConfig().dblClickSpeed?++D.clickCount:D.clickCount=1,D.target=P.target,D.timeStamp=h,P.detail=D.clickCount,(C=v.detail)!==null&&C!==void 0&&C.preventClick||(!s.context.config.useNativeClickEvent&&(P.pointerType==="mouse"||P.pointerType==="touch")&&s.dispatchEvent(P,"click"),s.dispatchEvent(P,"pointertap")),s.freeEvent(P)}s.freeEvent(v)},this.onPointerMove=function(u){var h=s.createPointerEvent(u,void 0,void 0,s.context.config.alwaysTriggerPointerEventOnCanvas?s.rootTarget:void 0),v=h.pointerType==="mouse"||h.pointerType==="pen",g=s.trackingData(u.pointerId),m=s.findMountedTarget(g.overTargets);if(g.overTargets&&m!==h.target){var _=u.type==="mousemove"?"mouseout":"pointerout",w=s.createPointerEvent(u,_,m||void 0);if(s.dispatchEvent(w,"pointerout"),v&&s.dispatchEvent(w,"mouseout"),!h.composedPath().includes(m)){var M=s.createPointerEvent(u,"pointerleave",m||void 0);for(M.eventPhase=M.AT_TARGET;M.target&&!h.composedPath().includes(M.target);)M.currentTarget=M.target,s.notifyTarget(M),v&&s.notifyTarget(M,"mouseleave"),ii.isNode(M.target)&&(M.target=M.target.parentNode);s.freeEvent(M)}s.freeEvent(w)}if(m!==h.target){var O=u.type==="mousemove"?"mouseover":"pointerover",C=s.clonePointerEvent(h,O);s.dispatchEvent(C,"pointerover"),v&&s.dispatchEvent(C,"mouseover");for(var P=m&&ii.isNode(m)&&m.parentNode;P&&P!==(ii.isNode(s.rootTarget)&&s.rootTarget.parentNode)&&P!==h.target;)P=P.parentNode;var k=!P||P===(ii.isNode(s.rootTarget)&&s.rootTarget.parentNode);if(k){var D=s.clonePointerEvent(h,"pointerenter");for(D.eventPhase=D.AT_TARGET;D.target&&D.target!==m&&D.target!==(ii.isNode(s.rootTarget)&&s.rootTarget.parentNode);)D.currentTarget=D.target,s.notifyTarget(D),v&&s.notifyTarget(D,"mouseenter"),ii.isNode(D.target)&&(D.target=D.target.parentNode);s.freeEvent(D)}s.freeEvent(C)}s.dispatchEvent(h,"pointermove"),h.pointerType==="touch"&&s.dispatchEvent(h,"touchmove"),v&&(s.dispatchEvent(h,"mousemove"),s.cursor=s.getCursor(h.target)),g.overTargets=h.composedPath(),s.freeEvent(h)},this.onPointerOut=function(u){var h=s.trackingData(u.pointerId);if(h.overTargets){var v=u.pointerType==="mouse"||u.pointerType==="pen",g=s.findMountedTarget(h.overTargets),m=s.createPointerEvent(u,"pointerout",g||void 0);s.dispatchEvent(m),v&&s.dispatchEvent(m,"mouseout");var _=s.createPointerEvent(u,"pointerleave",g||void 0);for(_.eventPhase=_.AT_TARGET;_.target&&_.target!==(ii.isNode(s.rootTarget)&&s.rootTarget.parentNode);)_.currentTarget=_.target,s.notifyTarget(_),v&&s.notifyTarget(_,"mouseleave"),ii.isNode(_.target)&&(_.target=_.target.parentNode);h.overTargets=null,s.freeEvent(m),s.freeEvent(_)}s.cursor=null},this.onPointerOver=function(u){var h=s.trackingData(u.pointerId),v=s.createPointerEvent(u),g=v.pointerType==="mouse"||v.pointerType==="pen";s.dispatchEvent(v,"pointerover"),g&&s.dispatchEvent(v,"mouseover"),v.pointerType==="mouse"&&(s.cursor=s.getCursor(v.target));var m=s.clonePointerEvent(v,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==(ii.isNode(s.rootTarget)&&s.rootTarget.parentNode);)m.currentTarget=m.target,s.notifyTarget(m),g&&s.notifyTarget(m,"mouseenter"),ii.isNode(m.target)&&(m.target=m.target.parentNode);h.overTargets=v.composedPath(),s.freeEvent(v),s.freeEvent(m)},this.onPointerUpOutside=function(u){var h=s.trackingData(u.pointerId),v=s.findMountedTarget(h.pressTargetsByButton[u.button]),g=s.createPointerEvent(u);if(v){for(var m=v;m;)g.currentTarget=m,s.notifyTarget(g,"pointerupoutside"),g.pointerType==="touch"||(g.pointerType==="mouse"||g.pointerType==="pen")&&s.notifyTarget(g,g.button===2?"rightupoutside":"mouseupoutside"),ii.isNode(m)&&(m=m.parentNode);delete h.pressTargetsByButton[u.button]}s.freeEvent(g)},this.onWheel=function(u){var h=s.createWheelEvent(u);s.dispatchEvent(h),s.freeEvent(h)},this.onClick=function(u){if(s.context.config.useNativeClickEvent){var h=s.createPointerEvent(u);s.dispatchEvent(h),s.freeEvent(h)}},this.onPointerCancel=function(u){var h=s.createPointerEvent(u,void 0,void 0,s.context.config.alwaysTriggerPointerEventOnCanvas?s.rootTarget:void 0);s.dispatchEvent(h),s.freeEvent(h)},this.globalRuntime=i,this.context=a}return De(t,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var a=this.context.contextService.getBoundingClientRect(),s=1,u=1,h=this.context.contextService.getDomElement();if(h&&a){var v=h.offsetWidth,g=h.offsetHeight;v&&g&&(s=a.width/v,u=a.height/g)}return{scaleX:s,scaleY:u,bbox:a}}},{key:"client2Viewport",value:function(a){var s=this.getScale(),u=s.scaleX,h=s.scaleY,v=s.bbox;return new Ea((a.x-((v==null?void 0:v.left)||0))/u,(a.y-((v==null?void 0:v.top)||0))/h)}},{key:"viewport2Client",value:function(a){var s=this.getScale(),u=s.scaleX,h=s.scaleY,v=s.bbox;return new Ea((a.x+((v==null?void 0:v.left)||0))*u,(a.y+((v==null?void 0:v.top)||0))*h)}},{key:"viewport2Canvas",value:function(a){var s=a.x,u=a.y,h=this.rootTarget.defaultView,v=h.getCamera(),g=this.context.config,m=g.width,_=g.height,w=v.getPerspectiveInverse(),M=v.getWorldTransform(),O=mo(this.tmpMatrix,M,w),C=nn(this.tmpVec3,s/m*2-1,(1-u/_)*2-1,0);return yi(C,C,O),new Ea(C[0],C[1])}},{key:"canvas2Viewport",value:function(a){var s=this.rootTarget.defaultView,u=s.getCamera(),h=u.getPerspective(),v=u.getViewTransform(),g=mo(this.tmpMatrix,h,v),m=nn(this.tmpVec3,a.x,a.y,0);yi(this.tmpVec3,this.tmpVec3,g);var _=this.context.config,w=_.width,M=_.height;return new Ea((m[0]+1)/2*w,(1-(m[1]+1)/2)*M)}},{key:"setPickHandler",value:function(a){this.pickHandler=a}},{key:"addEventMapping",value:function(a,s){this.mappingTable[a]||(this.mappingTable[a]=[]),this.mappingTable[a].push({fn:s,priority:0}),this.mappingTable[a].sort(function(u,h){return u.priority-h.priority})}},{key:"mapEvent",value:function(a){if(this.rootTarget){var s=this.mappingTable[a.type];if(s)for(var u=0,h=s.length;u<h;u++)s[u].fn(a);else console.warn("[EventService]: Event mapping not defined for ".concat(a.type))}}},{key:"dispatchEvent",value:function(a,s,u){if(!u)a.propagationStopped=!1,a.propagationImmediatelyStopped=!1,this.propagate(a,s);else{a.eventPhase=a.AT_TARGET;var h=this.rootTarget.defaultView||null;a.currentTarget=h,this.notifyListeners(a,s)}}},{key:"propagate",value:function(a,s){if(a.target){var u=a.composedPath();a.eventPhase=a.CAPTURING_PHASE;for(var h=u.length-1;h>=1;h--)if(a.currentTarget=u[h],this.notifyTarget(a,s),a.propagationStopped||a.propagationImmediatelyStopped)return;if(a.eventPhase=a.AT_TARGET,a.currentTarget=a.target,this.notifyTarget(a,s),!(a.propagationStopped||a.propagationImmediatelyStopped)){var v=u.indexOf(a.currentTarget);a.eventPhase=a.BUBBLING_PHASE;for(var g=v+1;g<u.length;g++)if(a.currentTarget=u[g],this.notifyTarget(a,s),a.propagationStopped||a.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(a){var s=[a],u=this.rootTarget.defaultView||null;if(u&&u===a)return s.unshift(u.document),s;for(var h=0;h<VN&&a!==this.rootTarget;h++)ii.isNode(a)&&a.parentNode&&(s.push(a.parentNode),a=a.parentNode);return u&&s.push(u),s}},{key:"hitTest",value:function(a){var s=a.viewportX,u=a.viewportY,h=this.context.config,v=h.width,g=h.height,m=h.disableHitTesting;return s<0||u<0||s>v||u>g?null:!m&&this.pickHandler(a)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(a,s){var u,h=s==null?void 0:s.target;if((u=h)!==null&&u!==void 0&&u.shadowRoot&&(h=s.composedPath()[0]),h){if(h===a)return!0;if(a&&a.contains)return a.contains(h)}return s!=null&&s.composedPath?s.composedPath().indexOf(a)>-1:!1}},{key:"getExistedHTML",value:function(a){if(a.nativeEvent.composedPath)for(var s=0,u=a.nativeEvent.composedPath();s<u.length;s++){var h=u[s],v=this.nativeHTMLMap.get(h);if(v)return v}return null}},{key:"pickTarget",value:function(a){return this.hitTest({clientX:a.clientX,clientY:a.clientY,viewportX:a.viewportX,viewportY:a.viewportY,x:a.canvasX,y:a.canvasY})}},{key:"createPointerEvent",value:function(a,s,u,h){var v=this.allocateEvent(pA);this.copyPointerData(a,v),this.copyMouseData(a,v),this.copyData(a,v),v.nativeEvent=a.nativeEvent,v.originalEvent=a;var g=this.getExistedHTML(v),m=this.context.contextService.getDomElement();return v.target=u!=null?u:g||this.isNativeEventFromCanvas(m,v.nativeEvent)&&this.pickTarget(v)||h,typeof s=="string"&&(v.type=s),v}},{key:"createWheelEvent",value:function(a){var s=this.allocateEvent(Cx);this.copyWheelData(a,s),this.copyMouseData(a,s),this.copyData(a,s),s.nativeEvent=a.nativeEvent,s.originalEvent=a;var u=this.getExistedHTML(s),h=this.context.contextService.getDomElement();return s.target=u||this.isNativeEventFromCanvas(h,s.nativeEvent)&&this.pickTarget(s),s}},{key:"trackingData",value:function(a){return this.mappingState.trackingData[a]||(this.mappingState.trackingData[a]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[a]}},{key:"cloneWheelEvent",value:function(a){var s=this.allocateEvent(Cx);return s.nativeEvent=a.nativeEvent,s.originalEvent=a.originalEvent,this.copyWheelData(a,s),this.copyMouseData(a,s),this.copyData(a,s),s.target=a.target,s.path=a.composedPath().slice(),s.type=a.type,s}},{key:"clonePointerEvent",value:function(a,s){var u=this.allocateEvent(pA);return u.nativeEvent=a.nativeEvent,u.originalEvent=a.originalEvent,this.copyPointerData(a,u),this.copyMouseData(a,u),this.copyData(a,u),u.target=a.target,u.path=a.composedPath().slice(),u.type=s!=null?s:u.type,u}},{key:"copyPointerData",value:function(a,s){s.pointerId=a.pointerId,s.width=a.width,s.height=a.height,s.isPrimary=a.isPrimary,s.pointerType=a.pointerType,s.pressure=a.pressure,s.tangentialPressure=a.tangentialPressure,s.tiltX=a.tiltX,s.tiltY=a.tiltY,s.twist=a.twist}},{key:"copyMouseData",value:function(a,s){s.altKey=a.altKey,s.button=a.button,s.buttons=a.buttons,s.ctrlKey=a.ctrlKey,s.metaKey=a.metaKey,s.shiftKey=a.shiftKey,s.client.copyFrom(a.client),s.movement.copyFrom(a.movement),s.canvas.copyFrom(a.canvas),s.screen.copyFrom(a.screen),s.global.copyFrom(a.global),s.offset.copyFrom(a.offset)}},{key:"copyWheelData",value:function(a,s){s.deltaMode=a.deltaMode,s.deltaX=a.deltaX,s.deltaY=a.deltaY,s.deltaZ=a.deltaZ}},{key:"copyData",value:function(a,s){s.isTrusted=a.isTrusted,s.timeStamp=sA.now(),s.type=a.type,s.detail=a.detail,s.view=a.view,s.page.copyFrom(a.page),s.viewport.copyFrom(a.viewport)}},{key:"allocateEvent",value:function(a){this.eventPool.has(a)||this.eventPool.set(a,[]);var s=this.eventPool.get(a).pop()||new a(this);return s.eventPhase=s.NONE,s.currentTarget=null,s.path=[],s.target=null,s}},{key:"freeEvent",value:function(a){if(a.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var s=a.constructor;this.eventPool.has(s)||this.eventPool.set(s,[]),this.eventPool.get(s).push(a)}},{key:"notifyTarget",value:function(a,s){s=s!=null?s:a.type;var u=a.eventPhase===a.CAPTURING_PHASE||a.eventPhase===a.AT_TARGET?"".concat(s,"capture"):s;this.notifyListeners(a,u),a.eventPhase===a.AT_TARGET&&this.notifyListeners(a,s)}},{key:"notifyListeners",value:function(a,s){var u=a.currentTarget.emitter,h=u._events[s];if(h)if("fn"in h)h.once&&u.removeListener(s,h.fn,void 0,!0),h.fn.call(a.currentTarget||h.context,a);else for(var v=0;v<h.length&&!a.propagationImmediatelyStopped;v++)h[v].once&&u.removeListener(s,h[v].fn,void 0,!0),h[v].fn.call(a.currentTarget||h[v].context,a)}},{key:"findMountedTarget",value:function(a){if(!a)return null;for(var s=a[a.length-1],u=a.length-2;u>=0;u--){var h=a[u];if(h===this.rootTarget||ii.isNode(h)&&h.parentNode===s)s=a[u];else break}return s}},{key:"getCursor",value:function(a){for(var s=a;s;){var u=YW(s)&&s.getAttribute("cursor");if(u)return u;s=ii.isNode(s)&&s.parentNode}}}])}(),Gp=function(){function t(){ke(this,t)}return De(t,[{key:"getOrCreateCanvas",value:function(a,s){if(this.canvas)return this.canvas;if(a||ee.offscreenCanvas)this.canvas=a||ee.offscreenCanvas,this.context=this.canvas.getContext("2d",Tn({willReadFrequently:!0},s));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Tn({willReadFrequently:!0},s)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(u){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Tn({willReadFrequently:!0},s))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(a,s){return this.context?this.context:(this.getOrCreateCanvas(a,s),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch(a){}try{return document.createElement("canvas")}catch(a){}return null}}])}(),Wd=function(t){return t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE",t}({}),Hd=function(){function t(i,a){ke(this,t),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new so,initAsync:new lA,dirtycheck:new H0,cull:new H0,beginFrame:new so,beforeRender:new so,render:new so,afterRender:new so,endFrame:new so,destroy:new so,pick:new uA,pickSync:new H0,pointerDown:new so,pointerUp:new so,pointerMove:new so,pointerOut:new so,pointerOver:new so,pointerWheel:new so,pointerCancel:new so,click:new so},this.globalRuntime=i,this.context=a}return De(t,[{key:"init",value:function(a){var s=this,u=Tn(Tn({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(h){h.apply(u,s.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,a()):this.hooks.initAsync.promise().then(function(){s.inited=!0,a()}).catch(function(h){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var a=this.context.config.renderer,s=a.getConfig(),u=s.enableDirtyRectangleRendering;return!u||this.context.renderingContext.renderReasons.has(Wd.CAMERA_CHANGED)}},{key:"render",value:function(a,s,u){var h=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var v=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(v.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),v.renderReasons.size&&this.inited){v.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var g=v.renderReasons.size===1&&v.renderReasons.has(Wd.CAMERA_CHANGED),m=!a.disableRenderHooks||!(a.disableRenderHooks&&g);m&&this.renderDisplayObject(v.root,a,v),this.hooks.beginFrame.call(s),m&&v.renderListCurrentFrame.forEach(function(_){h.hooks.beforeRender.call(_),h.hooks.render.call(_),h.hooks.afterRender.call(_)}),this.hooks.endFrame.call(s),v.renderListCurrentFrame=[],v.renderReasons.clear(),u()}}},{key:"renderDisplayObject",value:function(a,s,u){var h=this,v=s.renderer.getConfig(),g=v.enableDirtyCheck,m=v.enableCulling;function _(P){var k=P.renderable,D=P.sortable,R=g?k.dirty||u.dirtyRectangleRenderingDisabled?P:null:P;if(R){var B=m?h.hooks.cull.call(R,h.context.camera):R;B&&(h.stats.rendered+=1,u.renderListCurrentFrame.push(B))}k.dirty=!1,D.renderOrder=h.zIndexCounter,h.zIndexCounter+=1,h.stats.total+=1,D.dirty&&(h.sort(P,D),D.dirty=!1,D.dirtyChildren=[],D.dirtyReason=void 0)}for(var w=[a];w.length>0;){var M=w.pop();_(M);for(var O=M.sortable.sorted||M.childNodes,C=O.length-1;C>=0;C--)w.push(O[C])}}},{key:"sort",value:function(a,s){s.sorted&&s.dirtyReason!==Pp.Z_INDEX_CHANGED?s.dirtyChildren.forEach(function(u){var h=a.childNodes.indexOf(u);if(h===-1){var v=s.sorted.indexOf(u);v>=0&&s.sorted.splice(v,1)}else if(s.sorted.length===0)s.sorted.push(u);else{var g=aA(s.sorted,u);s.sorted.splice(g,0,u)}}):s.sorted=a.childNodes.slice().sort(EN)}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Wd.DISPLAY_OBJECT_CHANGED)}}])}(),yA=/\[\s*(.*)=(.*)\s*\]/,Yd=function(){function t(){ke(this,t)}return De(t,[{key:"selectOne",value:function(a,s){var u=this;if(a.startsWith("."))return s.find(function(m){return((m==null?void 0:m.classList)||[]).indexOf(u.getIdOrClassname(a))>-1});if(a.startsWith("#"))return s.find(function(m){return m.id===u.getIdOrClassname(a)});if(a.startsWith("[")){var h=this.getAttribute(a),v=h.name,g=h.value;return v?s.find(function(m){return s!==m&&(v==="name"?m.name===g:u.attributeToString(m,v)===g)}):null}return s.find(function(m){return s!==m&&m.nodeName===a})}},{key:"selectAll",value:function(a,s){var u=this;if(a.startsWith("."))return s.findAll(function(m){return s!==m&&((m==null?void 0:m.classList)||[]).indexOf(u.getIdOrClassname(a))>-1});if(a.startsWith("#"))return s.findAll(function(m){return s!==m&&m.id===u.getIdOrClassname(a)});if(a.startsWith("[")){var h=this.getAttribute(a),v=h.name,g=h.value;return v?s.findAll(function(m){return s!==m&&(v==="name"?m.name===g:u.attributeToString(m,v)===g)}):[]}return s.findAll(function(m){return s!==m&&m.nodeName===a})}},{key:"is",value:function(a,s){if(a.startsWith("."))return s.className===this.getIdOrClassname(a);if(a.startsWith("#"))return s.id===this.getIdOrClassname(a);if(a.startsWith("[")){var u=this.getAttribute(a),h=u.name,v=u.value;return h==="name"?s.name===v:this.attributeToString(s,h)===v}return s.nodeName===a}},{key:"getIdOrClassname",value:function(a){return a.substring(1)}},{key:"getAttribute",value:function(a){var s=a.match(yA),u="",h="";return s&&s.length>2&&(u=s[1].replace(/"/g,""),h=s[2].replace(/"/g,"")),{name:u,value:h}}},{key:"attributeToString",value:function(a,s){if(!a.getAttribute)return"";var u=a.getAttribute(s);return Ar(u)?"":u.toString?u.toString():""}}])}(),Jr=function(t){return t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.MOUNTED="DOMNodeInsertedIntoDocument",t.REMOVED="removed",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.REPARENT="reparent",t.DESTROY="destroy",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled",t}({}),Lc=function(t){function i(a,s,u,h,v,g,m,_){var w;return ke(this,i),w=It(this,i,[null]),w.relatedNode=s,w.prevValue=u,w.newValue=h,w.attrName=v,w.attrChange=g,w.prevParsedValue=m,w.newParsedValue=_,w.type=a,w}return Jt(i,t),De(i)}(Ox);Lc.ADDITION=2,Lc.MODIFICATION=1,Lc.REMOVAL=3;function mA(t){var i=t.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0)}var tH=new Lc(Jr.REPARENT,null,"","","",0,"",""),GN=m_(),Wn=Cr(),WN=Br(1,1,1),U0=Dn(),ya=m_(),Yl=Cr(),Wp=Dn(),el=mi(),zu=Cr(),Ud=mi(),HN=Cr(),X0=Cr(),rl=Cr(),Px=Dn(),Yr=mi(),th=mi(),Ci=mi(),Dc={affectChildren:!0},YN=function(){function t(i){ke(this,t),this.pendingEvents=new Map,this.boundsChangedEvent=new Kn(Jr.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=i}return De(t,[{key:"matches",value:function(a,s){return this.runtime.sceneGraphSelector.is(a,s)}},{key:"querySelector",value:function(a,s){return this.runtime.sceneGraphSelector.selectOne(a,s)}},{key:"querySelectorAll",value:function(a,s){return this.runtime.sceneGraphSelector.selectAll(a,s)}},{key:"attach",value:function(a,s,u){var h,v=!1;a.parentNode&&(v=a.parentNode!==s,this.detach(a));var g=a.nodeName===Xt.FRAGMENT,m=jd(s);a.parentNode=s;var _=g?a.childNodes:[a];yn(u)?_.forEach(function(C){s.childNodes.splice(u,0,C),C.parentNode=s}):_.forEach(function(C){s.childNodes.push(C),C.parentNode=s});var w=s,M=w.sortable;if((M!=null&&(h=M.sorted)!==null&&h!==void 0&&h.length||a.parsedStyle.zIndex)&&(M.dirtyChildren.indexOf(a)===-1&&M.dirtyChildren.push(a),M.dirty=!0,M.dirtyReason=Pp.ADDED),!m){if(g)this.dirtifyFragment(a);else{var O=a.transformable;O&&this.dirtifyWorld(a,O)}v&&a.dispatchEvent(tH)}}},{key:"detach",value:function(a){if(a.parentNode){var s,u,h=a.transformable,v=a.parentNode,g=v.sortable;(g!=null&&(s=g.sorted)!==null&&s!==void 0&&s.length||(u=a.style)!==null&&u!==void 0&&u.zIndex)&&(g.dirtyChildren.indexOf(a)===-1&&g.dirtyChildren.push(a),g.dirty=!0,g.dirtyReason=Pp.REMOVED);var m=a.parentNode.childNodes.indexOf(a);m>-1&&a.parentNode.childNodes.splice(m,1),h&&this.dirtifyWorld(a,h),a.parentNode=null}}},{key:"getOrigin",value:function(a){return a.getGeometryBounds(),a.transformable.origin}},{key:"setOrigin",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof s=="number"&&(s=[s,u,h]);var v=a.transformable;if(!(s[0]===v.origin[0]&&s[1]===v.origin[1]&&s[2]===v.origin[2])){var g=v.origin;g[0]=s[0],g[1]=s[1],g[2]=s[2]||0,this.dirtifyLocal(a,v)}}},{key:"rotate",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof s=="number"&&(s=Br(s,u,h));var v=a.transformable;if(a.parentNode===null||!a.parentNode.transformable)this.rotateLocal(a,s);else{var g=el;xd(g,s[0],s[1],s[2]);var m=this.getRotation(a),_=this.getRotation(a.parentNode);i0(Ci,_),Au(Ci,Ci),ys(g,Ci,g),ys(v.localRotation,g,m),y_(v.localRotation,v.localRotation),this.dirtifyLocal(a,v)}}},{key:"rotateLocal",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof s=="number"&&(s=Br(s,u,h));var v=a.transformable;xd(th,s[0],s[1],s[2]),QT(v.localRotation,v.localRotation,th),this.dirtifyLocal(a,v)}},{key:"setEulerAngles",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof s=="number"&&(s=Br(s,u,h));var v=a.transformable;if(a.parentNode===null||!a.parentNode.transformable)this.setLocalEulerAngles(a,s);else{xd(v.localRotation,s[0],s[1],s[2]);var g=this.getRotation(a.parentNode);i0(Yr,Au(el,g)),QT(v.localRotation,v.localRotation,Yr),this.dirtifyLocal(a,v)}}},{key:"setLocalEulerAngles",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof s=="number"&&(s=Br(s,u,h));var g=a.transformable;xd(g.localRotation,s[0],s[1],s[2]),v&&this.dirtifyLocal(a,g)}},{key:"translateLocal",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof s=="number"&&(s=Br(s,u,h));var v=a.transformable;vd(s,Wn)||(Af(s,s,v.localRotation),Xs(v.localPosition,v.localPosition,s),this.dirtifyLocal(a,v))}},{key:"setPosition",value:function(a,s){var u,h=a.transformable;if(rl[0]=s[0],rl[1]=s[1],rl[2]=(u=s[2])!==null&&u!==void 0?u:0,!vd(this.getPosition(a),rl)){if(On(h.position,rl),a.parentNode===null||!a.parentNode.transformable)On(h.localPosition,rl);else{var v=a.parentNode.transformable;Mu(Px,v.worldTransform),kl(Px,Px),yi(h.localPosition,rl,Px)}this.dirtifyLocal(a,h)}}},{key:"setLocalPosition",value:function(a,s){var u,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,v=a.transformable;X0[0]=s[0],X0[1]=s[1],X0[2]=(u=s[2])!==null&&u!==void 0?u:0,!vd(v.localPosition,X0)&&(On(v.localPosition,X0),h&&this.dirtifyLocal(a,v))}},{key:"scaleLocal",value:function(a,s){var u,h=a.transformable;ps(h.localScale,h.localScale,nn(Yl,s[0],s[1],(u=s[2])!==null&&u!==void 0?u:1)),this.dirtifyLocal(a,h)}},{key:"setLocalScale",value:function(a,s){var u,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,v=a.transformable;nn(Yl,s[0],s[1],(u=s[2])!==null&&u!==void 0?u:v.localScale[2]),!vd(Yl,v.localScale)&&(On(v.localScale,Yl),h&&this.dirtifyLocal(a,v))}},{key:"translate",value:function(a,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof s=="number"&&(s=nn(Yl,s,u,h)),!vd(s,Wn)&&(Xs(Yl,this.getPosition(a),s),this.setPosition(a,Yl))}},{key:"setRotation",value:function(a,s,u,h,v){var g=a.transformable;if(typeof s=="number"&&(s=KT(s,u,h,v)),a.parentNode===null||!a.parentNode.transformable)this.setLocalRotation(a,s);else{var m=this.getRotation(a.parentNode);i0(el,m),Au(el,el),ys(g.localRotation,el,s),y_(g.localRotation,g.localRotation),this.dirtifyLocal(a,g)}}},{key:"setLocalRotation",value:function(a,s,u,h,v){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof s=="number"&&(s=xp(el,s,u,h,v));var m=a.transformable;i0(m.localRotation,s),g&&this.dirtifyLocal(a,m)}},{key:"setLocalSkew",value:function(a,s,u){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof s=="number"&&(s=uR(ya,s,u));var v=a.transformable;b_(v.localSkew,s),h&&this.dirtifyLocal(a,v)}},{key:"dirtifyLocal",value:function(a,s){jd(a)||s.localDirtyFlag||(s.localDirtyFlag=!0,s.dirtyFlag||this.dirtifyWorld(a,s))}},{key:"dirtifyWorld",value:function(a,s){s.dirtyFlag||this.unfreezeParentToRoot(a),this.dirtifyWorldInternal(a,s),this.dirtifyToRoot(a,!0)}},{key:"dirtifyFragment",value:function(a){var s=a.transformable;s&&(s.frozen=!1,s.dirtyFlag=!0,s.localDirtyFlag=!0);var u=a.renderable;u&&(u.renderBoundsDirty=!0,u.boundsDirty=!0,u.dirty=!0);for(var h=a.childNodes.length,v=0;v<h;v++)this.dirtifyFragment(a.childNodes[v]);a.nodeName===Xt.FRAGMENT&&this.pendingEvents.set(a,!1)}},{key:"triggerPendingEvents",value:function(){var a=this,s=new Set,u=function(v,g){!v.isConnected||s.has(v)||v.nodeName===Xt.FRAGMENT||(a.boundsChangedEvent.detail=g,a.boundsChangedEvent.target=v,v.isMutationObserved?v.dispatchEvent(a.boundsChangedEvent):v.ownerDocument.defaultView.dispatchEvent(a.boundsChangedEvent,!0),s.add(v))};this.pendingEvents.forEach(function(h,v){v.nodeName!==Xt.FRAGMENT&&(Dc.affectChildren=h,h?v.forEach(function(g){u(g,Dc)}):u(v,Dc))}),s.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=a;for(u.renderable&&(u.renderable.dirty=!0);u;)mA(u),u=u.parentNode;s&&a.forEach(function(h){mA(h)}),this.informDependentDisplayObjects(a),this.pendingEvents.set(a,s)}},{key:"updateDisplayObjectDependency",value:function(a,s,u,h){if(s&&s!==u){var v=this.displayObjectDependencyMap.get(s);if(v&&v[a]){var g=v[a].indexOf(h);v[a].splice(g,1)}}if(u){var m=this.displayObjectDependencyMap.get(u);m||(this.displayObjectDependencyMap.set(u,{}),m=this.displayObjectDependencyMap.get(u)),m[a]||(m[a]=[]),m[a].push(h)}}},{key:"informDependentDisplayObjects",value:function(a){var s=this,u=this.displayObjectDependencyMap.get(a);u&&Object.keys(u).forEach(function(h){u[h].forEach(function(v){s.dirtifyToRoot(v,!0),v.dispatchEvent(new Lc(Jr.ATTR_MODIFIED,v,s,s,h,Lc.MODIFICATION,s,s)),v.isCustomElement&&v.isConnected&&v.attributeChangedCallback&&v.attributeChangedCallback(h,s,s)})})}},{key:"getPosition",value:function(a){var s=a.transformable;return s_(s.position,this.getWorldTransform(a,s))}},{key:"getRotation",value:function(a){var s=a.transformable;return yp(s.rotation,this.getWorldTransform(a,s))}},{key:"getScale",value:function(a){var s=a.transformable;return yd(s.scaling,this.getWorldTransform(a,s))}},{key:"getWorldTransform",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.transformable;return!s.localDirtyFlag&&!s.dirtyFlag||(a.parentNode&&a.parentNode.transformable&&this.getWorldTransform(a.parentNode),this.sync(a,s)),s.worldTransform}},{key:"getLocalPosition",value:function(a){return a.transformable.localPosition}},{key:"getLocalRotation",value:function(a){return a.transformable.localRotation}},{key:"getLocalScale",value:function(a){return a.transformable.localScale}},{key:"getLocalSkew",value:function(a){return a.transformable.localSkew}},{key:"calcLocalTransform",value:function(a){var s=a.localSkew[0]!==0||a.localSkew[1]!==0;if(s){r0(a.localTransform,a.localRotation,a.localPosition,Br(1,1,1),a.origin),(a.localSkew[0]!==0||a.localSkew[1]!==0)&&(Pf(Wp),Wp[4]=Math.tan(a.localSkew[0]),Wp[1]=Math.tan(a.localSkew[1]),mo(a.localTransform,a.localTransform,Wp));var u=r0(Wp,xp(el,0,0,0,1),nn(Yl,1,1,1),a.localScale,a.origin);mo(a.localTransform,a.localTransform,u)}else{var h=a.localTransform,v=a.localPosition,g=a.localRotation,m=a.localScale,_=a.origin,w=v[0]!==0||v[1]!==0||v[2]!==0,M=g[3]!==1||g[0]!==0||g[1]!==0||g[2]!==0,O=m[0]!==1||m[1]!==1||m[2]!==1,C=_[0]!==0||_[1]!==0||_[2]!==0;!M&&!O&&!C?w?Ef(h,v):Pf(h):r0(h,g,v,m,_)}}},{key:"getLocalTransform",value:function(a){var s=a.transformable;return s.localDirtyFlag&&(this.calcLocalTransform(s),s.localDirtyFlag=!1),s.localTransform}},{key:"setLocalTransform",value:function(a,s){var u=s_(zu,s),h=yp(Ud,s),v=yd(HN,s);this.setLocalScale(a,v,!1),this.setLocalPosition(a,u,!1),this.setLocalRotation(a,h,void 0,void 0,void 0,!1),this.dirtifyLocal(a,a.transformable)}},{key:"resetLocalTransform",value:function(a){this.setLocalScale(a,WN,!1),this.setLocalPosition(a,Wn,!1),this.setLocalEulerAngles(a,Wn,void 0,void 0,!1),this.setLocalSkew(a,GN,void 0,!1),this.dirtifyLocal(a,a.transformable)}},{key:"getTransformedGeometryBounds",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=arguments.length>2?arguments[2]:void 0,h=this.getGeometryBounds(a,s);if(!Zi.isEmpty(h)){var v=u||new Zi;return v.setFromTransformedAABB(h,this.getWorldTransform(a)),v}return null}},{key:"getGeometryBounds",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=a,h=u.geometry;h.dirty&&ee.styleValueRegistry.updateGeometry(a);var v=s?h.renderBounds:h.contentBounds||null;return v||new Zi}},{key:"getBounds",value:function(a){var s=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=a,v=h.renderable;if(!v.boundsDirty&&!u&&v.bounds)return v.bounds;if(!v.renderBoundsDirty&&u&&v.renderBounds)return v.renderBounds;var g=u?v.renderBounds:v.bounds,m=this.getTransformedGeometryBounds(a,u,g),_=a.childNodes;if(_.forEach(function(O){var C=s.getBounds(O,u);C&&(m?m.add(C):(m=g||new Zi,m.update(C.center,C.halfExtents)))}),m||(m=new Zi),u){var w=gx(a);if(w){var M=w.parsedStyle.clipPath.getBounds(u);m?M&&(m=M.intersection(m)):m.update(M.center,M.halfExtents)}}return u?(v.renderBounds=m,v.renderBoundsDirty=!1):(v.bounds=m,v.boundsDirty=!1),m}},{key:"getLocalBounds",value:function(a){if(a.parentNode){var s=U0;a.parentNode.transformable&&(s=kl(Wp,this.getWorldTransform(a.parentNode)));var u=this.getBounds(a);if(!Zi.isEmpty(u)){var h=new Zi;return h.setFromTransformedAABB(u,s),h}}return this.getBounds(a)}},{key:"getBoundingClientRect",value:function(a){var s,u,h=this.getGeometryBounds(a);Zi.isEmpty(h)||(u=new Zi,u.setFromTransformedAABB(h,this.getWorldTransform(a)));var v=(s=a.ownerDocument)===null||s===void 0||(s=s.defaultView)===null||s===void 0?void 0:s.getContextService().getBoundingClientRect();if(u){var g=u.getMin(),m=ye(g,2),_=m[0],w=m[1],M=u.getMax(),O=ye(M,2),C=O[0],P=O[1];return new Pd(_+((v==null?void 0:v.left)||0),w+((v==null?void 0:v.top)||0),C-_,P-w)}return new Pd((v==null?void 0:v.left)||0,(v==null?void 0:v.top)||0,0,0)}},{key:"dirtifyWorldInternal",value:function(a,s){var u=this;if(!s.dirtyFlag){s.dirtyFlag=!0,s.frozen=!1,a.childNodes.forEach(function(g){var m=g.transformable;m.dirtyFlag||u.dirtifyWorldInternal(g,m)});var h=a,v=h.renderable;v&&(v.renderBoundsDirty=!0,v.boundsDirty=!0,v.dirty=!0)}}},{key:"syncHierarchy",value:function(a){var s=a.transformable;if(!s.frozen){s.frozen=!0,(s.localDirtyFlag||s.dirtyFlag)&&this.sync(a,s);for(var u=a.childNodes,h=0;h<u.length;h++)this.syncHierarchy(u[h])}}},{key:"sync",value:function(a,s){if(s.localDirtyFlag&&(this.calcLocalTransform(s),s.localDirtyFlag=!1),s.dirtyFlag){var u=a.parentNode,h=u&&u.transformable;u===null||!h?Mu(s.worldTransform,s.localTransform):mo(s.worldTransform,h.worldTransform,s.localTransform),s.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(a){for(var s=a.parentNode;s;){var u=s.transformable;u&&(u.frozen=!1),s=s.parentNode}}}])}(),Rt={MetricsString:"|\xC9q\xC5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},bA=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Hp=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,UN=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,eH=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,rH=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,XN=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Os=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Ya=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,As=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Ul=new RegExp("".concat(Hp.source,"|").concat(eH.source,"|").concat(XN.source,"|").concat(Ya.source)),Ic=new RegExp("".concat(UN.source,"|").concat(rH.source,"|").concat(Os.source,"|").concat(As.source)),$N=function(){function t(i){var a=this;ke(this,t),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(s,u){return a.isBreakingSpace(u)?!1:!!(s&&(Ic.exec(u)||Ul.exec(s)))},this.trimByKinsokuShorui=function(s){var u=_t(s),h=u[u.length-2];if(!h)return s;var v=h[h.length-1];return u[u.length-2]=h.slice(0,-1),u[u.length-1]=v+u[u.length-1],u},this.runtime=i}return De(t,[{key:"measureFont",value:function(a,s){if(this.fontMetricsCache[a])return this.fontMetricsCache[a];var u={ascent:0,descent:0,fontSize:0},h=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(s),v=this.runtime.offscreenCanvasCreator.getOrCreateContext(s,{willReadFrequently:!0});v.font=a;var g=Rt.MetricsString+Rt.BaselineSymbol,m=Math.ceil(v.measureText(g).width),_=Math.ceil(v.measureText(Rt.BaselineSymbol).width),w=Rt.HeightMultiplier*_;_=_*Rt.BaselineMultiplier|0,h.width=m,h.height=w,v.fillStyle="#f00",v.fillRect(0,0,m,w),v.font=a,v.textBaseline="alphabetic",v.fillStyle="#000",v.fillText(g,0,_);var M=v.getImageData(0,0,m||1,w||1).data,O=M.length,C=m*4,P=0,k=0,D=!1;for(P=0;P<_;++P){for(var R=0;R<C;R+=4)if(M[k+R]!==255){D=!0;break}if(!D)k+=C;else break}for(u.ascent=_-P,k=O-C,D=!1,P=w;P>_;--P){for(var B=0;B<C;B+=4)if(M[k+B]!==255){D=!0;break}if(!D)k-=C;else break}return u.descent=P-_,u.fontSize=u.ascent+u.descent,this.fontMetricsCache[a]=u,u}},{key:"measureText",value:function(a,s,u){var h=s.fontSize,v=h===void 0?16:h,g=s.wordWrap,m=g===void 0?!1:g,_=s.lineHeight,w=s.lineWidth,M=w===void 0?1:w,O=s.textBaseline,C=O===void 0?"alphabetic":O,P=s.textAlign,k=P===void 0?"start":P,D=s.letterSpacing,R=D===void 0?0:D,B=s.textPath;s.textPathSide,s.textPathStartOffset;var z=s.leading,j=z===void 0?0:z,V=IN(s),G=this.measureFont(V,u);G.fontSize===0&&(G.fontSize=v,G.ascent=v);var Y=this.runtime.offscreenCanvasCreator.getOrCreateContext(u);Y.font=V,s.isOverflowing=!1;var Z=m?this.wordWrap(a,s,u):a,Q=Z.split(/(?:\r\n|\r|\n)/),tt=new Array(Q.length),rt=0;if(B){B.getTotalLength();for(var ct=0;ct<Q.length;ct++)Y.measureText(Q[ct]).width+(Q[ct].length-1)*R}else{for(var nt=0;nt<Q.length;nt++){var lt=Y.measureText(Q[nt]).width+(Q[nt].length-1)*R;tt[nt]=lt,rt=Math.max(rt,lt)}var ft=rt+M,q=_||G.fontSize+M,H=Math.max(q,G.fontSize+M)+(Q.length-1)*(q+j);q+=j;var U=0;return C==="middle"?U=-H/2:C==="bottom"||C==="alphabetic"||C==="ideographic"?U=-H:(C==="top"||C==="hanging")&&(U=0),{font:V,width:ft,height:H,lines:Q,lineWidths:tt,lineHeight:q,maxLineWidth:rt,fontProperties:G,lineMetrics:tt.map(function(J,st){var ut=0;return k==="center"||k==="middle"?ut-=J/2:(k==="right"||k==="end")&&(ut-=J),new Pd(ut-M/2,U+st*q,J+M,q)})}}}},{key:"wordWrap",value:function(a,s,u){var h=this,v=this,g=s.wordWrapWidth,m=g===void 0?0:g,_=s.letterSpacing,w=_===void 0?0:_,M=s.maxLines,O=M===void 0?1/0:M,C=s.textOverflow,P=this.runtime.offscreenCanvasCreator.getOrCreateContext(u),k=m+w,D="";C==="ellipsis"?D="...":C&&C!=="clip"&&(D=C);var R=Array.from(a),B=[],z=0,j=0,V=0,G={},Y=function(U){return h.getFromCache(U,w,G,P)},Z=Y(D);function Q(H,U,J,st){for(;Y(H)<st&&U<R.length-1&&!v.isNewline(R[U+1]);)U+=1,H+=R[U];for(;Y(H)>st&&U>J;)U-=1,H=H.slice(0,-1);return{lineTxt:H,txtLastCharIndex:U}}function tt(H,U){if(!(Z<=0||Z>k)){if(!B[H]){B[H]=D;return}var J=Q(B[H],U,V+1,k-Z);B[H]=J.lineTxt+D}}for(var rt=0;rt<R.length;rt++){var ct=R[rt],nt=R[rt-1],lt=R[rt+1],ft=Y(ct);if(this.isNewline(ct)){if(z+1>=O){s.isOverflowing=!0,rt<R.length-1&&tt(z,rt-1);break}V=rt-1,z+=1,j=0,B[z]="";continue}if(j>0&&j+ft>k){var q=Q(B[z],rt-1,V+1,k);if(q.txtLastCharIndex!==rt-1){if(B[z]=q.lineTxt,q.txtLastCharIndex===R.length-1)break;rt=q.txtLastCharIndex+1,ct=R[rt],nt=R[rt-1],lt=R[rt+1],ft=Y(ct)}if(z+1>=O){s.isOverflowing=!0,tt(z,rt-1);break}if(V=rt-1,z+=1,j=0,B[z]="",this.isBreakingSpace(ct))continue;this.canBreakInLastChar(ct)||(B=this.trimToBreakable(B),j=this.sumTextWidthByCache(B[z]||"",Y)),this.shouldBreakByKinsokuShorui(ct,lt)&&(B=this.trimByKinsokuShorui(B),j+=Y(nt||""))}j+=ft,B[z]=(B[z]||"")+ct}return B.join(`
`)}},{key:"isBreakingSpace",value:function(a){return typeof a!="string"?!1:Rt.BreakingSpaces.indexOf(a.charCodeAt(0))>=0}},{key:"isNewline",value:function(a){return typeof a!="string"?!1:Rt.Newlines.indexOf(a.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(a){var s=_t(a),u=s[s.length-2],h=this.findBreakableIndex(u);if(h===-1||!u)return s;var v=u.slice(h,h+1),g=this.isBreakingSpace(v),m=h+1,_=h+(g?0:1);return s[s.length-1]+=u.slice(m,u.length),s[s.length-2]=u.slice(0,_),s}},{key:"canBreakInLastChar",value:function(a){return!(a&&bA.test(a))}},{key:"sumTextWidthByCache",value:function(a,s){return a.split("").reduce(function(u,h){return u+s(h)},0)}},{key:"findBreakableIndex",value:function(a){for(var s=a.length-1;s>=0;s--)if(!bA.test(a[s]))return s;return-1}},{key:"getFromCache",value:function(a,s,u,h){var v=u[a];if(typeof v!="number"){var g=a.length*s,m=h.measureText(a);v=m.width+g,u[a]=v}return v}}])}(),ee={},Xd=function(t){var i=new Gd,a=new Wrt;return t={},Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(t,Xt.FRAGMENT,null),Xt.CIRCLE,new jN),Xt.ELLIPSE,new QW),Xt.RECT,i),Xt.IMAGE,i),Xt.GROUP,new Tx),Xt.LINE,new JW),Xt.TEXT,new Mx(ee)),Xt.POLYLINE,a),Xt.POLYGON,a),Gr(Gr(Gr(t,Xt.PATH,new Grt),Xt.HTML,new vA),Xt.MESH,null)}(),lo=function(t){var i=new AN,a=new Ec;return t={},Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(t,xe.PERCENTAGE,null),xe.NUMBER,new VW),xe.ANGLE,new BW),xe.DEFINED_PATH,new zW),xe.PAINT,i),xe.COLOR,i),xe.FILTER,new FW),xe.LENGTH,a),xe.LENGTH_PERCENTAGE,a),xe.LENGTH_PERCENTAGE_12,new an),Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(t,xe.LENGTH_PERCENTAGE_14,new jW),xe.COORDINATE,new Ec),xe.OFFSET_DISTANCE,new GW),xe.OPACITY_VALUE,new Jf),xe.PATH,new WW),xe.LIST_OF_POINTS,new HW),xe.SHADOW_BLUR,new vx),xe.TEXT,new nA),xe.TEXT_TRANSFORM,new Fp),xe.TRANSFORM,new hA),Gr(Gr(Gr(t,xe.TRANSFORM_ORIGIN,new FN),xe.Z_INDEX,new dA),xe.MARKER,new zp)}(),qN=function(){return typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof Kt.g!="undefined"?Kt.g:{}};ee.CameraContribution=Uf,ee.AnimationTimeline=null,ee.EasingFunction=null,ee.offscreenCanvasCreator=new Gp,ee.sceneGraphSelector=new Yd,ee.sceneGraphService=new YN(ee),ee.textService=new $N(ee),ee.geometryUpdaterFactory=Xd,ee.CSSPropertySyntaxFactory=lo,ee.styleValueRegistry=new RW(ee),ee.layoutRegistry=null,ee.globalThis=qN(),ee.enableStyleSyntax=!0,ee.enableSizeAttenuation=!1;var ZN=0;function nH(){ZN=0}var $0=new Lc(Jr.INSERTED,null,"","","",0,"",""),q0=new Lc(Jr.REMOVED,null,"","","",0,"",""),KN=new Kn(Jr.DESTROY),QN=function(t){function i(){var a;ke(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=It(this,i,[].concat(u)),a.entity=ZN++,a.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},a.cullable={strategy:Tc.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},a.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},a.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},a.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},a.rBushNode={aabb:void 0},a.namespaceURI="g",a.scrollLeft=0,a.scrollTop=0,a.clientTop=0,a.clientLeft=0,a.destroyed=!1,a.style={},a.computedStyle={},a.parsedStyle={},a.attributes={},a}return Jt(i,t),De(i,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(s){this.setAttribute("class",s)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(s){return s!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var s=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[s+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var s=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[s-1]||null}return null}},{key:"cloneNode",value:function(s){throw new Error(In)}},{key:"appendChild",value:function(s,u){var h;if(s.destroyed)throw new Error(j_);return ee.sceneGraphService.attach(s,this,u),(h=this.ownerDocument)!==null&&h!==void 0&&h.defaultView&&(!jd(this)&&s.nodeName===Xt.FRAGMENT?this.ownerDocument.defaultView.mountFragment(s):this.ownerDocument.defaultView.mountChildren(s)),this.isMutationObserved&&($0.relatedNode=this,s.dispatchEvent($0)),s}},{key:"insertBefore",value:function(s,u){if(!u)this.appendChild(s);else{s.parentElement&&s.parentElement.removeChild(s);var h=this.childNodes.indexOf(u);h===-1?this.appendChild(s):this.appendChild(s,h)}return s}},{key:"replaceChild",value:function(s,u){var h=this.childNodes.indexOf(u);return this.removeChild(u),this.appendChild(s,h),u}},{key:"removeChild",value:function(s){var u;return q0.relatedNode=this,s.dispatchEvent(q0),(u=s.ownerDocument)!==null&&u!==void 0&&u.defaultView&&s.ownerDocument.defaultView.unmountChildren(s),ee.sceneGraphService.detach(s),s}},{key:"removeChildren",value:function(){for(var s=this.childNodes.length-1;s>=0;s--){var u=this.childNodes[s];this.removeChild(u)}}},{key:"destroyChildren",value:function(){for(var s=this.childNodes.length-1;s>=0;s--){var u=this.childNodes[s];u.childNodes.length>0&&u.destroyChildren(),u.destroy()}}},{key:"matches",value:function(s){return ee.sceneGraphService.matches(s,this)}},{key:"getElementById",value:function(s){return ee.sceneGraphService.querySelector("#".concat(s),this)}},{key:"getElementsByName",value:function(s){return ee.sceneGraphService.querySelectorAll('[name="'.concat(s,'"]'),this)}},{key:"getElementsByClassName",value:function(s){return ee.sceneGraphService.querySelectorAll(".".concat(s),this)}},{key:"getElementsByTagName",value:function(s){return ee.sceneGraphService.querySelectorAll(s,this)}},{key:"querySelector",value:function(s){return ee.sceneGraphService.querySelector(s,this)}},{key:"querySelectorAll",value:function(s){return ee.sceneGraphService.querySelectorAll(s,this)}},{key:"closest",value:function(s){var u=this;do{if(ee.sceneGraphService.matches(s,u))return u;u=u.parentElement}while(u!==null);return null}},{key:"find",value:function(s){var u=this,h=null;return this.forEach(function(v){return v!==u&&s(v)?(h=v,!1):!0}),h}},{key:"findAll",value:function(s){var u=this,h=[];return this.forEach(function(v){v!==u&&s(v)&&h.push(v)}),h}},{key:"after",value:function(){var s=this;if(this.parentNode){for(var u=this.parentNode.childNodes.indexOf(this),h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];v.forEach(function(m,_){var w;return(w=s.parentNode)===null||w===void 0?void 0:w.appendChild(m,u+_+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var s,u=this.parentNode.childNodes.indexOf(this),h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];var m=v[0],_=v.slice(1);this.parentNode.appendChild(m,u),(s=m).after.apply(s,_t(_))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var s=this,u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];h.forEach(function(g){return s.appendChild(g)})}},{key:"prepend",value:function(){for(var s=this,u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];h.forEach(function(g,m){return s.appendChild(g,m)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.destroyChildren(),this.dispatchEvent(KN),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return ee.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return ee.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return ee.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return ee.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return ee.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(s){if(typeof s!="symbol"){var u=this.attributes[s];return u}}},{key:"hasAttribute",value:function(s){return this.getAttributeNames().includes(s)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(s){this.setAttribute(s,null),delete this.attributes[s]}},{key:"setAttribute",value:function(s,u,h,v){this.attributes[s]=u}},{key:"getAttributeNS",value:function(s,u){throw new Error(In)}},{key:"getAttributeNode",value:function(s){throw new Error(In)}},{key:"getAttributeNodeNS",value:function(s,u){throw new Error(In)}},{key:"hasAttributeNS",value:function(s,u){throw new Error(In)}},{key:"removeAttributeNS",value:function(s,u){throw new Error(In)}},{key:"removeAttributeNode",value:function(s){throw new Error(In)}},{key:"setAttributeNS",value:function(s,u,h){throw new Error(In)}},{key:"setAttributeNode",value:function(s){throw new Error(In)}},{key:"setAttributeNodeNS",value:function(s){throw new Error(In)}},{key:"toggleAttribute",value:function(s,u){throw new Error(In)}}])}(ii);function bn(t){return!!(t!=null&&t.nodeName)}var _A=ee.globalThis.Proxy?ee.globalThis.Proxy:function(){},Fu=new Lc(Jr.ATTR_MODIFIED,null,null,null,null,Lc.MODIFICATION,null,null),Z0=Cr(),JN=mi(),li=function(t){function i(a){var s;return ke(this,i),s=It(this,i),s.isCustomElement=!1,s.isMutationObserved=!1,s.activeAnimations=[],s.config=a,s.id=a.id||"",s.name=a.name||"",(a.className||a.class)&&(s.className=a.className||a.class),s.nodeName=a.type||Xt.GROUP,a.initialParsedStyle&&Object.assign(s.parsedStyle,a.initialParsedStyle),s.initAttributes(a.style),ee.enableStyleSyntax&&(s.style=new _A({setProperty:function(h,v){s.setAttribute(h,v)},getPropertyValue:function(h){return s.getAttribute(h)},removeProperty:function(h){s.removeAttribute(h)},item:function(){return""}},{get:function(h,v){return h[v]!==void 0?h[v]:s.getAttribute(v)},set:function(h,v,g){return s.setAttribute(v,g),!0}})),s}return Jt(i,t),De(i,[{key:"destroy",value:function(){SO(i,"destroy",this,3)([]),this.getAnimations().forEach(function(s){s.cancel()})}},{key:"cloneNode",value:function(s,u){var h=Tn({},this.attributes);for(var v in h){var g=h[v];bn(g)&&v!=="clipPath"&&v!=="offsetPath"&&v!=="textPath"&&(h[v]=g.cloneNode(s)),u&&(h[v]=u(v,g))}var m=new this.constructor(Tn(Tn({},this.config),{},{style:h}));return m.setLocalTransform(this.getLocalTransform()),s&&this.children.forEach(function(_){if(!_.style.isMarker){var w=_.cloneNode(s);m.appendChild(w)}}),m}},{key:"initAttributes",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u={forceUpdateGeometry:!0};ee.styleValueRegistry.processProperties(this,s,u),this.renderable.dirty=!0}},{key:"setAttribute",value:function(s,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;qn(u)||(h||u!==this.attributes[s])&&(this.internalSetAttribute(s,u,{memoize:v}),SO(i,"setAttribute",this,3)([s,u]))}},{key:"internalSetAttribute",value:function(s,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=this.renderable,g=this.attributes[s],m=this.parsedStyle[s];ee.styleValueRegistry.processProperties(this,Gr({},s,u),h),v.dirty=!0;var _=this.parsedStyle[s];if(this.isConnected&&(Fu.relatedNode=this,Fu.prevValue=g,Fu.newValue=u,Fu.attrName=s,Fu.prevParsedValue=m,Fu.newParsedValue=_,this.isMutationObserved?this.dispatchEvent(Fu):(Fu.target=this,this.ownerDocument.defaultView.dispatchEvent(Fu,!0))),this.isCustomElement&&this.isConnected||!this.isCustomElement){var w,M;(w=(M=this).attributeChangedCallback)===null||w===void 0||w.call(M,s,g,u,m,_)}}},{key:"getBBox",value:function(){var s=this.getBounds(),u=s.getMin(),h=ye(u,2),v=h[0],g=h[1],m=s.getMax(),_=ye(m,2),w=_[0],M=_[1];return new Pd(v,g,w-v,M-g)}},{key:"setOrigin",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ee.sceneGraphService.setOrigin(this,Do(s,u,h,!1)),this}},{key:"getOrigin",value:function(){return ee.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ee.sceneGraphService.setPosition(this,Do(s,u,h,!1)),this}},{key:"setLocalPosition",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ee.sceneGraphService.setLocalPosition(this,Do(s,u,h,!1)),this}},{key:"translate",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ee.sceneGraphService.translate(this,Do(s,u,h,!1)),this}},{key:"translateLocal",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return ee.sceneGraphService.translateLocal(this,Do(s,u,h,!1)),this}},{key:"getPosition",value:function(){return ee.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return ee.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(s,u,h){return this.scaleLocal(s,u,h)}},{key:"scaleLocal",value:function(s,u,h){return typeof s=="number"&&(u=u||s,h=h||s,s=Do(s,u,h,!1)),ee.sceneGraphService.scaleLocal(this,s),this}},{key:"setLocalScale",value:function(s,u,h){return typeof s=="number"&&(u=u||s,h=h||s,s=Do(s,u,h,!1)),ee.sceneGraphService.setLocalScale(this,s),this}},{key:"getLocalScale",value:function(){return ee.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return ee.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var s=Cp(Z0,ee.sceneGraphService.getWorldTransform(this)),u=ye(s,3),h=u[2];return Fi(h)}},{key:"getLocalEulerAngles",value:function(){var s=Cp(Z0,ee.sceneGraphService.getLocalRotation(this)),u=ye(s,3),h=u[2];return Fi(h)}},{key:"setEulerAngles",value:function(s){return ee.sceneGraphService.setEulerAngles(this,0,0,s),this}},{key:"setLocalEulerAngles",value:function(s){return ee.sceneGraphService.setLocalEulerAngles(this,0,0,s),this}},{key:"rotateLocal",value:function(s,u,h){return Ar(u)&&Ar(h)?ee.sceneGraphService.rotateLocal(this,0,0,s):ee.sceneGraphService.rotateLocal(this,s,u,h),this}},{key:"rotate",value:function(s,u,h){return Ar(u)&&Ar(h)?ee.sceneGraphService.rotate(this,0,0,s):ee.sceneGraphService.rotate(this,s,u,h),this}},{key:"setRotation",value:function(s,u,h,v){return ee.sceneGraphService.setRotation(this,s,u,h,v),this}},{key:"setLocalRotation",value:function(s,u,h,v){return ee.sceneGraphService.setLocalRotation(this,s,u,h,v),this}},{key:"setLocalSkew",value:function(s,u){return ee.sceneGraphService.setLocalSkew(this,s,u),this}},{key:"getRotation",value:function(){return ee.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return ee.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return ee.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return ee.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return ee.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(s){return ee.sceneGraphService.setLocalTransform(this,s),this}},{key:"resetLocalTransform",value:function(){ee.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(s,u){var h,v=(h=this.ownerDocument)===null||h===void 0?void 0:h.timeline;return v?v.play(this,s,u):null}},{key:"isVisible",value:function(){var s;return((s=this.parsedStyle)===null||s===void 0?void 0:s.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(s){this.style.pointerEvents=s?"auto":"none"}},{key:"isInteractive",value:function(){var s;return((s=this.parsedStyle)===null||s===void 0?void 0:s.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,_t(this.parentNode.children.map(function(s){return Number(s.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,_t(this.parentNode.children.map(function(s){return Number(s.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var s=this,u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];var g=h[0],m=h[1];return g?h0(g)?(Object.keys(g).forEach(function(_){s.setAttribute(_,g[_])}),this):h.length===2?(this.setAttribute(g,m),this):this.attributes[g]:this.attributes}},{key:"getMatrix",value:function(s){var u=s||this.getWorldTransform(),h=s_(Z0,u),v=ye(h,2),g=v[0],m=v[1],_=yd(Z0,u),w=ye(_,2),M=w[0],O=w[1],C=yp(JN,u),P=Cp(Z0,C),k=ye(P,3),D=k[0],R=k[2];return W_(D||R,g,m,M,O)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(s){var u=DO(s),h=ye(u,5),v=h[0],g=h[1],m=h[2],_=h[3],w=h[4];this.setEulerAngles(w).setPosition(v,g).setLocalScale(m,_)}},{key:"setLocalMatrix",value:function(s){var u=DO(s),h=ye(u,5),v=h[0],g=h[1],m=h[2],_=h[3],w=h[4];this.setLocalEulerAngles(w).setLocalPosition(v,g).setLocalScale(m,_)}},{key:"show",value:function(){this.forEach(function(s){s.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(s){s.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(s){return this.children[s]||null}},{key:"add",value:function(s,u){return this.appendChild(s,u)}},{key:"set",value:function(s,u){this.config[s]=u}},{key:"get",value:function(s){return this.config[s]}},{key:"moveTo",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(s,u,h),this}},{key:"move",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(s,u,h),this}},{key:"setZIndex",value:function(s){return this.style.zIndex=s,this}}])}(QN);li.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Xl=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,i),It(this,i,[Tn({type:Xt.CIRCLE},a)])}return Jt(i,t),De(i)}(li);Xl.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var xA=["style"],Ex=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.style,h=Gf(s,xA);return ke(this,i),a=It(this,i,[Tn({style:u},h)]),a.isCustomElement=!0,a}return Jt(i,t),De(i)}(li);Ex.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var K0=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,i),It(this,i,[Tn({type:Xt.ELLIPSE},a)])}return Jt(i,t),De(i)}(li);K0.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var iH=function(t){function i(){return ke(this,i),It(this,i,[{type:Xt.FRAGMENT}])}return Jt(i,t),De(i)}(li);iH.PARSED_STYLE_LIST=new Set(["class","className"]);var ta=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,i),It(this,i,[Tn({type:Xt.GROUP},a)])}return Jt(i,t),De(i)}(li);ta.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Q0=["style"],Yp=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.style,h=Gf(s,Q0);return ke(this,i),a=It(this,i,[Tn({type:Xt.HTML,style:u},h)]),a.cullable.enable=!1,a}return Jt(i,t),De(i,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var s=kl(Dn(),this.parentNode.getWorldTransform()),u=this.getBounds();if(!Zi.isEmpty(u)){var h=new Zi;return h.setFromTransformedAABB(u,s),h}}return this.getBounds()}}])}(li);Yp.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var J0=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,i),It(this,i,[Tn({type:Xt.IMAGE},a)])}return Jt(i,t),De(i)}(li);J0.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var aH=["style"],$d=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.style,h=Gf(s,aH);ke(this,i),a=It(this,i,[Tn({type:Xt.LINE,style:Tn({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},u)},h)]),a.markerStartAngle=0,a.markerEndAngle=0;var v=a.parsedStyle,g=v.markerStart,m=v.markerEnd;return g&&bn(g)&&(a.markerStartAngle=g.getLocalEulerAngles(),a.appendChild(g)),m&&bn(m)&&(a.markerEndAngle=m.getLocalEulerAngles(),a.appendChild(m)),a.transformMarker(!0),a.transformMarker(!1),a}return Jt(i,t),De(i,[{key:"attributeChangedCallback",value:function(s,u,h,v,g){s==="x1"||s==="y1"||s==="x2"||s==="y2"||s==="markerStartOffset"||s==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):s==="markerStart"?(v&&bn(v)&&(this.markerStartAngle=0,v.remove()),g&&bn(g)&&(this.markerStartAngle=g.getLocalEulerAngles(),this.appendChild(g),this.transformMarker(!0))):s==="markerEnd"&&(v&&bn(v)&&(this.markerEndAngle=0,v.remove()),g&&bn(g)&&(this.markerEndAngle=g.getLocalEulerAngles(),this.appendChild(g),this.transformMarker(!1)))}},{key:"transformMarker",value:function(s){var u=this.parsedStyle,h=u.markerStart,v=u.markerEnd,g=u.markerStartOffset,m=u.markerEndOffset,_=u.x1,w=u.x2,M=u.y1,O=u.y2,C=s?h:v;if(!(!C||!bn(C))){var P=0,k,D,R,B,z,j;s?(R=_,B=M,k=w-_,D=O-M,z=g||0,j=this.markerStartAngle):(R=w,B=O,k=_-w,D=M-O,z=m||0,j=this.markerEndAngle),P=Math.atan2(D,k),C.setLocalEulerAngles(P*180/Math.PI+j),C.setLocalPosition(R+Math.cos(P)*z,B+Math.sin(P)*z)}}},{key:"getPoint",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=this.parsedStyle,v=h.x1,g=h.y1,m=h.x2,_=h.y2,w=ku(v,g,m,_,s),M=w.x,O=w.y,C=yi(Cr(),Br(M,O,0),u?this.getWorldTransform():this.getLocalTransform());return new Ea(C[0],C[1])}},{key:"getPointAtLength",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(s/this.getTotalLength(),u)}},{key:"getTotalLength",value:function(){var s=this.parsedStyle,u=s.x1,h=s.y1,v=s.x2,g=s.y2;return RR(u,h,v,g)}}])}(li);$d.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var Yrt=["style"],_o=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.style,h=Gf(s,Yrt);ke(this,i),a=It(this,i,[Tn({type:Xt.PATH,style:u,initialParsedStyle:{miterLimit:4,d:Tn({},Oc)}},h)]),a.markerStartAngle=0,a.markerEndAngle=0,a.markerMidList=[];var v=a.parsedStyle,g=v.markerStart,m=v.markerEnd,_=v.markerMid;return g&&bn(g)&&(a.markerStartAngle=g.getLocalEulerAngles(),a.appendChild(g)),_&&bn(_)&&a.placeMarkerMid(_),m&&bn(m)&&(a.markerEndAngle=m.getLocalEulerAngles(),a.appendChild(m)),a.transformMarker(!0),a.transformMarker(!1),a}return Jt(i,t),De(i,[{key:"attributeChangedCallback",value:function(s,u,h,v,g){s==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):s==="markerStartOffset"||s==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):s==="markerStart"?(v&&bn(v)&&(this.markerStartAngle=0,v.remove()),g&&bn(g)&&(this.markerStartAngle=g.getLocalEulerAngles(),this.appendChild(g),this.transformMarker(!0))):s==="markerEnd"?(v&&bn(v)&&(this.markerEndAngle=0,v.remove()),g&&bn(g)&&(this.markerEndAngle=g.getLocalEulerAngles(),this.appendChild(g),this.transformMarker(!1))):s==="markerMid"&&this.placeMarkerMid(g)}},{key:"transformMarker",value:function(s){var u=this.parsedStyle,h=u.markerStart,v=u.markerEnd,g=u.markerStartOffset,m=u.markerEndOffset,_=s?h:v;if(!(!_||!bn(_))){var w=0,M,O,C,P,k,D;if(s){var R=this.getStartTangent(),B=ye(R,2),z=B[0],j=B[1];C=j[0],P=j[1],M=z[0]-j[0],O=z[1]-j[1],k=g||0,D=this.markerStartAngle}else{var V=this.getEndTangent(),G=ye(V,2),Y=G[0],Z=G[1];C=Z[0],P=Z[1],M=Y[0]-Z[0],O=Y[1]-Z[1],k=m||0,D=this.markerEndAngle}w=Math.atan2(O,M),_.setLocalEulerAngles(w*180/Math.PI+D),_.setLocalPosition(C+Math.cos(w)*k,P+Math.sin(w)*k)}}},{key:"placeMarkerMid",value:function(s){var u=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(w){w.remove()}),s&&bn(s))for(var h=1;h<u.length-1;h++){var v=ye(u[h].currentPoint,2),g=v[0],m=v[1],_=h===1?s:s.cloneNode(!0);this.markerMidList.push(_),this.appendChild(_),_.setLocalPosition(g,m)}}},{key:"getTotalLength",value:function(){return ox(this)}},{key:"getPointAtLength",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=this.parsedStyle.d.absolutePath,v=CR(h,s),g=v.x,m=v.y,_=yi(Cr(),Br(g,m,0),u?this.getWorldTransform():this.getLocalTransform());return new Ea(_[0],_[1])}},{key:"getPoint",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(s*ox(this),u)}},{key:"getStartTangent",value:function(){var s=this.parsedStyle.d.segments,u=[];if(s.length>1){var h=s[0].currentPoint,v=s[1].currentPoint,g=s[1].startTangent;u=[],g?(u.push([h[0]-g[0],h[1]-g[1]]),u.push([h[0],h[1]])):(u.push([v[0],v[1]]),u.push([h[0],h[1]]))}return u}},{key:"getEndTangent",value:function(){var s=this.parsedStyle.d.segments,u=s.length,h=[];if(u>1){var v=s[u-2].currentPoint,g=s[u-1].currentPoint,m=s[u-1].endTangent;h=[],m?(h.push([g[0]-m[0],g[1]-m[1]]),h.push([g[0],g[1]])):(h.push([v[0],v[1]]),h.push([g[0],g[1]]))}return h}}])}(li);_o.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var Urt=["style"],qd=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.style,h=Gf(s,Urt);ke(this,i),a=It(this,i,[Tn({type:Xt.POLYGON,style:u,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},h)]),a.markerStartAngle=0,a.markerEndAngle=0,a.markerMidList=[];var v=a.parsedStyle,g=v.markerStart,m=v.markerEnd,_=v.markerMid;return g&&bn(g)&&(a.markerStartAngle=g.getLocalEulerAngles(),a.appendChild(g)),_&&bn(_)&&a.placeMarkerMid(_),m&&bn(m)&&(a.markerEndAngle=m.getLocalEulerAngles(),a.appendChild(m)),a.transformMarker(!0),a.transformMarker(!1),a}return Jt(i,t),De(i,[{key:"attributeChangedCallback",value:function(s,u,h,v,g){s==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):s==="markerStartOffset"||s==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):s==="markerStart"?(v&&bn(v)&&(this.markerStartAngle=0,v.remove()),g&&bn(g)&&(this.markerStartAngle=g.getLocalEulerAngles(),this.appendChild(g),this.transformMarker(!0))):s==="markerEnd"?(v&&bn(v)&&(this.markerEndAngle=0,v.remove()),g&&bn(g)&&(this.markerEndAngle=g.getLocalEulerAngles(),this.appendChild(g),this.transformMarker(!1))):s==="markerMid"&&this.placeMarkerMid(g)}},{key:"transformMarker",value:function(s){var u=this.parsedStyle,h=u.markerStart,v=u.markerEnd,g=u.markerStartOffset,m=u.markerEndOffset,_=u.points,w=_||{},M=w.points,O=s?h:v;if(!(!O||!bn(O)||!M)){var C=0,P,k,D,R,B,z;if(D=M[0][0],R=M[0][1],s)P=M[1][0]-M[0][0],k=M[1][1]-M[0][1],B=g||0,z=this.markerStartAngle;else{var j=M.length;this.parsedStyle.isClosed?(P=M[j-1][0]-M[0][0],k=M[j-1][1]-M[0][1]):(D=M[j-1][0],R=M[j-1][1],P=M[j-2][0]-M[j-1][0],k=M[j-2][1]-M[j-1][1]),B=m||0,z=this.markerEndAngle}C=Math.atan2(k,P),O.setLocalEulerAngles(C*180/Math.PI+z),O.setLocalPosition(D+Math.cos(C)*B,R+Math.sin(C)*B)}}},{key:"placeMarkerMid",value:function(s){var u=this.parsedStyle.points,h=u||{},v=h.points;if(this.markerMidList.forEach(function(M){M.remove()}),this.markerMidList=[],s&&bn(s)&&v)for(var g=1;g<(this.parsedStyle.isClosed?v.length:v.length-1);g++){var m=v[g][0],_=v[g][1],w=g===1?s:s.cloneNode(!0);this.markerMidList.push(w),this.appendChild(w),w.setLocalPosition(m,_)}}}])}(li);qd.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var oH=["style"],kx=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.style,u=Gf(a,oH);return ke(this,i),It(this,i,[Tn({type:Xt.POLYLINE,style:s,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},u)])}return Jt(i,t),De(i,[{key:"getTotalLength",value:function(){return UO(this)}},{key:"getPointAtLength",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(s/this.getTotalLength(),u)}},{key:"getPoint",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var v=[],g=0,m,_,w=this.getTotalLength();h.forEach(function(R,B){h[B+1]&&(m=[0,0],m[0]=g/w,_=RR(R[0],R[1],h[B+1][0],h[B+1][1]),g+=_,m[1]=g/w,v.push(m))}),this.parsedStyle.points.segments=v}var M=0,O=0;this.parsedStyle.points.segments.forEach(function(R,B){s>=R[0]&&s<=R[1]&&(M=(s-R[0])/(R[1]-R[0]),O=B)});var C=ku(h[O][0],h[O][1],h[O+1][0],h[O+1][1],M),P=C.x,k=C.y,D=yi(Cr(),Br(P,k,0),u?this.getWorldTransform():this.getLocalTransform());return new Ea(D[0],D[1])}},{key:"getStartTangent",value:function(){var s=this.parsedStyle.points.points,u=[];return u.push([s[1][0],s[1][1]]),u.push([s[0][0],s[0][1]]),u}},{key:"getEndTangent",value:function(){var s=this.parsedStyle.points.points,u=s.length-1,h=[];return h.push([s[u-1][0],s[u-1][1]]),h.push([s[u][0],s[u][1]]),h}}])}(qd);kx.PARSED_STYLE_LIST=new Set([].concat(_t(qd.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var Rc=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ke(this,i),It(this,i,[Tn({type:Xt.RECT},a)])}return Jt(i,t),De(i)}(li);Rc.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var t5=["style"],nl=function(t){function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.style,u=Gf(a,t5);return ke(this,i),It(this,i,[Tn({type:Xt.TEXT,style:Tn({fill:"black"},s)},u)])}return Jt(i,t),De(i,[{key:"getComputedTextLength",value:function(){var s;return this.getGeometryBounds(),((s=this.parsedStyle.metrics)===null||s===void 0?void 0:s.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var s;return this.getGeometryBounds(),((s=this.parsedStyle.metrics)===null||s===void 0?void 0:s.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(li);nl.PARSED_STYLE_LIST=new Set([].concat(_t(li.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var e5=function(){function t(){ke(this,t),this.registry={},this.define(Xt.CIRCLE,Xl),this.define(Xt.ELLIPSE,K0),this.define(Xt.RECT,Rc),this.define(Xt.IMAGE,J0),this.define(Xt.LINE,$d),this.define(Xt.GROUP,ta),this.define(Xt.PATH,_o),this.define(Xt.POLYGON,qd),this.define(Xt.POLYLINE,kx),this.define(Xt.TEXT,nl),this.define(Xt.HTML,Yp)}return De(t,[{key:"define",value:function(a,s){this.registry[a]=s}},{key:"get",value:function(a){return this.registry[a]}}])}(),r5={number:function(i){return new Zn(i)},percent:function(i){return new Zn(i,"%")},px:function(i){return new Zn(i,"px")},em:function(i){return new Zn(i,"em")},rem:function(i){return new Zn(i,"rem")},deg:function(i){return new Zn(i,"deg")},grad:function(i){return new Zn(i,"grad")},rad:function(i){return new Zn(i,"rad")},turn:function(i){return new Zn(i,"turn")},s:function(i){return new Zn(i,"s")},ms:function(i){return new Zn(i,"ms")},registerProperty:function(i){var a=i.name,s=i.inherits,u=i.interpolable,h=i.initialValue,v=i.syntax;ee.styleValueRegistry.registerMetadata({n:a,inh:s,int:u,d:h,syntax:v})},registerLayout:function(i,a){ee.layoutRegistry.registerLayout(i,a)}},sH=function(t){function i(){var a;ke(this,i),a=It(this,i),a.defaultView=null,a.ownerDocument=null,a.nodeName="document";try{a.timeline=new ee.AnimationTimeline(a)}catch(u){}var s={};return tA.forEach(function(u){var h=u.n,v=u.inh,g=u.d;v&&g&&(s[h]=si(g)?g(Xt.GROUP):g)}),a.documentElement=new ta({id:"g-root",style:s}),a.documentElement.ownerDocument=a,a.documentElement.parentNode=a,a.childNodes=[a.documentElement],a}return Jt(i,t),De(i,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(s,u){if(s==="svg")return this.documentElement;var h=this.defaultView.customElements.get(s);h||(console.warn("Unsupported tagName: ",s),h=s==="tspan"?nl:ta);var v=new h(u);return v.ownerDocument=this,v}},{key:"createElementNS",value:function(s,u,h){return this.createElement(u,h)}},{key:"cloneNode",value:function(s){throw new Error(In)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(s){}}},{key:"elementsFromBBox",value:function(s,u,h,v){var g=this.defaultView.context.rBushRoot,m=g.search({minX:s,minY:u,maxX:h,maxY:v}),_=[];return m.forEach(function(w){var M=w.displayObject,O=M.parsedStyle.pointerEvents,C=O===void 0?"auto":O,P=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(C);(!P||P&&M.isVisible())&&!M.isCulled()&&M.isInteractive()&&_.push(M)}),_.sort(function(w,M){return M.sortable.renderOrder-w.sortable.renderOrder}),_}},{key:"elementFromPointSync",value:function(s,u){var h=this.defaultView.canvas2Viewport({x:s,y:u}),v=h.x,g=h.y,m=this.defaultView.getConfig(),_=m.width,w=m.height;if(v<0||g<0||v>_||g>w)return null;var M=this.defaultView.viewport2Client({x:v,y:g}),O=M.x,C=M.y,P=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:s,y:u,viewportX:v,viewportY:g,clientX:O,clientY:C},picked:[]}),k=P.picked;return k&&k[0]||this.documentElement}},{key:"elementFromPoint",value:function(){var a=g0(Vf().mark(function u(h,v){var g,m,_,w,M,O,C,P,k,D,R;return Vf().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(g=this.defaultView.canvas2Viewport({x:h,y:v}),m=g.x,_=g.y,w=this.defaultView.getConfig(),M=w.width,O=w.height,!(m<0||_<0||m>M||_>O)){z.next=4;break}return z.abrupt("return",null);case 4:return C=this.defaultView.viewport2Client({x:m,y:_}),P=C.x,k=C.y,z.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:h,y:v,viewportX:m,viewportY:_,clientX:P,clientY:k},picked:[]});case 7:return D=z.sent,R=D.picked,z.abrupt("return",R&&R[0]||this.documentElement);case 10:case"end":return z.stop()}},u,this)}));function s(u,h){return a.apply(this,arguments)}return s}()},{key:"elementsFromPointSync",value:function(s,u){var h=this.defaultView.canvas2Viewport({x:s,y:u}),v=h.x,g=h.y,m=this.defaultView.getConfig(),_=m.width,w=m.height;if(v<0||g<0||v>_||g>w)return[];var M=this.defaultView.viewport2Client({x:v,y:g}),O=M.x,C=M.y,P=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:s,y:u,viewportX:v,viewportY:g,clientX:O,clientY:C},picked:[]}),k=P.picked;return k[k.length-1]!==this.documentElement&&k.push(this.documentElement),k}},{key:"elementsFromPoint",value:function(){var a=g0(Vf().mark(function u(h,v){var g,m,_,w,M,O,C,P,k,D,R;return Vf().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(g=this.defaultView.canvas2Viewport({x:h,y:v}),m=g.x,_=g.y,w=this.defaultView.getConfig(),M=w.width,O=w.height,!(m<0||_<0||m>M||_>O)){z.next=4;break}return z.abrupt("return",[]);case 4:return C=this.defaultView.viewport2Client({x:m,y:_}),P=C.x,k=C.y,z.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:h,y:v,viewportX:m,viewportY:_,clientX:P,clientY:k},picked:[]});case 7:return D=z.sent,R=D.picked,R[R.length-1]!==this.documentElement&&R.push(this.documentElement),z.abrupt("return",R);case 11:case"end":return z.stop()}},u,this)}));function s(u,h){return a.apply(this,arguments)}return s}()},{key:"appendChild",value:function(s,u){throw new Error(Zs)}},{key:"insertBefore",value:function(s,u){throw new Error(Zs)}},{key:"removeChild",value:function(s,u){throw new Error(Zs)}},{key:"replaceChild",value:function(s,u,h){throw new Error(Zs)}},{key:"append",value:function(){throw new Error(Zs)}},{key:"prepend",value:function(){throw new Error(Zs)}},{key:"getElementById",value:function(s){return this.documentElement.getElementById(s)}},{key:"getElementsByName",value:function(s){return this.documentElement.getElementsByName(s)}},{key:"getElementsByTagName",value:function(s){return this.documentElement.getElementsByTagName(s)}},{key:"getElementsByClassName",value:function(s){return this.documentElement.getElementsByClassName(s)}},{key:"querySelector",value:function(s){return this.documentElement.querySelector(s)}},{key:"querySelectorAll",value:function(s){return this.documentElement.querySelectorAll(s)}},{key:"find",value:function(s){return this.documentElement.find(s)}},{key:"findAll",value:function(s){return this.documentElement.findAll(s)}}])}(ii),wA=function(){function t(i){ke(this,t),this.strategies=i}return De(t,[{key:"apply",value:function(a){var s=a.camera,u=a.renderingService,h=a.renderingContext,v=this.strategies;u.hooks.cull.tap(t.tag,function(g){if(g){var m=g.cullable;return v.length===0?m.visible=h.unculledEntities.indexOf(g.entity)>-1:m.visible=v.every(function(_){return _.isVisible(s,g)}),!g.isCulled()&&g.isVisible()?g:(g.dispatchEvent(new Kn(Jr.CULLED)),null)}return g}),u.hooks.afterRender.tap(t.tag,function(g){g.cullable.visibilityPlaneMask=-1})}}])}();wA.tag="Culling";var n5=function(){function t(){var i=this;ke(this,t),this.autoPreventDefault=!1,this.rootPointerEvent=new pA(null),this.rootWheelEvent=new Cx(null),this.onPointerMove=function(a){var s,u=(s=i.context.renderingContext.root)===null||s===void 0||(s=s.ownerDocument)===null||s===void 0?void 0:s.defaultView;if(!(u.supportsTouchEvents&&a.pointerType==="touch")){var h=i.normalizeToPointerEvent(a,u),v=y0(h),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_=i.bootstrapEvent(i.rootPointerEvent,m,u,a);i.context.eventService.mapEvent(_)}}catch(w){v.e(w)}finally{v.f()}i.setCursor(i.context.eventService.cursor)}},this.onClick=function(a){var s,u=(s=i.context.renderingContext.root)===null||s===void 0||(s=s.ownerDocument)===null||s===void 0?void 0:s.defaultView,h=i.normalizeToPointerEvent(a,u),v=y0(h),g;try{for(v.s();!(g=v.n()).done;){var m=g.value,_=i.bootstrapEvent(i.rootPointerEvent,m,u,a);i.context.eventService.mapEvent(_)}}catch(w){v.e(w)}finally{v.f()}i.setCursor(i.context.eventService.cursor)}}return De(t,[{key:"apply",value:function(a){var s=this;this.context=a;var u=a.renderingService,h=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(v){var g=s.context.renderingService.hooks.pickSync.call({position:v,picked:[],topmost:!0}),m=g.picked;return m[0]||null}),u.hooks.pointerWheel.tap(t.tag,function(v){var g=s.normalizeWheelEvent(v);s.context.eventService.mapEvent(g)}),u.hooks.pointerDown.tap(t.tag,function(v){if(!(h.supportsTouchEvents&&v.pointerType==="touch")){var g=s.normalizeToPointerEvent(v,h);if(s.autoPreventDefault&&g[0].isNormalized){var m=v.cancelable||!("cancelable"in v);m&&v.preventDefault()}var _=y0(g),w;try{for(_.s();!(w=_.n()).done;){var M=w.value,O=s.bootstrapEvent(s.rootPointerEvent,M,h,v);s.context.eventService.mapEvent(O)}}catch(C){_.e(C)}finally{_.f()}s.setCursor(s.context.eventService.cursor)}}),u.hooks.pointerUp.tap(t.tag,function(v){if(!(h.supportsTouchEvents&&v.pointerType==="touch")){var g=s.context.contextService.getDomElement(),m=s.context.eventService.isNativeEventFromCanvas(g,v),_=m?"":"outside",w=s.normalizeToPointerEvent(v,h),M=y0(w),O;try{for(M.s();!(O=M.n()).done;){var C=O.value,P=s.bootstrapEvent(s.rootPointerEvent,C,h,v);P.type+=_,s.context.eventService.mapEvent(P)}}catch(k){M.e(k)}finally{M.f()}s.setCursor(s.context.eventService.cursor)}}),u.hooks.pointerMove.tap(t.tag,this.onPointerMove),u.hooks.pointerOver.tap(t.tag,this.onPointerMove),u.hooks.pointerOut.tap(t.tag,this.onPointerMove),u.hooks.click.tap(t.tag,this.onClick),u.hooks.pointerCancel.tap(t.tag,function(v){var g=s.normalizeToPointerEvent(v,h),m=y0(g),_;try{for(m.s();!(_=m.n()).done;){var w=_.value,M=s.bootstrapEvent(s.rootPointerEvent,w,h,v);s.context.eventService.mapEvent(M)}}catch(O){m.e(O)}finally{m.f()}s.setCursor(s.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(a,s,u,h){a.view=u,a.originalEvent=null,a.nativeEvent=h,a.pointerId=s.pointerId,a.width=s.width,a.height=s.height,a.isPrimary=s.isPrimary,a.pointerType=s.pointerType,a.pressure=s.pressure,a.tangentialPressure=s.tangentialPressure,a.tiltX=s.tiltX,a.tiltY=s.tiltY,a.twist=s.twist,this.transferMouseData(a,s);var v=this.context.eventService.client2Viewport({x:s.clientX,y:s.clientY}),g=v.x,m=v.y;a.viewport.x=g,a.viewport.y=m;var _=this.context.eventService.viewport2Canvas(a.viewport),w=_.x,M=_.y;return a.canvas.x=w,a.canvas.y=M,a.global.copyFrom(a.canvas),a.offset.copyFrom(a.canvas),a.isTrusted=h.isTrusted,a.type==="pointerleave"&&(a.type="pointerout"),a.type.startsWith("mouse")&&(a.type=a.type.replace("mouse","pointer")),a.type.startsWith("touch")&&(a.type=LN[a.type]||a.type),a}},{key:"normalizeWheelEvent",value:function(a){var s=this.rootWheelEvent;this.transferMouseData(s,a),s.deltaMode=a.deltaMode,s.deltaX=a.deltaX,s.deltaY=a.deltaY,s.deltaZ=a.deltaZ;var u=this.context.eventService.client2Viewport({x:a.clientX,y:a.clientY}),h=u.x,v=u.y;s.viewport.x=h,s.viewport.y=v;var g=this.context.eventService.viewport2Canvas(s.viewport),m=g.x,_=g.y;return s.canvas.x=m,s.canvas.y=_,s.global.copyFrom(s.canvas),s.offset.copyFrom(s.canvas),s.nativeEvent=a,s.type=a.type,s}},{key:"transferMouseData",value:function(a,s){a.isTrusted=s.isTrusted,a.srcElement=s.srcElement,a.timeStamp=sA.now(),a.type=s.type,a.altKey=s.altKey,a.metaKey=s.metaKey,a.shiftKey=s.shiftKey,a.ctrlKey=s.ctrlKey,a.button=s.button,a.buttons=s.buttons,a.client.x=s.clientX,a.client.y=s.clientY,a.movement.x=s.movementX,a.movement.y=s.movementY,a.page.x=s.pageX,a.page.y=s.pageY,a.screen.x=s.screenX,a.screen.y=s.screenY,a.relatedTarget=null}},{key:"setCursor",value:function(a){this.context.contextService.applyCursorStyle(a||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(a,s){var u=[];if(s.isTouchEvent(a))for(var h=0;h<a.changedTouches.length;h++){var v=a.changedTouches[h];qn(v.button)&&(v.button=0),qn(v.buttons)&&(v.buttons=1),qn(v.isPrimary)&&(v.isPrimary=a.touches.length===1&&a.type==="touchstart"),qn(v.width)&&(v.width=v.radiusX||1),qn(v.height)&&(v.height=v.radiusY||1),qn(v.tiltX)&&(v.tiltX=0),qn(v.tiltY)&&(v.tiltY=0),qn(v.pointerType)&&(v.pointerType="touch"),qn(v.pointerId)&&(v.pointerId=v.identifier||0),qn(v.pressure)&&(v.pressure=v.force||.5),qn(v.twist)&&(v.twist=0),qn(v.tangentialPressure)&&(v.tangentialPressure=0),v.isNormalized=!0,v.type=a.type,u.push(v)}else if(s.isMouseEvent(a)){var g=a;qn(g.isPrimary)&&(g.isPrimary=!0),qn(g.width)&&(g.width=1),qn(g.height)&&(g.height=1),qn(g.tiltX)&&(g.tiltX=0),qn(g.tiltY)&&(g.tiltY=0),qn(g.pointerType)&&(g.pointerType="mouse"),qn(g.pointerId)&&(g.pointerId=tl),qn(g.pressure)&&(g.pressure=.5),qn(g.twist)&&(g.twist=0),qn(g.tangentialPressure)&&(g.tangentialPressure=0),g.isNormalized=!0,u.push(g)}else u.push(a);return u}}])}();n5.tag="Event";var lH=[Xt.CIRCLE,Xt.ELLIPSE,Xt.IMAGE,Xt.RECT,Xt.LINE,Xt.POLYLINE,Xt.POLYGON,Xt.TEXT,Xt.PATH,Xt.HTML],uH=function(){function t(){ke(this,t)}return De(t,[{key:"isVisible",value:function(a,s){var u,h=s.cullable;if(!h.enable)return!0;var v=s.getRenderBounds();if(Zi.isEmpty(v))return!1;var g=a.getFrustum(),m=(u=s.parentNode)===null||u===void 0||(u=u.cullable)===null||u===void 0?void 0:u.visibilityPlaneMask;return h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(s,v,m||Hf.INDETERMINATE,g.planes),h.visible=h.visibilityPlaneMask!==Hf.OUTSIDE,h.visible}},{key:"computeVisibilityWithPlaneMask",value:function(a,s,u,h){if(u===Hf.OUTSIDE||u===Hf.INSIDE)return u;for(var v=Hf.INSIDE,g=lH.indexOf(a.nodeName)>-1,m=0,_=h.length;m<_;++m){var w=1<<m;if(u&w&&!(g&&(m===4||m===5))){var M=h[m],O=M.normal,C=M.distance;if(go(O,s.getPositiveFarPoint(h[m]))+C<0)return Hf.OUTSIDE;go(O,s.getNegativeFarPoint(h[m]))+C<0&&(v|=w)}}return v}}])}(),i5=function(){function t(){ke(this,t),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return De(t,[{key:"apply",value:function(a){var s=this,u,h=a.renderingService,v=a.renderingContext,g=a.rBushRoot,m=v.root.ownerDocument.defaultView;this.rBush=g;var _=function(k){var D=k.target;D.renderable.dirty=!0,h.dirtify()},w=function(k){s.syncTasks.set(k.target,k.detail.affectChildren),h.dirtify()},M=function(k){var D=k.target;ee.enableSizeAttenuation&&ee.styleValueRegistry.updateSizeAttenuation(D,m.getCamera().getZoom())},O=function(k){var D=k.target,R=D.rBushNode;R.aabb&&s.rBush.remove(R.aabb),s.syncTasks.delete(D),ee.sceneGraphService.dirtifyToRoot(D),h.dirtify()};h.hooks.init.tap(t.tag,function(){m.addEventListener(Jr.MOUNTED,M),m.addEventListener(Jr.UNMOUNTED,O),m.addEventListener(Jr.ATTR_MODIFIED,_),m.addEventListener(Jr.BOUNDS_CHANGED,w)}),h.hooks.destroy.tap(t.tag,function(){m.removeEventListener(Jr.MOUNTED,M),m.removeEventListener(Jr.UNMOUNTED,O),m.removeEventListener(Jr.ATTR_MODIFIED,_),m.removeEventListener(Jr.BOUNDS_CHANGED,w),s.syncTasks.clear()});var C=(u=ee.globalThis.requestIdleCallback)!==null&&u!==void 0?u:_x.bind(ee.globalThis);h.hooks.endFrame.tap(t.tag,function(){s.isFirstTimeRendering?(s.isFirstTimeRendering=!1,s.syncing=!0,C(function(){s.syncRTree(!0),s.isFirstTimeRenderingFinished=!0})):s.syncRTree()})}},{key:"syncNode",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a.isConnected){var u=a.rBushNode;u.aabb&&this.rBush.remove(u.aabb);var h=a.getRenderBounds();if(h){var v=a.renderable;s&&(v.dirtyRenderBounds||(v.dirtyRenderBounds=new Zi),v.dirtyRenderBounds.update(h.center,h.halfExtents));var g=h.getMin(),m=ye(g,2),_=m[0],w=m[1],M=h.getMax(),O=ye(M,2),C=O[0],P=O[1];u.aabb||(u.aabb={}),u.aabb.displayObject=a,u.aabb.minX=_,u.aabb.minY=w,u.aabb.maxX=C,u.aabb.maxY=P}if(u.aabb&&!isNaN(u.aabb.maxX)&&!isNaN(u.aabb.maxX)&&!isNaN(u.aabb.minX)&&!isNaN(u.aabb.minY))return u.aabb}}},{key:"syncRTree",value:function(){var a=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!s&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var u=[],h=new Set,v=function(m){if(!h.has(m)&&m.renderable){var _=a.syncNode(m,s);_&&(u.push(_),h.add(m))}};this.syncTasks.forEach(function(g,m){g&&m.forEach(v);for(var _=m;_;)v(_),_=_.parentElement}),this.rBush.load(u),u.length=0,this.syncing=!1}}}])}();i5.tag="Prepare";function Xrt(t){return!!t.document}var il=function(t){return t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged",t}({}),a5=500,$l=.1,tm=1e3,em=new Kn(Jr.MOUNTED),Up=new Kn(Jr.UNMOUNTED),Ua=new Kn(il.BEFORE_RENDER),Xp=new Kn(il.RERENDER),ji=new Kn(il.AFTER_RENDER),Cs=function(t){function i(a){var s;ke(this,i),s=It(this,i),s.Element=li,s.inited=!1,s.context={};var u=a.container,h=a.canvas,v=a.renderer,g=a.width,m=a.height,_=a.background,w=a.cursor,M=a.supportsMutipleCanvasesInOneContainer,O=a.cleanUpOnDestroy,C=O===void 0?!0:O,P=a.offscreenCanvas,k=a.devicePixelRatio,D=a.requestAnimationFrame,R=a.cancelAnimationFrame,B=a.createImage,z=a.supportsTouchEvents,j=a.supportsPointerEvents,V=a.isTouchEvent,G=a.isMouseEvent,Y=a.dblClickSpeed,Z=g,Q=m,tt=k||px&&window.devicePixelRatio||1;return tt=tt>=1?Math.ceil(tt):1,h&&(Z=g||oA(h)||h.width/tt,Q=m||j0(h)||h.height/tt),s.customElements=new e5,s.devicePixelRatio=tt,s.requestAnimationFrame=D!=null?D:_x.bind(ee.globalThis),s.cancelAnimationFrame=R!=null?R:xx.bind(ee.globalThis),s.supportsTouchEvents=z!=null?z:"ontouchstart"in ee.globalThis,s.supportsPointerEvents=j!=null?j:!!ee.globalThis.PointerEvent,s.isTouchEvent=V!=null?V:function(rt){return s.supportsTouchEvents&&rt instanceof ee.globalThis.TouchEvent},s.isMouseEvent=G!=null?G:function(rt){return!ee.globalThis.MouseEvent||rt instanceof ee.globalThis.MouseEvent&&(!s.supportsPointerEvents||!(rt instanceof ee.globalThis.PointerEvent))},P&&(ee.offscreenCanvas=P),s.document=new sH,s.document.defaultView=s,M||PN(u,s,C),s.initRenderingContext(Tn(Tn({},a),{},{width:Z,height:Q,background:_!=null?_:"transparent",cursor:w!=null?w:"default",cleanUpOnDestroy:C,devicePixelRatio:tt,requestAnimationFrame:s.requestAnimationFrame,cancelAnimationFrame:s.cancelAnimationFrame,supportsTouchEvents:s.supportsTouchEvents,supportsPointerEvents:s.supportsPointerEvents,isTouchEvent:s.isTouchEvent,isMouseEvent:s.isMouseEvent,dblClickSpeed:Y!=null?Y:200,createImage:B!=null?B:function(){return new window.Image}})),s.initDefaultCamera(Z,Q,v.clipSpaceNearZ),s.initRenderer(v,!0),s}return Jt(i,t),De(i,[{key:"initRenderingContext",value:function(s){this.context.config=s,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(s,u,h){var v=this,g=new ee.CameraContribution;g.clipSpaceNearZ=h,g.setType(fn.EXPLORING,Ks.DEFAULT).setPosition(s/2,u/2,a5).setFocalPoint(s/2,u/2,0).setOrthographic(s/-2,s/2,u/2,u/-2,$l,tm),g.canvas=this,g.eventEmitter.on(H_.UPDATED,function(){v.context.renderingContext.renderReasons.add(Wd.CAMERA_CHANGED),ee.enableSizeAttenuation&&v.getConfig().renderer.getConfig().enableSizeAttenuation&&v.updateSizeAttenuation()}),this.context.camera=g}},{key:"updateSizeAttenuation",value:function(){var s=this.getCamera().getZoom();this.document.documentElement.forEach(function(u){ee.styleValueRegistry.updateSizeAttenuation(u,s)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var s=this;return this.readyPromise||(this.readyPromise=new Promise(function(u){s.resolveReadyPromise=function(){u(s)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,u=arguments.length>1?arguments[1]:void 0;va.clearCache(),u||this.dispatchEvent(new Kn(il.BEFORE_DESTROY)),this.frameId&&this.cancelAnimationFrame(this.frameId);var h=this.getRoot();s&&(this.unmountChildren(h),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),u||this.dispatchEvent(new Kn(il.AFTER_DESTROY));var v=function(m){m.currentTarget=null,m.manager=null,m.target=null,m.relatedNode=null};v(em),v(Up),v(Ua),v(Xp),v(ji),v(Fu),v($0),v(q0),v(KN)}},{key:"changeSize",value:function(s,u){this.resize(s,u)}},{key:"resize",value:function(s,u){var h=this.context.config;h.width=s,h.height=u,this.getContextService().resize(s,u);var v=this.context.camera,g=v.getProjectionMode();v.setPosition(s/2,u/2,a5).setFocalPoint(s/2,u/2,0),g===Zo.ORTHOGRAPHIC?v.setOrthographic(s/-2,s/2,u/2,u/-2,v.getNear(),v.getFar()):v.setAspect(s/u),this.dispatchEvent(new Kn(il.RESIZE,{width:s,height:u}))}},{key:"appendChild",value:function(s,u){return this.document.documentElement.appendChild(s,u)}},{key:"insertBefore",value:function(s,u){return this.document.documentElement.insertBefore(s,u)}},{key:"removeChild",value:function(s){return this.document.documentElement.removeChild(s)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(s){var u=this;s&&(Ua.detail=s,ji.detail=s),this.dispatchEvent(Ua);var h=this.getRenderingService();h.render(this.getConfig(),s,function(){u.dispatchEvent(Xp)}),this.dispatchEvent(ji)}},{key:"run",value:function(){var s=this,u=function(v,g){s.render(g),s.frameId=s.requestAnimationFrame(u)};u()}},{key:"initRenderer",value:function(s){var u=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!s)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new pW,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new n5,new i5,new wA([new uH])),this.loadRendererContainerModule(s),this.context.contextService=new this.context.ContextService(Tn(Tn({},ee),this.context)),this.context.renderingService=new Hd(ee,this.context),this.context.eventService=new Y0(ee,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(s,h,!0)):this.context.contextService.initAsync().then(function(){u.initRenderingService(s,h)}).catch(function(v){console.error(v)})}},{key:"initRenderingService",value:function(s){var u=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){u.inited=!0,h?v?u.requestAnimationFrame(function(){u.dispatchEvent(new Kn(il.READY))}):u.dispatchEvent(new Kn(il.READY)):u.dispatchEvent(new Kn(il.RENDERER_CHANGED)),u.readyPromise&&u.resolveReadyPromise(),h||u.getRoot().forEach(function(g){var m=g,_=m.renderable;_&&(_.renderBoundsDirty=!0,_.boundsDirty=!0,_.dirty=!0)}),u.mountChildren(u.getRoot()),s.getConfig().enableAutoRendering&&u.run()})}},{key:"loadRendererContainerModule",value:function(s){var u=this,h=s.getPlugins();h.forEach(function(v){v.context=u.context,v.init(ee)})}},{key:"setRenderer",value:function(s){var u=this.getConfig();if(u.renderer!==s){var h=u.renderer;u.renderer=s,this.destroy(!1,!0),_t((h==null?void 0:h.getPlugins())||[]).reverse().forEach(function(v){v.destroy(ee)}),this.initRenderer(s)}}},{key:"setCursor",value:function(s){var u=this.getConfig();u.cursor=s,this.getContextService().applyCursorStyle(s)}},{key:"unmountChildren",value:function(s){var u=this;s.childNodes.forEach(function(h){u.unmountChildren(h)}),this.inited&&(s.isMutationObserved?s.dispatchEvent(Up):(Up.target=s,this.dispatchEvent(Up,!0)),s!==this.document.documentElement&&(s.ownerDocument=null),s.isConnected=!1),s.isCustomElement&&s.disconnectedCallback&&s.disconnectedCallback()}},{key:"mountChildren",value:function(s){var u=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jd(s);this.inited?s.isConnected||(s.ownerDocument=this.document,s.isConnected=!0,h||(s.isMutationObserved?s.dispatchEvent(em):(em.target=s,this.dispatchEvent(em,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",s.nodeName),s.childNodes.forEach(function(v){u.mountChildren(v,h)}),s.isCustomElement&&s.connectedCallback&&s.connectedCallback()}},{key:"mountFragment",value:function(s){this.mountChildren(s,!1)}},{key:"client2Viewport",value:function(s){return this.getEventService().client2Viewport(s)}},{key:"viewport2Client",value:function(s){return this.getEventService().viewport2Client(s)}},{key:"viewport2Canvas",value:function(s){return this.getEventService().viewport2Canvas(s)}},{key:"canvas2Viewport",value:function(s){return this.getEventService().canvas2Viewport(s)}},{key:"getPointByClient",value:function(s,u){return this.client2Viewport({x:s,y:u})}},{key:"getClientByPoint",value:function(s,u){return this.viewport2Client({x:s,y:u})}}])}(gA);function cH(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ts(t)}function o5(t,i){if(ts(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(ts(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function fH(t){var i=o5(t,"string");return ts(i)=="symbol"?i:i+""}function s5(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,fH(s.key),s)}}function hH(t,i,a){return i&&s5(t.prototype,i),a&&s5(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},rm(t)}function l5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(l5=function(){return!!t})()}function dH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SA(t,i){if(i&&(ts(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(t)}function nm(t,i,a){return i=rm(i),SA(t,l5()?Reflect.construct(i,a||[],rm(t).constructor):i.apply(t,a))}function Lx(t,i){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Lx(t,i)}function u5(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Lx(t,i)}var vH=function(t){function i(){var a;cH(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=nm(this,i,[].concat(u)),a.landmarks=[],a}return u5(i,t),hH(i,[{key:"rotate",value:function(s,u,h){if(this.relElevation=Ed(u),this.relAzimuth=Ed(s),this.relRoll=Ed(h),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===fn.EXPLORING){var v=Ou(mi(),[1,0,0],Rn((this.rotateWorld?1:-1)*this.relElevation)),g=Ou(mi(),[0,1,0],Rn((this.rotateWorld?1:-1)*this.relAzimuth)),m=Ou(mi(),[0,0,1],Rn(this.relRoll)),_=ys(mi(),g,v);_=ys(mi(),_,m);var w=mp(Dn(),_);gp(this.matrix,this.matrix,[0,0,-this.distance]),mo(this.matrix,this.matrix,w),gp(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getPosition():this.type===fn.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(s,u){var h=Do(s,u,0),v=Ei(this.position);return Xs(v,v,lp(Cr(),this.right,h[0])),Xs(v,v,lp(Cr(),this.up,h[1])),this._setPosition(v),this.triggerUpdate(),this}},{key:"dolly",value:function(s){var u=this.forward,h=Ei(this.position),v=s*this.dollyingStep,g=this.distance+s*this.dollyingStep;return v=Math.max(Math.min(g,this.maxDistance),this.minDistance)-this.distance,h[0]+=v*u[0],h[1]+=v*u[1],h[2]+=v*u[2],this._setPosition(h),this.type===fn.ORBITING||this.type===fn.EXPLORING?this._getDistance():this.type===fn.TRACKING&&Xs(this.focalPoint,h,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(s){var u,h,v,g,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=m.position,w=_===void 0?this.position:_,M=m.focalPoint,O=M===void 0?this.focalPoint:M,C=m.roll,P=m.zoom,k=new ee.CameraContribution;k.setType(this.type,void 0),k.setPosition(w[0],(u=w[1])!==null&&u!==void 0?u:this.position[1],(h=w[2])!==null&&h!==void 0?h:this.position[2]),k.setFocalPoint(O[0],(v=O[1])!==null&&v!==void 0?v:this.focalPoint[1],(g=O[2])!==null&&g!==void 0?g:this.focalPoint[2]),k.setRoll(C!=null?C:this.roll),k.setZoom(P!=null?P:this.zoom);var D={name:s,matrix:i_(k.getWorldTransform()),right:Ei(k.right),up:Ei(k.up),forward:Ei(k.forward),position:Ei(k.getPosition()),focalPoint:Ei(k.getFocalPoint()),distanceVector:Ei(k.getDistanceVector()),distance:k.getDistance(),dollyingStep:k.getDollyingStep(),azimuth:k.getAzimuth(),elevation:k.getElevation(),roll:k.getRoll(),relAzimuth:k.relAzimuth,relElevation:k.relElevation,relRoll:k.relRoll,zoom:k.getZoom()};return this.landmarks.push(D),D}},{key:"gotoLandmark",value:function(s){var u=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=zi(s)?this.landmarks.find(function(rt){return rt.name===s}):s;if(v){var g=yn(h)?{duration:h}:h,m=g.easing,_=m===void 0?"linear":m,w=g.duration,M=w===void 0?100:w,O=g.easingFunction,C=O===void 0?void 0:O,P=g.onfinish,k=P===void 0?void 0:P,D=g.onframe,R=D===void 0?void 0:D,B=.01;this.cancelLandmarkAnimation();var z=v.position,j=v.focalPoint,V=v.zoom,G=v.roll,Y=C||ee.EasingFunction(_),Z,Q=function(){u.setFocalPoint(j),u.setPosition(z),u.setRoll(G),u.setZoom(V),u.computeMatrix(),u.triggerUpdate(),k==null||k()};if(M===0)return Q();var tt=function(ct){Z===void 0&&(Z=ct);var nt=ct-Z;if(nt>=M){Q();return}var lt=Y(nt/M),ft=Cr(),q=Cr(),H=1,U=0;wu(ft,u.focalPoint,j,lt),wu(q,u.position,z,lt),U=u.roll*(1-lt)+G*lt,H=u.zoom*(1-lt)+V*lt,u.setFocalPoint(ft),u.setPosition(q),u.setRoll(U),u.setZoom(H);var J=BI(ft,j)+BI(q,z);if(J<=B&&V===void 0&&G===void 0)return Q();u.computeMatrix(),u.triggerUpdate(),nt<M&&(R==null||R(lt),u.landmarkAnimationID=u.canvas.requestAnimationFrame(tt))};this.canvas.requestAnimationFrame(tt)}}}])}(Uf);ee.CameraContribution=vH;var MA=null,pH=0,c5=new WeakMap,$rt=null,TA=null,$p,ql;function f5(t,i){return $p=new MA(t,i)}function qrt(t){return ql||(ql=MA.copy($p),ql.oldValue=t,ql)}function gH(){$p=ql=void 0}function yH(t){return t===ql||t===$p}function Zrt(t,i){return t===i?t:ql&&yH(t)?ql:null}function h5(t){t.nodes.forEach(function(i){var a=c5.get(i);a&&a.forEach(function(s){s.observer===t&&s.removeTransientObservers()})})}function mH(t,i){for(var a=t;a;a=a.parentNode){var s=c5.get(a);if(s)for(var u=0;u<s.length;u++){var h=s[u],v=h.options;if(!(a!==t&&!v.subtree)){var g=i(v);g&&h.enqueue(g)}}}}var Dx=!1,OA=null;function bH(t){OA.push(t),Dx||(Dx=!0,typeof runtime.globalThis!="undefined"?runtime.globalThis.setTimeout(AA):AA())}function AA(){Dx=!1;var t=OA;OA=[],t.sort(function(a,s){return a.uid-s.uid});var i=!1;t.forEach(function(a){var s=a.takeRecords();h5(a),s.length&&(a.callback(s,a),i=!0)}),i&&AA()}function Zd(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},im(t)}function _H(t,i){if(im(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(im(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function d5(t){var i=_H(t,"string");return im(i)=="symbol"?i:i+""}function xH(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,d5(s.key),s)}}function Ix(t,i,a){return i&&xH(t.prototype,i),a&&xH(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function CA(t){return CA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},CA(t)}function un(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(un=function(){return!!t})()}function Kd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qd(t,i){if(i&&(im(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kd(t)}function Jd(t,i,a){return i=CA(i),Qd(t,un()?Reflect.construct(i,a||[],CA(t).constructor):i.apply(t,a))}function Nc(t,i){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Nc(t,i)}function v5(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Nc(t,i)}function Rx(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,s=Array(i);a<i;a++)s[a]=t[a];return s}function p5(t){if(Array.isArray(t))return Rx(t)}function Nx(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wH(t,i){if(t){if(typeof t=="string")return Rx(t,i);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Rx(t,i):void 0}}function g5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y5(t){return p5(t)||Nx(t)||wH(t)||g5()}function m5(t){if(Array.isArray(t))return t}function b5(t,i){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,u,h,v,g=[],m=!0,_=!1;try{if(h=(a=a.call(t)).next,i===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(s=h.call(a)).done)&&(g.push(s.value),g.length!==i);m=!0);}catch(w){_=!0,u=w}finally{try{if(!m&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(_)throw u}}return g}}function SH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function am(t,i){return m5(t)||b5(t,i)||wH(t,i)||SH()}var om=function(t){function i(a,s,u,h){var v;return Zd(this,i),v=Jd(this,i,[a]),v.currentTime=u,v.timelineTime=h,v.target=s,v.type="finish",v.bubbles=!1,v.currentTarget=s,v.defaultPrevented=!1,v.eventPhase=v.AT_TARGET,v.timeStamp=Date.now(),v.currentTime=u,v.timelineTime=h,v}return v5(i,t),Ix(i)}(Ox),MH=0,_5=function(){function t(i,a){var s;Zd(this,t),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=i,i.animation=this,this.timeline=a,this.id="".concat(MH++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((s=this.effect)===null||s===void 0?void 0:s.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Ix(t,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var a=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(s,u){a.resolveReadyPromise=function(){s(a)},a.rejectReadyPromise=function(){u(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var a=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(s,u){a.resolveFinishedPromise=function(){s(a)},a.rejectFinishedPromise=function(){u(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(a){if(a=Number(a),!isNaN(a)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var s;this._startTime=Number((s=this.timeline)===null||s===void 0?void 0:s.currentTime)-a/this.playbackRate}this.currentTimePending=!1,this._currentTime!==a&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(a,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(a){if(a!==null){if(this.updatePromises(),a=Number(a),isNaN(a)||this._paused||this._idle)return;this._startTime=a,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(a){if(a!==this._playbackRate){this.updatePromises();var s=this.currentTime;this._playbackRate=a,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),s!==null&&(this.currentTime=s),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var a=this.oldPlayState,s=this.pending?"pending":this.playState;return this.readyPromise&&s!==a&&(s==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):a==="pending"?this.resolveReadyPromise():s==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&s!==a&&(s==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):s==="finished"?this.resolveFinishedPromise():a==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=s,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var a=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var s=new om(null,this,this.currentTime,null);setTimeout(function(){a.oncancel(s)})}}},{key:"reverse",value:function(){this.updatePromises();var a=this.currentTime;this.playbackRate*=-1,this.play(),a!==null&&(this.currentTime=a),this.updatePromises()}},{key:"updatePlaybackRate",value:function(a){this.playbackRate=a}},{key:"targetAnimations",value:function(){var a,s=(a=this.effect)===null||a===void 0?void 0:a.target;return s.getAnimations()}},{key:"markTarget",value:function(){var a=this.targetAnimations();a.indexOf(this)===-1&&a.push(this)}},{key:"unmarkTarget",value:function(){var a=this.targetAnimations(),s=a.indexOf(this);s!==-1&&a.splice(s,1)}},{key:"tick",value:function(a,s){!this._idle&&!this._paused&&(this._startTime===null?s&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((a-this._startTime)*this.playbackRate)),s&&(this.currentTimePending=!1,this.fireEvents(a))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(In)}},{key:"addEventListener",value:function(a,s,u){throw new Error(In)}},{key:"removeEventListener",value:function(a,s,u){throw new Error(In)}},{key:"dispatchEvent",value:function(a){throw new Error(In)}},{key:"commitStyles",value:function(){throw new Error(In)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var a;this._inEffect=!!((a=this.effect)!==null&&a!==void 0&&a.update(-1))}else{var s;this._inEffect=!!((s=this.effect)!==null&&s!==void 0&&s.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(a,s){a!==this._currentTime&&(this._currentTime=a,this._isFinished&&!s&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(a){var s=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var u=new om(null,this,this.currentTime,a);setTimeout(function(){s.onfinish&&s.onfinish(u)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var h=new om(null,this,this.currentTime,a);this.onframe(h)}this._finishedFlag=!1}}}])}(),PA=4,qp=.001,Krt=1e-7,TH=10,eh=11,sm=1/(eh-1),lm=typeof Float32Array=="function",x5=function(i,a){return 1-3*a+3*i},EA=function(i,a){return 3*a-6*i},Bc=function(i){return 3*i},Bx=function(i,a,s){return((x5(a,s)*i+EA(a,s))*i+Bc(a))*i},kA=function(i,a,s){return 3*x5(a,s)*i*i+2*EA(a,s)*i+Bc(a)},w5=function(i,a,s,u,h){var v,g,m=0;do g=a+(s-a)/2,v=Bx(g,u,h)-i,v>0?s=g:a=g;while(Math.abs(v)>Krt&&++m<TH);return g},OH=function(i,a,s,u){for(var h=0;h<PA;++h){var v=kA(a,s,u);if(v===0)return a;var g=Bx(a,s,u)-i;a-=g/v}return a},zx=function(i,a,s,u){if(!(i>=0&&i<=1&&s>=0&&s<=1))throw new Error("bezier x values must be in [0, 1] range");if(i===a&&s===u)return function(m){return m};for(var h=lm?new Float32Array(eh):new Array(eh),v=0;v<eh;++v)h[v]=Bx(v*sm,i,s);var g=function(_){for(var w=0,M=1,O=eh-1;M!==O&&h[M]<=_;++M)w+=sm;--M;var C=(_-h[M])/(h[M+1]-h[M]),P=w+C*sm,k=kA(P,i,s);return k>=qp?OH(_,P,i,s):k===0?P:w5(_,w,w+sm,i,s)};return function(m){return m===0||m===1?m:Bx(g(m),a,u)}},AH=function(i){return i=i.replace(/([A-Z])/g,function(a){return"-".concat(a.toLowerCase())}),i.charAt(0)==="-"?i.substring(1):i},Fx=function(i){return Math.pow(i,2)},jx=function(i){return Math.pow(i,3)},Vx=function(i){return Math.pow(i,4)},Gx=function(i){return Math.pow(i,5)},Wx=function(i){return Math.pow(i,6)},Hx=function(i){return 1-Math.cos(i*Math.PI/2)},Yx=function(i){return 1-Math.sqrt(1-i*i)},um=function(i){return i*i*(3*i-2)},Ux=function(i){for(var a,s=4;i<((a=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((a*3-2)/22-i,2)},Xx=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=am(a,2),u=s[0],h=u===void 0?1:u,v=s[1],g=v===void 0?.5:v,m=Oi(Number(h),1,10),_=Oi(Number(g),.1,2);return i===0||i===1?i:-m*Math.pow(2,10*(i-1))*Math.sin((i-1-_/(Math.PI*2)*Math.asin(1/m))*(Math.PI*2)/_)},cm=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,u=am(a,4),h=u[0],v=h===void 0?1:h,g=u[1],m=g===void 0?100:g,_=u[2],w=_===void 0?10:_,M=u[3],O=M===void 0?0:M;v=Oi(v,.1,1e3),m=Oi(m,.1,1e3),w=Oi(w,.1,1e3),O=Oi(O,.1,1e3);var C=Math.sqrt(m/v),P=w/(2*Math.sqrt(m*v)),k=P<1?C*Math.sqrt(1-P*P):0,D=1,R=P<1?(P*C+-O)/k:-O+C,B=s?s*i/1e3:i;return P<1?B=Math.exp(-B*P*C)*(D*Math.cos(k*B)+R*Math.sin(k*B)):B=(D+R*B)*Math.exp(-B*C),i===0||i===1?i:1-B},fm=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=a,u=am(s,2),h=u[0],v=h===void 0?10:h,g=u[1],m=g==="start"?Math.ceil:Math.floor;return m(Oi(i,0,1)*v)/v},hm=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=am(a,4),u=s[0],h=s[1],v=s[2],g=s[3];return zx(u,h,v,g)(i)},$x=zx(.42,0,1,1),al=function(i){return function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=arguments.length>2?arguments[2]:void 0;return 1-i(1-a,s,u)}},Ps=function(i){return function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=arguments.length>2?arguments[2]:void 0;return a<.5?i(a*2,s,u)/2:1-i(a*-2+2,s,u)/2}},Es=function(i){return function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=arguments.length>2?arguments[2]:void 0;return a<.5?(1-i(1-a*2,s,u))/2:(i(a*2-1,s,u)+1)/2}},LA={steps:fm,"step-start":function(i){return fm(i,[1,"start"])},"step-end":function(i){return fm(i,[1,"end"])},linear:function(i){return i},"cubic-bezier":hm,ease:function(i){return hm(i,[.25,.1,.25,1])},in:$x,out:al($x),"in-out":Ps($x),"out-in":Es($x),"in-quad":Fx,"out-quad":al(Fx),"in-out-quad":Ps(Fx),"out-in-quad":Es(Fx),"in-cubic":jx,"out-cubic":al(jx),"in-out-cubic":Ps(jx),"out-in-cubic":Es(jx),"in-quart":Vx,"out-quart":al(Vx),"in-out-quart":Ps(Vx),"out-in-quart":Es(Vx),"in-quint":Gx,"out-quint":al(Gx),"in-out-quint":Ps(Gx),"out-in-quint":Es(Gx),"in-expo":Wx,"out-expo":al(Wx),"in-out-expo":Ps(Wx),"out-in-expo":Es(Wx),"in-sine":Hx,"out-sine":al(Hx),"in-out-sine":Ps(Hx),"out-in-sine":Es(Hx),"in-circ":Yx,"out-circ":al(Yx),"in-out-circ":Ps(Yx),"out-in-circ":Es(Yx),"in-back":um,"out-back":al(um),"in-out-back":Ps(um),"out-in-back":Es(um),"in-bounce":Ux,"out-bounce":al(Ux),"in-out-bounce":Ps(Ux),"out-in-bounce":Es(Ux),"in-elastic":Xx,"out-elastic":al(Xx),"in-out-elastic":Ps(Xx),"out-in-elastic":Es(Xx),spring:cm,"spring-in":cm,"spring-out":al(cm),"spring-in-out":Ps(cm),"spring-out-in":Es(cm)},DA=function(i){return AH(i).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},Zp=function(i){return LA[DA(i)]||LA.linear},Kp=function(i){return i},CH=1,S5=.5,M5=0;function qx(t,i){return function(a){if(a>=1)return 1;var s=1/t;return a+=i*s,a-a%s}}var dm="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",T5=new RegExp("cubic-bezier\\(".concat(dm,",").concat(dm,",").concat(dm,",").concat(dm,"\\)")),Zx=/steps\(\s*(\d+)\s*\)/,O5=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function IA(t){var i=T5.exec(t);if(i)return zx.apply(void 0,y5(i.slice(1).map(Number)));var a=Zx.exec(t);if(a)return qx(Number(a[1]),M5);var s=O5.exec(t);return s?qx(Number(s[1]),{start:CH,middle:S5,end:M5}[s[2]]):Zp(t)}function A5(t){return Math.abs(C5(t)/(t.playbackRate||1))}function C5(t){var i;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((i=t.iterations)!==null&&i!==void 0?i:1)}var P5=0,RA=1,Li=2,Kx=3;function E5(t,i,a){if(i===null)return P5;var s=a.endTime;return i<Math.min(a.delay,s)?RA:i>=Math.min(a.delay+t+a.endDelay,s)?Li:Kx}function k5(t,i,a,s,u){switch(s){case RA:return i==="backwards"||i==="both"?0:null;case Kx:return a-u;case Li:return i==="forwards"||i==="both"?t:null;case P5:return null}}function PH(t,i,a,s,u){var h=u;return t===0?i!==RA&&(h+=a):h+=s/t,h}function EH(t,i,a,s,u,h){var v=t===1/0?i%1:t%1;return v===0&&a===Li&&s!==0&&(u!==0||h===0)&&(v=1),v}function L5(t,i,a,s){return t===Li&&i===1/0?1/0:a===1?Math.floor(s)-1:Math.floor(s)}function kH(t,i,a){var s=t;if(t!=="normal"&&t!=="reverse"){var u=i;t==="alternate-reverse"&&(u+=1),s="normal",u!==1/0&&u%2!==0&&(s="reverse")}return s==="normal"?a:1-a}function NA(t,i,a){var s=E5(t,i,a),u=k5(t,a.fill,i,s,a.delay);if(u===null)return null;var h=a.duration==="auto"?0:a.duration,v=PH(h,s,a.iterations,u,a.iterationStart),g=EH(v,a.iterationStart,s,a.iterations,u,h),m=L5(s,a.iterations,g,v),_=kH(a.direction,m,g);return a.currentIteration=m,a.progress=_,a.easingFunction(_)}function LH(t,i,a){var s=I5(t,i),u=DH(s,a);return function(h,v){if(v!==null)u.filter(function(m){return v>=m.applyFrom&&v<m.applyTo}).forEach(function(m){var _=v-m.startOffset,w=m.endOffset-m.startOffset,M=w===0?0:_/w;h.setAttribute(m.property,m.interpolation(M),!1,!1)});else for(var g in s)D5(g)&&h.setAttribute(g,null)}}function D5(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function I5(t,i){for(var a={},s=0;s<t.length;s++)for(var u in t[s])if(D5(u)){var h={offset:t[s].offset,computedOffset:t[s].computedOffset,easing:t[s].easing,easingFunction:IA(t[s].easing)||i.easingFunction,value:t[s][u]};a[u]=a[u]||[],a[u].push(h)}return a}function DH(t,i){var a=[];for(var s in t)for(var u=t[s],h=0;h<u.length-1;h++){var v=h,g=h+1,m=u[v].computedOffset,_=u[g].computedOffset,w=m,M=_;h===0&&(w=-1/0,_===0&&(g=v)),h===u.length-2&&(M=1/0,m===1&&(v=g)),a.push({applyFrom:w,applyTo:M,startOffset:u[v].computedOffset,endOffset:u[g].computedOffset,easingFunction:u[v].easingFunction,property:s,interpolation:R5(s,u[v].value,u[g].value,i)})}return a.sort(function(O,C){return O.startOffset-C.startOffset}),a}var BA=function(i,a,s){return function(u){var h=Qx(i,a,u);return yn(h)?h:s(h)}};function R5(t,i,a,s){var u=dx[t];if(u&&u.syntax&&u.int){var h=ee.styleValueRegistry.getPropertySyntax(u.syntax);if(h){var v=h.parser,g=v?v(i,s):i,m=v?v(a,s):a,_=h.mixer(g,m,s);if(_){var w=BA.apply(void 0,y5(_));return function(M){return M===0?i:M===1?a:w(M)}}}}return BA(!1,!0,function(M){return M?a:i})}function Qx(t,i,a){if(typeof t=="number"&&typeof i=="number")return t*(1-a)+i*a;if(typeof t=="boolean"&&typeof i=="boolean"||typeof t=="string"&&typeof i=="string")return a<.5?t:i;if(Array.isArray(t)&&Array.isArray(i)){for(var s=t.length,u=i.length,h=Math.max(s,u),v=[],g=0;g<h;g++)v.push(Qx(t[g<s?g:s-1],i[g<u?g:u-1],a));return v}throw new Error("Mismatched interpolation arguments ".concat(t,":").concat(i))}var N5=function(){function t(){Zd(this,t),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=Kp,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Ix(t,[{key:"easing",get:function(){return this._easing},set:function(a){this.easingFunction=IA(a),this._easing=a}}])}();function IH(t){var i=[];for(var a in t)if(!(a in["easing","offset","composite"])){var s=t[a];Array.isArray(s)||(s=[s]);for(var u=s.length,h=0;h<u;h++){if(!i[h]){var v={};"offset"in t&&(v.offset=Number(t.offset)),"easing"in t&&(v.easing=t.easing),"composite"in t&&(v.composite=t.composite),i[h]=v}s[h]!==void 0&&s[h]!==null&&(i[h][a]=s[h])}}return i.sort(function(g,m){return(g.computedOffset||0)-(m.computedOffset||0)}),i}function zc(t,i){if(t===null)return[];Array.isArray(t)||(t=IH(t));for(var a=t.map(function(m){var _={};i!=null&&i.composite&&(_.composite="auto");for(var w in m){var M=m[w];if(w==="offset"){if(M!==null){if(M=Number(M),!isFinite(M))throw new Error("Keyframe offsets must be numbers.");if(M<0||M>1)throw new Error("Keyframe offsets must be between 0 and 1.");_.computedOffset=M}}else if(w==="composite"&&["replace","add","accumulate","auto"].indexOf(M)===-1)throw new Error("".concat(M," compositing is not supported"));_[w]=M}return _.offset===void 0&&(_.offset=null),_.easing===void 0&&(_.easing=(i==null?void 0:i.easing)||"linear"),_.composite===void 0&&(_.composite="auto"),_}),s=!0,u=-1/0,h=0;h<a.length;h++){var v=a[h].offset;if(Ar(v))s=!1;else{if(v<u)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");u=v}}a=a.filter(function(m){return Number(m.offset)>=0&&Number(m.offset)<=1});function g(){var m,_=a,w=_.length;if(a[w-1].computedOffset=Number((m=a[w-1].offset)!==null&&m!==void 0?m:1),w>1){var M;a[0].computedOffset=Number((M=a[0].offset)!==null&&M!==void 0?M:0)}for(var O=0,C=Number(a[0].computedOffset),P=1;P<w;P++){var k=a[P].computedOffset;if(!Ar(k)&&!Ar(C)){for(var D=1;D<P-O;D++)a[O+D].computedOffset=C+(Number(k)-C)*D/(P-O);O=P,C=Number(k)}}}return s||g(),a}var Jx="backwards|forwards|both|none".split("|"),tw="reverse|alternate|alternate-reverse".split("|");function ew(t,i){var a=new N5;return i&&(a.fill="both",a.duration="auto"),typeof t=="number"&&!isNaN(t)?a.duration=t:t!==void 0&&Object.keys(t).forEach(function(s){if(t[s]!==void 0&&t[s]!==null&&t[s]!=="auto"){if((typeof a[s]=="number"||s==="duration")&&(typeof t[s]!="number"||isNaN(t[s]))||s==="fill"&&Jx.indexOf(t[s])===-1||s==="direction"&&tw.indexOf(t[s])===-1)return;a[s]=t[s]}}),a}function B5(t,i){return t=RH(t!=null?t:{duration:"auto"}),ew(t,i)}function RH(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var NH=function(){function t(i,a,s){var u=this;Zd(this,t),this.composite="replace",this.iterationComposite="replace",this.target=i,this.timing=B5(s,!1),this.timing.effect=this,this.timing.activeDuration=A5(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=zc(a,this.timing),this.interpolations=LH(this.normalizedKeyframes,this.timing,this.target);var h=ee.globalThis.Proxy;this.computedTiming=h?new h(this.timing,{get:function(g,m){return m==="duration"?g.duration==="auto"?0:g.duration:m==="fill"?g.fill==="auto"?"none":g.fill:m==="localTime"?u.animation&&u.animation.currentTime||null:m==="currentIteration"?!u.animation||u.animation.playState!=="running"?null:g.currentIteration||0:m==="progress"?!u.animation||u.animation.playState!=="running"?null:g.progress||0:g[m]},set:function(){return!0}}):this.timing}return Ix(t,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(a){return a===null?!1:(this.timeFraction=NA(this.timing.activeDuration,a,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(a){this.normalizedKeyframes=zc(a)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(a){var s=this;Object.keys(a||{}).forEach(function(u){s.timing[u]=a[u]})}}])}();function z5(t,i){return Number(t.id)-Number(i.id)}var BH=function(){function t(i){var a=this;Zd(this,t),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(s){a.currentTime=s,a.discardAnimations(),a.animations.length===0?a.timelineTicking=!1:a.requestAnimationFrame(a.webAnimationsNextTick)},this.processRafCallbacks=function(s){var u=a.rafCallbacks;a.rafCallbacks=[],s<Number(a.currentTime)&&(s=Number(a.currentTime)),a.animations.sort(z5),a.animations=a.tick(s,!0,a.animations)[0],u.forEach(function(h){h[1](s)}),a.applyPendingEffects()},this.document=i}return Ix(t,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(a,s,u){var h=new NH(a,s,u),v=new _5(h,this);return this.animations.push(v),this.restartWebAnimationsNextTick(),v.updatePromises(),v.play(),v.updatePromises(),v}},{key:"applyDirtiedAnimation",value:function(a){var s=this;if(!this.inTick){a.markTarget();var u=a.targetAnimations();u.sort(z5);var h=this.tick(Number(this.currentTime),!1,u.slice())[1];h.forEach(function(v){var g=s.animations.indexOf(v);g!==-1&&s.animations.splice(g,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(a){a==null||a.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(a){return a.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(a){return a.playState!=="finished"&&a.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(a){var s=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([s,a]),s}},{key:"requestAnimationFrame",value:function(a){var s=this;return this.rAF(function(u){s.updateAnimationsPromises(),a(u),s.updateAnimationsPromises()})}},{key:"tick",value:function(a,s,u){var h=this,v,g;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=a,this.ticking=!1;var m=[],_=[],w=[],M=[];return u.forEach(function(O){O.tick(a,s),O._inEffect?(_.push(O.effect),O.markTarget()):(m.push(O.effect),O.unmarkTarget()),O._needsTick&&(h.ticking=!0);var C=O._inEffect||O._needsTick;O._inTimeline=C,C?w.push(O):M.push(O)}),(v=this.pendingEffects).push.apply(v,m),(g=this.pendingEffects).push.apply(g,_),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[w,M]}}])}();ee.EasingFunction=IA,ee.AnimationTimeline=BH;class F5 extends Map{constructor(i,a=ui){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),i!=null)for(const[s,u]of i)this.set(s,u)}get(i){return super.get(vm(this,i))}has(i){return super.has(vm(this,i))}set(i,a){return super.set(ai(this,i),a)}delete(i){return super.delete(rw(this,i))}}class Qrt extends null{constructor(i,a=ui){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),i!=null)for(const s of i)this.add(s)}has(i){return super.has(vm(this,i))}add(i){return super.add(ai(this,i))}delete(i){return super.delete(rw(this,i))}}function vm({_intern:t,_key:i},a){const s=i(a);return t.has(s)?t.get(s):a}function ai({_intern:t,_key:i},a){const s=i(a);return t.has(s)?t.get(s):(t.set(s,a),a)}function rw({_intern:t,_key:i},a){const s=i(a);return t.has(s)&&(a=t.get(s),t.delete(s)),a}function ui(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ju(t){return t}function Bn(t,...i){return rh(t,ju,ju,i)}function nw(t,...i){return rh(t,Array.from,ju,i)}function zA(t,i){for(let a=1,s=i.length;a<s;++a)t=t.flatMap(u=>u.pop().map(([h,v])=>[...u,h,v]));return t}function Jrt(t,...i){return zA(nw(t,...i),i)}function zH(t,i,...a){return zA(tv(t,i,...a),a)}function pm(t,i,...a){return rh(t,ju,i,a)}function tv(t,i,...a){return rh(t,Array.from,i,a)}function FA(t,...i){return rh(t,identity,jA,i)}function iw(t,...i){return rh(t,Array.from,jA,i)}function jA(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function rh(t,i,a,s){return function u(h,v){if(v>=s.length)return a(h);const g=new F5,m=s[v++];let _=-1;for(const w of h){const M=m(w,++_,h),O=g.get(M);O?O.push(w):g.set(M,[w])}for(const[w,M]of g)g.set(w,u(M,v));return i(g)}(t,0)}var VA=function(t){return Ar(t)?"":t.toString()},j5=function(t){var i=VA(t);return i.charAt(0).toLowerCase()+i.substring(1)},V5=j5;function G5({map:t,initKey:i},a){const s=i(a);return t.has(s)?t.get(s):a}function FH({map:t,initKey:i},a){const s=i(a);return t.has(s)?t.get(s):(t.set(s,a),a)}function W5({map:t,initKey:i},a){const s=i(a);return t.has(s)&&(a=t.get(s),t.delete(s)),a}function H5(t){return typeof t=="object"?t.valueOf():t}class GA extends Map{constructor(i){if(super(),this.map=new Map,this.initKey=H5,i!==null)for(const[a,s]of i)this.set(a,s)}get(i){return super.get(G5({map:this.map,initKey:this.initKey},i))}has(i){return super.has(G5({map:this.map,initKey:this.initKey},i))}set(i,a){return super.set(FH({map:this.map,initKey:this.initKey},i),a)}delete(i){return super.delete(W5({map:this.map,initKey:this.initKey},i))}}class Qp{constructor(i){this.options=Ft({},this.getDefaultOptions()),this.update(i)}getOptions(){return this.options}update(i={}){this.options=Ft({},this.options,i),this.rescale(i)}rescale(i){}}const aw=Symbol("defaultUnknown");function Y5(t,i,a){for(let s=0;s<i.length;s+=1)t.has(i[s])||t.set(a(i[s]),s)}function ow(t){const{value:i,from:a,to:s,mapper:u,notFoundReturn:h}=t;let v=u.get(i);if(v===void 0){if(h!==aw)return h;v=a.push(i)-1,u.set(i,v)}return s[v%s.length]}function U5(t){return t instanceof Date?i=>`${i}`:typeof t=="object"?i=>JSON.stringify(i):i=>i}class gm extends Qp{getDefaultOptions(){return{domain:[],range:[],unknown:aw}}constructor(i){super(i)}map(i){return this.domainIndexMap.size===0&&Y5(this.domainIndexMap,this.getDomain(),this.domainKey),ow({value:this.domainKey(i),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(i){return this.rangeIndexMap.size===0&&Y5(this.rangeIndexMap,this.getRange(),this.rangeKey),ow({value:this.rangeKey(i),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(i){const[a]=this.options.domain,[s]=this.options.range;if(this.domainKey=U5(a),this.rangeKey=U5(s),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!i||i.range)&&this.rangeIndexMap.clear(),(!i||i.domain||i.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new gm(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:i,compare:a}=this.options;return this.sortedDomain=a?[...i].sort(a):i,this.sortedDomain}}function nh(t){const i=Math.min(...t);return t.map(a=>a/i)}function jH(t,i){const a=t.length,s=i-a;return s>0?[...t,...new Array(s).fill(1)]:s<0?t.slice(0,i):t}function X5(t){return Math.round(t*1e12)/1e12}function WA(t){const{domain:i,range:a,paddingOuter:s,paddingInner:u,flex:h,round:v,align:g}=t,m=i.length,_=jH(h,m),[w,M]=a,O=M-w,C=2/m*s+1-1/m*u,P=O/C,k=P*u/m,D=P-m*k,R=nh(_),B=R.reduce((ct,nt)=>ct+nt),z=D/B,j=new GA(i.map((ct,nt)=>{const lt=R[nt]*z;return[ct,v?Math.floor(lt):lt]})),V=new GA(i.map((ct,nt)=>{const ft=R[nt]*z+k;return[ct,v?Math.floor(ft):ft]})),G=Array.from(V.values()).reduce((ct,nt)=>ct+nt),Z=(O-(G-G/m*u))*g,Q=w+Z;let tt=v?Math.round(Q):Q;const rt=new Array(m);for(let ct=0;ct<m;ct+=1){rt[ct]=X5(tt);const nt=i[ct];tt+=V.get(nt)}return{valueBandWidth:j,valueStep:V,adjustedRange:rt}}function $5(t){var i;const{domain:a}=t,s=a.length;if(s===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((i=t.flex)===null||i===void 0)&&i.length))return WA(t);const{range:h,paddingOuter:v,paddingInner:g,round:m,align:_}=t;let w,M,O=h[0];const P=h[1]-O,k=v*2,D=s-g;w=P/Math.max(1,k+D),m&&(w=Math.floor(w)),O+=(P-w*(s-g))*_,M=w*(1-g),m&&(O=Math.round(O),M=Math.round(M));const R=new Array(s).fill(0).map((B,z)=>O+z*w);return{valueStep:w,valueBandWidth:M,adjustedRange:R}}class Vu extends gm{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:aw,flex:[]}}constructor(i){super(i)}clone(){return new Vu(this.options)}getStep(i){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:i===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(i)}getBandWidth(i){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:i===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(i)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:i,paddingInner:a}=this.options;return i>0?i:a}getPaddingOuter(){const{padding:i,paddingOuter:a}=this.options;return i>0?i:a}rescale(){super.rescale();const{align:i,domain:a,range:s,round:u,flex:h}=this.options,{adjustedRange:v,valueBandWidth:g,valueStep:m}=$5({align:i,range:s,round:u,flex:h,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:a});this.valueStep=m,this.valueBandWidth=g,this.adjustedRange=v}}const Fc=Math.sqrt(50),ih=Math.sqrt(10),HA=Math.sqrt(2);function Ia(t,i,a){const s=(i-t)/Math.max(0,a),u=Math.floor(Math.log(s)/Math.LN10),h=s/Ga(10,u);return u>=0?(h>=Fc?10:h>=ih?5:h>=HA?2:1)*Ga(10,u):-Ga(10,-u)/(h>=Fc?10:h>=ih?5:h>=HA?2:1)}function YA(t,i,a){const s=Math.abs(i-t)/Math.max(0,a);let u=Ga(10,Math.floor(Math.log(s)/Math.LN10));const h=s/u;return h>=Fc?u*=10:h>=ih?u*=5:h>=HA&&(u*=2),i<t?-u:u}const Zl=(t,i,a)=>{let s,u,h=t,v=i;if(h===v&&a>0)return[h];let g=Ia(h,v,a);if(g===0||!Number.isFinite(g))return[];if(g>0){h=Math.ceil(h/g),v=Math.floor(v/g),u=new Array(s=Math.ceil(v-h+1));for(let m=0;m<s;m+=1)u[m]=(h+m)*g}else{g=-g,h=Math.ceil(h*g),v=Math.floor(v*g),u=new Array(s=Math.ceil(v-h+1));for(let m=0;m<s;m+=1)u[m]=(h+m)/g}return u};class jc extends Qp{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:Zl}}map(i){const[a]=this.options.range;return a!==void 0?a:this.options.unknown}invert(i){const[a]=this.options.range;return i===a&&a!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:i,domain:a,tickCount:s}=this.options,[u,h]=a;return!yn(u)||!yn(h)?[]:i(u,h,s)}clone(){return new jc(this.options)}}var Gu=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})};function ol(t){var i;let a=t;for(;a;){if(((i=a.attributes)===null||i===void 0?void 0:i.class)==="view")return a;a=a.parentNode}return null}function q5(t){const i=ol(t),a=t.__data__,{markKey:s,index:u,seriesIndex:h}=a,{markState:v}=i.__data__,g=Array.from(v.keys()).find(m=>m.key===s);if(g)return h?h.map(m=>g.data[m]):g.data[u]}function UA(t){const i=ol(t).__data__,{scale:a}=i;return Z5(a,t.__data__)}function Z5(t,i){const{color:a,series:s,facet:u=!1}=t,{color:h,series:v}=i,g=m=>m&&m.invert&&!(m instanceof Vu)&&!(m instanceof jc);if(g(s))return s.clone().invert(v);if(v&&s instanceof Vu&&s.invert(v)!==h&&!u)return s.invert(v);if(g(a)){const m=a.invert(h);return Array.isArray(m)?null:m}return null}function ev(t){return t}function XA(t){return t.reduce((i,a)=>(s,...u)=>a(i(s,...u),...u),ev)}function K5(t){return t.reduce((i,a)=>s=>Gu(this,void 0,void 0,function*(){const u=yield i(s);return a(u)}),ev)}function uo(t){return t.replace(/( |^)[a-z]/g,i=>i.toUpperCase())}function Jp(t=""){throw new Error(t)}function sw(t,i){const{attributes:a}=i,s=new Set(["id","className"]);for(const[u,h]of Object.entries(a))s.has(u)||t.attr(u,h)}function zn(t){return t!=null&&!Number.isNaN(t)}function tnt(t,i){return t+(i-t)*Math.random()}function Q5(t){const i=new Map;return a=>{if(i.has(a))return i.get(a);const s=t(a);return i.set(a,s),s}}function VH(t,i){const{transform:a}=t.style,u=(h=>h==="none"||h===void 0)(a)?"":a;t.style.transform=`${u} ${i}`.trimStart()}function Te(t,i){return xo(t,i)||{}}function xo(t,i){const a=Object.entries(t||{}).filter(([s])=>s.startsWith(i)).map(([s,u])=>[V5(s.replace(i,"").trim()),u]).filter(([s])=>!!s);return a.length===0?null:Object.fromEntries(a)}function ent(t,i){return Object.fromEntries(Object.entries(t).map(([a,s])=>[`${i}${upperFirst(a)}`,s]))}function J5(t,i){return Object.fromEntries(Object.entries(t).filter(([a])=>i.find(s=>a.startsWith(s))))}function Xa(t,...i){return Object.fromEntries(Object.entries(t).filter(([a])=>i.every(s=>!a.startsWith(s))))}function t3(t,i){if(t===void 0)return null;if(typeof t=="number")return t;const a=+t.replace("%","");return Number.isNaN(a)?null:a/100*i}function tg(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}function Wu(t){return t===null||t===!1}function ua(t,i,a=5,s=0){if(!(s>=a)){for(const u of Object.keys(i)){const h=i[u];!cr(h)||!cr(t[u])?t[u]=h:ua(t[u],h,a,s+1)}return t}}function ir(t){return new ca([t],null,t,t.ownerDocument)}class ca{constructor(i=null,a=null,s=null,u=null,h=[null,null,null,null,null],v=[],g=[]){this._elements=Array.from(i),this._data=a,this._parent=s,this._document=u,this._enter=h[0],this._update=h[1],this._exit=h[2],this._merge=h[3],this._split=h[4],this._transitions=v,this._facetElements=g}selectAll(i){const a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new ca(a,null,this._elements[0],this._document)}selectFacetAll(i){const a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new ca(this._elements,null,this._parent,this._document,void 0,void 0,a)}select(i){const a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new ca([a],null,a,this._document)}append(i){const a=typeof i=="function"?i:()=>this.createElement(i),s=[];if(this._data!==null){for(let u=0;u<this._data.length;u++){const h=this._data[u],[v,g]=Array.isArray(h)?h:[h,null],m=a(v,u);m.__data__=v,g!==null&&(m.__fromElements__=g),this._parent.appendChild(m),s.push(m)}return new ca(s,null,this._parent,this._document)}else{for(let u=0;u<this._elements.length;u++){const h=this._elements[u],v=h.__data__,g=a(v,u);h.appendChild(g),s.push(g)}return new ca(s,null,s[0],this._document)}}maybeAppend(i,a,s){const u=this._elements[0],h=u.getElementById(i);if(h)return new ca([h],null,this._parent,this._document);const v=typeof a=="string"?this.createElement(a):a();return v.id=i,s&&(v.className=s),u.appendChild(v),new ca([v],null,this._parent,this._document)}data(i,a=u=>u,s=()=>null){const u=[],h=[],v=new Set(this._elements),g=[],m=new Set,_=new Map(this._elements.map((C,P)=>[a(C.__data__,P),C])),w=new Map(this._facetElements.map((C,P)=>[a(C.__data__,P),C])),M=Bn(this._elements,C=>s(C.__data__));for(let C=0;C<i.length;C++){const P=i[C],k=a(P,C),D=s(P,C);if(_.has(k)){const R=_.get(k);R.__data__=P,R.__facet__=!1,h.push(R),v.delete(R),_.delete(k)}else if(w.has(k)){const R=w.get(k);R.__data__=P,R.__facet__=!0,h.push(R),w.delete(k)}else if(M.has(k)){const R=M.get(k);g.push([P,R]);for(const B of R)v.delete(B);M.delete(k)}else if(_.has(D)){const R=_.get(D);R.__toData__?R.__toData__.push(P):R.__toData__=[P],m.add(R),v.delete(R)}else u.push(P)}const O=[new ca([],u,this._parent,this._document),new ca(h,null,this._parent,this._document),new ca(v,null,this._parent,this._document),new ca([],g,this._parent,this._document),new ca(m,null,this._parent,this._document)];return new ca(this._elements,null,this._parent,this._document,O)}merge(i){const a=[...this._elements,...i._elements],s=[...this._transitions,...i._transitions];return new ca(a,null,this._parent,this._document,void 0,s)}createElement(i){if(this._document)return this._document.createElement(i,{});const a=ca.registry[i];return a?new a:Jp(`Unknown node type: ${i}`)}join(i=v=>v,a=v=>v,s=v=>v.remove(),u=v=>v,h=v=>v.remove()){const v=i(this._enter),g=a(this._update),m=s(this._exit),_=u(this._merge),w=h(this._split);return g.merge(v).merge(m).merge(_).merge(w)}remove(){for(let i=0;i<this._elements.length;i++){const a=this._transitions[i];if(a){const s=Array.isArray(a)?a:[a];Promise.all(s.map(u=>u.finished)).then(()=>{this._elements[i].remove()})}else this._elements[i].remove()}return new ca([],null,this._parent,this._document,void 0,this._transitions)}each(i){for(let a=0;a<this._elements.length;a++){const s=this._elements[a],u=s.__data__;i(u,a,s)}return this}attr(i,a){const s=typeof a!="function"?()=>a:a;return this.each(function(u,h,v){a!==void 0&&(v[i]=s(u,h,v))})}style(i,a){const s=typeof a!="function"?()=>a:a;return this.each(function(u,h,v){a!==void 0&&(v.style[i]=s(u,h,v))})}transition(i){const a=typeof i!="function"?()=>i:i,{_transitions:s}=this;return this.each(function(u,h,v){s[h]=a(u,h,v)})}on(i,a){return this.each(function(s,u,h){h.addEventListener(i,a)}),this}call(i,...a){return i(this,...a),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}ca.registry={g:ta,rect:Rc,circle:Xl,path:_o,text:nl,ellipse:K0,image:J0,line:$d,polygon:qd,polyline:kx,html:Yp};function Di([t,i],[a,s]){return[t-a,i-s]}function ym([t,i],[a,s]){return[t+a,i+s]}function ci([t,i],[a,s]){return Math.sqrt(Math.pow(t-a,2)+Math.pow(i-s,2))}function sl([t,i]){return Math.atan2(i,t)}function rv([t,i]){return sl([t,i])+Math.PI/2}function lw(t,i){const a=sl(t),s=sl(i);return a<s?s-a:Math.PI*2-(a-s)}function $A(t){let i=1/0,a=-1/0,s=1/0,u=-1/0;for(const[g,m]of t)i=Math.min(g,i),a=Math.max(g,a),s=Math.min(m,s),u=Math.max(m,u);const h=a-i,v=u-s;return[i,s,h,v]}function mm([t,i],[a,s]){return[(t+a)/2,(i+s)/2]}function uw(t,i,a){return Math.max(i,Math.min(t,a))}function bm(t,i=10){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(i))}var nv=function(t){return t};function Vc(t,i){return i-t?a=>(a-t)/(i-t):a=>.5}function eg(t,...i){return i.reduce((a,s)=>u=>a(s(u)),t)}function cw(t,i,a,s,u){let h=a||0,v=s||t.length;const g=u||(m=>m);for(;h<v;){const m=Math.floor((h+v)/2);g(t[m])>i?v=m:h=m+1}return h}var qA=Kt(19818),GH=Kt.n(qA);function rg(t,i,a){let s=a;return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(i-t)*6*s:s<1/2?i:s<2/3?t+(i-t)*(2/3-s)*6:t}function iv(t){const i=t[0]/360,a=t[1]/100,s=t[2]/100,u=t[3];if(a===0)return[s*255,s*255,s*255,u];const h=s<.5?s*(1+a):s+a-s*a,v=2*s-h,g=rg(v,h,i+1/3),m=rg(v,h,i),_=rg(v,h,i-1/3);return[g*255,m*255,_*255,u]}function ah(t){const i=GH().get(t);if(!i)return null;const{model:a,value:s}=i;return a==="rgb"?s:a==="hsl"?iv(s):null}const Vi=(t,i)=>a=>t*(1-a)+i*a,fw=(t,i)=>{const a=ah(t),s=ah(i);return a===null||s===null?a?()=>t:()=>i:u=>{const h=new Array(4);for(let w=0;w<4;w+=1){const M=a[w],O=s[w];h[w]=M*(1-u)+O*u}const[v,g,m,_]=h;return`rgba(${Math.round(v)}, ${Math.round(g)}, ${Math.round(m)}, ${_})`}},oh=(t,i)=>typeof t=="number"&&typeof i=="number"?Vi(t,i):typeof t=="string"&&typeof i=="string"?fw(t,i):()=>t,WH=(t,i)=>{const a=Vi(t,i);return s=>Math.round(a(s))};function e3(t){return t===null}function hw(t){return!qn(t)&&!e3(t)&&!Number.isNaN(t)}const r3=(t,i,a=5)=>{const s=[t,i];let u=0,h=s.length-1,v=s[u],g=s[h],m;return g<v&&([v,g]=[g,v],[u,h]=[h,u]),m=Ia(v,g,a),m>0?(v=Math.floor(v/m)*m,g=Math.ceil(g/m)*m,m=Ia(v,g,a)):m<0&&(v=Math.ceil(v*m)/m,g=Math.floor(g*m)/m,m=Ia(v,g,a)),m>0?(s[u]=Math.floor(v/m)*m,s[h]=Math.ceil(g/m)*m):m<0&&(s[u]=Math.ceil(v*m)/m,s[h]=Math.floor(g*m)/m),s};function HH(t,i){const a=i<t?i:t,s=t>i?t:i;return u=>Math.min(Math.max(a,u),s)}const ZA=(t,i,a)=>{const[s,u]=t,[h,v]=i;let g,m;return s<u?(g=Vc(s,u),m=a(h,v)):(g=Vc(u,s),m=a(v,h)),eg(m,g)},pr=(t,i,a)=>{const s=Math.min(t.length,i.length)-1,u=new Array(s),h=new Array(s),v=t[0]>t[s],g=v?[...t].reverse():t,m=v?[...i].reverse():i;for(let _=0;_<s;_+=1)u[_]=Vc(g[_],g[_+1]),h[_]=a(m[_],m[_+1]);return _=>{const w=cw(t,_,1,s)-1,M=u[w],O=h[w];return eg(O,M)(_)}},ea=(t,i,a,s)=>(Math.min(t.length,i.length)>2?pr:ZA)(t,i,s?WH:a);class dw extends Qp{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Vi,tickCount:5}}map(i){return hw(i)?this.output(i):this.options.unknown}invert(i){return hw(i)?this.input(i):this.options.unknown}nice(){if(!this.options.nice)return;const[i,a,s,...u]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(i,a,s,...u)}getTicks(){const{tickMethod:i}=this.options,[a,s,u,...h]=this.getTickMethodOptions();return i(a,s,u,...h)}getTickMethodOptions(){const{domain:i,tickCount:a}=this.options,s=i[0],u=i[i.length-1];return[s,u,a]}chooseNice(){return r3}rescale(){this.nice();const[i,a]=this.chooseTransforms();this.composeOutput(i,this.chooseClamp(i)),this.composeInput(i,a,this.chooseClamp(a))}chooseClamp(i){const{clamp:a,range:s}=this.options,u=this.options.domain.map(i),h=Math.min(u.length,s.length);return a?HH(u[0],u[h-1]):nv}composeOutput(i,a){const{domain:s,range:u,round:h,interpolate:v}=this.options,g=ea(s.map(i),u,v,h);this.output=eg(g,a,i)}composeInput(i,a,s){const{domain:u,range:h}=this.options,v=ea(h,u.map(i),Vi);this.input=eg(a,s,v)}}class wo extends dw{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:oh,tickMethod:Zl,tickCount:5}}chooseTransforms(){return[nv,nv]}clone(){return new wo(this.options)}}function Gc(t,i){let a,s;if(i===void 0)for(const u of t)u!=null&&(a===void 0?u>=u&&(a=s=u):(a>u&&(a=u),s<u&&(s=u)));else{let u=-1;for(let h of t)(h=i(h,++u,t))!=null&&(a===void 0?h>=h&&(a=s=h):(a>h&&(a=h),s<h&&(s=h)))}return[a,s]}function ma(t,i){return Object.entries(t).reduce((a,[s,u])=>(a[s]=i(u,s,t),a),{})}function Hu(t){return t.map((i,a)=>a)}function vw(t){const i=t.length,a=t[0].length,s=new Array(a).fill(0).map(()=>new Array(i));for(let u=0;u<a;u++)for(let h=0;h<i;h++)s[u][h]=t[h][u];return s}function n3(t){return t[0]}function KA(t){return t[t.length-1]}function Kl(t){return!t.some(Array.isArray)}function i3(t){return Array.from(new Set(t))}function av(t,i){const a=[[],[]];return t.forEach(s=>{a[i(s)?0:1].push(s)}),a}function a3(t,i=t.length){if(i===1)return t.map(s=>[s]);const a=[];for(let s=0;s<t.length;s++){const u=t.slice(s+1);a3(u,i-1).forEach(v=>{a.push([t[s],...v])})}return a}function pw(t){if(t.length===1)return[t];const i=[];for(let a=1;a<=t.length;a++)i.push(...a3(t,a));return i}function $e(t,i){for(const[a,s]of Object.entries(i))t.style(a,s)}function Ql(t,i){return i.forEach((a,s)=>s===0?t.moveTo(a[0],a[1]):t.lineTo(a[0],a[1])),t.closePath(),t}function gw(t,i,a){const{arrowSize:s}=a,u=typeof s=="string"?+parseFloat(s)/100*ci(t,i):s,h=Math.PI/6,v=Math.atan2(i[1]-t[1],i[0]-t[0]),g=Math.PI/2-v-h,m=[i[0]-u*Math.sin(g),i[1]-u*Math.cos(g)],_=v-h,w=[i[0]-u*Math.cos(_),i[1]-u*Math.sin(_)];return[m,w]}function ng(t,i,a,s,u){const h=sl(Di(s,i))+Math.PI,v=sl(Di(s,a))+Math.PI;return t.arc(s[0],s[1],u,h,v,v-h<0),t}function o3(t,i,a,s="y",u="between",h=!1){const v=(D,R)=>D==="y"||D===!0?R?180:90:R?90:0,g=s==="y"||s===!0?a:i,m=v(s,h),_=Hu(g),[w,M]=Gc(_,D=>g[D]),O=new wo({domain:[w,M],range:[0,100]}),C=D=>yn(g[D])&&!Number.isNaN(g[D])?O.map(g[D]):0,P={between:D=>`${t[D]} ${C(D)}%`,start:D=>D===0?`${t[D]} ${C(D)}%`:`${t[D-1]} ${C(D)}%, ${t[D]} ${C(D)}%`,end:D=>D===t.length-1?`${t[D]} ${C(D)}%`:`${t[D]} ${C(D)}%, ${t[D+1]} ${C(D)}%`},k=_.sort((D,R)=>C(D)-C(R)).map(P[u]||P.between).join(",");return`linear-gradient(${m}deg, ${k})`}function sh(t){const[i,a,s,u]=t;return[u,i,a,s]}function lh(t,i,a){const[s,u,,h]=qe(t)?sh(i):i,[v,g]=a,m=t.getCenter(),_=rv(Di(s,m)),w=rv(Di(u,m)),M=w===_&&v!==g?w+Math.PI*2:w;return{startAngle:_,endAngle:M-_>=0?M:Math.PI*2+M,innerRadius:ci(h,m),outerRadius:ci(s,m)}}function rnt(t){const i="connect";return Object.fromEntries(Object.entries(t).filter(([a])=>a.startsWith(i)).map(([a,s])=>[lowerFirst(a.replace(i,"").trim()),s]).filter(([a])=>a!==void 0))}function ov(t){const{colorAttribute:i,opacityAttribute:a=i}=t;return`${a}Opacity`}function ig(t,i){if(!ce(t))return"";const a=t.getCenter(),{transform:s}=i;return`translate(${a[0]}, ${a[1]}) ${s||""}`}function yw(t){if(t.length===1)return t[0];const[[i,a,s=0],[u,h,v=0]]=t;return[(i+u)/2,(a+h)/2,(s+v)/2]}var ag=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function s3(t,i,a,s,u={}){const{inset:h=0,radius:v=0,insetLeft:g=h,insetTop:m=h,insetRight:_=h,insetBottom:w=h,radiusBottomLeft:M=v,radiusBottomRight:O=v,radiusTopLeft:C=v,radiusTopRight:P=v,minWidth:k=-1/0,maxWidth:D=1/0,minHeight:R=-1/0}=u,B=ag(u,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!ce(s)&&!Aa(s)){const Z=!!qe(s),[Q,,tt]=Z?sh(i):i,[rt,ct]=Q,[nt,lt]=Di(tt,Q),ft=nt>0?rt:rt+nt,q=lt>0?ct:ct+lt,H=Math.abs(nt),U=Math.abs(lt),J=ft+g,st=q+m,ut=H-(g+_),mt=U-(m+w),xt=Z?uw(ut,R,1/0):uw(ut,k,D),Ct=Z?uw(mt,k,D):uw(mt,R,1/0),kt=Z?J:J-(xt-ut)/2,jt=Z?st-(Ct-mt)/2:st-(Ct-mt);return ir(t.createElement("rect",{})).style("x",kt).style("y",jt).style("width",xt).style("height",Ct).style("radius",[C,P,O,M]).call($e,B).node()}const{y:z,y1:j}=a,V=s.getCenter(),G=lh(s,i,[z,j]),Y=yc().cornerRadius(v).padAngle(h*Math.PI/180);return ir(t.createElement("path",{})).style("d",Y(G)).style("transform",`translate(${V[0]}, ${V[1]})`).style("radius",v).style("inset",h).call($e,B).node()}const Jl=(t,i)=>{const{colorAttribute:a,opacityAttribute:s="fill",first:u=!0,last:h=!0}=t,v=ag(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:g,document:m}=i;return(_,w,M)=>{const{color:O,radius:C=0}=M,P=ag(M,["color","radius"]),k=P.lineWidth||1,{stroke:D,radius:R=C,radiusTopLeft:B=R,radiusTopRight:z=R,radiusBottomRight:j=R,radiusBottomLeft:V=R,innerRadius:G=0,innerRadiusTopLeft:Y=G,innerRadiusTopRight:Z=G,innerRadiusBottomRight:Q=G,innerRadiusBottomLeft:tt=G,lineWidth:rt=a==="stroke"||D?k:0,inset:ct=0,insetLeft:nt=ct,insetRight:lt=ct,insetBottom:ft=ct,insetTop:q=ct,minWidth:H,maxWidth:U,minHeight:J}=v,st=ag(v,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:ut=O,opacity:mt}=w,xt=[u?B:Y,u?z:Z,h?j:Q,h?V:tt],Ct=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];qe(g)&&Ct.push(Ct.shift());const kt=Object.assign(Object.assign({radius:R},Object.fromEntries(Ct.map((jt,Bt)=>[jt,xt[Bt]]))),{inset:ct,insetLeft:nt,insetRight:lt,insetBottom:ft,insetTop:q,minWidth:H,maxWidth:U,minHeight:J});return ir(s3(m,_,w,g,kt)).call($e,P).style("fill","transparent").style(a,ut).style(ov(t),mt).style("lineWidth",rt).style("stroke",D===void 0?ut:D).call($e,st).node()}};Jl.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Cn=(t,i)=>Jl(Object.assign({colorAttribute:"fill"},t),i);Cn.props=Object.assign(Object.assign({},Jl.props),{defaultMarker:"square"});const _m=(t,i)=>Jl(Object.assign({colorAttribute:"stroke"},t),i);_m.props=Object.assign(Object.assign({},Jl.props),{defaultMarker:"hollowSquare"});var uh=Array.prototype.slice;function mw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wc(t){this._context=t}Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i);break}}};function sv(t){return new Wc(t)}function xm(t){return t[0]}function og(t){return t[1]}function Hc(t,i){var a=ln(!0),s=null,u=sv,h=null,v=Oa(g);t=typeof t=="function"?t:t===void 0?xm:ln(t),i=typeof i=="function"?i:i===void 0?og:ln(i);function g(m){var _,w=(m=mw(m)).length,M,O=!1,C;for(s==null&&(h=u(C=v())),_=0;_<=w;++_)!(_<w&&a(M=m[_],_,m))===O&&((O=!O)?h.lineStart():h.lineEnd()),O&&h.point(+t(M,_,m),+i(M,_,m));if(C)return h=null,C+""||null}return g.x=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),g):t},g.y=function(m){return arguments.length?(i=typeof m=="function"?m:ln(+m),g):i},g.defined=function(m){return arguments.length?(a=typeof m=="function"?m:ln(!!m),g):a},g.curve=function(m){return arguments.length?(u=m,s!=null&&(h=u(s)),g):u},g.context=function(m){return arguments.length?(m==null?s=h=null:h=u(s=m),g):s},g}function ll(){}function QA(t){this._context=t}QA.prototype={areaStart:ll,areaEnd:ll,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}};function sg(t){return new QA(t)}var JA=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function l3(t,i,a){const[s,u,h,v]=t;if(qe(a)){const _=[i?i[0][0]:u[0],u[1]],w=[i?i[3][0]:h[0],h[1]];return[s,_,w,v]}const g=[u[0],i?i[0][1]:u[1]],m=[h[0],i?i[3][1]:h[1]];return[s,g,m,v]}const tC=(t,i)=>{const{adjustPoints:a=l3}=t,s=JA(t,["adjustPoints"]),{coordinate:u,document:h}=i;return(v,g,m,_)=>{const{index:w}=g,{color:M}=m,O=JA(m,["color"]),C=_[w+1],P=a(v,C,u),k=!!qe(u),[D,R,B,z]=k?sh(P):P,{color:j=M,opacity:V}=g,G=Hc().curve(sg)([D,R,B,z]);return ir(h.createElement("path",{})).call($e,O).style("d",G).style("fill",j).style("fillOpacity",V).call($e,s).node()}};tC.props={defaultMarker:"square"};function eC(t,i,a){const[s,u,h,v]=t;if(qe(a)){const _=[i?i[0][0]:(u[0]+h[0])/2,u[1]],w=[i?i[3][0]:(u[0]+h[0])/2,h[1]];return[s,_,w,v]}const g=[u[0],i?i[0][1]:(u[1]+h[1])/2],m=[h[0],i?i[3][1]:(u[1]+h[1])/2];return[s,g,m,v]}const rC=(t,i)=>tC(Object.assign({adjustPoints:eC},t),i);rC.props={defaultMarker:"square"};function lg(t){return Math.abs(t)>10?String(t):t.toString().padStart(2,"0")}function YH(t){const i=t.getFullYear(),a=lg(t.getMonth()+1),s=lg(t.getDate()),u=`${i}-${a}-${s}`,h=t.getHours(),v=t.getMinutes(),g=t.getSeconds();return h||v||g?`${u} ${lg(h)}:${lg(v)}:${lg(g)}`:u}const bw=(t={})=>{const{channel:i="x"}=t;return(a,s)=>{const{encode:u}=s,{tooltip:h}=s;if(Wu(h))return[a,s];const{title:v}=h;if(v!==void 0)return[a,s];const g=Object.keys(u).filter(_=>_.startsWith(i)).filter(_=>!u[_].inferred).map(_=>xr(u,_)).filter(([_])=>_).map(_=>_[0]);if(g.length===0)return[a,s];const m=[];for(const _ of a)m[_]={value:g.map(w=>w[_]instanceof Date?YH(w[_]):w[_]).join(", ")};return[a,Ft({},s,{tooltip:{title:m}})]}};bw.props={};const _w=t=>{const{channel:i}=t;return(a,s)=>{const{encode:u,tooltip:h}=s;if(Wu(h))return[a,s];const{items:v=[]}=h;if(!v||v.length>0)return[a,s];const m=(Array.isArray(i)?i:[i]).flatMap(_=>Object.keys(u).filter(w=>w.startsWith(_)).map(w=>{const{field:M,value:O,inferred:C=!1,aggregate:P}=u[w];return C?null:P&&O?{channel:w}:M?{field:M}:O?{channel:w}:null}).filter(w=>w!==null));return[a,Ft({},s,{tooltip:{items:m}})]}};_w.props={};var Hn=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const wm=()=>(t,i)=>{const{encode:a}=i,{key:s}=a,u=Hn(a,["key"]);if(s!==void 0)return[t,i];const h=Object.values(u).map(({value:g})=>g),v=t.map(g=>h.filter(Array.isArray).map(m=>m[g]).join("-"));return[t,Ft({},i,{encode:{key:be(v)}})]};wm.props={};function nC(t={}){const{shapes:i}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:i},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function So(t={}){return[...nC(t),{name:"title",scale:"identity"}]}function u3(){return[{type:MaybeTitle,channel:"color"},{type:MaybeTooltip,channel:["x","y","z"]}]}function ks(){return[{type:bw,channel:"color"},{type:_w,channel:["x","y"]}]}function Yu(){return[{type:bw,channel:"x"},{type:_w,channel:["y"]}]}function c3(){return[{type:bw,channel:"color"},{type:_w,channel:["position"]}]}function lv(t={}){return nC(t)}function ra(){return[{type:wm}]}function na(){return[]}function xw(t,i){return t.getBandWidth(t.invert(i))}function uv(t,i,a={}){const{x:s,y:u,series:h}=i,{x:v,y:g,series:m}=t,{style:{bandOffset:_=m?0:.5,bandOffsetX:w=_,bandOffsetY:M=_}={}}=a,O=!!(v!=null&&v.getBandWidth),C=!!(g!=null&&g.getBandWidth),P=!!(m!=null&&m.getBandWidth);return!O&&!C?k=>k:(k,D)=>{const R=O?xw(v,s[D]):0,B=C?xw(g,u[D]):0,j=P&&h?(xw(m,h[D])/2+ +h[D])*R:0,[V,G]=k;return[V+w*R+j,G+M*B]}}function ch(t){return parseFloat(t)/100}function iC(t,i,a,s){const{x:u,y:h}=a,{innerWidth:v,innerHeight:g}=s.getOptions(),m=Array.from(t,_=>{const w=u[_],M=h[_],O=typeof w=="string"?ch(w)*v:+w,C=typeof M=="string"?ch(M)*g:+M;return[[O,C]]});return[t,m]}function Uu(t){return typeof t=="function"?t:i=>i[t]}function ug(t,i){return Array.from(t,Uu(i))}function aC(t,i){const{source:a=w=>w.source,target:s=w=>w.target,value:u=w=>w.value}=i,{links:h,nodes:v}=t,g=ug(h,a),m=ug(h,s),_=ug(h,u);return{links:h.map((w,M)=>({target:m[M],source:g[M],value:_[M]})),nodes:v||Array.from(new Set([...g,...m]),w=>({key:w}))}}function f3(t,i){return t.getBandWidth(t.invert(i))}const h3={rect:Cn,hollow:_m,funnel:tC,pyramid:rC},d3=()=>(t,i,a,s)=>{const{x:u,y:h,y1:v,series:g,size:m}=a,_=i.x,w=i.series,[M]=s.getSize(),O=m?m.map(k=>+k/M):null,C=m?(k,D,R)=>{const B=k+D/2,z=O[R];return[B-z/2,B+z/2]}:(k,D,R)=>[k,k+D],P=Array.from(t,k=>{const D=f3(_,u[k]),R=w?f3(w,g==null?void 0:g[k]):1,B=D*R,z=(+(g==null?void 0:g[k])||0)*D,j=+u[k]+z,[V,G]=C(j,B,k),Y=+h[k],Z=+v[k];return[[V,Y],[G,Y],[G,Z],[V,Z]].map(nt=>s.map(nt))});return[t,P]};d3.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:h3,channels:[...So({shapes:Object.keys(h3)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...ra(),{type:eo},{type:Eo}],postInference:[...na(),...Yu()],interaction:{shareTooltip:!0}};const v3={rect:Cn,hollow:_m},p3=()=>(t,i,a,s)=>{const{x:u,x1:h,y:v,y1:g}=a,m=Array.from(t,_=>{const w=[+u[_],+v[_]],M=[+h[_],+v[_]],O=[+h[_],+g[_]],C=[+u[_],+g[_]];return[w,M,O,C].map(P=>s.map(P))});return[t,m]};p3.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:v3,channels:[...So({shapes:Object.keys(v3)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ra(),{type:eo}],postInference:[...na(),...Yu()],interaction:{shareTooltip:!0}};var g3=oC(sv);function y3(t){this._curve=t}y3.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,i){this._curve.point(i*Math.sin(t),i*-Math.cos(t))}};function oC(t){function i(a){return new y3(t(a))}return i._curve=t,i}function cg(t){var i=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(a){return arguments.length?i(oC(a)):i()._curve},t}function UH(){return cg(Hc().curve(g3))}function fg(t){const i=typeof t=="function"?t:t.render;return class extends Ex{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){i(this)}}}var hg=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const m3=fg(t=>{const{d1:i,d2:a,style1:s,style2:u}=t.attributes,h=t.ownerDocument;ir(t).maybeAppend("line",()=>h.createElement("path",{})).style("d",i).call($e,s),ir(t).maybeAppend("line1",()=>h.createElement("path",{})).style("d",a).call($e,u)});function ww(t,i){const a=[],s=[];let u=!1,h=null;for(const v of t)!i(v[0])||!i(v[1])?u=!0:(a.push(v),u&&(u=!1,s.push([h,v])),h=v);return[a,s]}const Ls=(t,i)=>{const{curve:a,gradient:s=!1,gradientColor:u="between",defined:h=w=>!Number.isNaN(w)&&w!==void 0&&w!==null,connect:v=!1}=t,g=hg(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:m,document:_}=i;return(w,M,O)=>{const{color:C,lineWidth:P}=O,k=hg(O,["color","lineWidth"]),{color:D=C,size:R=P,seriesColor:B,seriesX:z,seriesY:j}=M,V=ig(m,M),G=qe(m),Y=s&&B?o3(B,z,j,s,u,G):D,Z=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},k),Y&&{stroke:Y}),R&&{lineWidth:R}),V&&{transform:V}),g);let Q;if(ce(m)){const ft=m.getCenter();Q=q=>UH().angle((H,U)=>rv(Di(q[U],ft))).radius((H,U)=>ci(q[U],ft)).defined(([H,U])=>h(H)&&h(U)).curve(a)(q)}else Q=Hc().x(ft=>ft[0]).y(ft=>ft[1]).defined(([ft,q])=>h(ft)&&h(q)).curve(a);const[tt,rt]=ww(w,h),ct=Te(Z,"connect"),nt=!!rt.length;if(!nt||v&&!Object.keys(ct).length)return ir(_.createElement("path",{})).style("d",Q(tt)||[]).call($e,Z).node();if(nt&&!v)return ir(_.createElement("path",{})).style("d",Q(w)).call($e,Z).node();const lt=ft=>ft.map(Q).join(",");return ir(new m3).style("style1",Object.assign(Object.assign({},Z),ct)).style("style2",Z).style("d1",lt(rt)).style("d2",Q(w)).node()}};Ls.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const sC=(t,i)=>{const{coordinate:a}=i;return(...s)=>{const u=ce(a)?sg:sv;return Ls(Object.assign({curve:u},t),i)(...s)}};sC.props=Object.assign(Object.assign({},Ls.props),{defaultMarker:"line"});function Ue(t,i,a){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-a),t._x2,t._y2)}function lC(t,i){this._context=t,this._k=(1-i)/6}lC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ue(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:Ue(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var Sw=function t(i){function a(s){return new lC(s,i)}return a.tension=function(s){return t(+s)},a}(0);function Mw(t,i){this._context=t,this._k=(1-i)/6}Mw.prototype={areaStart:ll,areaEnd:ll,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:Ue(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var XH=function t(i){function a(s){return new Mw(s,i)}return a.tension=function(s){return t(+s)},a}(0);function b3(t,i,a){var s=t._x1,u=t._y1,h=t._x2,v=t._y2;if(t._l01_a>Bi){var g=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,m=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*g-t._x0*t._l12_2a+t._x2*t._l01_2a)/m,u=(u*g-t._y0*t._l12_2a+t._y2*t._l01_2a)/m}if(t._l23_a>Bi){var _=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,w=3*t._l23_a*(t._l23_a+t._l12_a);h=(h*_+t._x1*t._l23_2a-i*t._l12_2a)/w,v=(v*_+t._y1*t._l23_2a-a*t._l12_2a)/w}t._context.bezierCurveTo(s,u,h,v,t._x2,t._y2)}function _3(t,i){this._context=t,this._alpha=i}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,s=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:b3(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var x3=function t(i){function a(s){return i?new _3(s,i):new lC(s,0)}return a.alpha=function(s){return t(+s)},a}(.5);function uC(t,i){this._context=t,this._alpha=i}uC.prototype={areaStart:ll,areaEnd:ll,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,i){if(t=+t,i=+i,this._point){var a=this._x2-t,s=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:b3(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};var w3=function t(i){function a(s){return i?new uC(s,i):new Mw(s,0)}return a.alpha=function(s){return t(+s)},a}(.5);function S3(t){return t<0?-1:1}function Tw(t,i,a){var s=t._x1-t._x0,u=i-t._x1,h=(t._y1-t._y0)/(s||u<0&&-0),v=(a-t._y1)/(u||s<0&&-0),g=(h*u+v*s)/(s+u);return(S3(h)+S3(v))*Math.min(Math.abs(h),Math.abs(v),.5*Math.abs(g))||0}function dg(t,i){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-i)/2:i}function Ow(t,i,a){var s=t._x0,u=t._y0,h=t._x1,v=t._y1,g=(h-s)/3;t._context.bezierCurveTo(s+g,u+g*i,h-g,v-g*a,h,v)}function Sm(t){this._context=t}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ow(this,this._t0,dg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var a=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,Ow(this,dg(this,a=Tw(this,t,i)),a);break;default:Ow(this,this._t0,a=Tw(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=a}}};function cv(t){this._context=new M3(t)}(cv.prototype=Object.create(Sm.prototype)).point=function(t,i){Sm.prototype.point.call(this,i,t)};function M3(t){this._context=t}M3.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,a,s,u,h){this._context.bezierCurveTo(i,t,s,a,h,u)}};function fh(t){return new Sm(t)}function T3(t){return new cv(t)}var $H=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const O3=(t,i)=>{const a=$H(t,[]),{coordinate:s}=i;return(...u)=>{const h=ce(s)?w3:qe(s)?T3:fh;return Ls(Object.assign({curve:h},a),i)(...u)}};O3.props=Object.assign(Object.assign({},Ls.props),{defaultMarker:"smooth"});function Aw(t,i){this._context=t,this._t=i}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,i)}break}}this._x=t,this._y=i}};function A3(t){return new Aw(t,.5)}function C3(t){return new Aw(t,0)}function P3(t){return new Aw(t,1)}const E3=(t,i)=>Ls(Object.assign({curve:P3},t),i);E3.props=Object.assign(Object.assign({},Ls.props),{defaultMarker:"hv"});const k3=(t,i)=>Ls(Object.assign({curve:C3},t),i);k3.props=Object.assign(Object.assign({},Ls.props),{defaultMarker:"vh"});const L3=(t,i)=>Ls(Object.assign({curve:A3},t),i);L3.props=Object.assign(Object.assign({},Ls.props),{defaultMarker:"hvh"});var Cw=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function qH(t,i,a,s,u){const h=Di(a,i),v=sl(h),g=v+Math.PI/2,m=[s/2*Math.cos(g),s/2*Math.sin(g)],_=[u/2*Math.cos(g),u/2*Math.sin(g)],w=[u/2*Math.cos(v),u/2*Math.sin(v)],M=[s/2*Math.cos(v),s/2*Math.sin(v)],O=ym(i,m),C=ym(a,_),P=ym(C,w),k=ym(a,w),D=Di(k,_),R=Di(a,_),B=Di(i,m),z=Di(B,M),j=Di(i,M),V=Di(O,M);t.moveTo(...O),t.lineTo(...C),t.arcTo(...P,...k,u/2),t.arcTo(...D,...R,u/2),t.lineTo(...B),t.arcTo(...z,...j,s/2),t.arcTo(...V,...O,s/2),t.closePath()}const D3=(t,i)=>{const{document:a}=i;return(s,u,h)=>{const{seriesSize:v,color:g}=u,{color:m}=h,_=Cw(h,["color"]),w=pi();for(let M=0;M<s.length-1;M++){const O=s[M],C=s[M+1],P=v[M],k=v[M+1];[...O,...C].every(zn)&&qH(w,O,C,P,k)}return ir(a.createElement("path",{})).call($e,_).style("fill",g||m).style("d",w.toString()).call($e,t).node()}};D3.props=Object.assign(Object.assign({},Ls.props),{defaultMarker:"line"});const ia=()=>(t,i)=>{const{style:a={},encode:s}=i,{series:u}=s,{gradient:h}=a;return!h||u?[t,i]:[t,Ft({},i,{encode:{series:$n(qr(t,void 0))}})]};ia.props={};const hh=()=>(t,i)=>{const{encode:a}=i,{series:s,color:u}=a;if(s!==void 0||u===void 0)return[t,i];const[h,v]=xr(a,"color");return[t,Ft({},i,{encode:{series:be(h,v)}})]};hh.props={};const dh={line:sC,smooth:O3,hv:E3,vh:k3,hvh:L3,trail:D3},fv=(t,i,a,s)=>{var u,h;const{series:v,x:g,y:m}=a,{x:_,y:w}=i;if(g===void 0||m===void 0)throw new Error("Missing encode for x or y channel.");const M=v?Array.from(Bn(t,D=>v[D]).values()):[t],O=M.map(D=>D[0]).filter(D=>D!==void 0),C=(((u=_==null?void 0:_.getBandWidth)===null||u===void 0?void 0:u.call(_))||0)/2,P=(((h=w==null?void 0:w.getBandWidth)===null||h===void 0?void 0:h.call(w))||0)/2,k=Array.from(M,D=>D.map(R=>s.map([+g[R]+C,+m[R]+P])));return[O,k,M]},ZH=(t,i,a,s)=>{const u=Object.entries(a).filter(([v])=>v.startsWith("position")).map(([,v])=>v);if(u.length===0)throw new Error("Missing encode for position channel.");const h=Array.from(t,v=>{const g=u.map(w=>+w[v]),m=s.map(g),_=[];for(let w=0;w<m.length;w+=2)_.push([m[w],m[w+1]]);return _});return[t,h]},I3=()=>(t,i,a,s)=>(Uo(s)?ZH:fv)(t,i,a,s);I3.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:dh,channels:[...So({shapes:Object.keys(dh)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ra(),{type:ia},{type:hh}],postInference:[...na(),...Yu(),...c3()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};var cC=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const fC=(t,i,a)=>[["M",t-a,i],["A",a,a,0,1,0,t+a,i],["A",a,a,0,1,0,t-a,i],["Z"]];fC.style=["fill"];const Mm=fC.bind(void 0);Mm.style=["stroke","lineWidth"];const Yc=(t,i,a)=>[["M",t-a,i-a],["L",t+a,i-a],["L",t+a,i+a],["L",t-a,i+a],["Z"]];Yc.style=["fill"];const R3=Yc.bind(void 0);R3.style=["fill"];const Pw=Yc.bind(void 0);Pw.style=["stroke","lineWidth"];const hC=(t,i,a)=>{const s=a*.618;return[["M",t-s,i],["L",t,i-a],["L",t+s,i],["L",t,i+a],["Z"]]};hC.style=["fill"];const Tm=hC.bind(void 0);Tm.style=["stroke","lineWidth"];const Ew=(t,i,a)=>{const s=a*Math.sin(.3333333333333333*Math.PI);return[["M",t-a,i+s],["L",t,i-s],["L",t+a,i+s],["Z"]]};Ew.style=["fill"];const Om=Ew.bind(void 0);Om.style=["stroke","lineWidth"];const kw=(t,i,a)=>{const s=a*Math.sin(.3333333333333333*Math.PI);return[["M",t-a,i-s],["L",t+a,i-s],["L",t,i+s],["Z"]]};kw.style=["fill"];const dC=kw.bind(void 0);dC.style=["stroke","lineWidth"];const Am=(t,i,a)=>{const s=a/2*Math.sqrt(3);return[["M",t,i-a],["L",t+s,i-a/2],["L",t+s,i+a/2],["L",t,i+a],["L",t-s,i+a/2],["L",t-s,i-a/2],["Z"]]};Am.style=["fill"];const N3=Am.bind(void 0);N3.style=["stroke","lineWidth"];const vC=(t,i,a)=>{const s=a-1.5;return[["M",t-a,i-s],["L",t+a,i+s],["L",t+a,i-s],["L",t-a,i+s],["Z"]]};vC.style=["fill"];const B3=vC.bind(void 0);B3.style=["stroke","lineWidth"];const pC=(t,i,a)=>[["M",t,i+a],["L",t,i-a]];pC.style=["stroke","lineWidth"];const gC=(t,i,a)=>[["M",t-a,i-a],["L",t+a,i+a],["M",t+a,i-a],["L",t-a,i+a]];gC.style=["stroke","lineWidth"];const yC=(t,i,a)=>[["M",t-a/2,i-a],["L",t+a/2,i-a],["M",t,i-a],["L",t,i+a],["M",t-a/2,i+a],["L",t+a/2,i+a]];yC.style=["stroke","lineWidth"];const mC=(t,i,a)=>[["M",t-a,i],["L",t+a,i],["M",t,i-a],["L",t,i+a]];mC.style=["stroke","lineWidth"];const z3=(t,i,a)=>[["M",t-a,i],["L",t+a,i]];z3.style=["stroke","lineWidth"];const Lw=(t,i,a)=>[["M",t-a,i],["L",t+a,i]];Lw.style=["stroke","lineWidth"];const F3=Lw.bind(void 0);F3.style=["stroke","lineWidth"];const j3=(t,i,a)=>[["M",t-a,i],["A",a/2,a/2,0,1,1,t,i],["A",a/2,a/2,0,1,0,t+a,i]];j3.style=["stroke","lineWidth"];const bC=(t,i,a)=>[["M",t-a-1,i-2.5],["L",t,i-2.5],["L",t,i+2.5],["L",t+a+1,i+2.5]];bC.style=["stroke","lineWidth"];const _C=(t,i,a)=>[["M",t-a-1,i+2.5],["L",t,i+2.5],["L",t,i-2.5],["L",t+a+1,i-2.5]];_C.style=["stroke","lineWidth"];const xC=(t,i,a)=>[["M",t-(a+1),i+2.5],["L",t-a/2,i+2.5],["L",t-a/2,i-2.5],["L",t+a/2,i-2.5],["L",t+a/2,i+2.5],["L",t+a+1,i+2.5]];xC.style=["stroke","lineWidth"];const wC=(t,i,a)=>[["M",t-5,i+2.5],["L",t-5,i],["L",t,i],["L",t,i-3],["L",t,i+3],["L",t+6.5,i+3]];wC.style=["stroke","lineWidth"];const vg=new Map([["bowtie",vC],["cross",gC],["dash",F3],["diamond",hC],["dot",Lw],["hexagon",Am],["hollowBowtie",B3],["hollowDiamond",Tm],["hollowHexagon",N3],["hollowPoint",Mm],["hollowSquare",Pw],["hollowTriangle",Om],["hollowTriangleDown",dC],["hv",bC],["hvh",xC],["hyphen",z3],["line",pC],["plus",mC],["point",fC],["rect",R3],["smooth",j3],["square",Yc],["tick",yC],["triangleDown",kw],["triangle",Ew],["vh",_C],["vhv",wC]]);function es(t,i){var{d:a,fill:s,lineWidth:u,path:h,stroke:v,color:g}=i,m=cC(i,["d","fill","lineWidth","path","stroke","color"]);const _=vg.get(t)||vg.get("point");return(...w)=>new _o({style:Object.assign(Object.assign({},m),{d:_(...w),stroke:_.style.includes("stroke")?g||v:"",fill:_.style.includes("fill")?g||s:"",lineWidth:_.style.includes("lineWidth")?u||u||2:0})})}function Dw(t,i){vg.set(t,i)}function KH(t){vg.delete(t)}var hv=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function V3(t,i,a,s){if(i.length===1)return;const{size:u}=a;if(t==="fixed")return u;if(t==="normal"||mc(s)){const[[h,v],[g,m]]=i,_=Math.abs((g-h)/2),w=Math.abs((m-v)/2);return Math.max(0,(_+w)/2)}return u}const tn=(t,i)=>{const{colorAttribute:a,symbol:s,mode:u="auto"}=t,h=hv(t,["colorAttribute","symbol","mode"]),v=vg.get(s)||vg.get("point"),{coordinate:g,document:m}=i;return(_,w,M)=>{const{lineWidth:O,color:C}=M,P=h.stroke?O||1:O,{color:k=C,transform:D,opacity:R}=w,[B,z]=yw(_),V=V3(u,_,w,g)||h.r||M.r;return ir(m.createElement("path",{})).call($e,M).style("fill","transparent").style("d",v(B,z,V)).style("lineWidth",P).style("transform",D).style("transformOrigin",`${B-V} ${z-V}`).style("stroke",k).style(ov(t),R).style(a,k).call($e,h).node()}};tn.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const SC=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"point"},t),i);SC.props=Object.assign({defaultMarker:"hollowPoint"},tn.props);const MC=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),i);MC.props=Object.assign({defaultMarker:"hollowDiamond"},tn.props);const dv=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),i);dv.props=Object.assign({defaultMarker:"hollowHexagon"},tn.props);const TC=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"square"},t),i);TC.props=Object.assign({defaultMarker:"hollowSquare"},tn.props);const OC=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),i);OC.props=Object.assign({defaultMarker:"hollowTriangleDown"},tn.props);const G3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),i);G3.props=Object.assign({defaultMarker:"hollowTriangle"},tn.props);const W3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),i);W3.props=Object.assign({defaultMarker:"hollowBowtie"},tn.props);var H3=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const Y3=(t,i)=>{const{colorAttribute:a,mode:s="auto"}=t,u=H3(t,["colorAttribute","mode"]),{coordinate:h,document:v}=i;return(g,m,_)=>{const{lineWidth:w,color:M}=_,O=u.stroke?w||1:w,{color:C=M,transform:P,opacity:k}=m,[D,R]=yw(g),z=V3(s,g,m,h)||u.r||_.r;return ir(v.createElement("circle",{})).call($e,_).style("fill","transparent").style("cx",D).style("cy",R).style("r",z).style("lineWidth",O).style("transform",P).style("transformOrigin",`${D} ${R}`).style("stroke",C).style(ov(t),k).style(a,C).call($e,u).node()}},AC=(t,i)=>Y3(Object.assign({colorAttribute:"fill"},t),i);AC.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const ul=(t,i)=>Y3(Object.assign({colorAttribute:"stroke"},t),i);ul.props=Object.assign({defaultMarker:"hollowPoint"},AC.props);const CC=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"point"},t),i);CC.props=Object.assign({defaultMarker:"point"},tn.props);const U3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),i);U3.props=Object.assign({defaultMarker:"plus"},tn.props);const X3=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),i);X3.props=Object.assign({defaultMarker:"diamond"},tn.props);const QH=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"square"},t),i);QH.props=Object.assign({defaultMarker:"square"},tn.props);const JH=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),i);JH.props=Object.assign({defaultMarker:"triangle"},tn.props);const $3=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),i);$3.props=Object.assign({defaultMarker:"hexagon"},tn.props);const q3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),i);q3.props=Object.assign({defaultMarker:"cross"},tn.props);const Z3=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),i);Z3.props=Object.assign({defaultMarker:"bowtie"},tn.props);const K3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),i);K3.props=Object.assign({defaultMarker:"hyphen"},tn.props);const Q3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"line"},t),i);Q3.props=Object.assign({defaultMarker:"line"},tn.props);const J3=(t,i)=>tn(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),i);J3.props=Object.assign({defaultMarker:"tick"},tn.props);const PC=(t,i)=>tn(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),i);PC.props=Object.assign({defaultMarker:"triangleDown"},tn.props);const Iw=()=>(t,i)=>{const{encode:a}=i,{y:s}=a;return s!==void 0?[t,i]:[t,Ft({},i,{encode:{y:ar(qr(t,0))},scale:{y:{guide:null}}})]};Iw.props={};const Rw=()=>(t,i)=>{const{encode:a}=i,{size:s}=a;return s!==void 0?[t,i]:[t,Ft({},i,{encode:{size:$n(qr(t,3))}})]};Rw.props={};const EC={hollow:SC,hollowDiamond:MC,hollowHexagon:dv,hollowSquare:TC,hollowTriangleDown:OC,hollowTriangle:G3,hollowBowtie:W3,hollowCircle:ul,point:CC,plus:U3,diamond:X3,square:QH,triangle:JH,hexagon:$3,cross:q3,bowtie:Z3,hyphen:K3,line:Q3,tick:J3,triangleDown:PC,circle:AC},tB=t=>(i,a,s,u)=>{const{x:h,y:v,x1:g,y1:m,size:_,dx:w,dy:M}=s,[O,C]=u.getSize(),P=uv(a,s,t),k=R=>{const B=+((w==null?void 0:w[R])||0),z=+((M==null?void 0:M[R])||0),j=g?(+h[R]+ +g[R])/2:+h[R],V=m?(+v[R]+ +m[R])/2:+v[R],G=j+B,Y=V+z;return[G,Y]},D=_?Array.from(i,R=>{const[B,z]=k(R),j=+_[R],V=j/O,G=j/C,Y=[B-V,z-G],Z=[B+V,z+G];return[u.map(P(Y,R)),u.map(P(Z,R))]}):Array.from(i,R=>[u.map(P(k(R),R))]);return[i,D]};tB.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:EC,channels:[...So({shapes:Object.keys(EC)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...ra(),{type:Eo},{type:Iw}],postInference:[...na(),{type:Rw},...ks()]};function Cm(t,i){i(t),t.children&&t.children.forEach(function(a){a&&Cm(a,i)})}function Pm(t){Nw(t,!0)}function vh(t){Nw(t,!1)}function Nw(t,i){var a=i?"visible":"hidden";Cm(t,function(s){s.attr("visibility",a)})}var eB=5,rB=function(t,i,a,s){a===void 0&&(a=0),s===void 0&&(s=eB),Object.entries(i).forEach(function(u){var h=wt(u,2),v=h[0],g=h[1],m=t;Object.prototype.hasOwnProperty.call(i,v)&&(g?cr(g)?(cr(t[v])||(m[v]={}),a<s?rB(t[v],g,a+1,s):m[v]=i[v]):rn(g)?(m[v]=[],m[v]=m[v].concat(g)):m[v]=g:m[v]=g)})},oi=function(t){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];for(var s=0;s<i.length;s+=1)rB(t,i[s]);return t},Bw=function(t){Ai(i,t);function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=t.apply(this,Ve([],wt(a),!1))||this;return u.isMutationObserved=!0,u.addEventListener(Jr.INSERTED,function(){vh(u)}),u}return i}(ta);function Ra(t){var i=t.appendChild(new Bw({class:"offscreen"}));return vh(i),i}function kC(t){for(var i=t;i;){if(i.className==="offscreen")return!0;i=i.parent}return!1}function nB(){Nw(this,this.attributes.visibility!=="hidden")}var ba=function(t){Ai(i,t);function i(a,s){s===void 0&&(s={});var u=t.call(this,oi({},{style:s},a))||this;return u.initialized=!1,u._defaultOptions=s,u}return Object.defineProperty(i.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Ra(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),i.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},i.prototype.disconnectedCallback=function(){var a;(a=this._offscreen)===null||a===void 0||a.destroy()},i.prototype.attributeChangedCallback=function(a){a==="visibility"&&nB.call(this)},i.prototype.update=function(a,s){var u;return this.attr(oi({},this.attributes,a||{})),(u=this.render)===null||u===void 0?void 0:u.call(this,this.attributes,this,s)},i.prototype.clear=function(){this.removeChildren()},i.prototype.bindEvents=function(a,s){},i.prototype.getSubShapeStyle=function(a){var s=a.x,u=a.y,h=a.transform,v=a.transformOrigin,g=a.class,m=a.className,_=a.zIndex,w=da(a,["x","y","transform","transformOrigin","class","className","zIndex"]);return w},i}(Ex);function No(t,i,a,s,u){return s===void 0&&(s=!0),u===void 0&&(u=function(h){h.node().removeChildren()}),t?a(i):(s&&u(i),null)}var LC=function(t){Ai(i,t);function i(a){a===void 0&&(a={});var s=a.style,u=da(a,["style"]);return t.call(this,ae({style:ae({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},s)},u))||this}return Object.defineProperty(i.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=Ra(this)),this._offscreen},enumerable:!1,configurable:!0}),i.prototype.disconnectedCallback=function(){var a;(a=this._offscreen)===null||a===void 0||a.destroy()},i}(nl);function tY(t,i){var a=new Map;return t.forEach(function(s){var u=i(s);a.has(u)||a.set(u,[]),a.get(u).push(s)}),a}function iB(t){throw new Error(t)}var aB=function(){function t(u,h,v,g,m,_,w){u===void 0&&(u=null),h===void 0&&(h=null),v===void 0&&(v=null),g===void 0&&(g=null),m===void 0&&(m=[null,null,null,null,null]),_===void 0&&(_=[]),w===void 0&&(w=[]),i.add(this),this._elements=Array.from(u),this._data=h,this._parent=v,this._document=g,this._enter=m[0],this._update=m[1],this._exit=m[2],this._merge=m[3],this._split=m[4],this._transitions=_,this._facetElements=w}t.prototype.selectAll=function(u){var h=typeof u=="string"?this._parent.querySelectorAll(u):u;return new a(h,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(u){var h=typeof u=="string"?this._parent.querySelectorAll(u):u;return new a(this._elements,null,this._parent,this._document,void 0,void 0,h)},t.prototype.select=function(u){var h=typeof u=="string"?this._parent.querySelectorAll(u)[0]||null:u;return new a([h],null,h,this._document)},t.prototype.append=function(u){var h=this,v=typeof u=="function"?u:function(){return h.createElement(u)},g=[];if(this._data!==null){for(var m=0;m<this._data.length;m++){var _=this._data[m],w=wt(Array.isArray(_)?_:[_,null],2),M=w[0],O=w[1],C=v(M,m);C.__data__=M,O!==null&&(C.__fromElements__=O),this._parent.appendChild(C),g.push(C)}return new a(g,null,this._parent,this._document)}for(var m=0;m<this._elements.length;m++){var P=this._elements[m],M=P.__data__,C=v(M,m);P.appendChild(C),g.push(C)}return new a(g,null,g[0],this._document)},t.prototype.maybeAppend=function(u,h){var v=o0(this,i,"m",s).call(this,u[0]==="#"?u:"#".concat(u),h);return v.attr("id",u),v},t.prototype.maybeAppendByClassName=function(u,h){var v=u.toString(),g=o0(this,i,"m",s).call(this,v[0]==="."?v:".".concat(v),h);return g.attr("className",v),g},t.prototype.maybeAppendByName=function(u,h){var v=o0(this,i,"m",s).call(this,'[name="'.concat(u,'"]'),h);return v.attr("name",u),v},t.prototype.data=function(u,h,v){var g,m;h===void 0&&(h=function(tt){return tt}),v===void 0&&(v=function(){return null});for(var _=[],w=[],M=new Set(this._elements),O=[],C=new Set,P=new Map(this._elements.map(function(tt,rt){return[h(tt.__data__,rt),tt]})),k=new Map(this._facetElements.map(function(tt,rt){return[h(tt.__data__,rt),tt]})),D=tY(this._elements,function(tt){return v(tt.__data__)}),R=0;R<u.length;R++){var B=u[R],z=h(B,R),j=v(B,R);if(P.has(z)){var V=P.get(z);V.__data__=B,V.__facet__=!1,w.push(V),M.delete(V),P.delete(z)}else if(k.has(z)){var V=k.get(z);V.__data__=B,V.__facet__=!0,w.push(V),k.delete(z)}else if(D.has(z)){var G=D.get(z);O.push([B,G]);try{for(var Y=(g=void 0,Cu(G)),Z=Y.next();!Z.done;Z=Y.next()){var V=Z.value;M.delete(V)}}catch(tt){g={error:tt}}finally{try{Z&&!Z.done&&(m=Y.return)&&m.call(Y)}finally{if(g)throw g.error}}D.delete(z)}else if(P.has(j)){var V=P.get(j);V.__toData__?V.__toData__.push(B):V.__toData__=[B],C.add(V),M.delete(V)}else _.push(B)}var Q=[new a([],_,this._parent,this._document),new a(w,null,this._parent,this._document),new a(M,null,this._parent,this._document),new a([],O,this._parent,this._document),new a(C,null,this._parent,this._document)];return new a(this._elements,null,this._parent,this._document,Q)},t.prototype.merge=function(u){var h=Ve(Ve([],wt(this._elements),!1),wt(u._elements),!1),v=Ve(Ve([],wt(this._transitions),!1),wt(u._transitions),!1);return new a(h,null,this._parent,this._document,void 0,v)},t.prototype.createElement=function(u){if(this._document)return this._document.createElement(u,{});var h=a.registry[u];return h?new h:iB("Unknown node type: ".concat(u))},t.prototype.join=function(u,h,v,g,m){u===void 0&&(u=function(P){return P}),h===void 0&&(h=function(P){return P}),v===void 0&&(v=function(P){return P.remove()}),g===void 0&&(g=function(P){return P}),m===void 0&&(m=function(P){return P.remove()});var _=u(this._enter),w=h(this._update),M=v(this._exit),O=g(this._merge),C=m(this._split);return w.merge(_).merge(M).merge(O).merge(C)},t.prototype.remove=function(){for(var u=function(g){var m=h._elements[g],_=h._transitions[g];_?_.then(function(){return m.remove()}):m.remove()},h=this,v=0;v<this._elements.length;v++)u(v);return new a([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(u){for(var h=0;h<this._elements.length;h++){var v=this._elements[h],g=v.__data__;u.call(v,g,h)}return this},t.prototype.attr=function(u,h){var v=typeof h!="function"?function(){return h}:h;return this.each(function(g,m){h!==void 0&&(this[u]=v.call(this,g,m))})},t.prototype.style=function(u,h,v){v===void 0&&(v=!0);var g=typeof h!="function"||!v?function(){return h}:h;return this.each(function(m,_){h!==void 0&&(this.style[u]=g.call(this,m,_))})},t.prototype.styles=function(u,h){return u===void 0&&(u={}),h===void 0&&(h=!0),this.each(function(v,g){var m=this;Object.entries(u).forEach(function(_){var w=wt(_,2),M=w[0],O=w[1],C=typeof O!="function"||!h?function(){return O}:O;O!==void 0&&m.attr(M,C.call(m,v,g))})})},t.prototype.update=function(u,h){h===void 0&&(h=!0);var v=typeof u!="function"||!h?function(){return u}:u;return this.each(function(g,m){u&&this.update&&this.update(v.call(this,g,m))})},t.prototype.maybeUpdate=function(u,h){h===void 0&&(h=!0);var v=typeof u!="function"||!h?function(){return u}:u;return this.each(function(g,m){u&&this.update&&this.update(v.call(this,g,m))})},t.prototype.transition=function(u){var h=this._transitions;return this.each(function(v,g){h[g]=u.call(this,v,g)})},t.prototype.on=function(u,h){return this.each(function(){this.addEventListener(u,h)}),this},t.prototype.call=function(u){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];return u.call.apply(u,Ve([this._parent,this],wt(h),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter(function(u){return!!u})},t.prototype.parent=function(){return this._parent};var i,a,s;return a=t,i=new WeakSet,s=function(h,v){var g=this._elements[0],m=g.querySelector(h);if(m)return new a([m],null,this._parent,this._document);var _=typeof v=="string"?this.createElement(v):v();return g.appendChild(_),new a([_],null,this._parent,this._document)},t.registry={g:ta,rect:Rc,circle:Xl,path:_o,text:LC,ellipse:K0,image:J0,line:$d,polygon:qd,polyline:kx,html:Yp},t}();function Dr(t){return new aB([t],null,t,t.ownerDocument)}function oB(t,i,a){return t.querySelector(i)?Dr(t).select(i):Dr(t).append(a)}var DC=function(t,i,a){return[["M",t-a,i],["A",a,a,0,1,0,t+a,i],["A",a,a,0,1,0,t-a,i],["Z"]]},vv=DC,IC=function(t,i,a){return[["M",t-a,i-a],["L",t+a,i-a],["L",t+a,i+a],["L",t-a,i+a],["Z"]]},zw=function(t,i,a){return[["M",t-a,i],["L",t,i-a],["L",t+a,i],["L",t,i+a],["Z"]]},Uc=function(t,i,a){var s=a*Math.sin(.3333333333333333*Math.PI);return[["M",t-a,i+s],["L",t,i-s],["L",t+a,i+s],["Z"]]},Fw=function(t,i,a){var s=a*Math.sin(.3333333333333333*Math.PI);return[["M",t-a,i-s],["L",t+a,i-s],["L",t,i+s],["Z"]]},RC=function(t,i,a){var s=a/2*Math.sqrt(3);return[["M",t,i-a],["L",t+s,i-a/2],["L",t+s,i+a/2],["L",t,i+a],["L",t-s,i+a/2],["L",t-s,i-a/2],["Z"]]},NC=function(t,i,a){var s=a-1.5;return[["M",t-a,i-s],["L",t+a,i+s],["L",t+a,i-s],["L",t-a,i+s],["Z"]]},pv=function(t,i,a){return[["M",t,i+a],["L",t,i-a]]},pg=function(t,i,a){return[["M",t-a,i-a],["L",t+a,i+a],["M",t+a,i-a],["L",t-a,i+a]]},sB=function(t,i,a){return[["M",t-a/2,i-a],["L",t+a/2,i-a],["M",t,i-a],["L",t,i+a],["M",t-a/2,i+a],["L",t+a/2,i+a]]},lB=function(t,i,a){return[["M",t-a,i],["L",t+a,i],["M",t,i-a],["L",t,i+a]]},BC=function(t,i,a){return[["M",t-a,i],["L",t+a,i]]},zC=function(t,i,a){return[["M",t-a,i],["L",t+a,i]]},jw=zC,uB=function(t,i,a){return[["M",t-a,i],["A",a/2,a/2,0,1,1,t,i],["A",a/2,a/2,0,1,0,t+a,i]]},cB=function(t,i,a){return[["M",t-a-1,i-2.5],["L",t,i-2.5],["L",t,i+2.5],["L",t+a+1,i+2.5]]},cl=function(t,i,a){return[["M",t-a-1,i+2.5],["L",t,i+2.5],["L",t,i-2.5],["L",t+a+1,i-2.5]]},fB=function(t,i,a){return[["M",t-(a+1),i+2.5],["L",t-a/2,i+2.5],["L",t-a/2,i-2.5],["L",t+a/2,i-2.5],["L",t+a/2,i+2.5],["L",t+a+1,i+2.5]]};function gg(t,i){return[["M",t-5,i+2.5],["L",t-5,i],["L",t,i],["L",t,i-3],["L",t,i+3],["L",t+6.5,i+3]]}var Vw=function(t,i,a){return[["M",t-a,i-a],["L",t+a,i],["L",t-a,i+a],["Z"]]};function FC(t){var i="default";if(h0(t)&&t instanceof Image)i="image";else if(si(t))i="symbol";else if(zi(t)){var a=new RegExp("data:(image|text)");t.match(a)?i="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?i="url":i="symbol"}return i}function eY(t){var i=FC(t);return["base64","url","image"].includes(i)?"image":t&&i==="symbol"?"path":null}var Fn=function(t){Ai(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.prototype.render=function(a,s){var u=a.x,h=u===void 0?0:u,v=a.y,g=v===void 0?0:v,m=this.getSubShapeStyle(a),_=m.symbol,w=m.size,M=w===void 0?16:w,O=da(m,["symbol","size"]),C=eY(_);No(!!C,Dr(s),function(P){P.maybeAppendByClassName("marker",C).attr("className","marker ".concat(C,"-marker")).call(function(k){if(C==="image"){var D=M*2;k.styles({img:_,width:D,height:D,x:h-M,y:g-M})}else{var D=M/2,R=si(_)?_:i.getSymbol(_);k.styles(ae({d:R==null?void 0:R(h,g,D)},O))}})})},i.MARKER_SYMBOL_MAP=new Map,i.registerSymbol=function(a,s){i.MARKER_SYMBOL_MAP.set(a,s)},i.getSymbol=function(a){return i.MARKER_SYMBOL_MAP.get(a)},i.getSymbols=function(){return Array.from(i.MARKER_SYMBOL_MAP.keys())},i}(ba);Fn.registerSymbol("cross",pg),Fn.registerSymbol("hyphen",BC),Fn.registerSymbol("line",pv),Fn.registerSymbol("plus",lB),Fn.registerSymbol("tick",sB),Fn.registerSymbol("circle",DC),Fn.registerSymbol("point",vv),Fn.registerSymbol("bowtie",NC),Fn.registerSymbol("hexagon",RC),Fn.registerSymbol("square",IC),Fn.registerSymbol("diamond",zw),Fn.registerSymbol("triangle",Uc),Fn.registerSymbol("triangle-down",Fw),Fn.registerSymbol("line",pv),Fn.registerSymbol("dot",zC),Fn.registerSymbol("dash",jw),Fn.registerSymbol("smooth",uB),Fn.registerSymbol("hv",cB),Fn.registerSymbol("vh",cl),Fn.registerSymbol("hvh",fB),Fn.registerSymbol("vhv",gg);var yg=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function jC(t){const{min:[i,a],max:[s,u]}=t.getLocalBounds();let h=0,v=0;return i>0&&(h=i),s<0&&(h=s),a>0&&(v=a),u<0&&(v=u),[h,v]}function VC(t,i=[]){const[a=0,s=0,u=a,h=s]=i,v=t.parentNode,g=v.getEulerAngles();v.setEulerAngles(0);const{min:m,halfExtents:_}=t.getLocalBounds(),[w,M]=m,[O,C]=_;return v.setEulerAngles(g),{x:w-h,y:M-a,width:O*2+h+s,height:C*2+a+u}}const hB=(t,i,a)=>{const s=dist(t,i),u=dist(i,a),h=dist(a,t);return(Math.pow(s,2)+Math.pow(u,2)-Math.pow(h,2))/(2*s*u)};function GC(t,i,a,s,u=!0,h=!0){const v=M=>Hc()(M);if(!i[0]&&!i[1])return v([jC(t),i]);if(!a.length)return v([[0,0],i]);const[g,m]=a,_=[...m],w=[...g];if(m[0]!==g[0]){const M=u?-4:4;_[1]=m[1],h&&!u&&(_[0]=Math.max(g[0],m[0]-M),m[1]<g[1]?w[1]=_[1]:(w[1]=g[1],w[0]=Math.max(w[0],_[0]-M))),!h&&!u&&(_[0]=Math.max(g[0],m[0]-M),m[1]>g[1]?w[1]=_[1]:(w[1]=g[1],w[0]=Math.max(w[0],_[0]-M))),!h&&u&&(_[0]=Math.min(g[0],m[0]-M),m[1]>g[1]?w[1]=_[1]:(w[1]=g[1],w[0]=Math.min(w[0],_[0]-M))),h&&u&&(_[0]=Math.min(g[0],m[0]-M),m[1]<g[1]?w[1]=_[1]:(w[1]=g[1],w[0]=Math.min(w[0],_[0]-M)))}return v([m,_,w,g,i])}const Em=fg(t=>{const i=t.attributes,{className:a,class:s,transform:u,rotate:h,labelTransform:v,labelTransformOrigin:g,x:m,y:_,x0:w=m,y0:M=_,text:O,background:C,connector:P,startMarker:k,endMarker:D,coordCenter:R,innerHTML:B}=i,z=yg(i,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(t.style.transform=`translate(${m}, ${_})`,[m,_,w,M].some(U=>!yn(U))){t.children.forEach(U=>U.remove());return}const j=Te(z,"background"),{padding:V}=j,G=yg(j,["padding"]),Y=Te(z,"connector"),{points:Z=[]}=Y,Q=yg(Y,["points"]);let tt;B?tt=ir(t).maybeAppend("html","html",a).style("zIndex",0).style("innerHTML",B).call($e,Object.assign({transform:v,transformOrigin:g},z)).node():tt=ir(t).maybeAppend("text","text").style("zIndex",0).style("text",O).call($e,Object.assign({textBaseline:"middle",transform:v,transformOrigin:g},z)).node();const rt=ir(t).maybeAppend("background","rect").style("zIndex",-1).call($e,VC(tt,V)).call($e,C?G:{}).node(),ct=+w<R[0],nt=+M<R[1],lt=[+w-+m,+M-+_],ft=GC(rt,lt,Z,R,ct,nt),q=k&&new Fn({id:"startMarker",style:Object.assign({x:0,y:0},Te(z,"startMarker"))}),H=D&&new Fn({id:"endMarker",style:Object.assign({x:0,y:0},Te(z,"endMarker"))});ir(t).maybeAppend("connector","path").style("zIndex",0).style("d",ft).style("markerStart",q).style("markerEnd",H).call($e,P?Q:{})}),WC=(t,i)=>{const{coordinate:a}=i;return(s,u,h)=>{const{color:v,text:g="",fontSize:m,rotate:_=0,transform:w=""}=u,M={text:String(g),stroke:v,fill:v,fontSize:m},[[O,C]]=s;return ir(new Em).style("x",O).style("y",C).call($e,h).style("transform",`${w}rotate(${+_})`).style("coordCenter",a.getCenter()).call($e,M).call($e,t).node()}};WC.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var km=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function gv(t){const i=t/Math.sqrt(2),a=t*Math.sqrt(2),[s,u]=[-i,i-a],[h,v]=[0,0],[g,m]=[i,i-a];return[["M",s,u],["A",t,t,0,1,1,g,m],["L",h,v],["Z"]]}function Gw(t){const{min:i,max:a}=t.getLocalBounds();return[(i[0]+a[0])*.5,(i[1]+a[1])*.5]}const rY=fg(t=>{const i=t.attributes,{class:a,x:s,y:u,transform:h}=i,v=km(i,["class","x","y","transform"]),g=Te(v,"marker"),{size:m=24}=g,_=()=>gv(m/2),w=ir(t).maybeAppend("marker",()=>new Fn({})).call(C=>C.node().update(Object.assign({symbol:_},g))).node(),[M,O]=Gw(w);ir(t).maybeAppend("text","text").style("x",M).style("y",O).call($e,v)}),dB=(t,i)=>{const a=km(t,[]);return(s,u,h)=>{const{color:v}=h,g=km(h,["color"]),{color:m=v,text:_=""}=u,w={text:String(_),stroke:m,fill:m},[[M,O]]=s;return ir(new rY).call($e,g).style("transform",`translate(${M},${O})`).call($e,w).call($e,a).node()}};dB.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Ww=(t,i)=>{const{coordinate:a}=i;return(s,u,h)=>{const{color:v,text:g="",fontSize:m,rotate:_=0,transform:w=""}=u,M={text:String(g),stroke:v,fill:v,fontSize:m,textAlign:"center",textBaseline:"middle"},[[O,C]]=s;return ir(new nl).style("x",O).style("y",C).call($e,h).style("transformOrigin","center center").style("transform",`${w}rotate(${_}deg)`).style("coordCenter",a.getCenter()).call($e,M).call($e,t).node()}};Ww.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Hw=()=>(t,i)=>{const{data:a}=i;if(!Array.isArray(a)||a.some(to))return[t,i];const s=Array.isArray(a[0])?a:[a],u=s.map(v=>v[0]),h=s.map(v=>v[1]);return[t,Ft({},i,{encode:{x:be(u),y:be(h)}})]};Hw.props={};var nY=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const HC=()=>(t,i)=>{const{data:a,style:s={}}=i,u=nY(i,["data","style"]),{x:h,y:v}=s,g=nY(s,["x","y"]);if(h==null||v==null)return[t,i];const m=h||0,_=v||0;return[[0],Ft({},u,{data:[0],cartesian:!0,encode:{x:be([m]),y:be([_])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:g})]};HC.props={};const iY={text:WC,badge:dB,tag:Ww},aY=t=>{const{cartesian:i=!1}=t;return i?iC:(a,s,u,h)=>{const{x:v,y:g}=u,m=uv(s,u,t),_=Array.from(a,w=>{const M=[+v[w],+g[w]];return[h.map(m(M,w))]});return[a,_]}};aY.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:iY,channels:[...So({shapes:Object.keys(iY)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...ra(),{type:Hw},{type:HC}],postInference:[...na(),...ks()]};const Yw=()=>(t,i)=>[t,Ft({scale:{x:{padding:0},y:{padding:0}}},i)];Yw.props={};const oY={cell:Cn,hollow:_m},YC=()=>(t,i,a,s)=>{const{x:u,y:h}=a,v=i.x,g=i.y,m=Array.from(t,_=>{const w=v.getBandWidth(v.invert(+u[_])),M=g.getBandWidth(g.invert(+h[_])),O=+u[_],C=+h[_],P=[O,C],k=[O+w,C],D=[O+w,C+M],R=[O,C+M];return[P,k,D,R].map(B=>s.map(B))});return[t,m]};YC.props={defaultShape:"cell",defaultLabelShape:"label",shape:oY,composite:!1,channels:[...So({shapes:Object.keys(oY)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...ra(),{type:Eo},{type:Iw},{type:Yw}],postInference:[...na(),...ks()]};function Uw(t,i,a){var s=null,u=ln(!0),h=null,v=sv,g=null,m=Oa(_);t=typeof t=="function"?t:t===void 0?xm:ln(+t),i=typeof i=="function"?i:ln(i===void 0?0:+i),a=typeof a=="function"?a:a===void 0?og:ln(+a);function _(M){var O,C,P,k=(M=mw(M)).length,D,R=!1,B,z=new Array(k),j=new Array(k);for(h==null&&(g=v(B=m())),O=0;O<=k;++O){if(!(O<k&&u(D=M[O],O,M))===R)if(R=!R)C=O,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),P=O-1;P>=C;--P)g.point(z[P],j[P]);g.lineEnd(),g.areaEnd()}R&&(z[O]=+t(D,O,M),j[O]=+i(D,O,M),g.point(s?+s(D,O,M):z[O],a?+a(D,O,M):j[O]))}if(B)return g=null,B+""||null}function w(){return Hc().defined(u).curve(v).context(h)}return _.x=function(M){return arguments.length?(t=typeof M=="function"?M:ln(+M),s=null,_):t},_.x0=function(M){return arguments.length?(t=typeof M=="function"?M:ln(+M),_):t},_.x1=function(M){return arguments.length?(s=M==null?null:typeof M=="function"?M:ln(+M),_):s},_.y=function(M){return arguments.length?(i=typeof M=="function"?M:ln(+M),a=null,_):i},_.y0=function(M){return arguments.length?(i=typeof M=="function"?M:ln(+M),_):i},_.y1=function(M){return arguments.length?(a=M==null?null:typeof M=="function"?M:ln(+M),_):a},_.lineX0=_.lineY0=function(){return w().x(t).y(i)},_.lineY1=function(){return w().x(t).y(a)},_.lineX1=function(){return w().x(s).y(i)},_.defined=function(M){return arguments.length?(u=typeof M=="function"?M:ln(!!M),_):u},_.curve=function(M){return arguments.length?(v=M,h!=null&&(g=v(h)),_):v},_.context=function(M){return arguments.length?(M==null?h=g=null:g=v(h=M),_):h},_}function vB(){var t=Uw().curve(g3),i=t.curve,a=t.lineX0,s=t.lineX1,u=t.lineY0,h=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return cg(a())},delete t.lineX0,t.lineEndAngle=function(){return cg(s())},delete t.lineX1,t.lineInnerRadius=function(){return cg(u())},delete t.lineY0,t.lineOuterRadius=function(){return cg(h())},delete t.lineY1,t.curve=function(v){return arguments.length?i(oC(v)):i()._curve},t}var sY=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function lY(t,i){const a=[],s=[],u=[];let h=!1,v=null;const g=t.length/2;for(let m=0;m<g;m++){const _=t[m],w=t[m+g];if([..._,...w].some(M=>!i(M)))h=!0;else{if(a.push(_),s.push(w),h&&v){h=!1;const[M,O]=v;u.push([M,_,O,w])}v=[_,w]}}return[a.concat(s),u]}const Xw=fg(t=>{const{areaPath:i,connectPath:a,areaStyle:s,connectStyle:u}=t.attributes,h=t.ownerDocument;ir(t).maybeAppend("connect-path",()=>h.createElement("path",{})).style("d",a).call($e,u),ir(t).maybeAppend("area-path",()=>h.createElement("path",{})).style("d",i).call($e,s)}),_a=(t,i)=>{const{curve:a,gradient:s=!1,defined:u=_=>!Number.isNaN(_)&&_!==void 0&&_!==null,connect:h=!1}=t,v=sY(t,["curve","gradient","defined","connect"]),{coordinate:g,document:m}=i;return(_,w,M)=>{const{color:O}=M,{color:C=O,seriesColor:P,seriesX:k,seriesY:D}=w,R=qe(g),B=ig(g,w),z=s&&P?o3(P,k,D,s,void 0,R):C,j=Object.assign(Object.assign(Object.assign(Object.assign({},M),{stroke:z,fill:z}),B&&{transform:B}),v),[V,G]=lY(_,u),Y=Te(j,"connect"),Z=!!G.length,Q=tt=>ir(m.createElement("path",{})).style("d",tt||"").call($e,j).node();if(ce(g)){const tt=rt=>{const ct=g.getCenter(),nt=rt.slice(0,rt.length/2),lt=rt.slice(rt.length/2);return vB().angle((ft,q)=>rv(Di(nt[q],ct))).outerRadius((ft,q)=>ci(nt[q],ct)).innerRadius((ft,q)=>ci(lt[q],ct)).defined((ft,q)=>[...nt[q],...lt[q]].every(u)).curve(a)(lt)};return!Z||h&&!Object.keys(Y).length?Q(tt(V)):Z&&!h?Q(tt(_)):ir(new Xw).style("areaStyle",j).style("connectStyle",Object.assign(Object.assign({},Y),v)).style("areaPath",tt(_)).style("connectPath",G.map(tt).join("")).node()}else{const tt=rt=>{const ct=rt.slice(0,rt.length/2),nt=rt.slice(rt.length/2);return R?Uw().y((lt,ft)=>ct[ft][1]).x1((lt,ft)=>ct[ft][0]).x0((lt,ft)=>nt[ft][0]).defined((lt,ft)=>[...ct[ft],...nt[ft]].every(u)).curve(a)(ct):Uw().x((lt,ft)=>ct[ft][0]).y1((lt,ft)=>ct[ft][1]).y0((lt,ft)=>nt[ft][1]).defined((lt,ft)=>[...ct[ft],...nt[ft]].every(u)).curve(a)(ct)};return!Z||h&&!Object.keys(Y).length?Q(tt(V)):Z&&!h?Q(tt(_)):ir(new Xw).style("areaStyle",j).style("connectStyle",Object.assign(Object.assign({},Y),v)).style("areaPath",tt(_)).style("connectPath",G.map(tt).join("")).node()}}};_a.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const pB=(t,i)=>{const{coordinate:a}=i;return(...s)=>{const u=ce(a)?sg:sv;return _a(Object.assign({curve:u},t),i)(...s)}};pB.props=Object.assign(Object.assign({},_a.props),{defaultMarker:"square"});var nnt=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const uY=(t,i)=>{const a=nnt(t,[]),{coordinate:s}=i;return(...u)=>{const h=ce(s)?w3:qe(s)?T3:fh;return _a(Object.assign({curve:h},a),i)(...u)}};uY.props=Object.assign(Object.assign({},_a.props),{defaultMarker:"smooth"});const gB=(t,i)=>(...a)=>_a(Object.assign({curve:A3},t),i)(...a);gB.props=Object.assign(Object.assign({},_a.props),{defaultMarker:"hvh"});const ph=(t,i)=>(...a)=>_a(Object.assign({curve:C3},t),i)(...a);ph.props=Object.assign(Object.assign({},_a.props),{defaultMarker:"vh"});const UC=(t,i)=>(...a)=>_a(Object.assign({curve:P3},t),i)(...a);UC.props=Object.assign(Object.assign({},_a.props),{defaultMarker:"hv"});const $w={area:pB,smooth:uY,hvh:gB,vh:ph,hv:UC},XC=()=>(t,i,a,s)=>{var u,h;const{x:v,y:g,y1:m,series:_}=a,{x:w,y:M}=i,O=_?Array.from(Bn(t,R=>_[R]).values()):[t],C=O.map(R=>R[0]).filter(R=>R!==void 0),P=(((u=w==null?void 0:w.getBandWidth)===null||u===void 0?void 0:u.call(w))||0)/2,k=(((h=M==null?void 0:M.getBandWidth)===null||h===void 0?void 0:h.call(M))||0)/2,D=Array.from(O,R=>{const B=R.length,z=new Array(B*2);for(let j=0;j<R.length;j++){const V=R[j];z[j]=s.map([+v[V]+P,+g[V]+k]),z[B+j]=s.map([+v[V]+P,+m[V]+k])}return z});return[C,D,O]};XC.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:$w,channels:[...So({shapes:Object.keys($w)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...ra(),{type:hh},{type:eo},{type:Yw}],postInference:[...na(),...Yu()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const cY=()=>(t,i)=>{const{encode:a}=i,{y1:s}=a;if(s)return[t,i];const[u]=xr(a,"y");return[t,Ft({},i,{encode:{y1:be([...u])}})]};cY.props={};const yB=()=>(t,i)=>{const{encode:a}=i,{x1:s}=a;if(s)return[t,i];const[u]=xr(a,"x");return[t,Ft({},i,{encode:{x1:be([...u])}})]};yB.props={};var fY=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const $C=(t,i)=>{const{arrow:a=!0,arrowSize:s="40%"}=t,u=fY(t,["arrow","arrowSize"]),{document:h}=i;return(v,g,m)=>{const{defaultColor:_}=m,w=fY(m,["defaultColor"]),{color:M=_,transform:O}=g,[C,P]=v,k=pi();if(k.moveTo(...C),k.lineTo(...P),a){const[D,R]=gw(C,P,{arrowSize:s});k.moveTo(...D),k.lineTo(...P),k.lineTo(...R)}return ir(h.createElement("path",{})).call($e,w).style("d",k.toString()).style("stroke",M).style("transform",O).call($e,u).node()}};$C.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const qw=(t,i)=>{const{arrow:a=!1}=t;return(...s)=>$C(Object.assign(Object.assign({},t),{arrow:a}),i)(...s)};qw.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var hY=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const qC=(t,i)=>{const a=hY(t,[]),{coordinate:s,document:u}=i;return(h,v,g)=>{const{color:m}=g,_=hY(g,["color"]),{color:w=m,transform:M}=v,[O,C]=h,P=pi();if(P.moveTo(O[0],O[1]),ce(s)){const k=s.getCenter();P.quadraticCurveTo(k[0],k[1],C[0],C[1])}else{const k=mm(O,C),D=ci(O,C)/2;ng(P,O,C,k,D)}return ir(u.createElement("path",{})).call($e,_).style("d",P.toString()).style("stroke",w).style("transform",M).call($e,a).node()}};qC.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var mB=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const bB=(t,i)=>{const a=mB(t,[]),{document:s}=i;return(u,h,v)=>{const{color:g}=v,m=mB(v,["color"]),{color:_=g,transform:w}=h,[M,O]=u,C=pi();return C.moveTo(M[0],M[1]),C.bezierCurveTo(M[0]/2+O[0]/2,M[1],M[0]/2+O[0]/2,O[1],O[0],O[1]),ir(s.createElement("path",{})).call($e,m).style("d",C.toString()).style("stroke",_).style("transform",w).call($e,a).node()}};bB.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ZC=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function dY(t,i,a,s){const u=pi();if(ce(a)){const h=a.getCenter(),v=ci(t,h),m=(ci(i,h)-v)*s+v;return u.moveTo(t[0],t[1]),ng(u,t,i,h,m),u.lineTo(i[0],i[1]),u}return qe(a)?(u.moveTo(t[0],t[1]),u.lineTo(t[0]+(i[0]-t[0])*s,t[1]),u.lineTo(t[0]+(i[0]-t[0])*s,i[1]),u.lineTo(i[0],i[1]),u):(u.moveTo(t[0],t[1]),u.lineTo(t[0],t[1]+(i[1]-t[1])*s),u.lineTo(i[0],t[1]+(i[1]-t[1])*s),u.lineTo(i[0],i[1]),u)}const _r=(t,i)=>{const{cornerRatio:a=1/3}=t,s=ZC(t,["cornerRatio"]),{coordinate:u,document:h}=i;return(v,g,m)=>{const{defaultColor:_}=m,w=ZC(m,["defaultColor"]),{color:M=_,transform:O}=g,[C,P]=v,k=dY(C,P,u,a);return ir(h.createElement("path",{})).call($e,w).style("d",k.toString()).style("stroke",M).style("transform",O).call($e,s).node()}};_r.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const mg={link:qw,arc:qC,smooth:bB,vhv:_r},Xc=t=>(i,a,s,u)=>{const{x:h,y:v,x1:g=h,y1:m=v}=s,_=uv(a,s,t),w=i.map(M=>[u.map(_([+h[M],+v[M]],M)),u.map(_([+g[M],+m[M]],M))]);return[i,w]};Xc.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:mg,channels:[...So({shapes:Object.keys(mg)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ra(),{type:cY},{type:yB}],postInference:[...na(),...ks()]};var vY=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const _B=(t,i)=>{const{coordinate:a,document:s}=i;return(u,h,v)=>{const{color:g}=v,m=vY(v,["color"]),{color:_=g,src:w="",size:M=32,transform:O=""}=h;let{width:C=M,height:P=M}=t;const[[k,D]]=u,[R,B]=a.getSize();C=typeof C=="string"?ch(C)*R:C,P=typeof P=="string"?ch(P)*B:P;const z=k-Number(C)/2,j=D-Number(P)/2;return ir(s.createElement("image",{})).call($e,m).style("x",z).style("y",j).style("src",w).style("stroke",_).style("transform",O).call($e,t).style("width",C).style("height",P).node()}};_B.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const xB={image:_B},Lm=t=>{const{cartesian:i}=t;return i?iC:(a,s,u,h)=>{const{x:v,y:g}=u,m=uv(s,u,t),_=Array.from(a,w=>{const M=[+v[w],+g[w]];return[h.map(m(M,w))]});return[a,_]}};Lm.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:xB,channels:[...So({shapes:Object.keys(xB)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...ra(),{type:Hw},{type:HC}],postInference:[...na(),...ks()]};var wB=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function tu(t,i){const a=pi();if(ce(i)){const s=i.getCenter(),u=[...t,t[0]],h=u.map(v=>ci(v,s));return u.forEach((v,g)=>{if(g===0){a.moveTo(v[0],v[1]);return}const m=h[g],_=t[g-1],w=h[g-1];w!==void 0&&Math.abs(m-w)<1e-10?ng(a,_,v,s,m):a.lineTo(v[0],v[1])}),a.closePath(),a}return Ql(a,t)}const SB=(t,i)=>{const{coordinate:a,document:s}=i;return(u,h,v)=>{const{color:g}=v,m=wB(v,["color"]),{color:_=g,transform:w}=h,M=tu(u,a);return ir(s.createElement("path",{})).call($e,m).style("d",M.toString()).style("stroke",_).style("fill",_).style("transform",w).call($e,t).node()}};SB.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var MB=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function eu(t,i){const[a,s,u,h]=t,v=pi();if(ce(i)){const g=i.getCenter(),m=ci(g,a);return v.moveTo(a[0],a[1]),v.quadraticCurveTo(g[0],g[1],u[0],u[1]),ng(v,u,h,g,m),v.quadraticCurveTo(g[0],g[1],s[0],s[1]),ng(v,s,a,g,m),v.closePath(),v}return v.moveTo(a[0],a[1]),v.bezierCurveTo(a[0]/2+u[0]/2,a[1],a[0]/2+u[0]/2,u[1],u[0],u[1]),v.lineTo(h[0],h[1]),v.bezierCurveTo(h[0]/2+s[0]/2,h[1],h[0]/2+s[0]/2,s[1],s[0],s[1]),v.lineTo(a[0],a[1]),v.closePath(),v}const Yn=(t,i)=>{const a=MB(t,[]),{coordinate:s,document:u}=i;return(h,v,g)=>{const{color:m}=g,_=MB(g,["color"]),{color:w=m,transform:M}=v,O=eu(h,s);return ir(u.createElement("path",{})).call($e,_).style("d",O.toString()).style("fill",w||m).style("stroke",w||m).style("transform",M).call($e,a).node()}};Yn.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Gi={polygon:SB,ribbon:Yn},ru=()=>(t,i,a,s)=>{const u=Object.entries(a).filter(([g])=>g.startsWith("x")).map(([,g])=>g),h=Object.entries(a).filter(([g])=>g.startsWith("y")).map(([,g])=>g),v=t.map(g=>{const m=[];for(let _=0;_<u.length;_++){const w=u[_][g];if(w===void 0)break;const M=h[_][g];m.push(s.map([+w,+M]))}return m});return[t,v]};ru.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:Gi,channels:[...So({shapes:Object.keys(Gi)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ra()],postInference:[...na(),...ks()]};var Xu=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function TB(t,i){const a=pi();if(!ce(i))a.moveTo(...t[0]),a.lineTo(...t[1]),a.moveTo(...t[2]),a.lineTo(...t[3]),a.moveTo(...t[4]),a.lineTo(...t[5]),a.lineTo(...t[6]),a.lineTo(...t[7]),a.closePath(),a.moveTo(...t[8]),a.lineTo(...t[9]),a.moveTo(...t[10]),a.lineTo(...t[11]),a.moveTo(...t[12]),a.lineTo(...t[13]);else{const s=i.getCenter(),[u,h]=s,v=sl(Di(t[0],s)),g=sl(Di(t[1],s)),m=ci(s,t[2]),_=ci(s,t[3]),w=ci(s,t[8]),M=ci(s,t[10]),O=ci(s,t[11]);a.moveTo(...t[0]),a.arc(u,h,m,v,g),a.arc(u,h,m,g,v,!0),a.moveTo(...t[2]),a.lineTo(...t[3]),a.moveTo(...t[4]),a.arc(u,h,_,v,g),a.lineTo(...t[6]),a.arc(u,h,M,g,v,!0),a.closePath(),a.moveTo(...t[8]),a.arc(u,h,w,v,g),a.arc(u,h,w,g,v,!0),a.moveTo(...t[10]),a.lineTo(...t[11]),a.moveTo(...t[12]),a.arc(u,h,O,v,g),a.arc(u,h,O,g,v,!0)}return a}const Dm=(t,i)=>{const{coordinate:a,document:s}=i;return(u,h,v)=>{const{color:g,transform:m}=h,{color:_,fill:w=_,stroke:M=_}=v,O=Xu(v,["color","fill","stroke"]),C=TB(u,a);return ir(s.createElement("path",{})).call($e,O).style("d",C.toString()).style("stroke",M).style("fill",g||w).style("transform",m).call($e,t).node()}};Dm.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Bo=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function OB(t,i,a=4){const s=pi();if(!ce(i))return s.moveTo(...t[2]),s.lineTo(...t[3]),s.lineTo(t[3][0]-a,t[3][1]),s.lineTo(t[10][0]-a,t[10][1]),s.lineTo(t[10][0]+a,t[10][1]),s.lineTo(t[3][0]+a,t[3][1]),s.lineTo(...t[3]),s.closePath(),s.moveTo(...t[10]),s.lineTo(...t[11]),s.moveTo(t[3][0]+a/2,t[8][1]),s.arc(t[3][0],t[8][1],a/2,0,Math.PI*2),s.closePath(),s;const u=i.getCenter(),[h,v]=u,g=ci(u,t[3]),m=ci(u,t[8]),_=ci(u,t[10]),w=sl(Di(t[2],u)),M=Math.asin(a/m),O=w-M,C=w+M;s.moveTo(...t[2]),s.lineTo(...t[3]),s.moveTo(Math.cos(O)*g+h,Math.sin(O)*g+v),s.arc(h,v,g,O,C),s.lineTo(Math.cos(C)*_+h,Math.sin(C)*_+v),s.arc(h,v,_,C,O,!0),s.lineTo(Math.cos(O)*g+h,Math.sin(O)*g+v),s.closePath(),s.moveTo(...t[10]),s.lineTo(...t[11]);const P=(O+C)/2;return s.moveTo(Math.cos(P)*(m+a/2)+h,Math.sin(P)*(m+a/2)+v),s.arc(Math.cos(P)*m+h,Math.sin(P)*m+v,a/2,P,Math.PI*2+P),s.closePath(),s}const AB=(t,i)=>{const{coordinate:a,document:s}=i;return(u,h,v)=>{const{color:g,transform:m}=h,_=4,{color:w,fill:M=w,stroke:O=w}=v,C=Bo(v,["color","fill","stroke"]),P=OB(u,a,_);return ir(s.createElement("path",{})).call($e,C).style("d",P.toString()).style("stroke",O).style("fill",g||M).style("transform",m).call($e,t).node()}};AB.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Zw={box:Dm,violin:AB},CB=()=>(t,i,a,s)=>{const{x:u,y:h,y1:v,y2:g,y3:m,y4:_,series:w}=a,M=i.x,O=i.series,C=Array.from(t,P=>{const k=M.getBandWidth(M.invert(+u[P])),D=O?O.getBandWidth(O.invert(+(w==null?void 0:w[P]))):1,R=k*D,B=(+(w==null?void 0:w[P])||0)*k,z=+u[P]+B+R/2,[j,V,G,Y,Z]=[+h[P],+v[P],+g[P],+m[P],+_[P]];return[[z-R/2,Z],[z+R/2,Z],[z,Z],[z,Y],[z-R/2,Y],[z+R/2,Y],[z+R/2,V],[z-R/2,V],[z-R/2,G],[z+R/2,G],[z,V],[z,j],[z-R/2,j],[z+R/2,j]].map(tt=>s.map(tt))});return[t,C]};CB.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:Zw,channels:[...So({shapes:Object.keys(Zw)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...ra(),{type:Eo}],postInference:[...na(),...Yu()],interaction:{shareTooltip:!0}};const Kw={vector:$C},Qw=()=>(t,i,a,s)=>{const{x:u,y:h,size:v,rotate:g}=a,[m,_]=s.getSize(),w=t.map(M=>{const O=+g[M]/180*Math.PI,C=+v[M],P=C/m,k=C/_,D=P*Math.cos(O),R=-k*Math.sin(O);return[s.map([+u[M]-D/2,+h[M]-R/2]),s.map([+u[M]+D/2,+h[M]+R/2])]});return[t,w]};Qw.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:Kw,channels:[...So({shapes:Object.keys(Kw)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...ra()],postInference:[...na(),...ks()]};var KC=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function pY(t,i,a){return t.createElement("path",{style:Object.assign({d:`M ${i},${i} L -${i},0 L ${i},-${i} L 0,0 Z`,transformOrigin:"center"},a)})}function Jw(t,i){if(!ce(i))return Hc().x(s=>s[0]).y(s=>s[1])(t);const a=i.getCenter();return yc()({startAngle:0,endAngle:Math.PI*2,outerRadius:ci(t[0],a),innerRadius:ci(t[1],a)})}function PB(t,i){if(!ce(t))return i;const[a,s]=t.getCenter();return`translate(${a}, ${s}) ${i||""}`}const bg=(t,i)=>{const{arrow:a,arrowSize:s=4}=t,u=KC(t,["arrow","arrowSize"]),{coordinate:h,document:v}=i;return(g,m,_)=>{const{color:w,lineWidth:M}=_,O=KC(_,["color","lineWidth"]),{color:C=w,size:P=M}=m,k=a?pY(v,s,Object.assign({fill:u.stroke||C,stroke:u.stroke||C},Te(u,"arrow"))):null,D=Jw(g,h),R=PB(h,m.transform);return ir(v.createElement("path",{})).call($e,O).style("d",D).style("stroke",C).style("lineWidth",P).style("transform",R).style("markerEnd",k).call($e,u).node()}};bg.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const QC=()=>(t,i)=>{const{data:a}=i;return!Array.isArray(a)||a.some(to)?[t,i]:[t,Ft({},i,{encode:{x:be(a)}})]};QC.props={};const nu={line:bg},JC=t=>(i,a,s,u)=>{const{x:h}=s,v=uv(a,s,Ft({style:{bandOffset:0}},t)),g=Array.from(i,m=>{const _=[h[m],1],w=[h[m],0];return[_,w].map(M=>u.map(v(M,m)))});return[i,g]};JC.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:nu,channels:[...lv({shapes:Object.keys(nu)}),{name:"x",required:!0}],preInference:[...ra(),{type:QC}],postInference:[...na()]};const tS=()=>(t,i)=>{const{data:a}=i;return!Array.isArray(a)||a.some(to)?[t,i]:[t,Ft({},i,{encode:{y:be(a)}})]};tS.props={};const EB={line:bg},eS=t=>(i,a,s,u)=>{const{y:h}=s,v=uv(a,s,Ft({style:{bandOffset:0}},t)),g=Array.from(i,m=>{const _=[0,h[m]],w=[1,h[m]];return[_,w].map(M=>u.map(v(M,m)))});return[i,g]};eS.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:EB,channels:[...lv({shapes:Object.keys(EB)}),{name:"y",required:!0}],preInference:[...ra(),{type:tS}],postInference:[...na()]};var rS=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function kB(t,i,a){return[["M",t,i],["L",t+2*a,i-a],["L",t+2*a,i+a],["Z"]]}function tP(t){return Hc().x(i=>i[0]).y(i=>i[1])(t)}function gY(t,i,a,s,u=0){const[[h,v],[g,m]]=i;if(qe(t)){const O=h+a,C=g+s,P=O+u;return[[O,v],[P,v],[P,m],[C,m]]}const _=v-a,w=m-s,M=_-u;return[[h,_],[h,M],[g,M],[g,w]]}const eP=(t,i)=>{const{offset:a=0,offset1:s=a,offset2:u=a,connectLength1:h,endMarker:v=!0}=t,g=rS(t,["offset","offset1","offset2","connectLength1","endMarker"]),{coordinate:m}=i;return(_,w,M)=>{const{color:O,connectLength1:C}=M,P=rS(M,["color","connectLength1"]),{color:k,transform:D}=w,R=gY(m,_,s,u,h!=null?h:C),B=Te(Object.assign(Object.assign({},g),M),"endMarker");return ir(new _o).call($e,P).style("d",tP(R)).style("stroke",k||O).style("transform",D).style("markerEnd",v?new Fn({className:"marker",style:Object.assign(Object.assign({},B),{symbol:kB})}):null).call($e,g).node()}};eP.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Im={connector:eP},LB=(...t)=>Xc(...t);LB.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:Im,channels:[...lv({shapes:Object.keys(Im)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ra()],postInference:[...na()]};function DB(t,i,a,s){if(i)return()=>[0,1];const{[t]:u,[`${t}1`]:h}=a;return v=>{var g;const m=((g=s.getBandWidth)===null||g===void 0?void 0:g.call(s,s.invert(+h[v])))||0;return[u[v],h[v]+m]}}function nS(t={}){const{extendX:i=!1,extendY:a=!1}=t;return(s,u,h,v)=>{const g=DB("x",i,h,u.x),m=DB("y",a,h,u.y),_=Array.from(s,w=>{const[M,O]=g(w),[C,P]=m(w);return[[M,C],[O,C],[O,P],[M,P]].map(z=>v.map(z))});return[s,_]}}const Mo={range:Cn},iS=()=>nS();iS.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:Mo,channels:[...lv({shapes:Object.keys(Mo)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ra()],postInference:[...na()]};const IB=()=>(t,i)=>{const{data:a}=i;if(Array.isArray(a)&&(a.every(Array.isArray)||!a.some(to))){const s=(u,h)=>Array.isArray(u[0])?u.map(v=>v[h]):[u[h]];return[t,Ft({},i,{encode:{x:be(s(a,0)),x1:be(s(a,1))}})]}return[t,i]};IB.props={};const Rm={range:Cn},Nm=()=>nS({extendY:!0});Nm.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:Rm,channels:[...lv({shapes:Object.keys(Rm)}),{name:"x",required:!0}],preInference:[...ra(),{type:IB}],postInference:[...na()]};const RB=()=>(t,i)=>{const{data:a}=i;if(Array.isArray(a)&&(a.every(Array.isArray)||!a.some(to))){const s=(u,h)=>Array.isArray(u[0])?u.map(v=>v[h]):[u[h]];return[t,Ft({},i,{encode:{y:be(s(a,0)),y1:be(s(a,1))}})]}return[t,i]};RB.props={};const NB={range:Cn},aS=()=>nS({extendX:!0});aS.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:NB,channels:[...lv({shapes:Object.keys(NB)}),{name:"y",required:!0}],preInference:[...ra(),{type:RB}],postInference:[...na()]};var rP=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const oS=(t,i)=>{const{arrow:a,colorAttribute:s}=t,u=rP(t,["arrow","colorAttribute"]),{coordinate:h,document:v}=i;return(g,m,_)=>{const{color:w,stroke:M}=_,O=rP(_,["color","stroke"]),{d:C,color:P=w}=m,[k,D]=h.getSize();return ir(v.createElement("path",{})).call($e,O).style("d",typeof C=="function"?C({width:k,height:D}):C).style(s,P).call($e,u).node()}};oS.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const BB=(t,i)=>oS(Object.assign({colorAttribute:"fill"},t),i);BB.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const sS=(t,i)=>oS(Object.assign({fill:"none",colorAttribute:"stroke"},t),i);sS.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const nP={path:BB,hollow:sS},gh=t=>(i,a,s,u)=>[i,i.map(()=>[[0,0]])];gh.props={defaultShape:"path",defaultLabelShape:"label",shape:nP,composite:!1,channels:[...So({shapes:Object.keys(nP)}),{name:"d",scale:"identity"}],preInference:[...ra()],postInference:[...na()]};var lS=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const zB=(t,i)=>{const{render:a}=t,s=lS(t,["render"]);return u=>{const[[h,v]]=u;return a(Object.assign(Object.assign({},s),{x:h,y:v}),i)}};zB.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const FB=()=>(t,i)=>{const{style:a={}}=i;return[t,Ft({},i,{style:Object.assign(Object.assign({},a),Object.fromEntries(Object.entries(a).filter(([,s])=>typeof s=="function").map(([s,u])=>[s,()=>u])))})]};FB.props={};const yY={shape:zB},jB=t=>{const{cartesian:i}=t;return i?iC:(a,s,u,h)=>{const{x:v,y:g}=u,m=uv(s,u,t),_=Array.from(a,w=>{const M=[+v[w],+g[w]];return[h.map(m(M,w))]});return[a,_]}};jB.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:yY,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...ra(),{type:Hw},{type:HC},{type:FB}]};var mY=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const VB=(t,i)=>{const{document:a}=i;return(s,u,h)=>{const{transform:v}=u,{color:g}=h,m=mY(h,["color"]),{color:_=g}=u,[w,...M]=s,O=pi();return O.moveTo(...w),M.forEach(([C,P])=>{O.lineTo(C,P)}),O.closePath(),ir(a.createElement("path",{})).call($e,m).style("d",O.toString()).style("stroke",_||g).style("fill",_||g).style("fillOpacity",.4).style("transform",v).call($e,t).node()}};VB.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const uS={density:VB},cS=()=>(t,i,a,s)=>{const{x:u,series:h}=a,v=Object.entries(a).filter(([M])=>M.startsWith("y")).map(([,M])=>M),g=Object.entries(a).filter(([M])=>M.startsWith("size")).map(([,M])=>M);if(u===void 0||v===void 0||g===void 0)throw new Error("Missing encode for x or y or size channel.");const m=i.x,_=i.series,w=Array.from(t,M=>{const O=m.getBandWidth(m.invert(+u[M])),C=_?_.getBandWidth(_.invert(+(h==null?void 0:h[M]))):1,P=O*C,k=(+(h==null?void 0:h[M])||0)*O,D=+u[M]+k+P/2;return[...v.map((B,z)=>[D+ +g[z][M]/t.length,+v[z][M]]),...v.map((B,z)=>[D-+g[z][M]/t.length,+v[z][M]]).reverse()].map(B=>s.map(B))});return[t,w]};cS.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:uS,channels:[...So({shapes:Object.keys(uS)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...ra(),{type:eo},{type:Eo}],postInference:[...na(),...Yu()],interaction:{shareTooltip:!0}};function rs(t,i){let a;if(i===void 0)for(const s of t)s!=null&&(a>s||a===void 0&&s>=s)&&(a=s);else{let s=-1;for(let u of t)(u=i(u,++s,t))!=null&&(a>u||a===void 0&&u>=u)&&(a=u)}return a}function pn(t,i){let a;if(i===void 0)for(const s of t)s!=null&&(a<s||a===void 0&&s>=s)&&(a=s);else{let s=-1;for(let u of t)(u=i(u,++s,t))!=null&&(a<u||a===void 0&&u>=u)&&(a=u)}return a}function GB(t){var i,a,s,u=t||1;function h(g,m){++i>u&&(s=a,v(1),++i),a[g]=m}function v(g){i=0,a=Object.create(null),g||(s=Object.create(null))}return v(),{clear:v,has:function(g){return a[g]!==void 0||s[g]!==void 0},get:function(g){var m=a[g];if(m!==void 0)return m;if((m=s[g])!==void 0)return h(g,m),m},set:function(g,m){a[g]!==void 0?a[g]=m:h(g,m)}}}const int=GB(3);function WB(t,i=(...s)=>`${s[0]}`,a=16){const s=GB(a);return(...u)=>{const h=i(...u);let v=s.get(h);return s.has(h)?s.get(h):(v=t(...u),s.set(h,v),v)}}function Bm(t){return typeof t=="string"?t.split(" ").map(i=>{const[a,s]=i.split(":");return[+a,s]}):t}function fS(t,i,a){const s=t?t():document.createElement("canvas");return s.width=i,s.height=a,s}const bY=WB((t,i,a)=>{const s=fS(a,t*2,t*2),u=s.getContext("2d"),h=t,v=t;if(i===1)u.beginPath(),u.arc(h,v,t,0,2*Math.PI,!1),u.fillStyle="rgba(0,0,0,1)",u.fill();else{const g=u.createRadialGradient(h,v,t*i,h,v,t);g.addColorStop(0,"rgba(0,0,0,1)"),g.addColorStop(1,"rgba(0,0,0,0)"),u.fillStyle=g,u.fillRect(0,0,2*t,2*t)}return s},t=>`${t}`);function _Y(t,i){const s=fS(i,256,1).getContext("2d"),u=s.createLinearGradient(0,0,256,1);return Bm(t).forEach(([h,v])=>{u.addColorStop(h,v)}),s.fillStyle=u,s.fillRect(0,0,256,1),s.getImageData(0,0,256,1).data}function iP(t,i,a,s,u,h){const{blur:v}=u;let g=s.length;for(;g--;){const{x:m,y:_,value:w,radius:M}=s[g],O=Math.min(w,a),C=m-M,P=_-M,k=bY(M,1-v,h),D=(O-i)/(a-i);t.globalAlpha=Math.max(D,.001),t.drawImage(k,C,P)}return t}function xY(t,i,a,s,u){const{minOpacity:h,opacity:v,maxOpacity:g,useGradientOpacity:m}=u,_=0,w=0,M=i,O=a,C=t.getImageData(_,w,M,O),P=C.data,k=P.length;for(let D=3;D<k;D+=4){const R=P[D],B=R*4;if(!B)continue;const z=v||Math.max(0,Math.min(g,Math.max(h,R)));P[D-3]=s[B],P[D-2]=s[B+1],P[D-1]=s[B+2],P[D]=m?s[B+3]:z}return C}function wY(t,i,a,s,u,h,v){const g=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},h);g.minOpacity*=255,g.opacity*=255,g.maxOpacity*=255;const _=fS(v,t,i).getContext("2d"),w=_Y(g.gradient,v);_.clearRect(0,0,t,i),iP(_,a,s,u,g,v);const M=xY(_,t,i,w,g),C=fS(v,t,i).getContext("2d");return C.putImageData(M,0,0),C}var HB=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function YB(t,i){return Object.keys(t).reduce((a,s)=>{const u=t[s];return i(u,s)||(a[s]=u),a},{})}const UB=(t,i)=>{const{gradient:a,opacity:s,maxOpacity:u,minOpacity:h,blur:v,useGradientOpacity:g}=t,m=HB(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:_,createCanvas:w,document:M}=i;return(O,C,P)=>{const{transform:k}=C,[D,R]=_.getSize(),B=O.map(Y=>({x:Y[0],y:Y[1],value:Y[2],radius:Y[3]})),z=rs(O,Y=>Y[2]),j=pn(O,Y=>Y[2]),G=D&&R?wY(D,R,z,j,B,YB({gradient:a,opacity:s,minOpacity:h,maxOpacity:u,blur:v,useGradientOpacity:g},Y=>Y===void 0),w):{canvas:null};return ir(M.createElement("image",{})).call($e,P).style("x",0).style("y",0).style("width",D).style("height",R).style("src",G.canvas.toDataURL()).style("transform",k).call($e,m).node()}};UB.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const XB={heatmap:UB},aP=t=>(i,a,s,u)=>{const{x:h,y:v,size:g,color:m}=s,_=Array.from(i,w=>{const M=g?+g[w]:40;return[...u.map([+h[w],+v[w]]),m[w],M]});return[[0],[_]]};aP.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:XB,channels:[...So({shapes:Object.keys(XB)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...ra(),{type:Eo},{type:Iw}],postInference:[...na(),...ks()]};var $B=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},Na=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function SY(t,i){const{text:a="text",value:s="value"}=i;return t.map(u=>Object.assign(Object.assign({},u),{text:u[a],value:u[s]}))}const MY=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:t=>t.fontFamily}}),zm=(t,i)=>$B(void 0,void 0,void 0,function*(){const{width:a,height:s}=i,{data:u,encode:h={},scale:v,style:g={},layout:m={}}=t,_=Na(t,["data","encode","scale","style","layout"]),w=SY(u,h);return Ft({},MY(),Object.assign(Object.assign({data:{value:w,transform:[Object.assign({type:"wordCloud",size:[a,s]},m)]},encode:h,scale:v,style:g},_),{axis:!1}))});zm.props={};const qB=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];qB.props={};const hS=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];hS.props={};const oP=t=>new wo(t);oP.props={};const ZB=t=>new gm(t);ZB.props={};const sP=t=>new Vu(t);sP.props={};var KB=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},fl=KB;function dS(t){return Ar(t)?0:fl(t)?t.length:Object.keys(t).length}var TY=function(t,i){if(!fl(t))return-1;var a=Array.prototype.indexOf;if(a)return a.call(t,i);for(var s=-1,u=0;u<t.length;u++)if(t[u]===i){s=u;break}return s},QB=TY;function _g(t){return Math.abs(t)<1e-14?t:parseFloat(t.toFixed(14))}const OY=[1,5,2,2.5,4,3],AY=null,Fm=Number.EPSILON*100;function CY(t,i){return(t%i+i)%i}function JB(t){return Math.round(t*1e12)/1e12}function jm(t,i,a,s,u,h){const v=dS(i),g=QB(i,t);let m=0;const _=CY(s,h);return(_<Fm||h-_<Fm)&&s<=0&&u>=0&&(m=1),1-g/(v-1)-a+m}function t4(t,i,a){const s=dS(i);return 1-QB(i,t)/(s-1)-a+1}function e4(t,i,a,s,u,h){const v=(t-1)/(h-u),g=(i-1)/(Math.max(h,s)-Math.min(a,u));return 2-Math.max(v/g,g/v)}function lP(t,i){return t>=i?2-(t-1)/(i-1):1}function uP(t,i,a,s){const u=i-t;return 1-.5*(Ga(i-s,2)+Ga(t-a,2))/Ga(.1*u,2)}function r4(t,i,a){const s=i-t;if(a>s){const u=(a-s)/2;return 1-Ga(u,2)/Ga(.1*s,2)}return 1}function PY(){return 1}const Vm=(t,i,a=5,s=!0,u=OY,h=[.25,.2,.5,.05])=>{const v=a<0?0:Math.round(a);if(Number.isNaN(t)||Number.isNaN(i)||typeof t!="number"||typeof i!="number"||!v)return[];if(i-t<1e-15||v===1)return[t];const g={score:-2,lmin:0,lmax:0,lstep:0};let m=1;for(;m<1/0;){for(let P=0;P<u.length;P+=1){const k=u[P],D=t4(k,u,m);if(h[0]*D+h[1]+h[2]+h[3]<g.score){m=1/0;break}let R=2;for(;R<1/0;){const B=lP(R,v);if(h[0]*D+h[1]+h[2]*B+h[3]<g.score)break;const z=(i-t)/(R+1)/m/k;let j=Math.ceil(Math.log10(z));for(;j<1/0;){const V=m*k*Ga(10,j),G=r4(t,i,V*(R-1));if(h[0]*D+h[1]*G+h[2]*B+h[3]<g.score)break;const Y=Math.floor(i/V)*m-(R-1)*m,Z=Math.ceil(t/V)*m;if(Y<=Z){const Q=Z-Y;for(let tt=0;tt<=Q;tt+=1){const ct=(Y+tt)*(V/m),nt=ct+V*(R-1),lt=V,ft=jm(k,u,m,ct,nt,lt),q=uP(t,i,ct,nt),H=e4(R,v,t,i,ct,nt),U=PY(),J=h[0]*ft+h[1]*q+h[2]*H+h[3]*U;J>g.score&&(!s||ct<=t&&nt>=i)&&(g.lmin=ct,g.lmax=nt,g.lstep=lt,g.score=J)}}j+=1}R+=1}}m+=1}const _=_g(g.lmax),w=_g(g.lmin),M=_g(g.lstep),O=Math.floor(JB((_-w)/M))+1,C=new Array(O);C[0]=_g(w);for(let P=1;P<O;P+=1)C[P]=_g(C[P-1]+M);return C};class Gm extends Qp{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:Vm}}map(i){return hw(i)?i:this.options.unknown}invert(i){return this.map(i)}clone(){return new Gm(this.options)}getTicks(){const{domain:i,tickCount:a,tickMethod:s}=this.options,[u,h]=i;return!yn(u)||!yn(h)?[]:s(u,h,a)}}const cP=t=>new Gm(t);cP.props={};class fP extends Vu{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:aw,paddingInner:1,paddingOuter:0}}constructor(i){super(i)}getPaddingInner(){return 1}clone(){return new fP(this.options)}update(i){super.update(i)}getPaddingOuter(){return this.options.padding}}const n4=t=>new fP(t);n4.props={};var i4=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,$c="\\d\\d?",yh="\\d\\d",EY="\\d{3}",a4="\\d{4}",Wm="[^\\s]+",hP=/\[([^]*?)\]/gm;function dP(t,i){for(var a=[],s=0,u=t.length;s<u;s++)a.push(t[s].substr(0,i));return a}var o4=function(t){return function(i,a){var s=a[t].map(function(h){return h.toLowerCase()}),u=s.indexOf(i.toLowerCase());return u>-1?u:null}};function mh(t){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];for(var s=0,u=i;s<u.length;s++){var h=u[s];for(var v in h)t[v]=h[v]}return t}var kY=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bh=["January","February","March","April","May","June","July","August","September","October","November","December"],s4=dP(bh,3),l4=dP(kY,3),vP={dayNamesShort:l4,dayNames:kY,monthNamesShort:s4,monthNames:bh,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},Hm=mh({},vP),ant=function(t){return Hm=mh(Hm,t)},vS=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ds=function(t,i){for(i===void 0&&(i=2),t=String(t);t.length<i;)t="0"+t;return t},ont={D:function(t){return String(t.getDate())},DD:function(t){return Ds(t.getDate())},Do:function(t,i){return i.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Ds(t.getDay())},ddd:function(t,i){return i.dayNamesShort[t.getDay()]},dddd:function(t,i){return i.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Ds(t.getMonth()+1)},MMM:function(t,i){return i.monthNamesShort[t.getMonth()]},MMMM:function(t,i){return i.monthNames[t.getMonth()]},YY:function(t){return Ds(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Ds(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Ds(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Ds(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Ds(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Ds(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Ds(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Ds(t.getMilliseconds(),3)},a:function(t,i){return t.getHours()<12?i.amPm[0]:i.amPm[1]},A:function(t,i){return t.getHours()<12?i.amPm[0].toUpperCase():i.amPm[1].toUpperCase()},ZZ:function(t){var i=t.getTimezoneOffset();return(i>0?"-":"+")+Ds(Math.floor(Math.abs(i)/60)*100+Math.abs(i)%60,4)},Z:function(t){var i=t.getTimezoneOffset();return(i>0?"-":"+")+Ds(Math.floor(Math.abs(i)/60),2)+":"+Ds(Math.abs(i)%60,2)}},LY=function(t){return+t-1},DY=[null,$c],pP=[null,Wm],u4=["isPm",Wm,function(t,i){var a=t.toLowerCase();return a===i.amPm[0]?0:a===i.amPm[1]?1:null}],c4=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var i=(t+"").match(/([+-]|\d\d)/gi);if(i){var a=+i[1]*60+parseInt(i[2],10);return i[0]==="+"?a:-a}return 0}],gP={D:["day",$c],DD:["day",yh],Do:["day",$c+Wm,function(t){return parseInt(t,10)}],M:["month",$c,LY],MM:["month",yh,LY],YY:["year",yh,function(t){var i=new Date,a=+(""+i.getFullYear()).substr(0,2);return+(""+(+t>68?a-1:a)+t)}],h:["hour",$c,void 0,"isPm"],hh:["hour",yh,void 0,"isPm"],H:["hour",$c],HH:["hour",yh],m:["minute",$c],mm:["minute",yh],s:["second",$c],ss:["second",yh],YYYY:["year",a4],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",yh,function(t){return+t*10}],SSS:["millisecond",EY],d:DY,dd:DY,ddd:pP,dddd:pP,MMM:["month",Wm,o4("monthNamesShort")],MMMM:["month",Wm,o4("monthNames")],a:u4,A:u4,ZZ:c4,Z:c4},Is={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},IY=function(t){return mh(Is,t)},xg=function(t,i,a){if(i===void 0&&(i=Is.default),a===void 0&&(a={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");i=Is[i]||i;var s=[];i=i.replace(hP,function(h,v){return s.push(v),"@@@"});var u=mh(mh({},Hm),a);return i=i.replace(i4,function(h){return ont[h](t,u)}),i.replace(/@@@/g,function(){return s.shift()})};function Ym(t,i,a){if(a===void 0&&(a={}),typeof i!="string")throw new Error("Invalid format in fecha parse");if(i=Is[i]||i,t.length>1e3)return null;var s=new Date,u={year:s.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},h=[],v=[],g=i.replace(hP,function(j,V){return v.push(vS(V)),"@@@"}),m={},_={};g=vS(g).replace(i4,function(j){var V=gP[j],G=V[0],Y=V[1],Z=V[3];if(m[G])throw new Error("Invalid format. "+G+" specified twice in format");return m[G]=!0,Z&&(_[Z]=!0),h.push(V),"("+Y+")"}),Object.keys(_).forEach(function(j){if(!m[j])throw new Error("Invalid format. "+j+" is required in specified format")}),g=g.replace(/@@@/g,function(){return v.shift()});var w=t.match(new RegExp(g,"i"));if(!w)return null;for(var M=mh(mh({},Hm),a),O=1;O<w.length;O++){var C=h[O-1],P=C[0],k=C[2],D=k?k(w[O],M):+w[O];if(D==null)return null;u[P]=D}u.isPm===1&&u.hour!=null&&+u.hour!=12?u.hour=+u.hour+12:u.isPm===0&&+u.hour==12&&(u.hour=0);var R;if(u.timezoneOffset==null){R=new Date(u.year,u.month,u.day,u.hour,u.minute,u.second,u.millisecond);for(var B=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],O=0,z=B.length;O<z;O++)if(m[B[O][0]]&&u[B[O][0]]!==R[B[O][1]]())return null}else if(R=new Date(Date.UTC(u.year,u.month,u.day,u.hour,u.minute-u.timezoneOffset,u.second,u.millisecond)),u.month>11||u.month<0||u.day>31||u.day<1||u.hour>23||u.hour<0||u.minute>59||u.minute<0||u.second>59||u.second<0)return null;return R}var RY={format:xg,parse:Ym,defaultI18n:vP,setGlobalDateI18n:ant,setGlobalDateMasks:IY},yP=null;const yv=1e3,Um=yv*60,$u=Um*60,mv=$u*24,Xm=mv*7,f4=mv*30,mP=mv*365;function To(t,i,a,s){const u=(_,w)=>{const M=C=>s(C)%w===0;let O=w;for(;O&&!M(_);)a(_,-1),O-=1;return _},h=(_,w)=>{w&&u(_,w),i(_)},v=(_,w)=>{const M=new Date(+_);return h(M,w),M},g=(_,w)=>{const M=new Date(+_-1);return h(M,w),a(M,w),h(M),M};return{ceil:g,floor:v,range:(_,w,M,O)=>{const C=[],P=Math.floor(M),k=O?g(_,M):g(_);for(let D=k;D<w;a(D,P),h(D))C.push(new Date(+D));return C},duration:t}}const NY=To(1,t=>t,(t,i=1)=>{t.setTime(+t+i)},t=>t.getTime()),BY=To(yv,t=>{t.setMilliseconds(0)},(t,i=1)=>{t.setTime(+t+yv*i)},t=>t.getSeconds()),$m=To(Um,t=>{t.setSeconds(0,0)},(t,i=1)=>{t.setTime(+t+Um*i)},t=>t.getMinutes()),h4=To($u,t=>{t.setMinutes(0,0,0)},(t,i=1)=>{t.setTime(+t+$u*i)},t=>t.getHours()),zY=To(mv,t=>{t.setHours(0,0,0,0)},(t,i=1)=>{t.setTime(+t+mv*i)},t=>t.getDate()-1),qu=To(f4,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,i=1)=>{const a=t.getMonth();t.setMonth(a+i)},t=>t.getMonth()),FY=To(Xm,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,i=1)=>{t.setDate(t.getDate()+7*i)},t=>{const i=qu.floor(t),a=new Date(+t);return Math.floor((+a-+i)/Xm)}),jY=To(mP,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i=1)=>{const a=t.getFullYear();t.setFullYear(a+i)},t=>t.getFullYear()),pS={millisecond:NY,second:BY,minute:$m,hour:h4,day:zY,week:FY,month:qu,year:jY},gS=To(1,t=>t,(t,i=1)=>{t.setTime(+t+i)},t=>t.getTime()),VY=To(yv,t=>{t.setUTCMilliseconds(0)},(t,i=1)=>{t.setTime(+t+yv*i)},t=>t.getUTCSeconds()),GY=To(Um,t=>{t.setUTCSeconds(0,0)},(t,i=1)=>{t.setTime(+t+Um*i)},t=>t.getUTCMinutes()),yS=To($u,t=>{t.setUTCMinutes(0,0,0)},(t,i=1)=>{t.setTime(+t+$u*i)},t=>t.getUTCHours()),WY=To(mv,t=>{t.setUTCHours(0,0,0,0)},(t,i=1)=>{t.setTime(+t+mv*i)},t=>t.getUTCDate()-1),d4=To(f4,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,i=1)=>{const a=t.getUTCMonth();t.setUTCMonth(a+i)},t=>t.getUTCMonth()),v4=To(Xm,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,i=1)=>{t.setTime(+t+Xm*i)},t=>{const i=d4.floor(t),a=new Date(+t);return Math.floor((+a-+i)/Xm)}),p4=To(mP,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i=1)=>{const a=t.getUTCFullYear();t.setUTCFullYear(a+i)},t=>t.getUTCFullYear()),bP={millisecond:gS,second:VY,minute:GY,hour:yS,day:WY,week:v4,month:d4,year:p4};function g4(t){const i=t?bP:pS,{year:a,month:s,week:u,day:h,hour:v,minute:g,second:m,millisecond:_}=i;return{tickIntervals:[[m,1],[m,5],[m,15],[m,30],[g,1],[g,5],[g,15],[g,30],[v,1],[v,3],[v,6],[v,12],[h,1],[h,2],[u,1],[s,1],[s,3],[a,1]],year:a,millisecond:_}}function _P(t,i,a,s,u){const h=+t,v=+i,{tickIntervals:g,year:m,millisecond:_}=g4(u),w=([D,R])=>D.duration*R,M=s?(v-h)/s:a||5,O=s||(v-h)/M,C=g.length,P=cw(g,O,0,C,w);let k;if(P===C){const D=YA(h/m.duration,v/m.duration,M);k=[m,D]}else if(P){const D=O/w(g[P-1])<w(g[P])/O,[R,B]=D?g[P-1]:g[P],z=s?Math.ceil(s/R.duration):B;k=[R,z]}else{const D=Math.max(YA(h,v,M),1);k=[_,D]}return k}const qm=(t,i,a,s,u)=>{const h=t>i,v=h?i:t,g=h?t:i,[m,_]=_P(v,g,a,s,u),w=m.range(v,new Date(+g+1),_,!0);return h?w.reverse():w},_h=(t,i,a,s,u)=>{const h=t>i,v=h?i:t,g=h?t:i,[m,_]=_P(v,g,a,s,u),w=[m.floor(v,_),m.ceil(g,_)];return h?w.reverse():w};function HY(t,i){const{second:a,minute:s,hour:u,day:h,week:v,month:g,year:m}=i;return a.floor(t)<t?".SSS":s.floor(t)<t?":ss":u.floor(t)<t?"hh:mm":h.floor(t)<t?"hh A":g.floor(t)<t?v.floor(t)<t?"MMM DD":"ddd DD":m.floor(t)<t?"MMMM":"YYYY"}function YY(t){const i=t.getTimezoneOffset(),a=new Date(t);return a.setMinutes(a.getMinutes()+i,a.getSeconds(),a.getMilliseconds()),a}class mS extends dw{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:qm,interpolate:Vi,mask:void 0,utc:!1}}chooseTransforms(){return[s=>+s,s=>new Date(s)]}chooseNice(){return _h}getTickMethodOptions(){const{domain:i,tickCount:a,tickInterval:s,utc:u}=this.options,h=i[0],v=i[i.length-1];return[h,v,a,s,u]}getFormatter(){const{mask:i,utc:a}=this.options,s=a?bP:pS,u=a?YY:nv;return h=>xg(u(h),i||HY(h,s))}clone(){return new mS(this.options)}}const y4=t=>new mS(t);y4.props={};const m4=t=>i=>-t(-i),bS=(t,i)=>{const a=Math.log(t),s=t===Math.E?Math.log:t===10?Math.log10:t===2?Math.log2:u=>Math.log(u)/a;return i?m4(s):s},wg=(t,i)=>{const a=t===Math.E?Math.exp:s=>Ga(t,s);return i?m4(a):a},Zm=(t,i,a,s=10)=>{const u=t<0,h=wg(s,u),v=bS(s,u),g=i<t,m=g?i:t,_=g?t:i;let w=v(m),M=v(_),O=[];if(!(s%1)&&M-w<a){if(w=Math.floor(w),M=Math.ceil(M),u)for(;w<=M;w+=1){const C=h(w);for(let P=s-1;P>=1;P-=1){const k=C*P;if(k>_)break;k>=m&&O.push(k)}}else for(;w<=M;w+=1){const C=h(w);for(let P=1;P<s;P+=1){const k=C*P;if(k>_)break;k>=m&&O.push(k)}}O.length*2<a&&(O=Zl(m,_,a))}else{const C=a===-1?M-w:Math.min(M-w,a);O=Zl(w,M,C).map(h)}return g?O.reverse():O},Km=(t,i,a,s)=>{const u=t<0,h=bS(s,u),v=wg(s,u),g=t>i,m=g?i:t,_=g?t:i,w=[v(Math.floor(h(m))),v(Math.ceil(h(_)))];return g?w.reverse():w};class Qm extends dw{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:oh,tickMethod:Zm,tickCount:5}}chooseNice(){return Km}getTickMethodOptions(){const{domain:i,tickCount:a,base:s}=this.options,u=i[0],h=i[i.length-1];return[u,h,a,s]}chooseTransforms(){const{base:i,domain:a}=this.options,s=a[0]<0;return[bS(i,s),wg(i,s)]}clone(){return new Qm(this.options)}}const Sg=t=>new Qm(t);Sg.props={};const xP=t=>i=>i<0?-Ga(-i,t):Ga(i,t),UY=t=>i=>i<0?-Ga(-i,1/t):Ga(i,1/t),zo=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class wP extends dw{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:oh,tickMethod:Zl,tickCount:5}}constructor(i){super(i)}chooseTransforms(){const{exponent:i}=this.options;if(i===1)return[nv,nv];const a=i===.5?zo:xP(i),s=UY(i);return[a,s]}clone(){return new wP(this.options)}}const bv=t=>new wP(t);bv.props={};class SP extends wP{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:oh,tickMethod:Zl,tickCount:5,exponent:.5}}constructor(i){super(i)}update(i){super.update(i)}clone(){return new SP(this.options)}}const b4=t=>new SP(t);b4.props={};class Mg extends Qp{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(i){super(i)}map(i){if(!hw(i))return this.options.unknown;const a=cw(this.thresholds,i,0,this.n);return this.options.range[a]}invert(i){const{range:a}=this.options,s=a.indexOf(i),u=this.thresholds;return[u[s-1],u[s]]}clone(){return new Mg(this.options)}rescale(){const{domain:i,range:a}=this.options;this.n=Math.min(i.length,a.length-1),this.thresholds=i}}const _4=t=>new Mg(t);_4.props={};function XY(t,i){const a=t.length;if(!a)return;if(a<2)return t[a-1];const s=(a-1)*i,u=Math.floor(s),h=t[u],v=t[u+1];return h+(v-h)*(s-u)}function $Y(t,i,a=!1){const s=t;a||s.sort((h,v)=>h-v);const u=[];for(let h=1;h<i;h+=1)u.push(XY(s,h/i));return u}class qc extends Mg{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:Vm}}constructor(i){super(i)}rescale(){const{domain:i,range:a}=this.options;this.n=a.length-1,this.thresholds=$Y(i,this.n+1,!1)}invert(i){const[a,s]=super.invert(i),{domain:u}=this.options,h=u[0],v=u[u.length-1];return a===void 0&&s===void 0?[a,s]:[a||h,s||v]}getThresholds(){return this.thresholds}clone(){return new qc(this.options)}getTicks(){const{tickCount:i,domain:a,tickMethod:s}=this.options,u=a.length-1,h=a[0],v=a[u];return s(h,v,i)}}const x4=t=>new qc(t);x4.props={};class _S extends Mg{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:Vm}}constructor(i){super(i)}nice(){const{nice:i}=this.options;if(i){const[a,s,u]=this.getTickMethodOptions();this.options.domain=r3(a,s,u)}}getTicks(){const{tickMethod:i}=this.options,[a,s,u]=this.getTickMethodOptions();return i(a,s,u)}getTickMethodOptions(){const{domain:i,tickCount:a}=this.options,s=i[0],u=i[i.length-1];return[s,u,a]}rescale(){this.nice();const{range:i,domain:a}=this.options,[s,u]=a;this.n=i.length-1,this.thresholds=new Array(this.n);for(let h=0;h<this.n;h+=1)this.thresholds[h]=((h+1)*u-(h-this.n)*s)/(this.n+1)}invert(i){const[a,s]=super.invert(i),[u,h]=this.options.domain;return a===void 0&&s===void 0?[a,s]:[a||u,s||h]}getThresholds(){return this.thresholds}clone(){return new _S(this.options)}}const Zc=t=>new _S(t);Zc.props={};const w4=t=>i=>{const a=t(i);return yn(a)?Math.round(a):a};function qY(t,i){return a=>{a.prototype.rescale=function(){this.initRange(),this.nice();const[s]=this.chooseTransforms();this.composeOutput(s,this.chooseClamp(s))},a.prototype.initRange=function(){const{interpolator:s}=this.options;this.options.range=t(s)},a.prototype.composeOutput=function(s,u){const{domain:h,interpolator:v,round:g}=this.getOptions(),m=i(h.map(s)),_=g?w4(v):v;this.output=eg(_,m,u,s)},a.prototype.invert=void 0}}var ZY=function(t,i,a,s){var u=arguments.length,h=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(t,i,a,s);else for(var g=t.length-1;g>=0;g--)(v=t[g])&&(h=(u<3?v(h):u>3?v(i,a,h):v(i,a))||h);return u>3&&h&&Object.defineProperty(i,a,h),h},MP;function KY(t){return[t(0),t(1)]}const QY=t=>{const[i,a]=t;return eg(Vi(0,1),Vc(i,a))};let iu=MP=class extends wo{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:nv,tickMethod:Zl,tickCount:5}}constructor(i){super(i)}clone(){return new MP(this.options)}};iu=MP=ZY([qY(KY,QY)],iu);const S4=t=>new iu(t);S4.props={};const M4=t=>new jc(t);M4.props={};function xh({colorDefault:t,colorBlack:i,colorWhite:a,colorStroke:s,colorBackground:u,padding1:h,padding2:v,padding3:g,alpha90:m,alpha65:_,alpha45:w,alpha25:M,alpha10:O,category10:C,category20:P,sizeDefault:k=1,padding:D="auto",margin:R=16}){return{padding:D,margin:R,size:k,color:t,category10:C,category20:P,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:u,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:i,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:s,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:s,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:s,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:s,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:s,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:s,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:s,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:s,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:s,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:i,gridStrokeOpacity:O,labelAlign:"horizontal",labelFill:i,labelOpacity:w,labelFontSize:12,labelFontWeight:"normal",labelSpacing:h,line:!1,lineLineWidth:.5,lineStroke:i,lineStrokeOpacity:w,tickLength:4,tickLineWidth:1,tickStroke:i,tickOpacity:w,titleFill:i,titleOpacity:m,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:i,itemLabelFillOpacity:m,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[h,h],itemValueFill:i,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:i,navButtonFillOpacity:.65,navPageNumFill:i,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:i,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:i,tickStrokeOpacity:.25,rowPadding:h,colPadding:v,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:i,handleLabelFillOpacity:w,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:i,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:i,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:i,labelFillOpacity:w,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:m,tickStroke:i,tickStrokeOpacity:w},label:{fill:i,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:i,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:a,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:i,fontWeight:"normal"},slider:{trackSize:16,trackFill:s,trackFillOpacity:1,selectionFill:t,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:i,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:i,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:i,titleFillOpacity:m,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:i,subtitleFillOpacity:_,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const tU=xh({colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),TP=t=>Ft({},tU,t);TP.props={};const Tg=t=>Ft({},TP(),{category10:"category10",category20:"category20"},t);Tg.props={};const O4=xh({colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25}),OP=t=>Ft({},O4,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},t),A4=t=>Object.assign({},OP(),{category10:"category10",category20:"category20"},t);A4.props={};const C4=xh({colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),P4=t=>Ft({},C4,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(i,a)=>a!==0},axisRight:{gridFilter:(i,a)=>a!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},t);P4.props={};function E4(t){return typeof t=="boolean"?!1:"enter"in t&&"update"in t&&"exit"in t}function AP(t){if(!t)return{enter:!1,update:!1,exit:!1};var i=["enter","update","exit"],a=Object.fromEntries(Object.entries(t).filter(function(s){var u=wt(s,1),h=u[0];return!i.includes(h)}));return Object.fromEntries(i.map(function(s){return E4(t)?t[s]===!1?[s,!1]:[s,ae(ae({},t[s]),a)]:[s,a]}))}function Og(t,i){t?t.finished.then(i):i()}function Zu(t,i){t.length===0?i():Promise.all(t.map(function(a){return a==null?void 0:a.finished})).then(i)}function k4(t,i){"update"in t?t.update(i):t.attr(i)}function L4(t,i,a){if(i.length===0)return null;if(!a){var s=i.slice(-1)[0];return k4(t,{style:s}),null}return t.animate(i,a)}function wh(t,i){return!(t.nodeName!=="text"||i.nodeName!=="text"||t.attributes.text!==i.attributes.text)}function Sh(t,i,a,s){if(s===void 0&&(s="destroy"),wh(t,i))return t.remove(),[null];var u=function(){s==="destroy"?t.destroy():s==="hide"&&vh(t),i.isVisible()&&Pm(i)};if(!a)return u(),[null];var h=a.duration,v=h===void 0?0:h,g=a.delay,m=g===void 0?0:g,_=Math.ceil(+v/2),w=+v/4,M=wt(t.getGeometryBounds().center,2),O=M[0],C=M[1],P=wt(i.getGeometryBounds().center,2),k=P[0],D=P[1],R=wt([(O+k)/2-O,(C+D)/2-C],2),B=R[0],z=R[1],j=t.style.opacity,V=j===void 0?1:j,G=i.style.opacity,Y=G===void 0?1:G,Z=t.style.transform||"",Q=i.style.transform||"",tt=t.animate([{opacity:V,transform:"translate(0, 0) ".concat(Z)},{opacity:0,transform:"translate(".concat(B,", ").concat(z,") ").concat(Z)}],ae(ae({fill:"both"},a),{duration:m+_+w})),rt=i.animate([{opacity:0,transform:"translate(".concat(-B,", ").concat(-z,") ").concat(Q),offset:.01},{opacity:Y,transform:"translate(0, 0) ".concat(Q)}],ae(ae({fill:"both"},a),{duration:_+w,delay:m+_-w}));return Og(rt,u),[tt,rt]}function co(t,i,a){var s={},u={};return Object.entries(i).forEach(function(h){var v=wt(h,2),g=v[0],m=v[1];if(!Ar(m)){var _=t.style[g]||t.parsedStyle[g]||0;_!==m&&(s[g]=_,u[g]=m)}}),a?L4(t,[s,u],ae({fill:"both"},a)):(k4(t,u),null)}function CP(t,i){if(t.length<=i)return t;for(var a=Math.floor(t.length/i),s=[],u=0;u<t.length;u+=a)s.push(t[u]);return s}var Rs=function(t,i){var a=function(u){return"".concat(i,"-").concat(u)},s=Object.fromEntries(Object.entries(t).map(function(u){var h=wt(u,2),v=h[0],g=h[1],m=a(g);return[v,{name:m,class:".".concat(m),id:"#".concat(m),toString:function(){return m}}]}));return Object.assign(s,{prefix:a}),s},PP={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new _o({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]},snt=Ft({},PP,{style:{type:"arc"}}),eU=Ft({},PP,{style:{}}),jn=Rs({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis");function Ku(t,i){return[t[0]*i,t[1]*i]}function Kc(t,i){return[t[0]+i[0],t[1]+i[1]]}function Qu(t,i){return[t[0]-i[0],t[1]-i[1]]}function Mh(t,i){return[Math.min(t[0],i[0]),Math.min(t[1],i[1])]}function Th(t,i){return[Math.max(t[0],i[0]),Math.max(t[1],i[1])]}function Ag(t,i){return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))}function EP(t){if(t[0]===0&&t[1]===0)return[0,0];var i=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/i,t[1]/i]}function lnt(t,i,a){var s=__read(t,2),u=s[0],h=s[1],v=__read(i,2),g=v[0],m=v[1],_=u-g,w=h-m,M=Math.sin(a),O=Math.cos(a);return[_*O-w*M+g,_*M+w*O+m]}function Oh(t,i){return i?[t[1],-t[0]]:[-t[1],t[0]]}function Cg(t){return t*Math.PI/180}function D4(t){return Number((t*180/Math.PI).toPrecision(5))}function kP(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function rU(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function nU(t,i){return"".concat(i).concat(kP(t))}function I4(t,i,a){var s;a===void 0&&(a=!0);var u=i||((s=t.match(/^([a-z][a-z0-9]+)/))===null||s===void 0?void 0:s[0])||"",h=t.replace(new RegExp("^(".concat(u,")")),"");return a?rU(h):h}function R4(t,i){Object.entries(i).forEach(function(a){var s=wt(a,2),u=s[0],h=s[1];Ve([t],wt(t.querySelectorAll(u)),!1).filter(function(v){return v.matches(u)}).forEach(function(v){if(v){var g=v;g.style.cssText+=Object.entries(h).reduce(function(m,_){return"".concat(m).concat(_.join(":"),";")},"")}})})}var wS=function(t,i){if(!(t!=null&&t.startsWith(i)))return!1;var a=t[i.length];return a>="A"&&a<="Z"};function Kr(t,i,a){a===void 0&&(a=!1);var s={};return Object.entries(t).forEach(function(u){var h=wt(u,2),v=h[0],g=h[1];if(!(v==="className"||v==="class")){if(wS(v,"show")&&wS(I4(v,"show"),i)!==a)v===nU(i,"show")?s[v]=g:s[v.replace(new RegExp(kP(i)),"")]=g;else if(!wS(v,"show")&&wS(v,i)!==a){var m=I4(v,i);m==="filter"&&typeof g=="function"||(s[m]=g)}}}),s}function hl(t,i){return Object.entries(t).reduce(function(a,s){var u=wt(s,2),h=u[0],v=u[1];return h.startsWith("show")?a["show".concat(i).concat(h.slice(4))]=v:a["".concat(i).concat(kP(h))]=v,a},{})}function Qc(t,i){i===void 0&&(i=["x","y","class","className"]);var a=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],s={},u={};return Object.entries(t).forEach(function(h){var v=wt(h,2),g=v[0],m=v[1];i.includes(g)||(a.indexOf(g)!==-1?u[g]=m:s[g]=m)}),[s,u]}function dl(t,i){return si(t)?t.apply(void 0,Ve([],wt(i),!1)):t}function SS(t,i){return t.style.opacity||(t.style.opacity=1),co(t,{opacity:0},i)}var Jm=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function iU(t){return Jm.includes(t)}function N4(t){var i={};for(var a in t)iU(a)&&(i[a]=t[a]);return i}var _v=Rs({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function B4(t){return t.reduce(function(i,a,s){return i.push(Ve([s===0?"M":"L"],wt(a),!1)),i},[])}function LP(t,i,a){var s=i.connect,u=s===void 0?"line":s,h=i.center;if(u==="line")return B4(t);if(!h)return[];var v=Ag(t[0],h),g=a?0:1;return t.reduce(function(m,_,w){return w===0?m.push(Ve(["M"],wt(_),!1)):m.push(Ve(["A",v,v,0,0,g],wt(_),!1)),m},[])}function t1(t,i,a){return i.type==="surround"?LP(t,i,a):B4(t)}function DP(t,i,a){var s=a.type,u=a.connect,h=a.center,v=a.closed,g=v?[["Z"]]:[],m=wt([t1(t,a),t1(i.slice().reverse(),a,!0)],2),_=m[0],w=m[1],M=wt([t[0],i.slice(-1)[0]],2),O=M[0],C=M[1],P=function(B,z){return[_,B,w,z,g].flat()};if(u==="line"||s==="surround")return P([Ve(["L"],wt(C),!1)],[Ve(["L"],wt(O),!1)]);if(!h)throw new Error("Arc grid need to specified center");var k=wt([Ag(C,h),Ag(O,h)],2),D=k[0],R=k[1];return P([Ve(["A",D,D,0,0,1],wt(C),!1),Ve(["L"],wt(C),!1)],[Ve(["A",R,R,0,0,0],wt(O),!1),Ve(["L"],wt(O),!1)])}function aU(t,i,a,s){var u=a.animate,h=a.isBillboard,v=i.map(function(g,m){return{id:g.id||"grid-line-".concat(m),d:t1(g.points,a)}});return t.selectAll(_v.line.class).data(v,function(g){return g.id}).join(function(g){return g.append("path").each(function(m,_){var w=dl(N4(ae({d:m.d},s)),[m,_,v]);this.attr(ae({class:_v.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:h},w))})},function(g){return g.transition(function(m,_){var w=dl(N4(ae({d:m.d},s)),[m,_,v]);return co(this,w,u.update)})},function(g){return g.transition(function(){var m=this,_=SS(this,u.exit);return Og(_,function(){return m.remove()}),_})}).transitions()}function z4(t,i,a){var s=a.animate,u=a.connect,h=a.areaFill;if(i.length<2||!h||!u)return[];for(var v=Array.isArray(h)?h:[h,"transparent"],g=function(P){return v[P%v.length]},m=[],_=0;_<i.length-1;_++){var w=wt([i[_].points,i[_+1].points],2),M=w[0],O=w[1],C=DP(M,O,a);m.push({d:C,fill:g(_)})}return t.selectAll(_v.region.class).data(m,function(P,k){return k}).join(function(P){return P.append("path").each(function(k,D){var R=dl(k,[k,D,m]);this.attr(R)}).attr("className",_v.region.name)},function(P){return P.transition(function(k,D){var R=dl(k,[k,D,m]);return co(this,R,s.update)})},function(P){return P.transition(function(){var k=this,D=SS(this,s.exit);return Og(D,function(){return k.remove()}),D})}).transitions()}function oU(t){var i=t.data,a=i===void 0?[]:i,s=t.closed;return s?a.map(function(u){var h=u.points,v=wt(h,1),g=v[0];return ae(ae({},u),{points:Ve(Ve([],wt(h),!1),[g],!1)})}):a}var F4=function(t){Ai(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.prototype.render=function(a,s){var u=a.type,h=a.center,v=a.areaFill,g=a.closed,m=da(a,["type","center","areaFill","closed"]),_=oU(a),w=Dr(s).maybeAppendByClassName(_v.lineGroup,"g"),M=Dr(s).maybeAppendByClassName(_v.regionGroup,"g"),O=aU(w,_,a,m),C=z4(M,_,a);return Ve(Ve([],wt(O),!1),wt(C),!1)},i}(ba),fi=function(t,i,a){for(var s=0,u=zi(i)?i.split("."):i;t&&s<u.length;)t=t[u[s++]];return t===void 0||s<u.length?a:t},sU=function(t,i){return function(a){return t*(1-a)+i*a}};function j4(t,i){var a=i?i.length:0,s=t?Math.min(a,t.length):0;return function(u){var h=new Array(s),v=new Array(a),g=0;for(g=0;g<s;++g)h[g]=MS(t[g],i[g]);for(;g<a;++g)v[g]=i[g];for(g=0;g<s;++g)v[g]=h[g](u);return v}}function V4(t,i){t===void 0&&(t={}),i===void 0&&(i={});var a={},s={};return Object.entries(i).forEach(function(u){var h=wt(u,2),v=h[0],g=h[1];v in t?a[v]=MS(t[v],g):s[v]=g}),function(u){return Object.entries(a).forEach(function(h){var v=wt(h,2),g=v[0],m=v[1];return s[g]=m(u)}),s}}function MS(t,i){return typeof t=="number"&&typeof i=="number"?sU(t,i):Array.isArray(t)&&Array.isArray(i)?j4(t,i):typeof t=="object"&&typeof i=="object"?V4(t,i):function(a){return t}}function G4(t,i,a,s){if(!s)return t.attr("__keyframe_data__",a),null;var u=s.duration,h=u===void 0?0:u,v=MS(i,a),g=Math.ceil(+h/16),m=new Array(g).fill(0).map(function(_,w,M){return{__keyframe_data__:v(w/(M.length-1))}});return t.animate(m,ae({fill:"both"},s))}function xv(t){return typeof t=="function"?t():zi(t)||yn(t)?new LC({style:{text:String(t)}}):t}function TS(t,i,a){a===void 0&&(a=!1);var s=t.getBBox(),u=s.width,h=s.height,v=i/Math.max(u,h);return a&&(t.style.transform="scale(".concat(v,")")),v}function e1(t,i){var a={},s=Array.isArray(i)?i:[i];for(var u in t)s.includes(u)||(a[u]=t[u]);return a}function W4(t,i){return Object.fromEntries(Object.entries(t).map(function(a){var s=wt(a,2),u=s[0],h=s[1];return[u,dl(h,i)]}))}function unt(t){if(t.type==="linear"){var i=t.startPos,a=t.endPos;return __spreadArray(__spreadArray([],__read(i),!1),__read(a),!1)}var s=t.startAngle,u=t.endAngle,h=t.center,v=t.radius;return __spreadArray(__spreadArray([s,u],__read(h),!1),[v],!1)}function IP(t,i){return i&&si(i)?t.filter(i):t}function H4(t,i){var a=i.startAngle,s=i.endAngle;return(s-a)*t+a}function wv(t,i){if(i.type==="linear"){var a=wt(i.startPos,2),s=a[0],u=a[1],h=wt(i.endPos,2),v=h[0],g=h[1],m=wt([v-s,g-u],2),_=m[0],w=m[1];return EP([_,w])}var M=Cg(H4(t,i));return[-Math.sin(M),Math.cos(M)]}function RP(t,i,a){var s=wv(t,a);return Oh(s,i!=="positive")}function r1(t,i){return RP(t,i.labelDirection,i)}function OS(t,i){var a=wt(i.startPos,2),s=a[0],u=a[1],h=wt(i.endPos,2),v=h[0],g=h[1],m=wt([v-s,g-u],2),_=m[0],w=m[1];return[s+_*t,u+w*t]}function AS(t,i){var a=i.radius,s=wt(i.center,2),u=s[0],h=s[1],v=Cg(H4(t,i));return[u+a*Math.cos(v),h+a*Math.sin(v)]}function Ns(t,i){return i.type==="linear"?OS(t,i):AS(t,i)}function CS(t){return wv(0,t)[1]===0}function PS(t){return wv(0,t)[0]===0}function Y4(t,i){return i-t===360}function U4(t,i,a,s,u){var h=i-t,v=wt([u,u],2),g=v[0],m=v[1],_=wt([Cg(t),Cg(i)],2),w=_[0],M=_[1],O=function(tt){return[a+u*Math.cos(tt),s+u*Math.sin(tt)]},C=wt(O(w),2),P=C[0],k=C[1],D=wt(O(M),2),R=D[0],B=D[1];if(Y4(t,i)){var z=(M+w)/2,j=wt(O(z),2),V=j[0],G=j[1];return[["M",P,k],["A",g,m,0,1,0,V,G],["A",g,m,0,1,0,R,B]]}var Y=h>180?1:0,Z=t>i?0:1,Q=!1;return Q?"M".concat(a,",").concat(s,",L").concat(P,",").concat(k,",A").concat(g,",").concat(m,",0,").concat(Y,",").concat(Z,",").concat(R,",").concat(B,",L").concat(a,",").concat(s):"M".concat(P,",").concat(k,",A").concat(g,",").concat(m,",0,").concat(Y,",").concat(Z,",").concat(R,",").concat(B)}function X4(t){var i=t.attributes,a=i.startAngle,s=i.endAngle,u=i.center,h=i.radius;return Ve(Ve([a,s],wt(u),!1),[h],!1)}function $4(t,i,a,s){var u=i.startAngle,h=i.endAngle,v=i.center,g=i.radius;return t.selectAll(jn.line.class).data([{d:U4.apply(void 0,Ve(Ve([u,h],wt(v),!1),[g],!1))}],function(m,_){return _}).join(function(m){return m.append("path").attr("className",jn.line.name).styles(i).styles({d:function(_){return _.d}})},function(m){return m.transition(function(){var _=this,w=G4(this,X4(this),Ve(Ve([u,h],wt(v),!1),[g],!1),s.update);if(w){var M=function(){var O=fi(_.attributes,"__keyframe_data__");_.style.d=U4.apply(void 0,Ve([],wt(O),!1))};w.onframe=M,w.onfinish=M}return w}).styles(i)},function(m){return m.remove()}).styles(a).transitions()}function lU(t,i){var a=i.truncRange,s=i.truncShape,u=i.lineExtension}function q4(t,i,a){a===void 0&&(a=[0,0]);var s=wt([t,i,a],3),u=wt(s[0],2),h=u[0],v=u[1],g=wt(s[1],2),m=g[0],_=g[1],w=wt(s[2],2),M=w[0],O=w[1],C=wt([m-h,_-v],2),P=C[0],k=C[1],D=Math.sqrt(Math.pow(P,2)+Math.pow(k,2)),R=wt([-M/D,O/D],2),B=R[0],z=R[1];return[B*P,B*k,z*P,z*k]}function NP(t){var i=wt(t,2),a=wt(i[0],2),s=a[0],u=a[1],h=wt(i[1],2),v=h[0],g=h[1];return{x1:s,y1:u,x2:v,y2:g}}function uU(t,i,a,s){var u=i.showTrunc,h=i.startPos,v=i.endPos,g=i.truncRange,m=i.lineExtension,_=wt([h,v],2),w=wt(_[0],2),M=w[0],O=w[1],C=wt(_[1],2),P=C[0],k=C[1],D=wt(m?q4(h,v,m):new Array(4).fill(0),4),R=D[0],B=D[1],z=D[2],j=D[3],V=function(U){return t.selectAll(jn.line.class).data(U,function(J,st){return st}).join(function(J){return J.append("line").attr("className",function(st){return"".concat(jn.line.name," ").concat(st.className)}).styles(a).transition(function(st){return co(this,NP(st.line),!1)})},function(J){return J.styles(a).transition(function(st){var ut=st.line;return co(this,NP(ut),s.update)})},function(J){return J.remove()}).transitions()};if(!u||!g)return V([{line:[[M+R,O+B],[P+z,k+j]],className:jn.line.name}]);var G=wt(g,2),Y=G[0],Z=G[1],Q=P-M,tt=k-O,rt=wt([M+Q*Y,O+tt*Y],2),ct=rt[0],nt=rt[1],lt=wt([M+Q*Z,O+tt*Z],2),ft=lt[0],q=lt[1],H=V([{line:[[M+R,O+B],[ct,nt]],className:jn.lineFirst.name},{line:[[ft,q],[P+z,k+j]],className:jn.lineSecond.name}]);return lU(t,i),H}function cU(t,i,a,s){var u=a.showArrow,h=a.showTrunc,v=a.lineArrow,g=a.lineArrowOffset,m=a.lineArrowSize,_;if(i==="arc"?_=t.select(jn.line.class):h?_=t.select(jn.lineSecond.class):_=t.select(jn.line.class),!u||!v||a.type==="arc"&&Y4(a.startAngle,a.endAngle)){var w=_.node();w&&(w.style.markerEnd=void 0);return}var M=xv(v);M.attr(s),TS(M,m,!0),_.style("markerEnd",M).style("markerEndOffset",-g)}function Z4(t,i,a){var s=i.type,u,h=Kr(i,"line");return s==="linear"?u=uU(t,i,e1(h,"arrow"),a):u=$4(t,i,e1(h,"arrow"),a),cU(t,s,i,h),u}function ES(t,i){return RP(t,i.gridDirection,i)}function K4(t){var i=t.type,a=t.gridCenter;return i==="linear"?a:a||t.center}function Q4(t,i){var a=i.gridLength;return t.map(function(s,u){var h=s.value,v=wt(Ns(h,i),2),g=v[0],m=v[1],_=wt(Ku(ES(h,i),a),2),w=_[0],M=_[1];return{id:u,points:[[g,m],[g+w,m+M]]}})}function J4(t,i){var a=i.gridControlAngles,s=K4(i);if(!s)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!a||a.length===0)throw new Error("Invalid gridControlAngles");var u=wt(s,2),h=u[0],v=u[1];return t.map(function(g,m){var _=g.value,w=wt(Ns(_,i),2),M=w[0],O=w[1],C=wt([M-h,O-v],2),P=C[0],k=C[1],D=[];return a.forEach(function(R){var B=Cg(R),z=wt([Math.cos(B),Math.sin(B)],2),j=z[0],V=z[1],G=P*j-k*V+h,Y=P*V+k*j+v;D.push([G,Y])}),{points:D,id:m}})}function fU(t,i,a,s){var u=Kr(a,"grid"),h=u.type,v=u.areaFill,g=K4(a),m=IP(i,a.gridFilter),_=h==="segment"?Q4(m,a):J4(m,a),w=ae(ae({},u),{center:g,areaFill:si(v)?m.map(function(M,O){return dl(v,[M,O,m])}):v,animate:s,data:_});return t.selectAll(jn.grid.class).data([1]).join(function(M){return M.append(function(){return new F4({style:w})}).attr("className",jn.grid.name)},function(M){return M.transition(function(){return this.update(w)})},function(M){return M.remove()}).transitions()}function fo(t,i,a,s,u){return s===void 0&&(s=!0),u===void 0&&(u=!1),s&&t===i||u&&t===a?!0:t>i&&t<a}function tz(t){var i,a,s,u=t||1;function h(g,m){++i>u&&(s=a,v(1),++i),a[g]=m}function v(g){i=0,a=Object.create(null),g||(s=Object.create(null))}return v(),{clear:v,has:function(g){return a[g]!==void 0||s[g]!==void 0},get:function(g){var m=a[g];if(m!==void 0)return m;if((m=s[g])!==void 0)return h(g,m),m},set:function(g,m){a[g]!==void 0?a[g]=m:h(g,m)}}}var kS=new Map;function ez(t,i,a){a===void 0&&(a=128);var s=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var v=i?i.apply(this,u):u[0];kS.has(t)||kS.set(t,tz(a));var g=kS.get(t);if(g.has(v))return g.get(v);var m=t.apply(this,u);return g.set(v,m),m};return s}var LS,DS;function cnt(t){DS=t}var hU=ez(function(t,i){var a=i.fontSize,s=i.fontFamily,u=i.fontWeight,h=i.fontStyle,v=i.fontVariant;return DS?DS(t,a):(LS||(LS=ee.offscreenCanvasCreator.getOrCreateContext(void 0)),LS.font=[h,v,u,"".concat(a,"px"),s].join(" "),LS.measureText(t).width)},function(t,i){return[t,Object.values(i||rz(t)).join()].join("")},4096),rz=function(t){var i=t.style.fontFamily||"sans-serif",a=t.style.fontWeight||"normal",s=t.style.fontStyle||"normal",u=t.style.fontVariant,h=t.style.fontSize;return h=typeof h=="object"?h.value:h,{fontSize:h,fontFamily:i,fontWeight:a,fontStyle:s,fontVariant:u}};function BP(t){return t.nodeName==="text"?t:t.nodeName==="g"&&t.children.length===1&&t.children[0].nodeName==="text"?t.children[0]:null}function n1(t,i){var a=BP(t);a&&a.attr(i)}function zP(t,i,a){a===void 0&&(a="..."),n1(t,{wordWrap:!0,wordWrapWidth:i,maxLines:1,textOverflow:a})}function nz(t,i,a,s){a===void 0&&(a=2),s===void 0&&(s="top"),n1(t,{wordWrap:!0,wordWrapWidth:i,maxLines:a,textBaseline:s})}function Pg(t,i,a){var s=t.getBBox(),u=s.width,h=s.height,v=wt([i,a].map(function(_,w){var M;return _.includes("%")?parseFloat(((M=_.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||M===void 0?void 0:M[0])||"0")/100*(w===0?u:h):_}),2),g=v[0],m=v[1];return[g,m]}function iz(t,i){if(i)try{var a=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,s=i.replace(a,function(u,h,v){return"translate(".concat(Pg(t,h,v),")")});t.attr("transform",s)}catch(u){}}var FP=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)};function ho(t){if(yn(t))return[t,t,t,t];if(rn(t)){var i=t.length;if(i===1)return[t[0],t[0],t[0],t[0]];if(i===2)return[t[0],t[1],t[0],t[1]];if(i===3)return[t[0],t[1],t[2],t[1]];if(i===4)return t}return[0,0,0,0]}var IS=function(){function t(i,a,s,u){this.set(i,a,s,u)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(i,a,s){var u=this,h=u.x1,v=u.y1,g=u.x2,m=u.y2,_=Math.cos(i),w=Math.sin(i),M=a-a*_+s*w,O=s-a*w-s*_,C=[[_*h-w*m+M,w*h+_*m+O],[_*g-w*m+M,w*g+_*m+O],[_*h-w*v+M,w*h+_*v+O],[_*g-w*v+M,w*g+_*v+O]];return C},t.prototype.set=function(i,a,s,u){return s<i?(this.x2=i,this.x1=s):(this.x1=i,this.x2=s),u<a?(this.y2=a,this.y1=u):(this.y1=a,this.y2=u),this},t.prototype.defined=function(i){return this[i]!==Number.MAX_VALUE&&this[i]!==-Number.MAX_VALUE},t}();function i1(t,i){var a=t.getEulerAngles()||0;t.setEulerAngles(0);var s=t.getBounds(),u=wt(s.min,2),h=u[0],v=u[1],g=wt(s.max,2),m=g[0],_=g[1],w=t.getBBox(),M=w.width,O=w.height,C=O,P=0,k=0,D=h,R=v,B=BP(t);if(B){C-=1.5;var z=B.style.textAlign,j=B.style.textBaseline;z==="center"?D=(h+m)/2:(z==="right"||z==="end")&&(D=m),j==="middle"?R=(v+_)/2:j==="bottom"&&(R=_)}var V=wt(ho(i),4),G=V[0],Y=G===void 0?0:G,Z=V[1],Q=Z===void 0?0:Z,tt=V[2],rt=tt===void 0?Y:tt,ct=V[3],nt=ct===void 0?Q:ct,lt=new IS((P+=h)-nt,(k+=v)-Y,P+M+Q,k+C+rt);return t.setEulerAngles(a),lt.rotatedPoints(Cg(a),D,R)}function a1(t,i){return i[0]<=Math.max(t[0][0],t[1][0])&&i[0]<=Math.min(t[0][0],t[1][0])&&i[1]<=Math.max(t[0][1],t[1][1])&&i[1]<=Math.min(t[0][1],t[1][1])}function Eg(t,i,a){var s=(i[1]-t[1])*(a[0]-i[0])-(i[0]-t[0])*(a[1]-i[1]);return s===0?0:s<0?2:1}function jP(t,i){var a=Eg(t[0],t[1],i[0]),s=Eg(t[0],t[1],i[1]),u=Eg(i[0],i[1],t[0]),h=Eg(i[0],i[1],t[1]);return!!(a!==s&&u!==h||a===0&&a1(t,i[0])||s===0&&a1(t,i[1])||u===0&&a1(i,t[0])||h===0&&a1(i,t[1]))}function dU(t,i){var a=t.length;if(a<3)return!1;var s=[i,[9999,i[1]]],u=0,h=0;do{var v=[t[h],t[(h+1)%a]];if(jP(v,s)){if(Eg(v[0],i,v[1])===0)return a1(v,i);u++}h=(h+1)%a}while(h!==0);return!!(u&1)}function vU(t,i){return i.every(function(a){return dU(t,a)})}function pU(t,i,a){var s=t.x1,u=t.x2,h=t.y1,v=t.y2,g=[[s,h],[u,h],[u,v],[s,v]],m=i1(i,a);return vU(g,m)}function az(t,i){var a=wt(t,4),s=a[0],u=a[1],h=a[2],v=a[3],g=wt(i,4),m=g[0],_=g[1],w=g[2],M=g[3],O=h-s,C=v-u,P=w-m,k=M-_,D=O*k-P*C;if(D===0)return!1;var R=D>0,B=s-m,z=u-_,j=O*z-C*B;if(j<0===R)return!1;var V=P*z-k*B;return!(V<0===R||j>D===R||V>D===R)}function Sv(t,i){var a=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return a.some(function(s){return az(i,s)})}var fnt={lineToLine:az,intersectBoxLine:Sv,getBounds:i1};function kg(t,i,a){var s,u,h=i1(t,a).flat(1),v=i1(i,a).flat(1),g=[[h[0],h[1],h[2],h[3]],[h[0],h[1],h[4],h[5]],[h[4],h[5],h[6],h[7]],[h[2],h[3],h[6],h[7]]];try{for(var m=Cu(g),_=m.next();!_.done;_=m.next()){var w=_.value;if(Sv(v,w))return!0}}catch(M){s={error:M}}finally{try{_&&!_.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}return!1}function gU(t,i){var a=t.type,s=t.labelDirection,u=t.crossSize;if(!u)return!1;if(a==="arc"){var h=t.center,v=t.radius,g=wt(h,2),m=g[0],_=g[1],w=s==="negative"?0:u,M=-v-w,O=v+w,C=wt(ho(i),4),P=C[0],k=C[1],D=C[2],R=C[3];return new IS(m+M-R,_+M-P,m+O+k,_+O+D)}var B=wt(t.startPos,2),z=B[0],j=B[1],V=wt(t.endPos,2),G=V[0],Y=V[1],Z=wt(PS(t)?[-i,0,i,0]:[0,i,0,-i],4),Q=Z[0],tt=Z[1],rt=Z[2],ct=Z[3],nt=r1(0,t),lt=Ku(nt,u),ft=new IS(z,j,G,Y);return ft.x1+=ct,ft.y1+=Q,ft.x2+=tt+lt[0],ft.y2+=rt+lt[1],ft}function o1(t,i,a){var s,u,h=i.crossPadding,v=new Set,g=null,m=gU(i,h),_=function(P){return m?pU(m,P):!0},w=function(P,k){return!P||!P.firstChild?!0:!kg(P.firstChild,k.firstChild,ho(a))};try{for(var M=Cu(t),O=M.next();!O.done;O=M.next()){var C=O.value;_(C)?!g||w(g,C)?g=C:(v.add(g),v.add(C)):v.add(C)}}catch(P){s={error:P}}finally{try{O&&!O.done&&(u=M.return)&&u.call(M)}finally{if(s)throw s.error}}return Array.from(v)}function VP(t,i){return i===void 0&&(i={}),Ar(t)?0:typeof t=="number"?t:Math.floor(hU(t,i))}function yU(t,i,a,s){if(!(t.length<=1)){var u=i.suffix,h=u===void 0?"...":u,v=i.minLength,g=i.maxLength,m=g===void 0?1/0:g,_=i.step,w=_===void 0?" ":_,M=i.margin,O=M===void 0?[0,0,0,0]:M,C=rz(s.getTextShape(t[0])),P=VP(w,C),k=v?VP(v,C):P,D=VP(m,C);(Ar(D)||D===1/0)&&(D=Math.max.apply(null,t.map(function(lt){return lt.getBBox().width})));for(var R=t.slice(),B=wt(O,4),z=B[0],j=z===void 0?0:z,V=B[1],G=V===void 0?0:V,Y=B[2],Z=Y===void 0?j:Y,Q=B[3],tt=Q===void 0?G:Q,rt=function(lt){if(R.forEach(function(ft){s.ellipsis(s.getTextShape(ft),lt,h)}),R=o1(t,a,O),R.length<1)return{value:void 0}},ct=D;ct>k+P;ct-=P){var nt=rt(ct);if(typeof nt=="object")return nt.value}}}function hnt(t){var i=t&&t.getRenderBounds();if(!i)return{width:0,height:0};var a=i.getMax(),s=i.getMin();return{width:a[0]-s[0],height:a[1]-s[1]}}function oz(t){var i=t.getLocalBounds(),a=i.min,s=i.max,u=wt([a,s],2),h=wt(u[0],2),v=h[0],g=h[1],m=wt(u[1],2),_=m[0],w=m[1];return{x:v,y:g,width:_-v,height:w-g,left:v,bottom:w,top:g,right:_}}function dnt(t,i){var a=select(t).append("text").node();return a.attr(__assign(__assign({},i),{visibility:"hidden"})),a}function sz(t,i){var a=wt(t,2),s=a[0],u=a[1],h=wt(i,2),v=h[0],g=h[1];return s!==v&&u===g}function vnt(t,i){var a=__read(t,2),s=a[0],u=a[1],h=__read(i,2),v=h[0],g=h[1];return s===v&&u!==g}function mU(t,i){var a,s,u=i.attributes;try{for(var h=Cu(Object.entries(u)),v=h.next();!v.done;v=h.next()){var g=wt(v.value,2),m=g[0],_=g[1];m!=="id"&&m!=="className"&&t.attr(m,_)}}catch(w){a={error:w}}finally{try{v&&!v.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}var bU={parity:function(t,i){var a=i.seq,s=a===void 0?2:a;return t.filter(function(u,h){return h%s?(vh(u),!1):!0})}},_U=function(t){return t.filter(FP)};function xU(t,i,a,s){var u=t.length,h=i.keepHeader,v=i.keepTail;if(!(u<=1||u===2&&h&&v)){var g=bU.parity,m=function(z){return z.forEach(s.show),z},_=2,w=t.slice(),M=t.slice(),O=Math.min.apply(Math,Ve([1],wt(t.map(function(z){return z.getBBox().width})),!1));if(a.type==="linear"&&(CS(a)||PS(a))){var C=oz(t[0]).left,P=oz(t[u-1]).right,k=Math.abs(P-C)||1;_=Math.max(Math.floor(u*O/k),_)}var D,R;for(h&&(D=w.splice(0,1)[0]),v&&(R=w.splice(-1,1)[0],w.reverse()),m(w);_<t.length&&o1(_U(R?Ve(Ve([R],wt(M),!1),[D],!1):Ve([D],wt(M),!1)),a,i==null?void 0:i.margin).length;){if(R&&!D&&_%2===0){var B=w.splice(0,1);B.forEach(s.hide)}else if(R&&D){var B=w.splice(0,1);B.forEach(s.hide)}M=g(m(w),{seq:_}),_++}}}function wU(t,i,a,s){var u,h,v=i.optionalAngles,g=v===void 0?[0,45,90]:v,m=i.margin,_=i.recoverWhenFailed,w=_===void 0?!0:_,M=t.map(function(R){return R.getLocalEulerAngles()}),O=function(){return o1(t,a,m).length<1},C=function(R){return t.forEach(function(B,z){var j=Array.isArray(R)?R[z]:R;s.rotate(B,+j)})};try{for(var P=Cu(g),k=P.next();!k.done;k=P.next()){var D=k.value;if(C(D),O())return}}catch(R){u={error:R}}finally{try{k&&!k.done&&(h=P.return)&&h.call(P)}finally{if(u)throw u.error}}w&&C(M)}function lz(t){var i=t.type,a=t.labelDirection;return i==="linear"&&CS(t)?a==="negative"?"bottom":"top":"middle"}function RS(t,i,a,s){var u=i.wordWrapWidth,h=u===void 0?50:u,v=i.maxLines,g=v===void 0?3:v,m=i.recoverWhenFailed,_=m===void 0?!0:m,w=i.margin,M=w===void 0?[0,0,0,0]:w,O=t.map(function(B){return B.attr("maxLines")||1}),C=Math.min.apply(Math,Ve([],wt(O),!1)),P=function(){return o1(t,a,M).length<1},k=lz(a),D=function(B){return t.forEach(function(z,j){var V=Array.isArray(B)?B[j]:B;s.wrap(z,h,V,k)})};if(!(C>g)){for(var R=C;R<=g;R++)if(D(R),P())return;_&&D(O)}}var SU=new Map([["hide",xU],["rotate",wU],["ellipsis",yU],["wrap",RS]]);function MU(t,i,a){return i.labelOverlap.length<1?!1:a==="hide"?!kC(t[0]):a==="rotate"?!t.some(function(s){var u;return!!(!((u=s.attr("transform"))===null||u===void 0)&&u.includes("rotate"))}):a==="ellipsis"||a==="wrap"?t.filter(function(s){return s.querySelector("text")}).length>1:!0}function s1(t,i,a){var s=i.labelOverlap,u=s===void 0?[]:s;u.length&&u.forEach(function(h){var v=h.type,g=SU.get(v);MU(t,i,v)&&(g==null||g(t,h,i,a))})}function GP(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=function(s){return s==="positive"?-1:1};return t.reduce(function(s,u){return s*a(u)},1)}function TU(t){for(var i=t;i<0;)i+=360;return Math.round(i%360)}function NS(t,i){var a=wt(t,2),s=a[0],u=a[1],h=wt(i,2),v=h[0],g=h[1],m=wt([s*v+u*g,s*g-u*v],2),_=m[0],w=m[1];return Math.atan2(w,_)}function OU(t){var i=(t+360)%180;return fo(i,-90,90)||(i+=180),i}function WP(t,i,a){var s,u=a.labelAlign,h=(s=i.style.transform)===null||s===void 0?void 0:s.includes("rotate");if(h)return i.getLocalEulerAngles();var v=0,g=r1(t.value,a),m=wv(t.value,a);return u==="horizontal"?0:(u==="perpendicular"?v=NS([1,0],g):v=NS([m[0]<0?-1:1,0],m),OU(D4(v)))}function uz(t,i,a){var s=a.type,u=a.labelAlign,h=r1(t,a),v=TU(i),g=TU(D4(NS([1,0],h))),m="center",_="middle";return s==="linear"?[90,270].includes(g)&&v===0?(m="center",_=h[1]===1?"top":"bottom"):!(g%180)&&[90,270].includes(v)?m="center":g===0?(fo(v,0,90,!1,!0)||fo(v,0,90)||fo(v,270,360))&&(m="start"):g===90?fo(v,0,90,!1,!0)?m="start":(fo(v,90,180)||fo(v,270,360))&&(m="end"):g===270?fo(v,0,90,!1,!0)?m="end":(fo(v,90,180)||fo(v,270,360))&&(m="start"):g===180&&(v===90?m="start":(fo(v,0,90)||fo(v,270,360))&&(m="end")):u==="parallel"?fo(g,0,180,!0)?_="top":_="bottom":u==="horizontal"?fo(g,90,270,!1)?m="end":(fo(g,270,360,!1)||fo(g,0,90))&&(m="start"):u==="perpendicular"&&(fo(g,90,270)?m="end":m="start"),{textAlign:m,textBaseline:_}}function AU(t,i,a){i.setLocalEulerAngles(t);var s=i.__data__.value,u=uz(s,t,a),h=i.querySelector(jn.labelItem.class);h&&cz(h,u)}function HP(t,i,a){var s=a.showTick,u=a.tickLength,h=a.tickDirection,v=a.labelDirection,g=a.labelSpacing,m=i.indexOf(t),_=dl(g,[t,m,i]),w=wt([r1(t.value,a),GP(v,h)],2),M=w[0],O=w[1],C=O===1?dl(s?u:0,[t,m,i]):0,P=wt(Kc(Ku(M,_+C),Ns(t.value,a)),2),k=P[0],D=P[1];return{x:k,y:D}}function CU(t,i,a,s){var u=s.labelFormatter,h=si(u)?function(){return xv(dl(u,[t,i,a,r1(t.value,s)]))}:function(){return xv(t.label||"")};return h}function cz(t,i){t.nodeName==="text"&&t.attr(i)}function fz(t){s1(this.node().childNodes,t,{hide:vh,show:Pm,rotate:function(i,a){AU(+a,i,t)},ellipsis:function(i,a,s){i&&zP(i,a||1/0,s)},wrap:function(i,a,s){i&&nz(i,a,s)},getTextShape:function(i){return i.querySelector("text")}})}function Lg(t,i,a,s,u){var h=a.indexOf(i),v=Dr(t).append(CU(i,h,a,u)).attr("className",jn.labelItem.name).node(),g=wt(Qc(W4(s,[i,h,a])),2),m=g[0],_=g[1],w=_.transform,M=da(_,["transform"]);iz(v,w);var O=WP(i,v,u);return v.getLocalEulerAngles()||v.setLocalEulerAngles(O),cz(v,ae(ae({},uz(i.value,O,u)),m)),t.attr(M),v}function PU(t,i,a,s){var u=IP(i,a.labelFilter),h=Kr(a,"label");return t.selectAll(jn.label.class).data(u,function(v,g){return g}).join(function(v){return v.append("g").attr("className",jn.label.name).transition(function(g){Lg(this,g,i,h,a);var m=HP(g,i,a),_=m.x,w=m.y;return this.style.transform="translate(".concat(_,", ").concat(w,")"),null}).call(function(){fz.call(t,a)})},function(v){return v.transition(function(g){var m=this.querySelector(jn.labelItem.class),_=Lg(this,g,i,h,a),w=Sh(m,_,s.update),M=HP(g,i,a),O=M.x,C=M.y,P=co(this,{transform:"translate(".concat(O,", ").concat(C,")")},s.update);return Ve(Ve([],wt(w),!1),[P],!1)}).call(function(g){var m=fi(g,"_transitions").flat().filter(FP);Zu(m,function(){fz.call(t,a)})})},function(v){return v.transition(function(){var g=this,m=SS(this.childNodes[0],s.exit);return Og(m,function(){return Dr(g).remove()}),m})}).transitions()}function BS(t,i){return RP(t,i.tickDirection,i)}function EU(t,i){var a=wt(t,2),s=a[0],u=a[1];return[[0,0],[s*i,u*i]]}function l1(t,i,a,s,u){var h=u.tickLength,v=wt(EU(s,dl(h,[t,i,a])),2),g=wt(v[0],2),m=g[0],_=g[1],w=wt(v[1],2),M=w[0],O=w[1];return{x1:m,x2:M,y1:_,y2:O}}function Dg(t,i,a,s,u){var h=u.tickFormatter,v=BS(i.value,u),g="line";return si(h)&&(g=function(){return dl(h,[i,a,s,v])}),t.append(g).attr("className",jn.tickItem.name)}function hz(t,i,a,s,u,h,v){var g=BS(t.value,h),m=l1(t,i,a,g,h),_=m.x1,w=m.x2,M=m.y1,O=m.y2,C=wt(Qc(W4(v,[t,i,a,g])),2),P=C[0],k=C[1];s.node().nodeName==="line"&&s.styles(ae({x1:_,x2:w,y1:M,y2:O},P)),u.attr(k),s.styles(P)}function kU(t,i,a,s,u,h){var v=Dg(Dr(this),t,i,a,s);hz(t,i,a,v,this,s,u);var g=wt(Ns(t.value,s),2),m=g[0],_=g[1];return co(this,{transform:"translate(".concat(m,", ").concat(_,")")},h)}function YP(t,i,a,s){var u=IP(i,a.tickFilter),h=Kr(a,"tick");return t.selectAll(jn.tick.class).data(u,function(v){return v.id||v.label}).join(function(v){return v.append("g").attr("className",jn.tick.name).transition(function(g,m){return kU.call(this,g,m,u,a,h,!1)})},function(v){return v.transition(function(g,m){return this.removeChildren(),kU.call(this,g,m,u,a,h,s.update)})},function(v){return v.transition(function(){var g=this,m=SS(this.childNodes[0],s.exit);return Og(m,function(){return g.remove()}),m})}).transitions()}var xi=function(){function t(i,a,s,u){i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=i,this.y=a,this.width=s,this.height=u}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(i){return new t(i.x,i.y,i.width,i.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(i,a){return i>=this.left&&i<=this.right&&a>=this.top&&a<=this.bottom},t}();function dz(t){var i=t.getRenderBounds(),a=__read(i.min,2),s=a[0],u=a[1],h=__read(i.max,2),v=h[0],g=h[1],m=v-s,_=g-u;return new xi(s,u,m,_)}var Ig=Rs({text:"text"},"title");function u1(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(i){return i[0]}):t.length>2?[t[0]]:t.split("")}function LU(t,i){var a=t.attributes,s=a.position,u=a.spacing,h=a.inset,v=a.text,g=t.getBBox(),m=i.getBBox(),_=u1(s),w=wt(ho(v?u:0),4),M=w[0],O=w[1],C=w[2],P=w[3],k=wt(ho(h),4),D=k[0],R=k[1],B=k[2],z=k[3],j=wt([P+O,M+C],2),V=j[0],G=j[1],Y=wt([z+R,D+B],2),Z=Y[0],Q=Y[1];if(_[0]==="l")return new xi(g.x,g.y,m.width+g.width+V+Z,Math.max(m.height+Q,g.height));if(_[0]==="t")return new xi(g.x,g.y,Math.max(m.width+Z,g.width),m.height+g.height+G+Q);var tt=wt([i.attributes.width||m.width,i.attributes.height||m.height],2),rt=tt[0],ct=tt[1];return new xi(m.x,m.y,rt+g.width+V+Z,ct+g.height+G+Q)}function UP(t,i){var a=Object.entries(i).reduce(function(s,u){var h=wt(u,2),v=h[0],g=h[1],m=t.node().attr(v);return m||(s[v]=g),s},{});t.styles(a)}function DU(t){var i,a,s,u,h=t,v=h.width,g=h.height,m=h.position,_=wt([+v/2,+g/2],2),w=_[0],M=_[1],O=wt([+w,+M,"center","middle"],4),C=O[0],P=O[1],k=O[2],D=O[3],R=u1(m);return R.includes("l")&&(i=wt([0,"start"],2),C=i[0],k=i[1]),R.includes("r")&&(a=wt([+v,"end"],2),C=a[0],k=a[1]),R.includes("t")&&(s=wt([0,"top"],2),P=s[0],D=s[1]),R.includes("b")&&(u=wt([+g,"bottom"],2),P=u[0],D=u[1]),{x:C,y:P,textAlign:k,textBaseline:D}}var XP=function(t){Ai(i,t);function i(a){return t.call(this,a,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return i.prototype.getAvailableSpace=function(){var a=this,s=this.attributes,u=s.width,h=s.height,v=s.position,g=s.spacing,m=s.inset,_=a.querySelector(Ig.text.class);if(!_)return new xi(0,0,+u,+h);var w=_.getBBox(),M=w.width,O=w.height,C=wt(ho(g),4),P=C[0],k=C[1],D=C[2],R=C[3],B=wt([0,0,+u,+h],4),z=B[0],j=B[1],V=B[2],G=B[3],Y=u1(v);if(Y.includes("i"))return new xi(z,j,V,G);Y.forEach(function(q,H){var U,J,st,ut;q==="t"&&(U=wt(H===0?[O+D,+h-O-D]:[0,+h],2),j=U[0],G=U[1]),q==="r"&&(J=wt([+u-M-R],1),V=J[0]),q==="b"&&(st=wt([+h-O-P],1),G=st[0]),q==="l"&&(ut=wt(H===0?[M+k,+u-M-k]:[0,+u],2),z=ut[0],V=ut[1])});var Z=wt(ho(m),4),Q=Z[0],tt=Z[1],rt=Z[2],ct=Z[3],nt=wt([ct+tt,Q+rt],2),lt=nt[0],ft=nt[1];return new xi(z+ct,j+Q,V-lt,G-ft)},i.prototype.getBBox=function(){return this.title?this.title.getBBox():new xi(0,0,0,0)},i.prototype.render=function(a,s){var u=this,h=a.width,v=a.height,g=a.position,m=a.spacing,_=da(a,["width","height","position","spacing"]),w=wt(Qc(_),1),M=w[0],O=DU(a),C=O.x,P=O.y,k=O.textAlign,D=O.textBaseline;No(!!_.text,Dr(s),function(R){u.title=R.maybeAppendByClassName(Ig.text,"text").styles(M).call(UP,{x:C,y:P,textAlign:k,textBaseline:D}).node()})},i}(ba);function vz(t,i,a){var s=a.titlePosition,u=s===void 0?"lb":s,h=a.titleSpacing,v=u1(u),g=t.node().getLocalBounds(),m=wt(g.min,2),_=m[0],w=m[1],M=wt(g.halfExtents,2),O=M[0],C=M[1],P=wt(i.node().getLocalBounds().halfExtents,2),k=P[0],D=P[1],R=wt([_+O,w+C],2),B=R[0],z=R[1],j=wt(ho(h),4),V=j[0],G=j[1],Y=j[2],Z=j[3];if(["start","end"].includes(u)&&a.type==="linear"){var Q=a.startPos,tt=a.endPos,rt=wt(u==="start"?[Q,tt]:[tt,Q],2),ct=rt[0],nt=rt[1],lt=EP([-nt[0]+ct[0],-nt[1]+ct[1]]),ft=wt(Ku(lt,V),2),q=ft[0],H=ft[1];return{x:ct[0]+q,y:ct[1]+H}}return v.includes("t")&&(z-=C+D+V),v.includes("r")&&(B+=O+k+G),v.includes("l")&&(B-=O+k+Z),v.includes("b")&&(z+=C+D+Y),{x:B,y:z}}function $P(t,i,a){var s=t.getGeometryBounds().halfExtents,u=s[1]*2;if(i==="vertical"){if(a==="left")return"rotate(-90) translate(0, ".concat(u/2,")");if(a==="right")return"rotate(-90) translate(0, -".concat(u/2,")")}return""}function qP(t,i,a,s,u){var h=Kr(s,"title"),v=wt(Qc(h),2),g=v[0],m=v[1],_=m.transform,w=m.transformOrigin,M=da(m,["transform","transformOrigin"]);i.styles(M);var O=_||$P(t.node(),g.direction,g.position);t.styles(ae(ae({},g),{transformOrigin:w})),iz(t.node(),O);var C=vz(Dr(a._offscreen||a.querySelector(jn.mainGroup.class)),i,s),P=C.x,k=C.y,D=co(i.node(),{transform:"translate(".concat(P,", ").concat(k,")")},u);return D}function Mv(t,i,a,s){var u=a.titleText;return t.selectAll(jn.title.class).data([{title:u}].filter(function(h){return!!h.title}),function(h,v){return h.title}).join(function(h){return h.append(function(){return xv(u)}).attr("className",jn.title.name).transition(function(){return qP(Dr(this),t,i,a,s.enter)})},function(h){return h.transition(function(){return qP(Dr(this),t,i,a,s.update)})},function(h){return h.remove()}).transitions()}function ZP(t,i,a,s){var u=t.showLine,h=t.showTick,v=t.showLabel,g=i.maybeAppendByClassName(jn.lineGroup,"g"),m=No(u,g,function(C){return Z4(C,t,s)})||[],_=i.maybeAppendByClassName(jn.tickGroup,"g"),w=No(h,_,function(C){return YP(C,a,t,s)})||[],M=i.maybeAppendByClassName(jn.labelGroup,"g"),O=No(v,M,function(C){return PU(C,a,t,s)})||[];return Ve(Ve(Ve([],wt(m),!1),wt(w),!1),wt(O),!1).filter(function(C){return!!C})}var Tv=function(t){Ai(i,t);function i(a){return t.call(this,a,PP)||this}return i.prototype.render=function(a,s,u){var h=this,v=a.titleText,g=a.data,m=a.animate,_=a.showTitle,w=a.showGrid,M=a.dataThreshold,O=a.truncRange,C=CP(g,M).filter(function(V){var G=V.value;return!(O&&G>O[0]&&G<O[1])}),P=AP(u===void 0?m:u),k=Dr(s).maybeAppendByClassName(jn.gridGroup,"g"),D=No(w,k,function(V){return fU(V,C,a,P)})||[],R=Dr(s).maybeAppendByClassName(jn.mainGroup,"g");v&&(!this.initialized&&P.enter||this.initialized&&P.update)&&ZP(a,Dr(this.offscreenGroup),C,AP(!1));var B=ZP(a,Dr(R.node()),C,P),z=Dr(s).maybeAppendByClassName(jn.titleGroup,"g"),j=No(_,z,function(V){return Mv(V,h,a,P)})||[];return Ve(Ve(Ve([],wt(D),!1),wt(B),!1),wt(j),!1).flat().filter(function(V){return!!V})},i}(ba);function Ah(t,i){if(t){var a;if(rn(t))for(var s=0,u=t.length;s<u&&(a=i(t[s],s),a!==!1);s++);else if(h0(t)){for(var h in t)if(t.hasOwnProperty(h)&&(a=i(t[h],h),a===!1))break}}}var zS=Ah,Ch=function(t,i,a){if(!rn(t)&&!cr(t))return t;var s=a;return zS(t,function(u,h){s=i(s,u,h)}),s},IU=Ch,FS=function(t,i){return IU(t,function(a,s,u){return i.includes(u)||(a[u]=s),a},{})},jS=function(t){var i=VA(t);return i.charAt(0).toUpperCase()+i.substring(1)},Jc=jS;function RU(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function VS(t,i){if((a=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var a,s=t.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+t.slice(a+1)]}function NU(t){return t=VS(Math.abs(t)),t?t[1]:NaN}function pz(t,i){return function(a,s){for(var u=a.length,h=[],v=0,g=t[0],m=0;u>0&&g>0&&(m+g+1>s&&(g=Math.max(1,s-m)),h.push(a.substring(u-=g,u+g)),!((m+=g+1)>s));)g=t[v=(v+1)%t.length];return h.reverse().join(i)}}function BU(t){return function(i){return i.replace(/[0-9]/g,function(a){return t[+a]})}}var zU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function KP(t){if(!(i=zU.exec(t)))throw new Error("invalid format: "+t);var i;return new QP({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}KP.prototype=QP.prototype;function QP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gz(t){t:for(var i=t.length,a=1,s=-1,u;a<i;++a)switch(t[a]){case".":s=u=a;break;case"0":s===0&&(s=a),u=a;break;default:if(!+t[a])break t;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(u+1):t}var GS;function FU(t,i){var a=VS(t,i);if(!a)return t+"";var s=a[0],u=a[1],h=u-(GS=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,v=s.length;return h===v?s:h>v?s+new Array(h-v+1).join("0"):h>0?s.slice(0,h)+"."+s.slice(h):"0."+new Array(1-h).join("0")+VS(t,Math.max(0,i+h-1))[0]}function yz(t,i){var a=VS(t,i);if(!a)return t+"";var s=a[0],u=a[1];return u<0?"0."+new Array(-u).join("0")+s:s.length>u+1?s.slice(0,u+1)+"."+s.slice(u+1):s+new Array(u-s.length+2).join("0")}var c1={"%":(t,i)=>(t*100).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RU,e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>yz(t*100,i),r:yz,s:FU,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function f1(t){return t}var JP=Array.prototype.map,h1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function jU(t){var i=t.grouping===void 0||t.thousands===void 0?f1:pz(JP.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",u=t.decimal===void 0?".":t.decimal+"",h=t.numerals===void 0?f1:BU(JP.call(t.numerals,String)),v=t.percent===void 0?"%":t.percent+"",g=t.minus===void 0?"\u2212":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function _(M){M=KP(M);var O=M.fill,C=M.align,P=M.sign,k=M.symbol,D=M.zero,R=M.width,B=M.comma,z=M.precision,j=M.trim,V=M.type;V==="n"?(B=!0,V="g"):c1[V]||(z===void 0&&(z=12),j=!0,V="g"),(D||O==="0"&&C==="=")&&(D=!0,O="0",C="=");var G=k==="$"?a:k==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",Y=k==="$"?s:/[%p]/.test(V)?v:"",Z=c1[V],Q=/[defgprs%]/.test(V);z=z===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function tt(rt){var ct=G,nt=Y,lt,ft,q;if(V==="c")nt=Z(rt)+nt,rt="";else{rt=+rt;var H=rt<0||1/rt<0;if(rt=isNaN(rt)?m:Z(Math.abs(rt),z),j&&(rt=gz(rt)),H&&+rt==0&&P!=="+"&&(H=!1),ct=(H?P==="("?P:g:P==="-"||P==="("?"":P)+ct,nt=(V==="s"?h1[8+GS/3]:"")+nt+(H&&P==="("?")":""),Q){for(lt=-1,ft=rt.length;++lt<ft;)if(q=rt.charCodeAt(lt),48>q||q>57){nt=(q===46?u+rt.slice(lt+1):rt.slice(lt))+nt,rt=rt.slice(0,lt);break}}}B&&!D&&(rt=i(rt,1/0));var U=ct.length+rt.length+nt.length,J=U<R?new Array(R-U+1).join(O):"";switch(B&&D&&(rt=i(J+rt,J.length?R-nt.length:1/0),J=""),C){case"<":rt=ct+rt+nt+J;break;case"=":rt=ct+J+rt+nt;break;case"^":rt=J.slice(0,U=J.length>>1)+ct+rt+nt+J.slice(U);break;default:rt=J+ct+rt+nt;break}return h(rt)}return tt.toString=function(){return M+""},tt}function w(M,O){var C=_((M=KP(M),M.type="f",M)),P=Math.max(-8,Math.min(8,Math.floor(NU(O)/3)))*3,k=Math.pow(10,-P),D=h1[8+P/3];return function(R){return C(k*R)+D}}return{format:_,formatPrefix:w}}var WS,Ph,VU;mz({thousands:",",grouping:[3],currency:["$",""]});function mz(t){return WS=jU(t),Ph=WS.format,VU=WS.formatPrefix,WS}function d1(t){for(var i=1/0,a=1/0,s=-1/0,u=-1/0,h=0;h<t.length;h++){var v=t[h],g=v.x,m=v.y,_=v.width,w=v.height,M=wt([g+_,m+w],2),O=M[0],C=M[1];g<i&&(i=g),m<a&&(a=m),O>s&&(s=O),C>u&&(u=C)}return new xi(i,a,s-i,u-a)}var bz=function(t,i,a){var s=t.width,u=t.height,h=a.flexDirection,v=h===void 0?"row":h,g=a.flexWrap,m=g===void 0?"nowrap":g,_=a.justifyContent,w=_===void 0?"flex-start":_,M=a.alignContent,O=M===void 0?"flex-start":M,C=a.alignItems,P=C===void 0?"flex-start":C,k=v==="row",D=v==="row"||v==="column",R=k?D?[1,0]:[-1,0]:D?[0,1]:[0,-1],B=wt([0,0],2),z=B[0],j=B[1],V=i.map(function(nt){var lt,ft=nt.width,q=nt.height,H=wt([z,j],2),U=H[0],J=H[1];return lt=wt([z+ft*R[0],j+q*R[1]],2),z=lt[0],j=lt[1],new xi(U,J,ft,q)}),G=d1(V),Y={"flex-start":0,"flex-end":k?s-G.width:u-G.height,center:k?(s-G.width)/2:(u-G.height)/2},Z=V.map(function(nt){var lt=nt.x,ft=nt.y,q=xi.fromRect(nt);return q.x=k?lt+Y[w]:lt,q.y=k?ft:ft+Y[w],q}),Q=d1(Z),tt=function(nt){var lt=wt(k?["height",u]:["width",s],2),ft=lt[0],q=lt[1];switch(P){case"flex-start":return 0;case"flex-end":return q-nt[ft];case"center":return q/2-nt[ft]/2;default:return 0}},rt=Z.map(function(nt){var lt=nt.x,ft=nt.y,q=xi.fromRect(nt);return q.x=k?lt:lt+tt(q),q.y=k?ft+tt(q):ft,q}),ct=rt.map(function(nt){var lt,ft,q=xi.fromRect(nt);return q.x+=(lt=t.x)!==null&&lt!==void 0?lt:0,q.y+=(ft=t.y)!==null&&ft!==void 0?ft:0,q});return ct},GU=function(t,i,a){return[]},Rg=function(t,i,a){if(i.length===0)return[];var s={flex:bz,grid:GU},u=a.display in s?s[a.display]:null;return(u==null?void 0:u.call(null,t,i,a))||[]},HS=function(t){Ai(i,t);function i(a){var s=t.call(this,a)||this;s.layoutEvents=[Jr.BOUNDS_CHANGED,Jr.INSERTED,Jr.REMOVED],s.$margin=ho(0),s.$padding=ho(0);var u=a.style||{},h=u.margin,v=h===void 0?0:h,g=u.padding,m=g===void 0?0:g;return s.margin=v,s.padding=m,s.isMutationObserved=!0,s.bindEvents(),s}return Object.defineProperty(i.prototype,"margin",{get:function(){return this.$margin},set:function(a){this.$margin=ho(a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this.$padding},set:function(a){this.$padding=ho(a)},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var a=this.attributes,s=a.x,u=s===void 0?0:s,h=a.y,v=h===void 0?0:h,g=a.width,m=a.height,_=wt(this.$margin,4),w=_[0],M=_[1],O=_[2],C=_[3];return new xi(u-C,v-w,g+C+M,m+w+O)},i.prototype.appendChild=function(a,s){return a.isMutationObserved=!0,t.prototype.appendChild.call(this,a,s),a},i.prototype.getAvailableSpace=function(){var a=this.attributes,s=a.width,u=a.height,h=wt(this.$padding,4),v=h[0],g=h[1],m=h[2],_=h[3],w=wt(this.$margin,4),M=w[0],O=w[3];return new xi(_+O,v+M,s-_-g,u-v-m)},i.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(v){return!v.isConnected}))try{var a=this.attributes,s=a.x,u=a.y;this.style.transform="translate(".concat(s,", ").concat(u,")");var h=Rg(this.getAvailableSpace(),this.children.map(function(v){return v.getBBox()}),this.attributes);this.children.forEach(function(v,g){var m=h[g],_=m.x,w=m.y;v.style.transform="translate(".concat(_,", ").concat(w,")")})}catch(v){}},i.prototype.bindEvents=function(){var a=this;this.layoutEvents.forEach(function(s){a.addEventListener(s,function(u){u.target&&(u.target.isMutationObserved=!0,a.layout())})})},i.prototype.attributeChangedCallback=function(a,s,u){a==="margin"?this.margin=u:a==="padding"&&(this.padding=u),this.layout()},i}(ta),WU=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Ng(t){return class extends Ex{constructor(i){super(i),this.descriptor=t}connectedCallback(){var i,a;(a=(i=this.descriptor).render)===null||a===void 0||a.call(i,this.attributes,this)}update(i={}){var a,s;this.attr(Ft({},this.attributes,i)),(s=(a=this.descriptor).render)===null||s===void 0||s.call(a,this.attributes,this)}}}function v1(t,i,a){return t.querySelector(i)?ir(t).select(i):ir(t).append(a)}function Bg(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function tE(t,i){const a={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:s,justifyContent:u,alignItems:h}=a;const v={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return t in v&&([s,u,h]=v[t]),Object.assign({display:"flex",flexDirection:s,justifyContent:u,alignItems:h},i)}class p1 extends HS{get child(){var i;return(i=this.children)===null||i===void 0?void 0:i[0]}update(i){var a;this.attr(i);const{subOptions:s}=i;(a=this.child)===null||a===void 0||a.update(s)}}class HU extends p1{update(i){var a;const{subOptions:s}=i;this.attr(i),(a=this.child)===null||a===void 0||a.update(s)}}function Fo(t,i){var a;return(a=t.filter(s=>s.getOptions().name===i))===null||a===void 0?void 0:a[0]}function g1(t){return t==="horizontal"||t===0}function _z(t){return t==="vertical"||t===-Math.PI/2}function xz(t,i,a){const{bbox:s}=t,{position:u="top",size:h,length:v}=i,g=["top","bottom","center"].includes(u),[m,_]=g?[s.height,s.width]:[s.width,s.height],{defaultSize:w,defaultLength:M}=a.props,O=h||w||m,C=v||M||_,P=g?"horizontal":"vertical",[k,D]=g?[C,O]:[O,C];return{orientation:P,width:k,height:D,size:O,length:C}}function YU(t){return t.find(i=>i.getOptions().domain.length>0).getOptions().domain}function YS(t){const i=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:a}=t,s=WU(t,["style"]),u={};return Object.entries(s).forEach(([h,v])=>{i.includes(h)?u[`show${Jc(h)}`]=v:u[h]=v}),Object.assign(Object.assign({},u),a)}var US=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function eE(t,i){const{eulerAngles:a,origin:s}=i;s&&t.setOrigin(s),a&&t.rotate(a[0],a[1],a[2])}function wz(t){const{innerWidth:i,innerHeight:a,depth:s}=t.getOptions();return[i,a,s]}function UU(t,i){const{width:a,height:s}=i.getOptions();return u=>{if(!mc(i))return u;const h=t==="bottom"?[u,1]:[0,u],v=i.map(h);if(t==="bottom"){const g=v[0];return new wo({domain:[0,a],range:[0,1]}).map(g)}else if(t==="left"){const g=v[1];return new wo({domain:[0,s],range:[0,1]}).map(g)}return u}}function XU(t,i,a){if(t.getTicks)return t.getTicks();if(!a)return i;const[s,u]=Gc(i,v=>+v),{tickCount:h}=t.getOptions();return a(s,u,h)}function y1(t,i){if(ce(i))return C=>C;const a=i.getOptions(),{innerWidth:s,innerHeight:u,insetTop:h,insetBottom:v,insetLeft:g,insetRight:m}=a,[_,w,M]=t==="left"||t==="right"?[h,v,u]:[g,m,s],O=new wo({domain:[0,1],range:[_/M,1-w/M]});return C=>O.map(C)}function vl(t,i,a,s,u,h,v,g){var m;(a!==void 0||h!==void 0)&&t.update(Object.assign(Object.assign({},a&&{tickCount:a}),h&&{tickMethod:h}));const _=XU(t,i,h),w=u?_.filter(u):_,M=R=>R instanceof Date?String(R):typeof R=="object"&&R?R:String(R),O=s||((m=t.getFormatter)===null||m===void 0?void 0:m.call(t))||M,C=y1(v,g),P=UU(v,g),k=R=>["top","bottom","center","outer"].includes(R),D=R=>["left","right"].includes(R);return ce(g)||qe(g)?w.map((R,B,z)=>{var j,V;const G=((j=t.getBandWidth)===null||j===void 0?void 0:j.call(t,R))/2||0,Y=C(t.map(R)+G);return{value:mu(g)&&v==="center"||qe(g)&&((V=t.getTicks)===null||V===void 0?void 0:V.call(t))&&k(v)||qe(g)&&D(v)?1-Y:Y,label:M(O(bm(R),B,z)),id:String(B)}}):w.map((R,B,z)=>{var j;const V=((j=t.getBandWidth)===null||j===void 0?void 0:j.call(t,R))/2||0,G=P(C(t.map(R)+V));return{value:D(v)?1-G:G,label:M(O(bm(R),B,z)),id:String(B)}})}function XS(t,i,a="xy"){const[s,u,h]=wz(i);return a==="xy"?t.includes("bottom")||t.includes("top")?u:s:a==="xz"?t.includes("bottom")||t.includes("top")?h:s:t.includes("bottom")||t.includes("top")?u:h}function Sz(t=[],i){if(t.length>0)return t;const{labelAutoRotate:a,labelAutoHide:s,labelAutoEllipsis:u,labelAutoWrap:h}=i,v=[],g=(m,_)=>{_&&v.push(Object.assign(Object.assign({},m),_))};return g({type:"rotate",optionalAngles:[0,15,30,45,60,90]},a),g({type:"ellipsis",minLength:20},u),g({type:"hide"},s),g({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},h),v}function $U(t,i,a,s,u){const{x:h,y:v,width:g,height:m}=i,_=[h+g/2,v+m/2],w=Math.min(g,m)/2,[M,O]=ds(u),[C,P]=wz(u),k=Math.min(C,P)/2,D={center:_,radius:w,startAngle:M,endAngle:O,gridLength:(s-a)*k};if(t==="inner"){const{insetLeft:R,insetTop:B}=u.getOptions();return Object.assign(Object.assign({},D),{center:[_[0]-R,_[1]-B],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},D),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function qU(t,i,a){return Pi(i)||Uo(i)?!1:t===void 0?!!a.getTicks:t}function ZU(t){const{depth:i}=t.getOptions();return i?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function Mz(t,i,a,s,u){const{x:h,y:v,width:g,height:m}=a;if(t==="bottom")return{startPos:[h,v],endPos:[h+g,v]};if(t==="left")return{startPos:[h+g,v+m],endPos:[h+g,v]};if(t==="right")return{startPos:[h,v+m],endPos:[h,v]};if(t==="top")return{startPos:[h,v+m],endPos:[h+g,v+m]};if(t==="center"){if(i==="vertical")return{startPos:[h,v],endPos:[h,v+m]};if(i==="horizontal")return{startPos:[h,v],endPos:[h+g,v]};if(typeof i=="number"){const[_,w]=s.getCenter(),[M,O]=Ui(s),[C,P]=ds(s),k=Math.min(g,m)/2,{insetLeft:D,insetTop:R}=s.getOptions(),B=M*k,z=O*k,[j,V]=[_+h-D,w+v-R],[G,Y]=[Math.cos(i),Math.sin(i)],Z=[j+z*G,V+z*Y],Q=[j+B*G,V+B*Y],tt=()=>{const{domain:ct}=u.getOptions();return ct.length},rt=ce(s)&&u?tt():3;return{startPos:Z,endPos:Q,gridClosed:Math.abs(P-C-360)<1e-6,gridCenter:[j,V],gridControlAngles:new Array(rt).fill(0).map((ct,nt,lt)=>(P-C)/rt*nt)}}}return{}}const KU=t=>{const{order:i,size:a,position:s,orientation:u,labelFormatter:h,tickFilter:v,tickCount:g,tickMethod:m,important:_={},style:w={},indexBBox:M,title:O,grid:C=!1}=t,P=US(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[k],value:D,coordinate:R,theme:B})=>{const{bbox:z}=D,{domain:j}=k.getOptions(),V=vl(k,j,g,h,v,m,s,R),G=M?V.map((nt,lt)=>{const ft=M.get(lt);return!ft||ft[0]!==nt.label?nt:Object.assign(Object.assign({},nt),{bbox:ft[1]})}):V,[Y,Z]=Ui(R),Q=$U(s,z,Y,Z,R),{axis:tt,axisArc:rt={}}=B,ct=YS(Ft({},tt,rt,Q,Object.assign(Object.assign({type:"arc",data:G,titleText:Bg(O),grid:C},P),_)));return new Tv({style:FS(ct,["transform"])})}};function QU(t,i,a,s,u,h){const v=a.axis,g=["top","right","bottom","left"].includes(u)?a[`axis${uo(u)}`]:a.axisLinear,m=t.getOptions().name,_=a[`axis${Jc(m)}`]||{};return Object.assign({},v,g,_)}function JU(t,i,a,s,u,h){const v=QU(t,i,a,s,u,h);return u==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},v),{labelDirection:s==="right"?"negative":"positive"}),s==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:s==="right"?"negative":"positive",labelSpacing:s==="center"?0:4,titleSpacing:_z(h)?10:0,tick:s==="center"?!1:void 0}):v}const tX=t=>{const{direction:i="left",important:a={},labelFormatter:s,order:u,orientation:h,actualPosition:v,position:g,size:m,style:_={},title:w,tickCount:M,tickFilter:O,tickMethod:C,transform:P,indexBBox:k}=t,D=US(t,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:R,value:B,coordinate:z,theme:j})=>{const{bbox:V}=B,[G]=R,{domain:Y,xScale:Z}=G.getOptions(),Q=JU(G,z,j,i,g,h),tt=Object.assign(Object.assign(Object.assign({},Q),_),D),rt=XS(v||g,z,t.plane),ct=Mz(g,h,V,z,Z),nt=ZU(z),lt=vl(G,Y,M,s,O,C,g,z),ft=k?lt.map((U,J)=>{const st=k.get(J);return!st||st[0]!==U.label?U:Object.assign(Object.assign({},U),{bbox:st[1]})}):lt,q=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tt),{type:"linear",data:ft,crossSize:m,titleText:Bg(w),labelOverlap:Sz(P,tt),grid:qU(tt.grid,z,G),gridLength:rt,line:!0,indexBBox:k}),tt.line?null:{lineOpacity:0}),ct),nt),a);return q.labelOverlap.find(U=>U.type==="hide")&&(q.crossSize=!1),new Tv({className:"axis",style:YS(q)})}},rE=t=>i=>{const{labelFormatter:a,labelFilter:s=()=>!0}=i;return u=>{var h;const{scales:[v]}=u,g=((h=v.getTicks)===null||h===void 0?void 0:h.call(v))||v.getOptions().domain,m=typeof a=="string"?Ph(a):a,_=(M,O,C)=>s(g[O],O,g),w=Object.assign(Object.assign({},i),{labelFormatter:m,labelFilter:_,scale:v});return t(w)(u)}},tf=rE(tX),$S=rE(KU);tf.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]},$S.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const Tz=t=>(...i)=>{const a=tf(Object.assign({},{crossPadding:50},t))(...i);return eE(a,t),a};Tz.props=Object.assign(Object.assign({},tf.props),{defaultPosition:"bottom"});function pnt(){}const Oz=t=>(...i)=>{const a=tf(Object.assign({},{crossPadding:10},t))(...i);return eE(a,t),a};Oz.props=Object.assign(Object.assign({},tf.props),{defaultPosition:"left"});var qS=function(){},eX=function(t,i,a){var s=t,u=zi(i)?i.split("."):i;return u.forEach(function(h,v){v<u.length-1?(h0(s[h])||(s[h]=yn(u[v+1])?[]:{}),s=s[h]):s[h]=a}),t};function Az(t,i){return t.reduce(function(a,s){return(a[s[i]]=a[s[i]]||[]).push(s),a},{})}function Cz(t,i,a){var s;return function(){var u=this,h=arguments,v=function(){s=null,a||t.apply(u,h)},g=a&&!s;clearTimeout(s),s=setTimeout(v,i),g&&t.apply(u,h)}}var nE=Cz;function rX(t){var i;return((i=t[0])===null||i===void 0?void 0:i.map(function(a,s){return t.map(function(u){return u[s]})}))||[]}var Bs=Rs({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),nX=function(t){Ai(i,t);function i(a){var s=t.call(this,a,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Vw(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(u,h){return"".concat(u,"/").concat(h)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return s.playState="idle",s.contentGroup=s.appendChild(new ta({class:Bs.contentGroup.name})),s.playWindow=s.contentGroup.appendChild(new ta({class:Bs.playWindow.name})),s.innerCurrPage=s.defaultPage,s}return Object.defineProperty(i.prototype,"defaultPage",{get:function(){var a=this.attributes.defaultPage;return Oi(a,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pageShape",{get:function(){var a=this.pageViews,s=wt(rX(a.map(function(M){var O=M.getBBox(),C=O.width,P=O.height;return[C,P]})).map(function(M){return Math.max.apply(Math,Ve([],wt(M),!1))}),2),u=s[0],h=s[1],v=this.attributes,g=v.pageWidth,m=g===void 0?u:g,_=v.pageHeight,w=_===void 0?h:_;return{pageWidth:m,pageHeight:w}},enumerable:!1,configurable:!0}),i.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(i.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var a=t.prototype.getBBox.call(this),s=a.x,u=a.y,h=this.controllerShape,v=this.pageShape,g=v.pageWidth,m=v.pageHeight;return new xi(s,u,g+h.width,m)},i.prototype.goTo=function(a){var s=this,u=this.attributes.animate,h=this,v=h.currPage,g=h.playState,m=h.playWindow,_=h.pageViews;if(g!=="idle"||a<0||_.length<=0||a>=_.length)return null;_[v].setLocalPosition(0,0),this.prepareFollowingPage(a);var w=wt(this.getFollowingPageDiff(a),2),M=w[0],O=w[1];this.playState="running";var C=L4(m,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-M,", ").concat(-O,")")}],u);return Og(C,function(){s.innerCurrPage=a,s.playState="idle",s.setVisiblePages([a]),s.updatePageInfo()}),C},i.prototype.prev=function(){var a=this.attributes.loop,s=this.pageViews.length,u=this.currPage;if(!a&&u<=0)return null;var h=a?(u-1+s)%s:Oi(u-1,0,s);return this.goTo(h)},i.prototype.next=function(){var a=this.attributes.loop,s=this.pageViews.length,u=this.currPage;if(!a&&u>=s-1)return null;var h=a?(u+1)%s:Oi(u+1,0,s);return this.goTo(h)},i.prototype.renderClipPath=function(a){var s=this.pageShape,u=s.pageWidth,h=s.pageHeight;if(!u||!h){this.contentGroup.style.clipPath=void 0;return}this.clipPath=a.maybeAppendByClassName(Bs.clipPath,"rect").styles({width:u,height:h}),this.contentGroup.attr("clipPath",this.clipPath.node())},i.prototype.setVisiblePages=function(a){this.playWindow.children.forEach(function(s,u){a.includes(u)?Pm(s):vh(s)})},i.prototype.adjustControllerLayout=function(){var a=this,s=a.prevBtnGroup,u=a.nextBtnGroup,h=a.pageInfoGroup,v=this.attributes,g=v.orientation,m=v.controllerPadding,_=h.getBBox(),w=_.width,M=_.height,O=wt(g==="horizontal"?[-180,0]:[-90,90],2),C=O[0],P=O[1];s.setLocalEulerAngles(C),u.setLocalEulerAngles(P);var k=s.getBBox(),D=k.width,R=k.height,B=u.getBBox(),z=B.width,j=B.height,V=Math.max(D,w,z),G=g==="horizontal"?{offset:[[0,0],[D/2+m,0],[D+w+m*2,0]],textAlign:"start"}:{offset:[[V/2,-R-m],[V/2,0],[V/2,j+m]],textAlign:"center"},Y=wt(G.offset,3),Z=wt(Y[0],2),Q=Z[0],tt=Z[1],rt=wt(Y[1],2),ct=rt[0],nt=rt[1],lt=wt(Y[2],2),ft=lt[0],q=lt[1],H=G.textAlign,U=h.querySelector("text");U&&(U.style.textAlign=H),s.setLocalPosition(Q,tt),h.setLocalPosition(ct,nt),u.setLocalPosition(ft,q)},i.prototype.updatePageInfo=function(){var a,s=this,u=s.currPage,h=s.pageViews,v=s.attributes.formatter;h.length<2||((a=this.pageInfoGroup.querySelector(Bs.pageInfo.class))===null||a===void 0||a.attr("text",v(u+1,h.length)),this.adjustControllerLayout())},i.prototype.getFollowingPageDiff=function(a){var s=this.currPage;if(s===a)return[0,0];var u=this.attributes.orientation,h=this.pageShape,v=h.pageWidth,g=h.pageHeight,m=a<s?-1:1;return u==="horizontal"?[m*v,0]:[0,m*g]},i.prototype.prepareFollowingPage=function(a){var s=this,u=s.currPage,h=s.pageViews;if(this.setVisiblePages([a,u]),a!==u){var v=wt(this.getFollowingPageDiff(a),2),g=v[0],m=v[1];h[a].setLocalPosition(g,m)}},i.prototype.renderController=function(a){var s=this,u=this.attributes.controllerSpacing,h=this.pageShape,v=h.pageWidth,g=h.pageHeight,m=this.pageViews.length>=2,_=a.maybeAppendByClassName(Bs.controller,"g");if(Nw(_.node(),m),!!m){var w=Kr(this.attributes,"button"),M=Kr(this.attributes,"pageNum"),O=wt(Qc(w),2),C=O[0],P=O[1],k=C.size,D=da(C,["size"]),R=!_.select(Bs.prevBtnGroup.class).node(),B=_.maybeAppendByClassName(Bs.prevBtnGroup,"g").styles(P);this.prevBtnGroup=B.node();var z=B.maybeAppendByClassName(Bs.prevBtn,"path"),j=_.maybeAppendByClassName(Bs.nextBtnGroup,"g").styles(P);this.nextBtnGroup=j.node();var V=j.maybeAppendByClassName(Bs.nextBtn,"path");[z,V].forEach(function(Y){Y.styles(ae(ae({},D),{transformOrigin:"center"})),TS(Y.node(),k,!0)});var G=_.maybeAppendByClassName(Bs.pageInfoGroup,"g");this.pageInfoGroup=G.node(),G.maybeAppendByClassName(Bs.pageInfo,"text").styles(M),this.updatePageInfo(),_.node().setLocalPosition(v+u,g/2),R&&(this.prevBtnGroup.addEventListener("click",function(){s.prev()}),this.nextBtnGroup.addEventListener("click",function(){s.next()}))}},i.prototype.render=function(a,s){var u=a.x,h=u===void 0?0:u,v=a.y,g=v===void 0?0:v;this.attr("transform","translate(".concat(h,", ").concat(g,")"));var m=Dr(s);this.renderClipPath(m),this.renderController(m),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},i.prototype.bindEvents=function(){var a=this,s=nE(function(){return a.render(a.attributes,a)},50);this.playWindow.addEventListener(Jr.INSERTED,s),this.playWindow.addEventListener(Jr.REMOVED,s)},i}(ba);function au(t,i,a){var s=Math.round((t-a)/i);return a+s*i}function iX(t,i,a){var s=1.4,u=s*a;return[["M",t-a,i-u],["L",t+a,i-u],["L",t+a,i+u],["L",t-a,i+u],["Z"]]}var iE=1.4,m1=.4;function Pz(t,i,a){var s=a,u=s*iE,h=s/2,v=s/6,g=t+u*m1;return[["M",t,i],["L",g,i+h],["L",t+u,i+h],["L",t+u,i-h],["L",g,i-h],["Z"],["M",g,i+v],["L",t+u-2,i+v],["M",g,i-v],["L",t+u-2,i-v]]}function Ez(t,i,a){var s=a,u=s*iE,h=s/2,v=s/6,g=i+u*m1;return[["M",t,i],["L",t-h,g],["L",t-h,i+u],["L",t+h,i+u],["L",t+h,g],["Z"],["M",t-v,g],["L",t-v,i+u-2],["M",t+v,g],["L",t+v,i+u-2]]}Fn.registerSymbol("hiddenHandle",iX),Fn.registerSymbol("verticalHandle",Pz),Fn.registerSymbol("horizontalHandle",Ez);var kz=function(t,i,a){return t===void 0&&(t="horizontal"),t==="horizontal"?i:a};function aX(t,i,a,s){var u;s===void 0&&(s=4);var h=wt(t,2),v=h[0],g=h[1],m=wt(i,2),_=m[0],w=m[1],M=wt(a,2),O=M[0],C=M[1],P=wt([_,w],2),k=P[0],D=P[1],R=D-k;return k>D&&(u=wt([D,k],2),k=u[0],D=u[1]),R>g-v?[v,g]:k<v?O===v&&C===D?[v,D]:[v,R+v]:D>g?C===g&&O===k?[k,g]:[g-R,g]:[k,D]}function Ju(t,i,a){return t===void 0&&(t="horizontal"),t==="horizontal"?i:a}var zs=Rs({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function aE(t){var i=t.querySelector(zs.marker.class);return i?i.style:{}}var oX=function(t){Ai(i,t);function i(a){return t.call(this,a,{span:[1,1],marker:function(){return new Xl({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(i.prototype,"showValue",{get:function(){var a=this.attributes.valueText;return a?typeof a=="string"||typeof a=="number"?a!=="":typeof a=="function"?!0:a.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"actualSpace",{get:function(){var a=this.labelGroup,s=this.valueGroup,u=this.attributes.markerSize,h=a.node().getBBox(),v=h.width,g=h.height,m=s.node().getBBox(),_=m.width,w=m.height;return{markerWidth:u,labelWidth:v,valueWidth:_,height:Math.max(u,g,w)}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"span",{get:function(){var a=this.attributes.span;if(!a)return[1,1];var s=wt(ho(a),2),u=s[0],h=s[1],v=this.showValue?h:0,g=u+v;return[u/g,v/g]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){var a,s=this.attributes,u=s.markerSize,h=s.width,v=this.actualSpace,g=v.markerWidth,m=v.height,_=this.actualSpace,w=_.labelWidth,M=_.valueWidth,O=wt(this.spacing,2),C=O[0],P=O[1];if(h){var k=h-u-C-P,D=wt(this.span,2),R=D[0],B=D[1];a=wt([R*k,B*k],2),w=a[0],M=a[1]}var z=g+w+M+C+P;return{width:z,height:m,markerWidth:g,labelWidth:w,valueWidth:M}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){var a=this.attributes.spacing;if(!a)return[0,0];var s=wt(ho(a),2),u=s[0],h=s[1];return this.showValue?[u,h]:[u,0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"layout",{get:function(){var a=this.shape,s=a.markerWidth,u=a.labelWidth,h=a.valueWidth,v=a.width,g=a.height,m=wt(this.spacing,2),_=m[0],w=m[1];return{height:g,width:v,markerWidth:s,labelWidth:u,valueWidth:h,position:[s/2,s+_,s+u+_+w]}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleSize",{get:function(){var a=aE(this.markerGroup.node()),s=this.attributes,u=s.markerSize,h=s.markerStrokeWidth,v=h===void 0?a.strokeWidth:h,g=s.markerLineWidth,m=g===void 0?a.lineWidth:g,_=s.markerStroke,w=_===void 0?a.stroke:_,M=+(v||m||(w?1:0))*Math.sqrt(2),O=this.markerGroup.node().getBBox(),C=O.width,P=O.height;return(1-M/Math.max(C,P))*u},enumerable:!1,configurable:!0}),i.prototype.renderMarker=function(a){var s=this,u=this.attributes.marker,h=Kr(this.attributes,"marker");this.markerGroup=a.maybeAppendByClassName(zs.markerGroup,"g").style("zIndex",0),No(!!u,this.markerGroup,function(){var v,g=s.markerGroup.node(),m=(v=g.childNodes)===null||v===void 0?void 0:v[0],_=typeof u=="string"?new Fn({style:{symbol:u},className:zs.marker.name}):u();m?_.nodeName===m.nodeName?m instanceof Fn?m.update(ae(ae({},h),{symbol:u})):(mU(m,_),Dr(m).styles(h)):(m.remove(),Dr(_).attr("className",zs.marker.name).styles(h),g.appendChild(_)):(_ instanceof Fn||Dr(_).attr("className",zs.marker.name).styles(h),g.appendChild(_)),s.markerGroup.node().scale(1/s.markerGroup.node().getScale()[0]);var w=TS(s.markerGroup.node(),s.scaleSize,!0);s.markerGroup.node().style._transform="scale(".concat(w,")")})},i.prototype.renderLabel=function(a){var s=Kr(this.attributes,"label"),u=s.text,h=da(s,["text"]);this.labelGroup=a.maybeAppendByClassName(zs.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(zs.label,function(){return xv(u)}).styles(h)},i.prototype.renderValue=function(a){var s=this,u=Kr(this.attributes,"value"),h=u.text,v=da(u,["text"]);this.valueGroup=a.maybeAppendByClassName(zs.valueGroup,"g").style("zIndex",0),No(this.showValue,this.valueGroup,function(){s.valueGroup.maybeAppendByClassName(zs.value,function(){return xv(h)}).styles(v)})},i.prototype.renderBackground=function(a){var s=this.shape,u=s.width,h=s.height,v=Kr(this.attributes,"background");this.background=a.maybeAppendByClassName(zs.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(zs.background,"rect").styles(ae({width:u,height:h},v))},i.prototype.adjustLayout=function(){var a=this.layout,s=a.labelWidth,u=a.valueWidth,h=a.height,v=wt(a.position,3),g=v[0],m=v[1],_=v[2],w=h/2;this.markerGroup.styles({transform:"translate(".concat(g,", ").concat(w,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(m,", ").concat(w,")")}),zP(this.labelGroup.select(zs.label.class).node(),Math.ceil(s)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(_,", ").concat(w,")")}),zP(this.valueGroup.select(zs.value.class).node(),Math.ceil(u)))},i.prototype.render=function(a,s){var u=Dr(s),h=a.x,v=h===void 0?0:h,g=a.y,m=g===void 0?0:g;u.styles({transform:"translate(".concat(v,", ").concat(m,")")}),this.renderMarker(u),this.renderLabel(u),this.renderValue(u),this.renderBackground(u),this.adjustLayout()},i}(ba),ns=Rs({page:"item-page",navigator:"navigator",item:"item"},"items"),Lz=function(t,i,a){return a===void 0&&(a=!0),t?i(t):a},sX=function(t){Ai(i,t);function i(a){var s=t.call(this,a,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:qS,mouseenter:qS,mouseleave:qS})||this;return s.navigatorShape=[0,0],s}return Object.defineProperty(i.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"grid",{get:function(){var a=this.attributes,s=a.gridRow,u=a.gridCol,h=a.data;if(!s&&!u)throw new Error("gridRow and gridCol can not be set null at the same time");return s&&u?[s,u]:s?[s,h.length]:[h.length,u]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderData",{get:function(){var a=this.attributes,s=a.data,u=a.layout,h=Kr(this.attributes,"item"),v=s.map(function(g,m){var _=g.id,w=_===void 0?m:_,M=g.label,O=g.value;return{id:"".concat(w),index:m,style:ae({layout:u,labelText:M,valueText:O},Object.fromEntries(Object.entries(h).map(function(C){var P=wt(C,2),k=P[0],D=P[1];return[k,dl(D,[g,m,s])]})))}});return v},enumerable:!1,configurable:!0}),i.prototype.getGridLayout=function(){var a=this,s=this.attributes,u=s.orientation,h=s.width,v=s.rowPadding,g=s.colPadding,m=wt(this.navigatorShape,1),_=m[0],w=wt(this.grid,2),M=w[0],O=w[1],C=O*M,P=0;return this.pageViews.children.map(function(k,D){var R,B,z=Math.floor(D/C),j=D%C,V=a.ifHorizontal(O,M),G=[Math.floor(j/V),j%V];u==="vertical"&&G.reverse();var Y=wt(G,2),Z=Y[0],Q=Y[1],tt=(h-_-(O-1)*g)/O,rt=k.getBBox().height,ct=wt([0,0],2),nt=ct[0],lt=ct[1];return u==="horizontal"?(R=wt([P,Z*(rt+v)],2),nt=R[0],lt=R[1],P=Q===O-1?0:P+tt+g):(B=wt([Q*(tt+g),P],2),nt=B[0],lt=B[1],P=Z===M-1?0:P+rt+v),{page:z,index:D,row:Z,col:Q,pageIndex:j,width:tt,height:rt,x:nt,y:lt}})},i.prototype.getFlexLayout=function(){var a=this.attributes,s=a.width,u=a.height,h=a.rowPadding,v=a.colPadding,g=wt(this.navigatorShape,1),m=g[0],_=wt(this.grid,2),w=_[0],M=_[1],O=wt([s-m,u],2),C=O[0],P=O[1],k=wt([0,0,0,0,0,0,0,0],8),D=k[0],R=k[1],B=k[2],z=k[3],j=k[4],V=k[5],G=k[6],Y=k[7];return this.pageViews.children.map(function(Z,Q){var tt,rt,ct,nt,lt=Z.getBBox(),ft=lt.width,q=lt.height,H=G===0?0:v,U=G+H+ft;if(U<=C&&Lz(j,function(st){return st<M}))return tt=wt([G+H,Y,U],3),D=tt[0],R=tt[1],G=tt[2],{width:ft,height:q,x:D,y:R,page:B,index:Q,pageIndex:z++,row:V,col:j++};rt=wt([V+1,0,0,Y+q+h],4),V=rt[0],j=rt[1],G=rt[2],Y=rt[3];var J=Y+q;return J<=P&&Lz(V,function(st){return st<w})?(ct=wt([G,Y,ft],3),D=ct[0],R=ct[1],G=ct[2],{width:ft,height:q,x:D,y:R,page:B,index:Q,pageIndex:z++,row:V,col:j++}):(nt=wt([0,0,ft,0,B+1,0,0,0],8),D=nt[0],R=nt[1],G=nt[2],Y=nt[3],B=nt[4],z=nt[5],V=nt[6],j=nt[7],{width:ft,height:q,x:D,y:R,page:B,index:Q,pageIndex:z++,row:V,col:j++})})},Object.defineProperty(i.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var a=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,s=a.call(this);return s.slice(-1)[0].page>0?(this.navigatorShape=[55,0],a.call(this)):s},enumerable:!1,configurable:!0}),i.prototype.ifHorizontal=function(a,s){var u=this.attributes.orientation;return Ju(u,a,s)},i.prototype.flattenPage=function(a){a.querySelectorAll(ns.item.class).forEach(function(s){a.appendChild(s)}),a.querySelectorAll(ns.page.class).forEach(function(s){var u=a.removeChild(s);u.destroy()})},i.prototype.renderItems=function(a){var s=this.attributes,u=s.click,h=s.mouseenter,v=s.mouseleave;this.flattenPage(a);var g=this.dispatchCustomEvent.bind(this);Dr(a).selectAll(ns.item.class).data(this.renderData,function(m){return m.id}).join(function(m){return m.append(function(_){var w=_.style;return new oX({style:w})}).attr("className",ns.item.name).on("click",function(){u==null||u(this),g("itemClick",{item:this})}).on("pointerenter",function(){h==null||h(this),g("itemMouseenter",{item:this})}).on("pointerleave",function(){v==null||v(this),g("itemMouseleave",{item:this})})},function(m){return m.each(function(_){var w=_.style;this.update(w)})},function(m){return m.remove()})},i.prototype.relayoutNavigator=function(){var a,s=this.attributes,u=s.layout,h=s.width,v=((a=this.pageViews.children[0])===null||a===void 0?void 0:a.getBBox().height)||0,g=wt(this.navigatorShape,2),m=g[0],_=g[1];this.navigator.update(u==="grid"?{pageWidth:h-m,pageHeight:v-_}:{})},i.prototype.adjustLayout=function(){var a=this,s=Object.entries(Az(this.itemsLayout,"page")).map(function(h){var v=wt(h,2),g=v[0],m=v[1];return{page:g,layouts:m}}),u=Ve([],wt(this.navigator.getContainer().children),!1);s.forEach(function(h){var v=h.layouts,g=a.pageViews.appendChild(new ta({className:ns.page.name}));v.forEach(function(m){var _=m.x,w=m.y,M=m.index,O=m.width,C=m.height,P=u[M];g.appendChild(P),eX(P,"__layout__",m),P.update({x:_,y:w,width:O,height:C})})}),this.relayoutNavigator()},i.prototype.renderNavigator=function(a){var s=this.attributes.orientation,u=Kr(this.attributes,"nav"),h=oi({orientation:s},u),v=this;return a.selectAll(ns.navigator.class).data(["nav"]).join(function(g){return g.append(function(){return new nX({style:h})}).attr("className",ns.navigator.name).each(function(){v.navigator=this})},function(g){return g.each(function(){this.update(h)})},function(g){return g.remove()}),this.navigator},i.prototype.getBBox=function(){return this.navigator.getBBox()},i.prototype.render=function(a,s){var u=this.attributes.data;if(!(!u||u.length===0)){var h=this.renderNavigator(Dr(s));this.renderItems(h.getContainer()),this.adjustLayout()}},i.prototype.dispatchCustomEvent=function(a,s){var u=new Kn(a,{detail:s});this.dispatchEvent(u)},i}(ba),tc=Rs({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),oE={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},Dz=function(t){Ai(i,t);function i(a){return t.call(this,a,oE)||this}return i.prototype.render=function(a,s){var u=Dr(s).maybeAppendByClassName(tc.markerGroup,"g");this.renderMarker(u);var h=Dr(s).maybeAppendByClassName(tc.labelGroup,"g");this.renderLabel(h)},i.prototype.renderMarker=function(a){var s=this,u=this.attributes,h=u.orientation,v=u.markerSymbol,g=v===void 0?Ju(h,"horizontalHandle","verticalHandle"):v;No(!!g,a,function(m){var _=Kr(s.attributes,"marker"),w=ae({symbol:g},_);s.marker=m.maybeAppendByClassName(tc.marker,function(){return new Fn({style:w})}).update(w)})},i.prototype.renderLabel=function(a){var s=this,u=this.attributes,h=u.showLabel,v=u.orientation,g=u.spacing,m=g===void 0?0:g,_=u.formatter;No(h,a,function(w){var M,O=Kr(s.attributes,"label"),C=O.text,P=da(O,["text"]),k=((M=w.select(tc.marker.class))===null||M===void 0?void 0:M.node().getBBox())||{},D=k.width,R=D===void 0?0:D,B=k.height,z=B===void 0?0:B,j=wt(Ju(v,[0,z+m,"center","top"],[R+m,0,"start","middle"]),4),V=j[0],G=j[1],Y=j[2],Z=j[3];w.maybeAppendByClassName(tc.label,"text").styles(ae(ae({},P),{x:V,y:G,text:_(C).toString(),textAlign:Y,textBaseline:Z}))})},i}(ba),Iz={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},b1=oi({},Iz,{}),ZS=oi({},Iz,hl(oE,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),Rz=.01,lX=.5,$a=Rs({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),Ov=function(t){Ai(i,t);function i(a){return t.call(this,a,b1)||this}return i.prototype.renderTitle=function(a,s,u){var h=this.attributes,v=h.showTitle,g=h.titleText,m=Kr(this.attributes,"title"),_=wt(Qc(m),2),w=_[0],M=_[1];this.titleGroup=a.maybeAppendByClassName($a.titleGroup,"g").styles(M);var O=ae(ae({width:s,height:u},w),{text:v?g:""});this.title=this.titleGroup.maybeAppendByClassName($a.title,function(){return new XP({style:O})}).update(O)},i.prototype.renderItems=function(a,s){var u=s.x,h=s.y,v=s.width,g=s.height,m=Kr(this.attributes,"title",!0),_=wt(Qc(m),2),w=_[0],M=_[1],O=ae(ae({},w),{width:v,height:g,x:0,y:0});this.itemsGroup=a.maybeAppendByClassName($a.itemsGroup,"g").styles(ae(ae({},M),{transform:"translate(".concat(u,", ").concat(h,")")}));var C=this;this.itemsGroup.selectAll($a.items.class).data(["items"]).join(function(P){return P.append(function(){return new sX({style:O})}).attr("className",$a.items.name).each(function(){C.items=Dr(this)})},function(P){return P.update(O)},function(P){return P.remove()})},i.prototype.adjustLayout=function(){var a=this.attributes.showTitle;if(a){var s=this.title.node().getAvailableSpace(),u=s.x,h=s.y;this.itemsGroup.node().style.transform="translate(".concat(u,", ").concat(h,")")}},Object.defineProperty(i.prototype,"availableSpace",{get:function(){var a=this.attributes,s=a.showTitle,u=a.width,h=a.height;return s?this.title.node().getAvailableSpace():new xi(0,0,u,h)},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var a,s,u=(a=this.title)===null||a===void 0?void 0:a.node(),h=(s=this.items)===null||s===void 0?void 0:s.node();return!u||!h?t.prototype.getBBox.call(this):LU(u,h)},i.prototype.render=function(a,s){var u=this.attributes,h=u.width,v=u.height,g=u.x,m=g===void 0?0:g,_=u.y,w=_===void 0?0:_,M=Dr(s);s.style.transform="translate(".concat(m,", ").concat(w,")"),this.renderTitle(M,h,v),this.renderItems(M,this.availableSpace),this.adjustLayout()},i}(ba);function _1(t){if(fl(t)){var i=t;return i[i.length-1]}}var uX=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Nz(t,i){const a=Fo(t,"shape"),s=Fo(t,"color"),u=a?a.clone():null,h=[];for(const[g,m]of i){const _=g.type,M=((s==null?void 0:s.getOptions().domain.length)>0?s==null?void 0:s.getOptions().domain:m.data).map((O,C)=>{var P;return u?u.map(O||"point"):((P=g==null?void 0:g.style)===null||P===void 0?void 0:P.shape)||m.defaultShape||"point"});typeof _=="string"&&h.push([_,M])}if(h.length===0)return["point",["point"]];if(h.length===1||!a)return h[0];const{range:v}=a.getOptions();return h.map(([g,m])=>{let _=0;for(let w=0;w<h.length;w++){const M=v[w%v.length];m[w]===M&&_++}return[_/m.length,[g,m]]}).sort((g,m)=>m[0]-g[0])[0][1]}function cX(t,i){const{scales:a,library:s,markState:u}=i,[h,v]=Nz(a,u),{itemMarker:g,itemMarkerSize:m}=t,_=(O,C)=>{var P,k,D;const R=((D=(k=(P=s[`mark.${h}`])===null||P===void 0?void 0:P.props)===null||k===void 0?void 0:k.shape[O])===null||D===void 0?void 0:D.props.defaultMarker)||_1(O.split(".")),B=typeof m=="function"?m(C):m;return()=>es(R,{color:C.color})(0,0,B)},w=O=>`${v[O]}`;return Fo(a,"shape")&&!g?(O,C)=>_(w(C),O):typeof g=="function"?(O,C)=>{const P=g(O.id,C);return typeof P=="string"?_(P,O):P}:(O,C)=>_(g||w(C),O)}function fX(t){const i=Fo(t,"opacity");if(i){const{range:a}=i.getOptions();return(s,u)=>a[u]}}function hX(t,i){const a=Fo(t,"size");return a instanceof Gm?a.map(NaN)*2:i}function x1(t,i){const{labelFormatter:a=O=>`${O}`}=t,{scales:s,theme:u}=i,h=u.legendCategory.itemMarkerSize,v=hX(s,h),g={itemMarker:cX(Object.assign(Object.assign({},t),{itemMarkerSize:v}),i),itemMarkerSize:v,itemMarkerOpacity:fX(s)},m=typeof a=="string"?Ph(a):a,_=Fo(s,"color"),w=YU(s),M=_?O=>_.map(O):()=>i.theme.color;return Object.assign(Object.assign({},g),{data:w.map(O=>({id:O,label:m(O),color:M(O)}))})}function Bz(t,i,a){const{position:s}=i;if(s==="center"){const{bbox:v}=t,{width:g,height:m}=v;return{width:g,height:m}}const{width:u,height:h}=xz(t,i,a);return{width:u,height:h}}function dX(t){return Object.assign(Object.assign({},t),{data:(t==null?void 0:t.data.filter(i=>i.id!==""))||[]})}const sE=t=>{const{labelFormatter:i,layout:a,order:s,orientation:u,position:h,size:v,title:g,cols:m,itemMarker:_}=t,w=uX(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:M}=w;return O=>{const{value:C,theme:P}=O,{bbox:k}=C,{width:D,height:R}=Bz(C,t,sE),B=tE(h,a),z=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(h)?"vertical":"horizontal",width:D,height:R,layout:m!==void 0?"grid":"flex"},m!==void 0&&{gridCol:m}),M!==void 0&&{gridRow:M}),{titleText:Bg(g)}),x1(t,O)),{legendCategory:j={}}=P,V=YS(Object.assign({},j,dX(z),w)),G=new HU({style:Object.assign(Object.assign({x:k.x,y:k.y,width:k.width,height:k.height},B),{subOptions:V})});return G.appendChild(new Ov({className:"legend-category",style:V})),G}};sE.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};function w1(t,i){return+t.toPrecision(i)}function gnt(t){return t.toLocaleString()}function vX(t){return t.toExponential()}function zz(t,i){return i===void 0&&(i=0),Math.abs(t)<1e3?String(t):"".concat(w1(t/1e3,i).toLocaleString(),"K")}var ynt=function(t,i,a){return t<0&&Number.isFinite(t)?i:a},Eh=function(t,i,a){return t>0&&Number.isFinite(t)?i:a},mnt=function(t,i){return t*i},Fz=function(t,i){return t/2+(i||0)/2};function KS(t){var i=t.canvas,a=t.touches,s=t.offsetX,u=t.offsetY;if(i){var h=i.x,v=i.y;return[h,v]}if(a){var g=a[0],m=g.clientX,_=g.clientY;return[m,_]}return s&&u?[s,u]:[0,0]}var pX={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},ou=Rs({background:"background",labelGroup:"label-group",label:"label"},"indicator"),QS=function(t){Ai(i,t);function i(a){var s=t.call(this,a,pX)||this;return s.point=[0,0],s.group=s.appendChild(new ta({})),s.isMutationObserved=!0,s}return i.prototype.renderBackground=function(){if(this.label){var a=this.attributes,s=a.position,u=a.padding,h=wt(ho(u),4),v=h[0],g=h[1],m=h[2],_=h[3],w=this.label.node().getLocalBounds(),M=w.min,O=w.max,C=new xi(M[0]-_,M[1]-v,O[0]+g-M[0]+_,O[1]+m-M[1]+v),P=this.getPath(s,C),k=Kr(this.attributes,"background");this.background=Dr(this.group).maybeAppendByClassName(ou.background,"path").styles(ae(ae({},k),{d:P})),this.group.appendChild(this.label.node())}},i.prototype.renderLabel=function(){var a=this.attributes,s=a.formatter,u=a.labelText,h=Kr(this.attributes,"label"),v=wt(Qc(h),2),g=v[0],m=v[1],_=g.text,w=da(g,["text"]);if(this.label=Dr(this.group).maybeAppendByClassName(ou.labelGroup,"g").styles(m),!!u){var M=this.label.maybeAppendByClassName(ou.label,function(){return xv(s(u))}).style("text",s(u).toString());M.selectAll("text").styles(w)}},i.prototype.adjustLayout=function(){var a=wt(this.point,2),s=a[0],u=a[1],h=this.attributes,v=h.x,g=h.y;this.group.attr("transform","translate(".concat(v-s,", ").concat(g-u,")"))},i.prototype.getPath=function(a,s){var u=this.attributes.radius,h=s.x,v=s.y,g=s.width,m=s.height,_=[["M",h+u,v],["L",h+g-u,v],["A",u,u,0,0,1,h+g,v+u],["L",h+g,v+m-u],["A",u,u,0,0,1,h+g-u,v+m],["L",h+u,v+m],["A",u,u,0,0,1,h,v+m-u],["L",h,v+u],["A",u,u,0,0,1,h+u,v],["Z"]],w={top:4,right:6,bottom:0,left:2},M=w[a],O=this.createCorner([_[M].slice(-2),_[M+1].slice(-2)]);return _.splice.apply(_,Ve([M+1,1],wt(O),!1)),_[0][0]="M",_},i.prototype.createCorner=function(a,s){s===void 0&&(s=10);var u=.8,h=sz.apply(void 0,Ve([],wt(a),!1)),v=wt(a,2),g=wt(v[0],2),m=g[0],_=g[1],w=wt(v[1],2),M=w[0],O=w[1],C=wt(h?[M-m,[m,M]]:[O-_,[_,O]],2),P=C[0],k=wt(C[1],2),D=k[0],R=k[1],B=P/2,z=P/Math.abs(P),j=s*z,V=j/2,G=j*Math.sqrt(3)/2*u,Y=wt([D,D+B-V,D+B,D+B+V,R],5),Z=Y[0],Q=Y[1],tt=Y[2],rt=Y[3],ct=Y[4];return h?(this.point=[tt,_-G],[["L",Z,_],["L",Q,_],["L",tt,_-G],["L",rt,_],["L",ct,_]]):(this.point=[m+G,tt],[["L",m,Z],["L",m,Q],["L",m+G,tt],["L",m,rt],["L",m,ct]])},i.prototype.applyVisibility=function(){var a=this.attributes.visibility;a==="hidden"?vh(this):Pm(this)},i.prototype.bindEvents=function(){this.label.on(Jr.BOUNDS_CHANGED,this.renderBackground)},i.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},i}(ba),gX={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},jz={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},lE={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},ec=Rs({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),kh=Rs({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Vz=function(t){Ai(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.prototype.render=function(a,s){var u=a.x,h=a.y,v=a.size,g=v===void 0?10:v,m=a.radius,_=m===void 0?g/4:m,w=a.orientation,M=da(a,["x","y","size","radius","orientation"]),O=g,C=O*2.4,P=Dr(s).maybeAppendByClassName(kh.iconRect,"rect").styles(ae(ae({},M),{width:O,height:C,radius:_,x:u-O/2,y:h-C/2,transformOrigin:"center"})),k=u+1/3*O-O/2,D=u+2/3*O-O/2,R=h+1/4*C-C/2,B=h+3/4*C-C/2;P.maybeAppendByClassName("".concat(kh.iconLine,"-1"),"line").styles(ae({x1:k,x2:k,y1:R,y2:B},M)),P.maybeAppendByClassName("".concat(kh.iconLine,"-2"),"line").styles(ae({x1:D,x2:D,y1:R,y2:B},M)),w==="vertical"&&(P.node().style.transform="rotate(90)")},i}(ba),uE=function(t){Ai(i,t);function i(a){return t.call(this,a,lE)||this}return i.prototype.renderLabel=function(a){var s=this,u=this.attributes,h=u.x,v=u.y,g=u.showLabel,m=Kr(this.attributes,"label"),_=m.x,w=_===void 0?0:_,M=m.y,O=M===void 0?0:M,C=m.transform,P=m.transformOrigin,k=da(m,["x","y","transform","transformOrigin"]),D=wt(Qc(k,[]),2),R=D[0],B=D[1],z=Dr(a).maybeAppendByClassName(kh.labelGroup,"g").styles(B),j=ae(ae({},jz),R),V=j.text,G=da(j,["text"]);No(!!g,z,function(Y){s.label=Y.maybeAppendByClassName(kh.label,"text").styles(ae(ae({},G),{x:h+w,y:v+O,transform:C,transformOrigin:P,text:"".concat(V)})),s.label.on("mousedown",function(Z){Z.stopPropagation()}),s.label.on("touchstart",function(Z){Z.stopPropagation()})})},i.prototype.renderIcon=function(a){var s=this.attributes,u=s.x,h=s.y,v=s.orientation,g=s.type,m=ae(ae({x:u,y:h,orientation:v},gX),Kr(this.attributes,"icon")),_=this.attributes.iconShape,w=_===void 0?function(){return new Vz({style:m})}:_,M=Dr(a).maybeAppendByClassName(kh.iconGroup,"g");M.selectAll(kh.icon.class).data([w]).join(function(O){return O.append(typeof w=="string"?w:function(){return w(g)}).attr("className",kh.icon.name)},function(O){return O.update(m)},function(O){return O.remove()})},i.prototype.render=function(a,s){this.renderIcon(s),this.renderLabel(s)},i}(ba);function yX(t,i){for(var a=1;a<t.length;a+=1){var s=t[a-1],u=t[a];if(i>=s&&i<=u)return[s,u]}return[i,i]}function cE(t,i,a){var s=Array.from(i),u=t.length;return new Array(u).fill(0).reduce(function(h,v,g){var m=s[g%s.length];return h+=" ".concat(t[g],":").concat(m).concat(g<u-1?" ".concat(t[g+1],":").concat(m):"")},"l(".concat(a==="horizontal"?"0":"270",")"))}function fE(t,i){var a=wt(yX(t,i),2),s=a[0],u=a[1];return{tick:i>(s+u)/2?u:s,range:[s,u]}}var zg=Rs({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function Gz(t){var i=t.orientation,a=t.size,s=t.length;return Ju(i,[s,a],[a,s])}function JS(t){var i=t.type,a=wt(Gz(t),2),s=a[0],u=a[1];return i==="size"?[["M",0,u],["L",0+s,0],["L",0+s,u],["Z"]]:[["M",0,u],["L",0,0],["L",0+s,0],["L",0+s,u],["Z"]]}function Wz(t){return JS(t)}function hE(t){var i=t.orientation,a=t.color,s=t.block,u=t.partition,h;if(si(a)){var v=20;h=new Array(v).fill(0).map(function(_,w,M){return a(w/(M.length-1))})}else h=a;var g=h.length,m=h.map(function(_){return Nu(_).toString()});return g?g===1?m[0]:s?cE(u,m,i):m.reduce(function(_,w,M){return _+=" ".concat(M/(g-1),":").concat(w)},"l(".concat(Ju(i,"0","270"),")")):""}function mX(t){var i=t.orientation,a=t.range;if(!a)return[];var s=wt(Gz(t),2),u=s[0],h=s[1],v=wt(a,2),g=v[0],m=v[1],_=Ju(i,g*u,0),w=Ju(i,0,g*h),M=Ju(i,m*u,u),O=Ju(i,h,m*h);return[["M",_,w],["L",_,O],["L",M,O],["L",M,w],["Z"]]}function Hz(t,i){var a=Kr(i,"track");t.maybeAppendByClassName(zg.track,"path").styles(ae({d:JS(i)},a))}function bX(t,i){var a=Kr(i,"selection"),s=hE(i),u=t.maybeAppendByClassName(zg.selection,"path").styles(ae({d:Wz(i),fill:s},a)),h=u.maybeAppendByClassName(zg.clipPath,"path").styles({d:mX(i)}).node();u.style("clipPath",h)}var Yz=function(t){Ai(i,t);function i(a){return t.call(this,a,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return i.prototype.render=function(a,s){var u=Dr(s).maybeAppendByClassName(zg.trackGroup,"g");Hz(u,a);var h=Dr(s).maybeAppendByClassName(zg.selectionGroup,"g");bX(h,a)},i}(ba);function _X(t){return{min:Math.min.apply(Math,Ve([],wt(t.map(function(i){return i.value})),!1)),max:Math.max.apply(Math,Ve([],wt(t.map(function(i){return i.value})),!1))}}var xX=function(t){Ai(i,t);function i(a){var s=t.call(this,a,ZS)||this;return s.eventToOffsetScale=new wo({}),s.innerRibbonScale=new wo({}),s.cacheLabelBBox=null,s.cacheHandleBBox=null,s.onHovering=function(u){var h=s.attributes,v=h.data,g=h.block;u.stopPropagation();var m=s.getValueByCanvasPoint(u);if(g){var _=fE(v.map(function(O){var C=O.value;return C}),m).range,w=s.getRealSelection(_);s.showIndicator((_[0]+_[1])/2,"".concat(w[0],"-").concat(w[1])),s.dispatchIndicated(m,_)}else{var M=s.getTickValue(m);s.showIndicator(M,"".concat(s.getRealValue(M))),s.dispatchIndicated(M)}},s.onDragStart=function(u){return function(h){h.stopPropagation(),s.attributes.slidable&&(s.target=u,s.prevValue=s.getTickValue(s.getValueByCanvasPoint(h)),document.addEventListener("mousemove",s.onDragging),document.addEventListener("touchmove",s.onDragging),document.addEventListener("mouseleave",s.onDragEnd),document.addEventListener("mouseup",s.onDragEnd),document.addEventListener("mouseup",s.onDragEnd),document.addEventListener("touchend",s.onDragEnd))}},s.onDragging=function(u){var h=s.target;s.updateMouse();var v=wt(s.selection,2),g=v[0],m=v[1],_=s.getTickValue(s.getValueByCanvasPoint(u)),w=_-s.prevValue;h==="start"?g!==_&&s.updateSelection(_,m):h==="end"?m!==_&&s.updateSelection(g,_):h==="ribbon"&&w!==0&&(s.prevValue=_,s.updateSelection(w,w,!0))},s.onDragEnd=function(){s.style.cursor="pointer",document.removeEventListener("mousemove",s.onDragging),document.removeEventListener("touchmove",s.onDragging),document.removeEventListener("mouseup",s.onDragEnd),document.removeEventListener("touchend",s.onDragEnd)},s}return Object.defineProperty(i.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),i.prototype.getBBox=function(){var a=this.attributes,s=a.width,u=a.height;return new xi(0,0,s,u)},i.prototype.render=function(a,s){var u=this,h=a.showLabel;this.renderTitle(Dr(s));var v=this.availableSpace,g=v.x,m=v.y,_=Dr(s).maybeAppendByClassName($a.contentGroup,"g").styles({transform:"translate(".concat(g,", ").concat(m,")")}),w=_.maybeAppendByClassName($a.labelGroup,"g").styles({zIndex:1});No(!!h,w,function(O){u.renderLabel(O)});var M=_.maybeAppendByClassName($a.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=_.maybeAppendByClassName($a.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(M),this.renderIndicator(_),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(i.prototype,"range",{get:function(){var a=this.attributes,s=a.data,u=a.domain;return u?{min:u[0],max:u[1]}:_X(s)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonScale",{get:function(){var a=this.range,s=a.min,u=a.max;return this.innerRibbonScale.update({domain:[s,u],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonRange",{get:function(){var a=wt(this.selection,2),s=a[0],u=a[1],h=this.ribbonScale;return[h.map(s),h.map(u)]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selection",{get:function(){var a=this.range,s=a.min,u=a.max,h=this.attributes.defaultValue,v=h===void 0?[s,u]:h,g=wt(v,2),m=g[0],_=g[1];return[m,_]},enumerable:!1,configurable:!0}),i.prototype.ifHorizontal=function(a,s){return Ju(this.attributes.orientation,typeof a=="function"?a():a,typeof s=="function"?s():s)},i.prototype.renderTitle=function(a){var s=this.attributes,u=s.showTitle,h=s.titleText,v=s.width,g=s.height,m=Kr(this.attributes,"title"),_=ae(ae({},m),{width:v,height:g,text:h}),w=this;a.selectAll($a.title.class).data(u?[h]:[]).join(function(M){return M.append(function(){return new XP({style:_})}).attr("className",$a.title.name).each(function(){w.title=this})},function(M){return M.update(_)},function(M){return M.each(function(){w.title=void 0}).remove()})},Object.defineProperty(i.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var a=this.attributes,s=a.width,u=a.height;return new xi(0,0,s,u)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelFixedSpacing",{get:function(){var a=this.attributes.showTick;return a?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelPosition",{get:function(){var a=this.attributes,s=a.orientation,u=a.labelDirection,h={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return h[s][u]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelBBox",{get:function(){var a,s=this.attributes.showLabel;if(!s)return new xi(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var u=((a=this.label.querySelector(jn.labelGroup.class))===null||a===void 0?void 0:a.children.slice(-1)[0]).getBBox(),h=u.width,v=u.height;return this.cacheLabelBBox=new xi(0,0,h,v),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelShape",{get:function(){var a=this.attributes,s=a.showLabel,u=a.labelSpacing,h=u===void 0?0:u;if(!s)return{width:0,height:0,size:0,length:0};var v=this.labelBBox,g=v.width,m=v.height,_=this.ifHorizontal(m,g)+h+this.labelFixedSpacing,w=this.ifHorizontal(g,m);return{width:g,height:m,size:_,length:w}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonBBox",{get:function(){var a=this.attributes,s=a.showHandle,u=a.ribbonSize,h=this.availableSpace,v=h.width,g=h.height,m=this.labelShape,_=m.size,w=m.length,M=wt(this.ifHorizontal([g,v],[v,g]),2),O=M[0],C=M[1],P=s?this.handleShape:{size:0,length:0},k=P.size,D=P.length,R=this.handleOffsetRatio,B=0,z=this.labelPosition;u?B=u:["bottom","right"].includes(z)?B=Math.min(O-_,(O-k)/R):O*(1-R)>k?B=Math.max(O-_,0):B=Math.max((O-_-k)/R,0);var j=Math.max(D,w),V=C-j,G=wt(this.ifHorizontal([V,B],[B,V]),2),Y=G[0],Z=G[1],Q=["top","left"].includes(z)?_:0,tt=wt(this.ifHorizontal([j/2,Q],[Q,j/2]),2),rt=tt[0],ct=tt[1];return new xi(rt,ct,Y,Z)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ribbonShape",{get:function(){var a=this.ribbonBBox,s=a.width,u=a.height;return this.ifHorizontal({size:u,length:s},{size:s,length:u})},enumerable:!1,configurable:!0}),i.prototype.renderRibbon=function(a){var s=this.attributes,u=s.data,h=s.type,v=s.orientation,g=s.color,m=s.block,_=Kr(this.attributes,"ribbon"),w=this.range,M=w.min,O=w.max,C=this.ribbonBBox,P=C.x,k=C.y,D=this.ribbonShape,R=D.length,B=D.size,z=oi({transform:"translate(".concat(P,", ").concat(k,")"),length:R,size:B,type:h,orientation:v,color:g,block:m,partition:u.map(function(j){return(j.value-M)/(O-M)}),range:this.ribbonRange},_);this.ribbon=a.maybeAppendByClassName($a.ribbon,function(){return new Yz({style:z})}).update(z)},i.prototype.getHandleClassName=function(a){return"".concat($a.prefix("".concat(a,"-handle")))},i.prototype.renderHandles=function(){var a=this.attributes,s=a.showHandle,u=a.orientation,h=Kr(this.attributes,"handle"),v=wt(this.selection,2),g=v[0],m=v[1],_=ae(ae({},h),{orientation:u}),w=h.shape,M=w===void 0?"slider":w,O=M==="basic"?Dz:uE,C=this;this.handlesGroup.selectAll($a.handle.class).data(s?[{value:g,type:"start"},{value:m,type:"end"}]:[],function(P){return P.type}).join(function(P){return P.append(function(){return new O({style:_})}).attr("className",function(k){var D=k.type;return"".concat($a.handle," ").concat(C.getHandleClassName(D))}).each(function(k){var D=k.type,R=k.value;this.update({labelText:R});var B="".concat(D,"Handle");C[B]=this,this.addEventListener("pointerdown",C.onDragStart(D))})},function(P){return P.update(_).each(function(k){var D=k.value;this.update({labelText:D})})},function(P){return P.each(function(k){var D=k.type,R="".concat(D,"Handle");C[R]=void 0}).remove()})},i.prototype.adjustHandles=function(){var a=wt(this.selection,2),s=a[0],u=a[1];this.setHandlePosition("start",s),this.setHandlePosition("end",u)},Object.defineProperty(i.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new xi(0,0,0,0);var a=this.startHandle.getBBox(),s=a.width,u=a.height,h=this.endHandle.getBBox(),v=h.width,g=h.height,m=wt([Math.max(s,v),Math.max(u,g)],2),_=m[0],w=m[1];return this.cacheHandleBBox=new xi(0,0,_,w),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"handleShape",{get:function(){var a=this.handleBBox,s=a.width,u=a.height,h=wt(this.ifHorizontal([u,s],[s,u]),2),v=h[0],g=h[1];return{width:s,height:u,size:v,length:g}},enumerable:!1,configurable:!0}),i.prototype.setHandlePosition=function(a,s){var u=this.attributes.handleFormatter,h=this.ribbonBBox,v=h.x,g=h.y,m=this.ribbonShape.size,_=this.getOffset(s),w=wt(this.ifHorizontal([v+_,g+m*this.handleOffsetRatio],[v+m*this.handleOffsetRatio,g+_]),2),M=w[0],O=w[1],C=this.handlesGroup.select(".".concat(this.getHandleClassName(a))).node();C==null||C.update({transform:"translate(".concat(M,", ").concat(O,")"),formatter:u})},i.prototype.renderIndicator=function(a){var s=Kr(this.attributes,"indicator");this.indicator=a.maybeAppendByClassName($a.indicator,function(){return new QS({})}).update(s)},Object.defineProperty(i.prototype,"labelData",{get:function(){var a=this,s=this.attributes.data;return s.reduce(function(u,h,v,g){var m,_,w=(m=h==null?void 0:h.id)!==null&&m!==void 0?m:v.toString();if(u.push(ae(ae({},h),{id:w,index:v,type:"value",label:(_=h==null?void 0:h.label)!==null&&_!==void 0?_:h.value.toString(),value:a.ribbonScale.map(h.value)})),v<g.length-1){var M=g[v+1],O=wt([h.value,M.value],2),C=O[0],P=O[1],k=(C+P)/2;u.push(ae(ae({},h),{id:w,index:v,type:"range",range:[C,P],label:[C,P].join("~"),value:a.ribbonScale.map(k)}))}return u},[])},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelStyle",{get:function(){var a=wt(["center","middle"],2),s=a[0],u=a[1],h=this.labelPosition;return h==="top"?u="bottom":h==="bottom"?u="top":h==="left"?s="end":h==="right"&&(s="start"),{labelTextAlign:s,labelTextBaseline:u}},enumerable:!1,configurable:!0}),i.prototype.renderLabel=function(a){var s=this.attributes,u=s.showTick,h=u===void 0?!1:u,v=s.labelFilter,g=s.labelFormatter,m=Kr(this.attributes,"tick"),_=Kr(this.attributes,"label"),w=_.align,M=oi(ae({showLine:!1,showGrid:!1,showTick:h,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),hl(m,"tick"),hl(_,"label"),{data:this.labelData}),O={tickFilter:function(P,k,D){return(P==null?void 0:P.type)!=="value"?!1:v?v(P,P.index,D.filter(function(R){return R.type!=="value"})):!0},labelFilter:function(P,k,D){return(P==null?void 0:P.type)!==w?!1:v?v(P,P.index,D.filter(function(R){return R.type===w})):!0},labelFormatter:g},C=ae(ae(ae({},M),O),{labelOverlap:[{type:"hide"}]});this.label=a.maybeAppendByClassName($a.label,function(){return new Tv({style:C})}).node(),this.label.update(C,!1)},Object.defineProperty(i.prototype,"labelAxisStyle",{get:function(){var a=this.attributes,s=a.showTick,u=a.labelDirection,h=a.labelSpacing,v=a.tickLength,g=this.ribbonShape.size,m=this.labelPosition,_=this.labelFixedSpacing,w=wt([0,0,0],3),M=w[0],O=w[1],C=w[2],P=v!=null?v:g;return s?(C=P,O=_,u==="positive"?m==="right"?(M=P,C=P):m==="bottom"&&(M=C):u==="negative"&&(m==="top"||m==="left")&&(M=g)):u==="positive"?m==="right"?O=P:m==="bottom"&&(M=g+_,O=h):u==="negative"&&(m==="left"||m==="top")&&(O=h),{offset:M,spacing:O,tickLength:C}},enumerable:!1,configurable:!0}),i.prototype.adjustLabel=function(){var a=this.attributes.showLabel;if(a){var s=this.ribbonBBox,u=s.x,h=s.y,v=s.width,g=s.height,m=this.labelAxisStyle,_=m.offset,w=m.spacing,M=m.tickLength,O=wt(this.ifHorizontal([[u,h+_],[u+v,h+_]],[[u+_,h+g],[u+_,h]]),2),C=O[0],P=O[1];this.label.update({startPos:C,endPos:P,tickLength:M,labelSpacing:w},!1)}},i.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},i.prototype.showIndicator=function(a,s){s===void 0&&(s="".concat(a));var u=this.attributes.showIndicator;if(!u||typeof a!="number"){this.hideIndicator();return}var h=this.range,v=h.min,g=h.max,m=this.ribbonBBox,_=m.x,w=m.y,M=Oi(a,v,g),O=this.getOffset(M),C=this.ifHorizontal([O+_,w],[_,O+w]);this.indicator.update({x:C[0],y:C[1],position:this.ifHorizontal("top","left"),labelText:s}),Pm(this.indicator.node())},i.prototype.hideIndicator=function(){vh(this.indicator.node())},i.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},i.prototype.setSelection=function(a,s){this.updateSelection(a,s)},i.prototype.updateSelection=function(a,s,u){var h;u===void 0&&(u=!1);var v=wt(this.selection,2),g=v[0],m=v[1],_=wt([a,s],2),w=_[0],M=_[1];u&&(w+=g,M+=m);var O=this.range,C=O.min,P=O.max;h=wt(aX([C,P],[w,M],this.selection),2),w=h[0],M=h[1],this.update({defaultValue:[w,M]}),this.dispatchSelection()},Object.defineProperty(i.prototype,"step",{get:function(){var a=this.attributes.step,s=a===void 0?1:a,u=this.range,h=u.min,v=u.max;return qn(s)?w1((v-h)*Rz,0):s},enumerable:!1,configurable:!0}),i.prototype.getTickValue=function(a){var s=this.attributes,u=s.data,h=s.block,v=this.range.min;return h?fE(u.map(function(g){var m=g.value;return m}),a).tick:au(a,this.step,v)},i.prototype.getValueByCanvasPoint=function(a){var s=this.range,u=s.min,h=s.max,v=wt(this.ribbon.node().getPosition(),2),g=v[0],m=v[1],_=this.ifHorizontal(g,m),w=this.ifHorizontal.apply(this,Ve([],wt(KS(a)),!1)),M=w-_,O=Oi(this.getOffset(M,!0),u,h);return O},i.prototype.getOffset=function(a,s){s===void 0&&(s=!1);var u=this.range,h=u.min,v=u.max,g=this.ribbonShape.length,m=this.eventToOffsetScale;return m.update({domain:[h,v],range:[0,g]}),s?m.invert(a):m.map(a)},i.prototype.getRealSelection=function(a){var s=this.range.max,u=wt(a,2),h=u[0],v=u[1];return this.ifHorizontal([h,v],[s-v,s-h])},i.prototype.getRealValue=function(a){var s=this.range.max;return this.ifHorizontal(a,s-a)},i.prototype.dispatchSelection=function(){var a=this.getRealSelection(this.selection),s=new Kn("valuechange",{detail:{value:a}});this.dispatchEvent(s)},i.prototype.dispatchIndicated=function(a,s){var u=this,h=this.range.max,v=this.ifHorizontal(function(){return{value:a,range:s}},function(){return{value:h-a,range:s?u.getRealSelection(s):void 0}}),g=new Kn("indicate",{detail:v});this.dispatchEvent(g)},i}(ba),wX=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function SX(t,i,a){return t.size=i,g1(a)?t.height=i:t.width=i,t}function MX(t,i,a){const{size:s}=i,u=xz(t,i,a);return SX(u,s,u.orientation)}function TX(t){return i=>({value:i/t,label:String(i)})}function OX(t,i,a,s,u){const h=i.thresholds,v=TX(s);return Object.assign(Object.assign({},t),{color:u,data:[a,...h,s].map(v)})}function AX(t,i,a){const u=[-1/0,...i.thresholds,1/0].map((h,v)=>({value:v,label:h}));return Object.assign(Object.assign({},t),{data:u,color:a,labelFilter:(h,v)=>v>0&&v<u.length-1})}function S1(t){const{domain:i}=t.getOptions(),[a,s]=[i[0],KA(i)];return[a,s]}function CX(t,i){const a=t.getOptions(),s=t.clone();return s.update(Object.assign(Object.assign({},a),{range:[Nu(i).toString()]})),s}function dE(t,i,a,s,u,h){const{length:v}=t,g=a||s,m=u.color?h.legendContinuous.ribbonFill||"black":h.color,_=i||CX(g,m),[w,M]=S1(_),[O,C]=S1([i,a,s].filter(P=>P!==void 0).find(P=>!(P instanceof jc)));return Object.assign(Object.assign({},t),{domain:[O,C],data:_.getTicks().map(P=>({value:P})),color:new Array(Math.floor(v)).fill(0).map((P,k)=>{const D=(M-w)/(v-1)*k+w,R=_.map(D)||m,B=s?s.map(D):1;return R.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(z,j,V,G)=>`rgba(${j}, ${V}, ${G}, ${B})`)})})}function PX(t,i,a,s,u,h){const v=Fo(t,"color"),g=MX(a,s,u);if(v instanceof Mg){const{range:w}=v.getOptions(),[M,O]=S1(v);return v instanceof _S||v instanceof qc?OX(g,v,M,O,w):AX(g,v,w)}const m=Fo(t,"size"),_=Fo(t,"opacity");return dE(g,v,m,_,i,h)}const rc=t=>{const{labelFormatter:i,layout:a,order:s,orientation:u,position:h,size:v,title:g,style:m,crossPadding:_,padding:w}=t,M=wX(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:O,value:C,theme:P,scale:k})=>{const{bbox:D}=C,{x:R,y:B,width:z,height:j}=D,V=tE(h,a),{legendContinuous:G={}}=P,Y=YS(Object.assign({},G,Object.assign(Object.assign({titleText:Bg(g),labelAlign:"value",labelFormatter:typeof i=="string"?Q=>Ph(i)(Q.label):i},PX(O,k,C,t,rc,P)),m),M)),Z=new p1({style:Object.assign(Object.assign({x:R,y:B,width:z,height:j},V),{subOptions:Y})});return Z.appendChild(new xX({className:"legend-continuous",style:Y})),Z}};rc.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const Fg=t=>()=>new ta;Fg.props={};var Uz=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Xz(t,i,a,s){switch(s){case"center":return{x:t+a/2,y:i,textAlign:"middle"};case"right":return{x:t+a,y:i,textAlign:"right"};default:return{x:t,y:i,textAlign:"left"}}}const Av=Ng({render(t,i){const{width:a,title:s,subtitle:u,spacing:h=2,align:v="left",x:g,y:m}=t,_=Uz(t,["width","title","subtitle","spacing","align","x","y"]);i.style.transform=`translate(${g}, ${m})`;const w=Te(_,"title"),M=Te(_,"subtitle"),C=v1(i,".title","text").attr("className","title").call($e,Object.assign(Object.assign(Object.assign({},Xz(0,0,a,v)),{fontSize:14,textBaseline:"top",text:s}),w)).node().getLocalBounds();v1(i,".sub-title","text").attr("className","sub-title").call(P=>{if(!u)return P.node().remove();P.node().attr(Object.assign(Object.assign(Object.assign({},Xz(0,C.max[1]+h,a,v)),{fontSize:12,textBaseline:"top",text:u}),M))})}}),t2=t=>({value:i,theme:a})=>{const{x:s,y:u,width:h,height:v}=i.bbox;return new Av({style:Ft({},a.title,Object.assign({x:s,y:u,width:h,height:v},t))})};t2.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};var e2=function(t){if(typeof t!="object"||t===null)return t;var i;if(rn(t)){i=[];for(var a=0,s=t.length;a<s;a++)typeof t[a]=="object"&&t[a]!=null?i[a]=e2(t[a]):i[a]=t[a]}else{i={};for(var u in t)typeof t[u]=="object"&&t[u]!=null?i[u]=e2(t[u]):i[u]=t[u]}return i},r2=e2,EX=function(t){Ai(i,t);function i(a){var s=this,u=a.style,h=da(a,["style"]);return s=t.call(this,Ft({},{type:"column"},ae({style:u},h)))||this,s.columnsGroup=new ta({name:"columns"}),s.appendChild(s.columnsGroup),s.render(),s}return i.prototype.render=function(){var a=this.attributes,s=a.columns,u=a.x,h=a.y;this.columnsGroup.style.transform="translate(".concat(u,", ").concat(h,")"),Dr(this.columnsGroup).selectAll(".column").data(s.flat()).join(function(v){return v.append("rect").attr("className","column").each(function(g){this.attr(g)})},function(v){return v.each(function(g){this.attr(g)})},function(v){return v.remove()})},i.prototype.update=function(a){this.attr(oi({},this.attributes,a)),this.render()},i.prototype.clear=function(){this.removeChildren()},i}(li),$z=function(t){Ai(i,t);function i(a){var s=this,u=a.style,h=da(a,["style"]);return s=t.call(this,Ft({},{type:"lines"},ae({style:u},h)))||this,s.linesGroup=s.appendChild(new ta),s.areasGroup=s.appendChild(new ta),s.render(),s}return i.prototype.render=function(){var a=this.attributes,s=a.lines,u=a.areas,h=a.x,v=a.y;this.style.transform="translate(".concat(h,", ").concat(v,")"),s&&this.renderLines(s),u&&this.renderAreas(u)},i.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},i.prototype.update=function(a){this.attr(oi({},this.attributes,a)),this.render()},i.prototype.renderLines=function(a){Dr(this.linesGroup).selectAll(".line").data(a).join(function(s){return s.append("path").attr("className","line").each(function(u){this.attr(u)})},function(s){return s.each(function(u){this.attr(u)})},function(s){return s.remove()})},i.prototype.renderAreas=function(a){Dr(this.linesGroup).selectAll(".area").data(a).join(function(s){return s.append("path").attr("className","area").each(function(u){this.attr(u)})},function(s){return s.each(function(u){this.style(u)})},function(s){return s.remove()})},i}(li),vE=function(t,i){if(t===i)return!0;if(!t||!i||zi(t)||zi(i))return!1;if(fl(t)||fl(i)){if(t.length!==i.length)return!1;for(var a=!0,s=0;s<t.length&&(a=vE(t[s],i[s]),!!a);s++);return a}if(Or(t)||Or(i)){var u=Object.keys(t),h=Object.keys(i);if(u.length!==h.length)return!1;for(var a=!0,s=0;s<u.length&&(a=vE(t[u[s]],i[u[s]]),!!a);s++);return a}return!1},pE=vE;function kX(t,i,a,s){var u,h=[],v=!!s,g,m,_=[1/0,1/0],w=[-1/0,-1/0],M,O,C;if(v){u=wt(s,2),_=u[0],w=u[1];for(var P=0,k=t.length;P<k;P+=1){var D=t[P];_=Mh(_,D),w=Th(w,D)}}for(var P=0,R=t.length;P<R;P+=1){var D=t[P];if(P===0&&!a)C=D;else if(P===R-1&&!a)O=D,h.push(C),h.push(O);else{var B=[P?P-1:R-1,P-1][a?0:1];g=t[B],m=t[a?(P+1)%R:P+1];var z=[0,0];z=Qu(m,g),z=Ku(z,i);var j=Ag(D,g),V=Ag(D,m),G=j+V;G!==0&&(j/=G,V/=G);var Y=Ku(z,-j),Z=Ku(z,V);O=Kc(D,Y),M=Kc(D,Z),M=Mh(M,Th(m,D)),M=Th(M,Mh(m,D)),Y=Qu(M,D),Y=Ku(Y,-j/V),O=Kc(D,Y),O=Mh(O,Th(g,D)),O=Th(O,Mh(g,D)),Z=Qu(D,O),Z=Ku(Z,V/j),M=Kc(D,Z),v&&(O=Th(O,_),O=Mh(O,w),M=Th(M,_),M=Mh(M,w)),h.push(C),h.push(O),C=M}}return a&&h.push(h.shift()),h}function bnt(t,i,a){var s;i===void 0&&(i=!1),a===void 0&&(a=[[0,0],[1,1]]);for(var u=!!i,h=[],v=0,g=t.length;v<g;v+=2)h.push([t[v],t[v+1]]);for(var m=kX(h,.4,u,a),_=h.length,w=[],M,O,C,v=0;v<_-1;v+=1)M=m[v*2],O=m[v*2+1],C=h[v+1],w.push(["C",M[0],M[1],O[0],O[1],C[0],C[1]]);return u&&(M=m[_],O=m[_+1],s=wt(h,1),C=s[0],w.push(["C",M[0],M[1],O[0],O[1],C[0],C[1]])),w}function LX(t,i){var a,s=i.x,u=i.y,h=wt(u.getOptions().range||[0,0],2),v=h[0],g=h[1];return g>v&&(a=wt([v,g],2),g=a[0],v=a[1]),t.map(function(m){var _=m.map(function(w,M){return[s.map(M),Oi(u.map(w),g,v)]});return _})}function jg(t,i){i===void 0&&(i=!1);var a=i?t.length-1:0,s=t.map(function(u,h){return Ve([h===a?"M":"L"],wt(u),!1)});return i?s.reverse():s}function M1(t,i){if(i===void 0&&(i=!1),t.length<=2)return jg(t);for(var a=[],s=t.length,u=0;u<s;u+=1){var h=i?t[s-u-1]:t[u];pE(h,a.slice(-2))||a.push.apply(a,Ve([],wt(h),!1))}var v=bnt(a,!1);return i?v.unshift(Ve(["M"],wt(t[s-1]),!1)):v.unshift(Ve(["M"],wt(t[0]),!1)),v}function gE(t,i,a){var s=r2(t);return s.push(["L",i,a],["L",0,a],["Z"]),s}function DX(t,i,a,s){return t.map(function(u){return gE(i?M1(u):jg(u),a,s)})}function qz(t,i,a){for(var s=[],u=t.length-1;u>=0;u-=1){var h=t[u],v=jg(h),g=void 0;if(u===0)g=gE(v,i,a);else{var m=t[u-1],_=jg(m,!0);_[0][0]="L",g=Ve(Ve(Ve([],wt(v),!1),wt(_),!1),[["Z"]],!1)}s.push(g)}return s}function Zz(t,i,a){for(var s=[],u=t.length-1;u>=0;u-=1){var h=t[u],v=M1(h),g=void 0;if(u===0)g=gE(v,i,a);else{var m=t[u-1],_=M1(m,!0),w=h[0];_[0][0]="L",g=Ve(Ve(Ve([],wt(v),!1),wt(_),!1),[Ve(["M"],wt(w),!1),["Z"]],!1)}s.push(g)}return s}var IX=function(t,i){if(rn(t)){for(var a,s=1/0,u=0;u<t.length;u++){var h=t[u],v=si(i)?i(h):h[i];v<s&&(a=h,s=v)}return a}},Kz=function(t,i){if(rn(t)){for(var a,s=-1/0,u=0;u<t.length;u++){var h=t[u],v=si(i)?i(h):h[i];v>s&&(a=h,s=v)}return a}};function Qz(t){return t.length===0?[0,0]:[u0(IX(t,function(i){return u0(i)||0})),c0(Kz(t,function(i){return c0(i)||0}))]}function Jz(t){for(var i=r2(t),a=i[0].length,s=wt([Array(a).fill(0),Array(a).fill(0)],2),u=s[0],h=s[1],v=0;v<i.length;v+=1)for(var g=i[v],m=0;m<a;m+=1)g[m]>=0?(g[m]+=u[m],u[m]=g[m]):(g[m]+=h[m],h[m]=g[m]);return i}var RX=function(t){Ai(i,t);function i(a){return t.call(this,a,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(i.prototype,"rawData",{get:function(){var a=this.attributes.data;if(!a||(a==null?void 0:a.length)===0)return[[]];var s=r2(a);return yn(s[0])?[s]:s},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this.attributes.isStack?Jz(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"baseline",{get:function(){var a=this.scales.y,s=wt(a.getOptions().domain||[0,0],2),u=s[0],h=s[1];return h<0?a.map(h):a.map(u<0?0:u)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"containerShape",{get:function(){var a=this.attributes,s=a.width,u=a.height;return{width:s,height:u}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linesStyle",{get:function(){var a=this,s=this.attributes,u=s.type,h=s.isStack,v=s.smooth;if(u!=="line")throw new Error("linesStyle can only be used in line type");var g=Kr(this.attributes,"area"),m=Kr(this.attributes,"line"),_=this.containerShape.width,w=this.data;if(w[0].length===0)return{lines:[],areas:[]};var M=this.scales,O=M.x,C=M.y,P=LX(w,{type:"line",x:O,y:C}),k=[];if(g){var D=this.baseline;h?k=v?Zz(P,_,D):qz(P,_,D):k=DX(P,v,_,D)}return{lines:P.map(function(R,B){return ae({stroke:a.getColor(B),d:v?M1(R):jg(R)},m)}),areas:k.map(function(R,B){return ae({d:R,fill:a.getColor(B)},g)})}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnsStyle",{get:function(){var a=this,s=Kr(this.attributes,"column"),u=this.attributes,h=u.isStack,v=u.type,g=u.scale;if(v!=="column")throw new Error("columnsStyle can only be used in column type");var m=this.containerShape.height,_=this.rawData;if(!_)return{columns:[]};h&&(_=Jz(_));var w=this.createScales(_),M=w.x,O=w.y,C=wt(Qz(_),2),P=C[0],k=C[1],D=new wo({domain:[0,k-(P>0?0:P)],range:[0,m*g]}),R=M.getBandWidth(),B=this.rawData;return{columns:_.map(function(z,j){return z.map(function(V,G){var Y=R/_.length,Z=function(){return{x:M.map(G)+Y*j,y:V>=0?O.map(V):O.map(0),width:Y,height:D.map(Math.abs(V))}},Q=function(){return{x:M.map(G),y:O.map(V),width:R,height:D.map(B[j][G])}};return ae(ae({fill:a.getColor(j)},s),h?Q():Z())})})}},enumerable:!1,configurable:!0}),i.prototype.render=function(a,s){oB(s,".container","rect").attr("className","container").node();var u=a.type,h=a.x,v=a.y,g="spark".concat(u),m=ae({x:h,y:v},u==="line"?this.linesStyle:this.columnsStyle);Dr(s).selectAll(".spark").data([u]).join(function(_){return _.append(function(w){return w==="line"?new $z({className:g,style:m}):new EX({className:g,style:m})}).attr("className","spark ".concat(g))},function(_){return _.update(m)},function(_){return _.remove()})},i.prototype.getColor=function(a){var s=this.attributes.color;return rn(s)?s[a%s.length]:si(s)?s.call(null,a):s},i.prototype.createScales=function(a){var s,u,h=this.attributes,v=h.type,g=h.scale,m=h.range,_=m===void 0?[]:m,w=h.spacing,M=this.containerShape,O=M.width,C=M.height,P=wt(Qz(a),2),k=P[0],D=P[1],R=new wo({domain:[(s=_[0])!==null&&s!==void 0?s:k,(u=_[1])!==null&&u!==void 0?u:D],range:[C,C*(1-g)]});return v==="line"?{type:v,x:new wo({domain:[0,a[0].length-1],range:[0,O]}),y:R}:{type:v,x:new Vu({domain:a[0].map(function(B,z){return z}),range:[0,O],paddingInner:w,paddingOuter:w/2,align:.5}),y:R}},i.tag="sparkline",i}(ba),tF=function(t){Ai(i,t);function i(a){var s=t.call(this,a,ae(ae(ae({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(u){return u.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},hl(lE,"handle")),hl(gX,"handleIcon")),hl(jz,"handleLabel")))||this;return s.range=[0,1],s.onDragStart=function(u){return function(h){h.stopPropagation(),s.target=u,s.prevPos=s.getOrientVal(KS(h));var v=s.availableSpace,g=v.x,m=v.y,_=s.getBBox(),w=_.x,M=_.y;s.selectionStartPos=s.getRatio(s.prevPos-s.getOrientVal([g,m])-s.getOrientVal([+w,+M])),s.selectionWidth=0,document.addEventListener("pointermove",s.onDragging),document.addEventListener("pointerup",s.onDragEnd)}},s.onDragging=function(u){var h=s.attributes,v=h.slidable,g=h.brushable,m=h.type;u.stopPropagation();var _=s.getOrientVal(KS(u)),w=_-s.prevPos;if(w){var M=s.getRatio(w);switch(s.target){case"start":v&&s.setValuesOffset(M);break;case"end":v&&s.setValuesOffset(0,M);break;case"selection":v&&s.setValuesOffset(M,M);break;case"track":if(!g)return;s.selectionWidth+=M,m==="range"?s.innerSetValues([s.selectionStartPos,s.selectionStartPos+s.selectionWidth].sort(),!0):s.innerSetValues([0,s.selectionStartPos+s.selectionWidth],!0);break;default:break}s.prevPos=_}},s.onDragEnd=function(){document.removeEventListener("pointermove",s.onDragging),document.removeEventListener("pointermove",s.onDragging),document.removeEventListener("pointerup",s.onDragEnd),s.target="",s.updateHandlesPosition(!1)},s.onValueChange=function(u){var h=s.attributes,v=h.onChange,g=h.type,m=g==="range"?u:u[1],_=g==="range"?s.getValues():s.getValues()[1],w=new Kn("valuechange",{detail:{oldValue:m,value:_}});s.dispatchEvent(w),v==null||v(_)},s.selectionStartPos=0,s.selectionWidth=0,s.prevPos=0,s.target="",s}return Object.defineProperty(i.prototype,"values",{get:function(){return this.attributes.values},set:function(a){this.attributes.values=this.clampValues(a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sparklineStyle",{get:function(){var a=this.attributes.orientation;if(a!=="horizontal")return null;var s=Kr(this.attributes,"sparkline");return ae(ae({zIndex:0},this.availableSpace),s)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shape",{get:function(){var a=this.attributes,s=a.trackLength,u=a.trackSize,h=wt(this.getOrientVal([[s,u],[u,s]]),2),v=h[0],g=h[1];return{width:v,height:g}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"availableSpace",{get:function(){var a=this.attributes,s=a.x,u=a.y,h=a.padding,v=wt(ho(h),4),g=v[0],m=v[1],_=v[2],w=v[3],M=this.shape,O=M.width,C=M.height;return{x:w,y:g,width:O-(w+m),height:C-(g+_)}},enumerable:!1,configurable:!0}),i.prototype.getValues=function(){return this.values},i.prototype.setValues=function(a,s){a===void 0&&(a=[0,0]),s===void 0&&(s=!1),this.attributes.values=a;var u=s===!1?!1:this.attributes.animate;this.updateSelectionArea(u),this.updateHandlesPosition(u)},i.prototype.updateSelectionArea=function(a){var s=this.calcSelectionArea();this.foregroundGroup.selectAll(ec.selection.class).each(function(u,h){co(this,s[h],a)})},i.prototype.updateHandlesPosition=function(a){this.attributes.showHandle&&(this.startHandle&&co(this.startHandle,this.getHandleStyle("start"),a),this.endHandle&&co(this.endHandle,this.getHandleStyle("end"),a))},i.prototype.innerSetValues=function(a,s){a===void 0&&(a=[0,0]),s===void 0&&(s=!1);var u=this.values,h=this.clampValues(a);this.attributes.values=h,this.setValues(h),s&&this.onValueChange(u)},i.prototype.renderTrack=function(a){var s=this.attributes,u=s.x,h=s.y,v=Kr(this.attributes,"track");this.trackShape=Dr(a).maybeAppendByClassName(ec.track,"rect").styles(ae(ae({x:u,y:h},this.shape),v))},i.prototype.renderBrushArea=function(a){var s=this.attributes,u=s.x,h=s.y,v=s.brushable;this.brushArea=Dr(a).maybeAppendByClassName(ec.brushArea,"rect").styles(ae({x:u,y:h,fill:"transparent",cursor:v?"crosshair":"default"},this.shape))},i.prototype.renderSparkline=function(a){var s=this,u=this.attributes,h=u.x,v=u.y,g=u.orientation,m=Dr(a).maybeAppendByClassName(ec.sparklineGroup,"g");No(g==="horizontal",m,function(_){var w=ae(ae({},s.sparklineStyle),{x:h,y:v});_.maybeAppendByClassName(ec.sparkline,function(){return new RX({style:w})}).update(w)})},i.prototype.renderHandles=function(){var a=this,s,u=this.attributes,h=u.showHandle,v=u.type,g=v==="range"?["start","end"]:["end"],m=h?g:[],_=this;(s=this.foregroundGroup)===null||s===void 0||s.selectAll(ec.handle.class).data(m.map(function(w){return{type:w}}),function(w){return w.type}).join(function(w){return w.append(function(M){var O=M.type;return new uE({style:a.getHandleStyle(O)})}).each(function(M){var O=M.type;this.attr("class","".concat(ec.handle.name," ").concat(O,"-handle"));var C="".concat(O,"Handle");_[C]=this,this.addEventListener("pointerdown",_.onDragStart(O))})},function(w){return w.each(function(M){var O=M.type;this.update(_.getHandleStyle(O))})},function(w){return w.each(function(M){var O=M.type,C="".concat(O,"Handle");_[C]=void 0}).remove()})},i.prototype.renderSelection=function(a){var s=this.attributes,u=s.x,h=s.y,v=s.type,g=s.selectionType;this.foregroundGroup=Dr(a).maybeAppendByClassName(ec.foreground,"g");var m=Kr(this.attributes,"selection"),_=function(M){return M.style("visibility",function(O){return O.show?"visible":"hidden"}).style("cursor",function(O){return g==="select"?"grab":g==="invert"?"crosshair":"default"}).styles(ae(ae({},m),{transform:"translate(".concat(u,", ").concat(h,")")}))},w=this;this.foregroundGroup.selectAll(ec.selection.class).data(v==="value"?[]:this.calcSelectionArea().map(function(M,O){return{style:ae({},M),index:O,show:g==="select"?O===1:O!==1}}),function(M){return M.index}).join(function(M){return M.append("rect").attr("className",ec.selection.name).call(_).each(function(O,C){var P=this;C===1?(w.selectionShape=Dr(this),this.on("pointerdown",function(k){P.attr("cursor","grabbing"),w.onDragStart("selection")(k)}),w.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),w.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),w.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){P.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){P.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){P.attr("cursor","pointer")})):this.on("pointerdown",w.onDragStart("track"))})},function(M){return M.call(_)},function(M){return M.remove()}),this.updateSelectionArea(!1),this.renderHandles()},i.prototype.render=function(a,s){this.renderTrack(s),this.renderSparkline(s),this.renderBrushArea(s),this.renderSelection(s)},i.prototype.clampValues=function(a,s){var u;s===void 0&&(s=4);var h=wt(this.range,2),v=h[0],g=h[1],m=wt(this.getValues().map(function(D){return w1(D,s)}),2),_=m[0],w=m[1],M=Array.isArray(a)?a:[_,a!=null?a:w],O=wt((M||[_,w]).map(function(D){return w1(D,s)}),2),C=O[0],P=O[1];if(this.attributes.type==="value")return[0,Oi(P,v,g)];C>P&&(u=wt([P,C],2),C=u[0],P=u[1]);var k=P-C;return k>g-v?[v,g]:C<v?_===v&&w===P?[v,P]:[v,k+v]:P>g?w===g&&_===C?[C,g]:[g-k,g]:[C,P]},i.prototype.calcSelectionArea=function(a){var s=wt(this.clampValues(a),2),u=s[0],h=s[1],v=this.availableSpace,g=v.x,m=v.y,_=v.width,w=v.height;return this.getOrientVal([[{y:m,height:w,x:g,width:u*_},{y:m,height:w,x:u*_+g,width:(h-u)*_},{y:m,height:w,x:h*_,width:(1-h)*_}],[{x:g,width:_,y:m,height:u*w},{x:g,width:_,y:u*w+m,height:(h-u)*w},{x:g,width:_,y:h*w,height:(1-h)*w}]])},i.prototype.calcHandlePosition=function(a){var s=this.attributes.handleIconOffset,u=this.availableSpace,h=u.x,v=u.y,g=u.width,m=u.height,_=wt(this.clampValues(),2),w=_[0],M=_[1],O=a==="start"?-s:s,C=(a==="start"?w:M)*this.getOrientVal([g,m])+O;return{x:h+this.getOrientVal([C,g/2]),y:v+this.getOrientVal([m/2,C])}},i.prototype.inferTextStyle=function(a){var s=this.attributes.orientation;return s==="horizontal"?{}:a==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:a==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},i.prototype.calcHandleText=function(a){var s,u=this.attributes,h=u.type,v=u.orientation,g=u.formatter,m=u.autoFitLabel,_=Kr(this.attributes,"handle"),w=Kr(_,"label"),M=_.spacing,O=this.getHandleSize(),C=this.clampValues(),P=a==="start"?C[0]:C[1],k=g(P),D=new LC({style:ae(ae(ae({},w),this.inferTextStyle(a)),{text:k})}),R=D.getBBox(),B=R.width,z=R.height;if(D.destroy(),!m){if(h==="value")return{text:k,x:0,y:-z-M};var j=M+O+(v==="horizontal"?B/2:0);return s={text:k},s[v==="horizontal"?"x":"y"]=a==="start"?-j:j,s}var V=0,G=0,Y=this.availableSpace,Z=Y.width,Q=Y.height,tt=this.calcSelectionArea()[1],rt=tt.x,ct=tt.y,nt=tt.width,lt=tt.height,ft=M+O;if(v==="horizontal"){var q=ft+B/2;if(a==="start"){var H=rt-ft-B;V=H>0?-q:q}else{var U=Z-rt-nt-ft>B;V=U?q:-q}}else{var J=ft,st=z+ft;a==="start"?G=ct-O>z?-st:J:G=Q-(ct+lt)-O>z?st:-J}return{x:V,y:G,text:k}},i.prototype.getHandleLabelStyle=function(a){var s=Kr(this.attributes,"handleLabel");return ae(ae(ae({},s),this.calcHandleText(a)),this.inferTextStyle(a))},i.prototype.getHandleIconStyle=function(){var a=this.attributes.handleIconShape,s=Kr(this.attributes,"handleIcon"),u=this.getOrientVal(["ew-resize","ns-resize"]),h=this.getHandleSize();return ae({cursor:u,shape:a,size:h},s)},i.prototype.getHandleStyle=function(a){var s=this.attributes,u=s.x,h=s.y,v=s.showLabel,g=s.showLabelOnInteraction,m=s.orientation,_=this.calcHandlePosition(a),w=_.x,M=_.y,O=this.calcHandleText(a),C=v;return!v&&g&&(this.target?C=!0:C=!1),ae(ae(ae({},hl(this.getHandleIconStyle(),"icon")),hl(ae(ae({},this.getHandleLabelStyle(a)),O),"label")),{transform:"translate(".concat(w+u,", ").concat(M+h,")"),orientation:m,showLabel:C,type:a,zIndex:3})},i.prototype.getHandleSize=function(){var a=this.attributes,s=a.handleIconSize,u=a.width,h=a.height;return s||Math.floor((this.getOrientVal([+h,+u])+4)/2.4)},i.prototype.getOrientVal=function(a){var s=wt(a,2),u=s[0],h=s[1],v=this.attributes.orientation;return v==="horizontal"?u:h},i.prototype.setValuesOffset=function(a,s,u){s===void 0&&(s=0),u===void 0&&(u=!1);var h=this.attributes.type,v=wt(this.getValues(),2),g=v[0],m=v[1],_=h==="range"?a:0,w=[g+_,m+s].sort();u?this.setValues(w):this.innerSetValues(w,!0)},i.prototype.getRatio=function(a){var s=this.availableSpace,u=s.width,h=s.height;return a/this.getOrientVal([u,h])},i.prototype.dispatchCustomEvent=function(a,s,u){var h=this;a.on(s,function(v){v.stopPropagation(),h.dispatchEvent(new Kn(u,{detail:v}))})},i.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var a=this.brushArea;this.dispatchCustomEvent(a,"click","trackClick"),this.dispatchCustomEvent(a,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(a,"pointerleave","trackMouseleave"),a.on("pointerdown",this.onDragStart("track"))},i.prototype.onScroll=function(a){var s=this.attributes.scrollable;if(s){var u=a.deltaX,h=a.deltaY,v=h||u,g=this.getRatio(v);this.setValuesOffset(g,g,!0)}},i.tag="slider",i}(ba);function Ii(t,i){return t==null||i==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function eF(t,i){return t==null||i==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function Lh(t){let i,a,s;t.length!==2?(i=Ii,a=(g,m)=>Ii(t(g),m),s=(g,m)=>t(g)-m):(i=t===Ii||t===eF?t:NX,a=t,s=t);function u(g,m,_=0,w=g.length){if(_<w){if(i(m,m)!==0)return w;do{const M=_+w>>>1;a(g[M],m)<0?_=M+1:w=M}while(_<w)}return _}function h(g,m,_=0,w=g.length){if(_<w){if(i(m,m)!==0)return w;do{const M=_+w>>>1;a(g[M],m)<=0?_=M+1:w=M}while(_<w)}return _}function v(g,m,_=0,w=g.length){const M=u(g,m,_,w-1);return M>_&&s(g[M-1],m)>-s(g[M],m)?M-1:M}return{left:u,center:v,right:h}}function NX(){return 0}function yE(t){return t===null?NaN:+t}function*BX(t,i){if(i===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(yield a);else{let a=-1;for(let s of t)(s=i(s,++a,t))!=null&&(s=+s)>=s&&(yield s)}}const rF=Lh(Ii),T1=rF.right,n2=rF.left,zX=Lh(yE).center;var FX=T1;function jX(t,i){return Array.from(i,a=>t[a])}function su(t,...i){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[a]=i;if(a&&a.length!==2||i.length>1){const s=Uint32Array.from(t,(u,h)=>h);return i.length>1?(i=i.map(u=>t.map(u)),s.sort((u,h)=>{for(const v of i){const g=O1(v[u],v[h]);if(g)return g}})):(a=t.map(a),s.sort((u,h)=>O1(a[u],a[h]))),jX(t,s)}return t.sort(nF(a))}function nF(t=Ii){if(t===Ii)return O1;if(typeof t!="function")throw new TypeError("compare is not a function");return(i,a)=>{const s=t(i,a);return s||s===0?s:(t(a,a)===0)-(t(i,i)===0)}}function O1(t,i){return(t==null||!(t>=t))-(i==null||!(i>=i))||(t<i?-1:t>i?1:0)}function VX(t,i,a){return Math.min(a,Math.max(i,t))}function A1(t){return!!t.getBandWidth}function Vg(t,i,a){if(!A1(t))return t.invert(i);const{adjustedRange:s}=t,{domain:u}=t.getOptions(),h=a?-1:0,v=t.getStep(),g=a?s:s.map(w=>w+v),m=n2(g,i),_=VX(m+h,0,u.length-1);return u[_]}function Dh(t,i,a){if(!i)return t.getOptions().domain;if(!A1(t)){const m=su(i);if(!a)return m;const[_]=m,{range:w}=t.getOptions(),[M,O]=w,C=M>O?-1:1,P=t.invert(t.map(_)+C*a);return[_,P]}const{domain:s}=t.getOptions(),u=i[0],h=s.indexOf(u);if(a){const m=h+Math.round(s.length*a);return s.slice(h,m)}const v=i[i.length-1],g=s.indexOf(v);return s.slice(h,g+1)}function Gg(t,i,a,s,u,h){const{x:v,y:g}=u,m=(C,P)=>{const[k,D]=h.invert(C);return[Vg(v,k,P),Vg(g,D,P)]},_=m([t,i],!0),w=m([a,s],!1),M=Dh(v,[_[0],w[0]]),O=Dh(g,[_[1],w[1]]);return[M,O]}function i2(t,i){const[a,s]=t,u=h=>h.getStep?h.getStep():0;return[i.map(a),i.map(s)+u(i)]}function GX(t,i,a){const{x:s,y:u}=i,[h,v]=t,g=i2(h,s),m=i2(v,u),_=[g[0],m[0]],w=[g[1],m[1]],[M,O]=a.map(_),[C,P]=a.map(w);return[M,O,C,P]}var iF=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function WX(t,i,a){const{x:s,y:u,width:h,height:v}=t;if(i==="left")return[s+h-a,u];if(i==="right")return[s,u];if(i==="bottom")return[s,u];if(i==="top")return[s,u+v-a]}const Wg=t=>{const{orientation:i,labelFormatter:a,size:s,style:u={},position:h}=t,v=iF(t,["orientation","labelFormatter","size","style","position"]);return g=>{var m;const{scales:[_],value:w,theme:M,coordinate:O}=g,{bbox:C}=w,{width:P,height:k}=C,{slider:D={}}=M,R=((m=_.getFormatter)===null||m===void 0?void 0:m.call(_))||(Z=>Z+""),B=typeof a=="string"?Ph(a):a,z=i==="horizontal",j=qe(O)&&z,{trackSize:V=D.trackSize}=u,[G,Y]=WX(C,h,V);return new tF({className:"slider",style:Object.assign({},D,Object.assign(Object.assign({x:G,y:Y,trackLength:z?P:k,orientation:i,formatter:Z=>{const Q=B||R,tt=j?1-Z:Z,rt=Vg(_,tt,!0);return Q(rt)},sparklineData:C1(t,g)},u),v))})}};function HX(t,i){const[a]=Array.from(t.entries()).filter(([u])=>u.type==="line"||u.type==="area").filter(([u])=>u.slider).map(([u])=>{const{encode:h,slider:v}=u;if(v!=null&&v.x){const g=m=>{const _=h[m];return[m,_?_.value:void 0]};return Object.fromEntries(i.map(g))}});if(!(a!=null&&a.series))return a==null?void 0:a.y;const s=a.series.reduce((u,h,v)=>(u[h]=u[h]||[],u[h].push(a.y[v]),u),{});return Object.values(s)}function C1(t,i){const{markState:a}=i;return rn(t.sparklineData)?t.sparklineData:HX(a,["y","series"])}Wg.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const aF=t=>Wg(Object.assign(Object.assign({},t),{orientation:"horizontal"}));aF.props=Object.assign(Object.assign({},Wg.props),{defaultPosition:"bottom"});const P1=t=>Wg(Object.assign(Object.assign({},t),{orientation:"vertical"}));P1.props=Object.assign(Object.assign({},Wg.props),{defaultPosition:"left"});var E1=function(t){Ai(i,t);function i(a){var s=t.call(this,a,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return s.range=[0,1],s.onValueChange=function(u){var h=s.attributes.value;if(u!==h){var v={detail:{oldValue:u,value:h}};s.dispatchEvent(new Kn("scroll",v)),s.dispatchEvent(new Kn("valuechange",v))}},s.onTrackClick=function(u){var h=s.attributes.slidable;if(h){var v=wt(s.getLocalPosition(),2),g=v[0],m=v[1],_=wt(s.padding,4),w=_[0],M=_[3],O=s.getOrientVal([g+M,m+w]),C=s.getOrientVal(KS(u)),P=(C-O)/s.trackLength;s.setValue(P,!0)}},s.onThumbMouseenter=function(u){s.dispatchEvent(new Kn("thumbMouseenter",{detail:u.detail}))},s.onTrackMouseenter=function(u){s.dispatchEvent(new Kn("trackMouseenter",{detail:u.detail}))},s.onThumbMouseleave=function(u){s.dispatchEvent(new Kn("thumbMouseleave",{detail:u.detail}))},s.onTrackMouseleave=function(u){s.dispatchEvent(new Kn("trackMouseleave",{detail:u.detail}))},s}return Object.defineProperty(i.prototype,"padding",{get:function(){var a=this.attributes.padding;return ho(a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){var a=this.attributes.value,s=wt(this.range,2),u=s[0],h=s[1];return Oi(a,u,h)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trackLength",{get:function(){var a=this.attributes,s=a.viewportLength,u=a.trackLength,h=u===void 0?s:u;return h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"availableSpace",{get:function(){var a=this.attributes.trackSize,s=this.trackLength,u=wt(this.padding,4),h=u[0],v=u[1],g=u[2],m=u[3],_=wt(this.getOrientVal([[s,a],[a,s]]),2),w=_[0],M=_[1];return{x:m,y:h,width:+w-(m+v),height:+M-(h+g)}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"trackRadius",{get:function(){var a=this.attributes,s=a.isRound,u=a.trackSize;return s?u/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbRadius",{get:function(){var a=this.attributes,s=a.isRound,u=a.thumbRadius;if(!s)return 0;var h=this.availableSpace,v=h.width,g=h.height;return u||this.getOrientVal([g,v])/2},enumerable:!1,configurable:!0}),i.prototype.getValues=function(a){a===void 0&&(a=this.value);var s=this.attributes,u=s.viewportLength,h=s.contentLength,v=u/h,g=wt(this.range,2),m=g[0],_=g[1],w=a*(_-m-v);return[w,w+v]},i.prototype.getValue=function(){return this.value},i.prototype.renderSlider=function(a){var s=this.attributes,u=s.x,h=s.y,v=s.orientation,g=s.trackSize,m=s.padding,_=s.slidable,w=Kr(this.attributes,"track"),M=Kr(this.attributes,"thumb"),O=ae(ae({x:u,y:h,brushable:!1,orientation:v,padding:m,selectionRadius:this.thumbRadius,showHandle:!1,slidable:_,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:g,values:this.getValues()},hl(w,"track")),hl(M,"selection"));this.slider=Dr(a).maybeAppendByClassName("scrollbar",function(){return new tF({style:O})}).update(O).node()},i.prototype.render=function(a,s){this.renderSlider(s)},i.prototype.setValue=function(a,s){s===void 0&&(s=!1);var u=this.attributes.value,h=wt(this.range,2),v=h[0],g=h[1];this.slider.setValues(this.getValues(Oi(a,v,g)),s),this.onValueChange(u)},i.prototype.bindEvents=function(){var a=this;this.slider.addEventListener("trackClick",function(s){s.stopPropagation(),a.onTrackClick(s.detail)}),this.onHover()},i.prototype.getOrientVal=function(a){var s=this.attributes.orientation;return s==="horizontal"?a[0]:a[1]},i.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},i.tag="scrollbar",i}(ba),k1=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const L1=t=>{const{orientation:i,labelFormatter:a,style:s}=t,u=k1(t,["orientation","labelFormatter","style"]);return({scales:[h],value:v,theme:g})=>{const{bbox:m}=v,{x:_,y:w,width:M,height:O}=m,{scrollbar:C={}}=g,{ratio:P,range:k}=h.getOptions(),D=i==="horizontal"?M:O,R=D/P,[B,z]=k,j=z>B?0:1;return new E1({className:"g2-scrollbar",style:Object.assign({},C,Object.assign(Object.assign(Object.assign(Object.assign({},s),{x:_,y:w,trackLength:D,value:j}),u),{orientation:i,contentLength:R,viewportLength:D}))})}};L1.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const oF=t=>L1(Object.assign(Object.assign({},t),{orientation:"horizontal"}));oF.props=Object.assign(Object.assign({},L1.props),{defaultPosition:"bottom"});const mE=t=>L1(Object.assign(Object.assign({},t),{orientation:"vertical"}));mE.props=Object.assign(Object.assign({},L1.props),{defaultPosition:"left"});const Hg=(t,i)=>{const{coordinate:s}=i;return(u,h,v)=>{const[g]=u,{transform:m="",fillOpacity:_=1,strokeOpacity:w=1,opacity:M=1}=g.style,[O,C]=qe(s)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],P=[{transform:`${m} ${C}`.trimStart(),transformOrigin:O,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${m} ${C}`.trimStart(),transformOrigin:O,fillOpacity:_,strokeOpacity:w,opacity:M,offset:.01},{transform:`${m} scale(1, 1)`.trimStart(),transformOrigin:O,fillOpacity:_,strokeOpacity:w,opacity:M}];return g.animate(P,Object.assign(Object.assign({},v),t))}},Cv=(t,i)=>{const{coordinate:s}=i;return(u,h,v)=>{const[g]=u,{transform:m="",fillOpacity:_=1,strokeOpacity:w=1,opacity:M=1}=g.style,[O,C]=qe(s)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],P=[{transform:`${m} scale(1, 1)`.trimStart(),transformOrigin:O},{transform:`${m} ${C}`.trimStart(),transformOrigin:O,fillOpacity:_,strokeOpacity:w,opacity:M,offset:.99},{transform:`${m} ${C}`.trimStart(),transformOrigin:O,fillOpacity:0,strokeOpacity:0,opacity:0}];return g.animate(P,Object.assign(Object.assign({},v),t))}},a2=(t,i)=>{const{coordinate:s}=i;return r5.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:xe.NUMBER}),(u,h,v)=>{const[g]=u,m=w=>{const{__data__:M,style:O}=w,{fillOpacity:C=1,strokeOpacity:P=1,opacity:k=1}=O,{points:D,y:R,y1:B}=M,z=lh(s,D,[R,B]),{innerRadius:j,outerRadius:V}=z,G=[{scaleInYRadius:j+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:j+1e-4,fillOpacity:C,strokeOpacity:P,opacity:k,offset:.01},{scaleInYRadius:V,fillOpacity:C,strokeOpacity:P,opacity:k}];return w.animate(G,Object.assign(Object.assign({},v),t))},_=w=>{const{style:M}=w,{transform:O="",fillOpacity:C=1,strokeOpacity:P=1,opacity:k=1}=M,[D,R]=qe(s)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],B=[{transform:`${O} ${R}`.trimStart(),transformOrigin:D,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${O} ${R}`.trimStart(),transformOrigin:D,fillOpacity:C,strokeOpacity:P,opacity:k,offset:.01},{transform:`${O} scale(1, 1)`.trimStart(),transformOrigin:D,fillOpacity:C,strokeOpacity:P,opacity:k}];return w.animate(B,Object.assign(Object.assign({},v),t))};return ce(s)?m(g):_(g)}},bE=(t,i)=>{const{coordinate:s}=i;return(u,h,v)=>{const[g]=u,{transform:m="",fillOpacity:_=1,strokeOpacity:w=1,opacity:M=1}=g.style,[O,C]=qe(s)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],P=[{transform:`${m} scale(1, 1)`.trimStart(),transformOrigin:O},{transform:`${m} ${C}`.trimStart(),transformOrigin:O,fillOpacity:_,strokeOpacity:w,opacity:M,offset:.99},{transform:`${m} ${C}`.trimStart(),transformOrigin:O,fillOpacity:0,strokeOpacity:0,opacity:0}];return g.animate(P,Object.assign(Object.assign({},v),t))}},_E=(t,i)=>{r5.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:xe.NUMBER});const{coordinate:s}=i;return(u,h,v)=>{const[g]=u;if(!ce(s))return Hg(t,i)(u,h,v);const{__data__:m,style:_}=g,{radius:w=0,inset:M=0,fillOpacity:O=1,strokeOpacity:C=1,opacity:P=1}=_,{points:k,y:D,y1:R}=m,B=yc().cornerRadius(w).padAngle(M*Math.PI/180),z=lh(s,k,[D,R]),{startAngle:j,endAngle:V}=z,G=[{waveInArcAngle:j+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:j+1e-4,fillOpacity:O,strokeOpacity:C,opacity:P,offset:.01},{waveInArcAngle:V,fillOpacity:O,strokeOpacity:C,opacity:P}],Y=g.animate(G,Object.assign(Object.assign({},v),t));return Y.onframe=function(){g.style.d=B(Object.assign(Object.assign({},z),{endAngle:Number(g.style.waveInArcAngle)}))},Y.onfinish=function(){g.style.d=B(Object.assign(Object.assign({},z),{endAngle:V}))},Y}};_E.props={};const xE=t=>(i,a,s)=>{const[u]=i,{fillOpacity:h=1,strokeOpacity:v=1,opacity:g=1}=u.style,m=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:h,strokeOpacity:v,opacity:g}];return u.animate(m,Object.assign(Object.assign({},s),t))};xE.props={};const D1=t=>(i,a,s)=>{const[u]=i,{fillOpacity:h=1,strokeOpacity:v=1,opacity:g=1}=u.style,m=[{fillOpacity:h,strokeOpacity:v,opacity:g},{fillOpacity:0,strokeOpacity:0,opacity:0}];return u.animate(m,Object.assign(Object.assign({},s),t))};D1.props={};const sF=t=>(a,s,u)=>{const[h]=a,{transform:v="",fillOpacity:g=1,strokeOpacity:m=1,opacity:_=1}=h.style,w="center center",M=[{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:w,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:w,fillOpacity:g,strokeOpacity:m,opacity:_,offset:.01},{transform:`${v} scale(1)`.trimStart(),transformOrigin:w,fillOpacity:g,strokeOpacity:m,opacity:_}];return h.animate(M,Object.assign(Object.assign({},u),t))},wE=t=>(a,s,u)=>{const[h]=a,{transform:v="",fillOpacity:g=1,strokeOpacity:m=1,opacity:_=1}=h.style,w="center center",M=[{transform:`${v} scale(1)`.trimStart(),transformOrigin:w},{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:w,fillOpacity:g,strokeOpacity:m,opacity:_,offset:.99},{transform:`${v} scale(${1e-4})`.trimStart(),transformOrigin:w,fillOpacity:0,strokeOpacity:0,opacity:0}];return h.animate(M,Object.assign(Object.assign({},u),t))},SE=t=>(i,a,s)=>{var u,h;const[v]=i,g=((h=(u=v).getTotalLength)===null||h===void 0?void 0:h.call(u))||0,m=[{lineDash:[0,g]},{lineDash:[g,0]}];return v.animate(m,Object.assign(Object.assign({},s),t))};SE.props={};const ME={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},o2={[Xt.CIRCLE]:["cx","cy","r"],[Xt.ELLIPSE]:["cx","cy","rx","ry"],[Xt.RECT]:["x","y","width","height"],[Xt.IMAGE]:["x","y","width","height"],[Xt.LINE]:["x1","y1","x2","y2"],[Xt.POLYLINE]:["points"],[Xt.POLYGON]:["points"]};function Pv(t,i,a=!1){const s={};for(const u of i){const h=t.style[u];h?s[u]=h:a&&(s[u]=ME[u])}return s}const Ih=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function s2(t){const{min:i,max:a}=t.getLocalBounds(),[s,u]=i,[h,v]=a,g=v-u,m=h-s;return[s,u,m,g]}function YX(t){const[i,a,s,u]=t;return`
    M ${i} ${a}
    L ${i+s} ${a}
    L ${i+s} ${a+u}
    L ${i} ${a+u}
    Z
  `}function lF(t,i){const[a,s,u,h]=s2(t),v=h/u,g=Math.ceil(Math.sqrt(i/v)),m=Math.ceil(i/g),_=[],w=h/m;let M=0,O=i;for(;O>0;){const C=Math.min(O,g),P=u/C;for(let k=0;k<C;k++){const D=a+k*P,R=s+M*w;_.push(YX([D,R,P,w]))}O-=C,M+=1}return _}function uF(t="pack"){return typeof t=="function"?t:lF}function cF(t,i,a){let{transform:s}=t.style;const{transform:u}=i.style;Fs(i,t);let h=Ih;if(t.nodeName===Xt.GROUP){const[m,_,w,M]=s2(t),[O,C,P,k]=s2(i),D=m-O,R=_-C,B=w/P,z=M/k;s=`translate(${D}, ${R}) scale(${B}, ${z})`}else h=h.concat(o2[t.nodeName]||[]);const v=[Object.assign({transform:s!=null?s:"none"},Pv(t,h,!0)),Object.assign({transform:u!=null?u:"none"},Pv(i,h,!0))];return i.animate(v,a)}function Fs(t,i){t.__data__=i.__data__,t.className=i.className,t.markType=i.markType,i.parentNode.replaceChild(t,i)}function fF(t,i){const{nodeName:a}=t;if(a==="path")return t;const s=new _o({style:Object.assign(Object.assign({},Pv(t,Ih)),{d:i})});return Fs(s,t),s}function is(t,i){const a=t.indexOf(i),s=t.lastIndexOf(i);return a===s}function UX(t){return!is(t,"m")||!is(t,"M")}function hF(t){const i=wN(t);if(i&&!UX(i))return i}function TE(t){const{nodeName:i}=t;if(i==="path"){const a=fi(t,"attributes");return a.markerEnd||a.markerStart}return!1}function OE(t,i,a,s){const{nodeName:u}=i,{nodeName:h}=a,v=hF(i),g=hF(a),m=u===h&&u!=="path",_=v===void 0||g===void 0,w=TE(i)||TE(a);if(m||_||w)return cF(i,a,s);const M=fF(t,v),O=[Object.assign({},Pv(i,Ih)),Object.assign({},Pv(a,Ih))];if(v!==g){O[0].d=v,O[1].d=g;const C=M.animate(O,s);return C.onfinish=()=>{const P=M.style.d;sw(M,a),M.style.d=P,M.style.transform="none"},M.style.transform="none",C}return null}function XX(t,i,a,s){t.style.visibility="hidden";const u=s(t,i.length);return i.map((h,v)=>{const g=new _o({style:Object.assign({d:u[v]},Pv(t,Ih))});return OE(h,g,h,a)})}function l2(t,i,a,s){const u=s(i,t.length),{fillOpacity:h=1,strokeOpacity:v=1,opacity:g=1}=i.style,m=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:h,strokeOpacity:v,opacity:g}],_=i.animate(m,a);return[...t.map((M,O)=>{const C=new _o({style:{d:u[O],fill:i.style.fill}});return OE(M,M,C,a)}),_]}const dF=t=>(i,a,s)=>{const u=uF(t.split),h=Object.assign(Object.assign({},s),t),{length:v}=i,{length:g}=a;if(v===1&&g===1||v>1&&g>1){const[m]=i,[_]=a;return OE(m,m,_,h)}if(v===1&&g>1){const[m]=i;return XX(m,a,h,u)}if(v>1&&g===1){const[m]=a;return l2(i,m,h,u)}return null};dF.props={};const u2=(t,i)=>(a,s,u)=>{const[h]=a,{min:[v,g],halfExtents:m}=h.getLocalBounds(),_=m[0]*2,w=m[1]*2,M=new _o({style:{d:`M${v},${g}L${v+_},${g}L${v+_},${g+w}L${v},${g+w}Z`}});return h.appendChild(M),h.style.clipPath=M,Hg(t,i)([M],s,u)};u2.props={};const vF=(t,i)=>(a,s,u)=>{const[h]=a,{min:[v,g],halfExtents:m}=h.getLocalBounds(),_=m[0]*2,w=m[1]*2,M=new _o({style:{d:`M${v},${g}L${v+_},${g}L${v+_},${g+w}L${v},${g+w}Z`}});return h.appendChild(M),h.style.clipPath=M,a2(t,i)([M],s,u)};vF.props={};var pF=function(t,i){if(!fl(t))return t;for(var a=[],s=0;s<t.length;s++){var u=t[s];i(u,s)&&a.push(u)}return a},gF=pF;const yF="main-layer",c2="label-layer",ef="element",AE="view",I1="plot",Rh="component",CE="label",f2="area",$X="mask",qX={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function mF(t,i){var a;return(a=t.style[i])!==null&&a!==void 0?a:qX[i]}function h2(t,i,a,s){t.style[i]=a,s&&t.children.forEach(u=>h2(u,i,a,s))}function d2(t){h2(t,"visibility","hidden",!0)}function R1(t){h2(t,"visibility","visible",!0)}var N1=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Nh(t){return ir(t).selectAll(`.${ef}`).nodes().filter(i=>!i.__removed__)}function bF(t,i){return PE(t,i).flatMap(({container:a})=>Nh(a))}function PE(t,i){return i.filter(a=>a!==t&&a.options.parentKey===t.options.key)}function nc(t){return ir(t).select(`.${I1}`).node()}function _F(t){if(t.tagName==="g")return t.getRenderBounds();const i=t.getGeometryBounds(),a=new Zi;return a.setFromTransformedAABB(i,t.getWorldTransform()),a}function Ev(t,i){const{offsetX:a,offsetY:s}=i,u=_F(t),{min:[h,v],max:[g,m]}=u,_=a<h||a>g,w=s<v||s>m;return _||w?null:[a-h,s-v]}function v2(t,i){const{offsetX:a,offsetY:s}=i,[u,h,v,g]=ZX(t);return[Math.min(v,Math.max(u,a))-u,Math.min(g,Math.max(h,s))-h]}function ZX(t){const i=t.getRenderBounds(),{min:[a,s],max:[u,h]}=i;return[a,s,u,h]}function p2(t){return i=>i.__data__.color}function g2(t){return i=>i.__data__.x}function js(t){const i=Array.isArray(t)?t:[t],a=new Map(i.flatMap(s=>Array.from(s.markState.keys()).map(h=>[y2(s.key,h.key),h.data])));return s=>{const{index:u,markKey:h,viewKey:v}=s.__data__;return a.get(y2(v,h))[u]}}function jo(t,i=(s,u)=>s,a=(s,u,h)=>s.setAttribute(u,h)){const s="__states__",u="__ordinal__",h=w=>{const{[s]:M=[],[u]:O={}}=w,C=M.reduce((P,k)=>Object.assign(Object.assign({},P),t[k]),O);if(Object.keys(C).length!==0){for(const[P,k]of Object.entries(C)){const D=mF(w,P),R=i(k,w);a(w,P,R),P in O||(O[P]=D)}w[u]=O}},v=w=>{w[s]||(w[s]=[])};return{setState:(w,...M)=>{v(w),w[s]=[...M],h(w)},removeState:(w,...M)=>{v(w);for(const O of M){const C=w[s].indexOf(O);C!==-1&&w[s].splice(C,1)}h(w)},hasState:(w,M)=>(v(w),w[s].indexOf(M)!==-1)}}function Yg(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function y2(t,i){return`${t},${i}`}function Ug(t,i){const s=(Array.isArray(t)?t:[t]).flatMap(h=>h.marks.map(v=>[y2(h.key,v.key),v.state])),u={};for(const h of i){const[v,g]=Array.isArray(h)?h:[h,{}];u[v]=s.reduce((m,_)=>{const[w,M={}]=_,O=Yg(M[v])?g:M[v];for(const[C,P]of Object.entries(O)){const k=m[C],D=(R,B,z,j)=>{const V=y2(j.__data__.viewKey,j.__data__.markKey);return w!==V?k==null?void 0:k(R,B,z,j):typeof P!="function"?P:P(R,B,z,j)};m[C]=D}return m},{})}return u}function B1(t,i){const a=new Map(t.map((u,h)=>[u,h])),s=i?t.map(i):t;return(u,h)=>{if(typeof u!="function")return u;const v=a.get(h),g=i?i(h):h;return u(g,v,s,h)}}function xF(t){var{link:i=!1,valueof:a=(w,M)=>w,coordinate:s}=t,u=N1(t,["link","valueof","coordinate"]);const h="element-link";if(!i)return[()=>{},()=>{}];const v=w=>w.__data__.points,g=(w,M)=>{const[,O,C]=w,[P,,,k]=M;return[O,P,k,C]};return[w=>{var M;if(w.length<=1)return;const O=su(w,(C,P)=>{const{x:k}=C.__data__,{x:D}=P.__data__;return k-D});for(let C=1;C<O.length;C++){const P=pi(),k=O[C-1],D=O[C],[R,B,z,j]=g(v(k),v(D));P.moveTo(...R),P.lineTo(...B),P.lineTo(...z),P.lineTo(...j),P.closePath();const V=ma(u,Q=>a(Q,k)),{fill:G=k.getAttribute("fill")}=V,Y=N1(V,["fill"]),Z=new _o({className:h,style:Object.assign({d:P.toString(),fill:G,zIndex:-2},Y)});(M=k.link)===null||M===void 0||M.remove(),k.parentNode.appendChild(Z),k.link=Z}},w=>{var M;(M=w.link)===null||M===void 0||M.remove(),w.link=null}]}function wF(t,i,a){const s=u=>{const{transform:h}=t.style;return h?`${h} ${u}`:u};if(ce(a)){const{points:u}=t.__data__,[h,v]=qe(a)?sh(u):u,g=a.getCenter(),m=Di(h,g),_=Di(v,g),w=sl(m),M=lw(m,_),O=w+M/2,C=i*Math.cos(O),P=i*Math.sin(O);return s(`translate(${C}, ${P})`)}return qe(a)?s(`translate(${i}, 0)`):s(`translate(0, ${-i})`)}function SF(t){var{document:i,background:a,scale:s,coordinate:u,valueof:h}=t,v=N1(t,["document","background","scale","coordinate","valueof"]);const g="element-background";if(!a)return[()=>{},()=>{}];const m=(R,B,z)=>{const j=R.invert(B),V=B+R.getBandWidth(j)/2,G=R.getStep(j)/2,Y=G*z;return[V-G+Y,V+G-Y]},_=(R,B)=>{const{x:z}=s;if(!A1(z))return[0,1];const{__data__:j}=R,{x:V}=j,[G,Y]=m(z,V,B);return[G,Y]},w=(R,B)=>{const{y:z}=s;if(!A1(z))return[0,1];const{__data__:j}=R,{y:V}=j,[G,Y]=m(z,V,B);return[G,Y]},M=(R,B)=>{const{padding:z}=B,[j,V]=_(R,z),[G,Y]=w(R,z),Z=[[j,G],[V,G],[V,Y],[j,Y]].map(ct=>u.map(ct)),{__data__:Q}=R,{y:tt,y1:rt}=Q;return s3(i,Z,{y:tt,y1:rt},u,B)},O=(R,B)=>{const{transform:z="scale(1.2, 1.2)",transformOrigin:j="center center",stroke:V=""}=B,G=N1(B,["transform","transformOrigin","stroke"]),Y=Object.assign({transform:z,transformOrigin:j,stroke:V},G),Z=R.cloneNode(!0);for(const[Q,tt]of Object.entries(Y))Z.style[Q]=tt;return Z},C=()=>{const{x:R,y:B}=s;return[R,B].some(A1)};return[R=>{R.background&&R.background.remove();const B=ma(v,ct=>h(ct,R)),{fill:z="#CCD6EC",fillOpacity:j=.3,zIndex:V=-2,padding:G=.001,lineWidth:Y=0}=B,Z=N1(B,["fill","fillOpacity","zIndex","padding","lineWidth"]),Q=Object.assign(Object.assign({},Z),{fill:z,fillOpacity:j,zIndex:V,padding:G,lineWidth:Y}),rt=(C()?M:O)(R,Q);rt.className=g,R.parentNode.parentNode.appendChild(rt),R.background=rt},R=>{var B;(B=R.background)===null||B===void 0||B.remove(),R.background=null},R=>R.className===g]}function Bh(t,i){const s=t.getRootNode().defaultView.getContextService().getDomElement();s!=null&&s.style&&(t.cursor=s.style.cursor,s.style.cursor=i)}function KX(t){Bh(t,t.cursor)}function EE(t,i,a){return t.find(s=>Object.entries(i).every(([u,h])=>a(s)[u]===h))}function zh(t,i){return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))}function Vs(t,i=!1){const a=gF(t,s=>!!s).map((s,u)=>[u===0?"M":"L",...s]);return i&&a.push(["Z"]),a}function m2(t){return t.querySelectorAll(".element")}function QX(t,i,a=0){const s=[["M",...i[1]]],u=zh(t,i[1]),h=zh(t,i[0]);return u===0?s.push(["L",...i[3]],["A",h,h,0,a,1,...i[0]],["Z"]):s.push(["A",u,u,0,a,0,...i[2]],["L",...i[3]],["A",h,h,0,a,1,...i[0]],["Z"]),s}function b2(t,i){if(i(t))return t;let a=t.parent;for(;a&&!i(a);)a=a.parent;return a}var JX=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function MF(t,{elements:i,datum:a,groupKey:s=M=>M,link:u=!1,background:h=!1,delay:v=60,scale:g,coordinate:m,emitter:_,state:w={}}){var M;const O=i(t),C=new Set(O),P=Bn(O,s),k=B1(O,a),[D,R]=xF(Object.assign({elements:O,valueof:k,link:u,coordinate:m},Te(w.active,"link"))),[B,z,j]=SF(Object.assign({document:t.ownerDocument,scale:g,coordinate:m,background:h,valueof:k},Te(w.active,"background"))),V=Ft(w,{active:Object.assign({},((M=w.active)===null||M===void 0?void 0:M.offset)&&{transform:(...H)=>{const U=w.active.offset(...H),[,J]=H;return wF(O[J],U,m)}})}),{setState:G,removeState:Y,hasState:Z}=jo(V,k);let Q;const tt=H=>{const{target:U,nativeEvent:J=!0}=H;if(!C.has(U))return;Q&&clearTimeout(Q);const st=s(U),ut=P.get(st),mt=new Set(ut);for(const xt of O)mt.has(xt)?Z(xt,"active")||G(xt,"active"):(G(xt,"inactive"),R(xt)),xt!==U&&z(xt);B(U),D(ut),J&&_.emit("element:highlight",{nativeEvent:J,data:{data:a(U),group:ut.map(a)}})},rt=()=>{Q&&clearTimeout(Q),Q=setTimeout(()=>{ct(),Q=null},v)},ct=(H=!0)=>{for(const U of O)Y(U,"active","inactive"),z(U),R(U);H&&_.emit("element:unhighlight",{nativeEvent:H})},nt=H=>{const{target:U}=H;h&&!j(U)||!h&&!C.has(U)||(v>0?rt():ct())},lt=()=>{ct()};t.addEventListener("pointerover",tt),t.addEventListener("pointerout",nt),t.addEventListener("pointerleave",lt);const ft=H=>{const{nativeEvent:U}=H;U||ct(!1)},q=H=>{const{nativeEvent:U}=H;if(U)return;const{data:J}=H.data,st=EE(O,J,a);st&&tt({target:st,nativeEvent:!1})};return _.on("element:highlight",q),_.on("element:unhighlight",ft),()=>{t.removeEventListener("pointerover",tt),t.removeEventListener("pointerout",nt),t.removeEventListener("pointerleave",lt),_.off("element:highlight",q),_.off("element:unhighlight",ft);for(const H of O)z(H),R(H)}}function kv(t){var{delay:i,createGroup:a,background:s=!1,link:u=!1}=t,h=JX(t,["delay","createGroup","background","link"]);return(v,g,m)=>{const{container:_,view:w,options:M}=v,{scale:O,coordinate:C}=w,P=nc(_);return MF(P,Object.assign({elements:Nh,datum:js(w),groupKey:a?a(w):void 0,coordinate:C,scale:O,state:Ug(M,[["active",s?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:s,link:u,delay:i,emitter:m},h))}}kv.props={reapplyWhenUpdate:!0};function kE(t){return kv(Object.assign(Object.assign({},t),{createGroup:g2}))}kE.props={reapplyWhenUpdate:!0};function TF(t){return kv(Object.assign(Object.assign({},t),{createGroup:p2}))}TF.props={reapplyWhenUpdate:!0};var OF=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function AF(t,{elements:i,datum:a,groupKey:s=O=>O,link:u=!1,single:h=!1,multipleSelectHotkey:v,coordinate:g,background:m=!1,scale:_,emitter:w,state:M={}}){var O;const C=i(t),P=new Set(C),k=Bn(C,s),D=B1(C,a),[R,B]=xF(Object.assign({link:u,elements:C,valueof:D,coordinate:g},Te(M.selected,"link"))),[z,j]=SF(Object.assign({document:t.ownerDocument,background:m,coordinate:g,scale:_,valueof:D},Te(M.selected,"background"))),V=Ft(M,{selected:Object.assign({},((O=M.selected)===null||O===void 0?void 0:O.offset)&&{transform:(...st)=>{const ut=M.selected.offset(...st),[,mt]=st;return wF(C[mt],ut,g)}})}),{setState:G,removeState:Y,hasState:Z}=jo(V,D);let Q=!h,tt=null;const rt=(st=!0)=>{for(const ut of C)Y(ut,"selected","unselected"),B(ut),j(ut);st&&w.emit("element:unselect",{nativeEvent:!0})},ct=(st,ut,mt=!0)=>{if(Z(ut,"selected"))rt();else{const xt=s(ut),Ct=k.get(xt),kt=new Set(Ct);for(const jt of C)kt.has(jt)?G(jt,"selected"):(G(jt,"unselected"),B(jt)),jt!==ut&&j(jt);if(R(Ct),z(ut),!mt)return;w.emit("element:select",Object.assign(Object.assign({},st),{nativeEvent:mt,data:{data:[a(ut),...Ct.map(a)]}}))}},nt=(st,ut,mt=!0)=>{const xt=s(ut),Ct=k.get(xt),kt=new Set(Ct);if(Z(ut,"selected")){if(!C.some(Bt=>!kt.has(Bt)&&Z(Bt,"selected")))return rt();for(const Bt of Ct)G(Bt,"unselected"),B(Bt),j(Bt)}else{const jt=Ct.some(Bt=>Z(Bt,"selected"));for(const Bt of C)kt.has(Bt)?G(Bt,"selected"):Z(Bt,"selected")||G(Bt,"unselected");!jt&&u&&R(Ct),z(ut)}mt&&w.emit("element:select",Object.assign(Object.assign({},st),{nativeEvent:mt,data:{data:C.filter(jt=>Z(jt,"selected")).map(a)}}))},lt=st=>{const{target:ut,nativeEvent:mt=!0}=st;return P.has(ut)?Q?nt(st,ut,mt):ct(st,ut,mt):rt()},ft=Array.isArray(v)?v:[v],q=st=>{ft.includes(st.code)&&!tt&&(tt=st.code,Q=!0)},H=st=>{st.code===tt&&(tt=null,Q=!1)};t.addEventListener("click",lt),v&&(Q=!1,document.addEventListener("keydown",q),document.addEventListener("keyup",H));const U=st=>{const{nativeEvent:ut,data:mt}=st;if(ut)return;const xt=Q?mt.data:mt.data.slice(0,1);for(const Ct of xt){const kt=EE(C,Ct,a);lt({target:kt,nativeEvent:!1})}},J=()=>{rt(!1)};return w.on("element:select",U),w.on("element:unselect",J),()=>{for(const st of C)B(st);t.removeEventListener("click",lt),v&&(document.removeEventListener("keydown",q),document.removeEventListener("keyup",H)),w.off("element:select",U),w.off("element:unselect",J)}}function z1(t){var{createGroup:i,background:a=!1,link:s=!1}=t,u=OF(t,["createGroup","background","link"]);return(h,v,g)=>{const{container:m,view:_,options:w}=h,{coordinate:M,scale:O}=_,C=nc(m);return AF(C,Object.assign({elements:Nh,datum:js(_),groupKey:i?i(_):void 0,coordinate:M,scale:O,state:Ug(w,[["selected",a?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:a,link:s,emitter:g},u))}}z1.props={reapplyWhenUpdate:!0};function LE(t){return z1(Object.assign(Object.assign({},t),{createGroup:g2}))}LE.props={reapplyWhenUpdate:!0};function DE(t){return z1(Object.assign(Object.assign({},t),{createGroup:p2}))}DE.props={reapplyWhenUpdate:!0};var Fh=function(t,i,a){var s,u,h,v,g=0;a||(a={});var m=function(){g=a.leading===!1?0:Date.now(),s=null,v=t.apply(u,h),s||(u=h=null)},_=function(){var w=Date.now();!g&&a.leading===!1&&(g=w);var M=i-(w-g);return u=this,h=arguments,M<=0||M>i?(s&&(clearTimeout(s),s=null),g=w,v=t.apply(u,h),s||(u=h=null)):!s&&a.trailing!==!1&&(s=setTimeout(m,M)),v};return _.cancel=function(){clearTimeout(s),g=0,s=u=h=null},_};function CF(t){const{coordinate:i={}}=t,{transform:a=[]}=i,s=a.find(h=>h.type==="fisheye");if(s)return s;const u={type:"fisheye"};return a.push(u),i.transform=a,t.coordinate=i,u}function t$({wait:t=30,leading:i,trailing:a=!1}){return s=>{const{options:u,update:h,setState:v,container:g}=s,m=nc(g),_=Fh(w=>{const M=Ev(m,w);if(!M){v("fisheye"),h();return}v("fisheye",O=>{const C=Ft({},O,{interaction:{tooltip:{preserve:!0}}});for(const R of C.marks)R.animate=!1;const[P,k]=M,D=CF(C);return D.focusX=P,D.focusY=k,D.visual=!0,C}),h()},t,{leading:i,trailing:a});return m.addEventListener("pointerenter",_),m.addEventListener("pointermove",_),m.addEventListener("pointerleave",_),()=>{m.removeEventListener("pointerenter",_),m.removeEventListener("pointermove",_),m.removeEventListener("pointerleave",_)}}}var e$=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},r$=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function n$(t){const{transform:i=[]}=t,a=i.find(u=>u.type==="normalizeY");if(a)return a;const s={type:"normalizeY"};return i.push(s),t.transform=i,s}function i$(t,i,a){const[s]=Array.from(t.entries()).filter(([u])=>u.type===i).map(([u])=>{const{encode:h}=u,v=g=>{const m=h[g];return[g,m?m.value:void 0]};return Object.fromEntries(a.map(v))});return s}function PF(t){var{wait:i=20,leading:a,trailing:s=!1,labelFormatter:u=v=>`${v}`}=t,h=r$(t,["wait","leading","trailing","labelFormatter"]);return v=>{const{view:g,container:m,update:_,setState:w}=v,{markState:M,scale:O,coordinate:C}=g,P=i$(M,"line",["x","y","series"]);if(!P)return;const{y:k,x:D,series:R=[]}=P,B=k.map((H,U)=>U),z=su(B.map(H=>D[H])),j=nc(m),V=m.getElementsByClassName(ef),G=m.getElementsByClassName(CE),Z=Bn(G,H=>H.__data__.key.split("-")[0]),Q=new $d({style:Object.assign({x1:0,y1:0,x2:0,y2:j.getAttribute("height"),stroke:"black",lineWidth:1},Te(h,"rule"))}),tt=new nl({style:Object.assign({x:0,y:j.getAttribute("height"),text:"",fontSize:10},Te(h,"label"))});Q.append(tt),j.appendChild(Q);const rt=(H,U,J)=>{const[st]=H.invert(J),ut=U.invert(st);return z[zX(z,ut)]},ct=(H,U)=>{Q.setAttribute("x1",H[0]),Q.setAttribute("x2",H[0]),tt.setAttribute("text",u(U))};let nt;const lt=H=>e$(this,void 0,void 0,function*(){const{x:U}=O,J=rt(C,U,H);ct(H,J),w("chartIndex",ut=>{const mt=Ft({},ut),xt=mt.marks.find(Zt=>Zt.type==="line"),kt=pn(pm(B,Zt=>pn(Zt,Oe=>+k[Oe])/rs(Zt,Oe=>+k[Oe]),Zt=>R[Zt]).values()),jt=[1/kt,kt];Ft(xt,{scale:{y:{domain:jt}}});const Bt=n$(xt);Bt.groupBy="color",Bt.basis=(Zt,Oe)=>{const se=Zt[Lh(he=>D[+he]).center(Zt,J)];return Oe[se]};for(const Zt of mt.marks)Zt.animate=!1;return mt}),nt=(yield _("chartIndex")).view}),ft=H=>{const{scale:U,coordinate:J}=nt,{x:st,y:ut}=U,mt=rt(J,st,H);ct(H,mt);for(const xt of V){const{seriesIndex:Ct,key:kt}=xt.__data__,jt=Ct[Lh(We=>D[+We]).center(Ct,mt)],Bt=[0,ut.map(1)],Zt=[0,ut.map(k[jt]/k[Ct[0]])],[,Oe]=J.map(Bt),[,se]=J.map(Zt),he=Oe-se;xt.setAttribute("transform",`translate(0, ${he})`);const _e=Z.get(kt)||[];for(const We of _e)We.setAttribute("dy",he)}},q=Fh(H=>{const U=Ev(j,H);U&&ft(U)},i,{leading:a,trailing:s});return lt([0,0]),j.addEventListener("pointerenter",q),j.addEventListener("pointermove",q),j.addEventListener("pointerleave",q),()=>{Q.remove(),j.removeEventListener("pointerenter",q),j.removeEventListener("pointermove",q),j.removeEventListener("pointerleave",q)}}}PF.props={reapplyWhenUpdate:!0};function F1(t,i){let a,s=-1,u=-1;if(i===void 0)for(const h of t)++u,h!=null&&(a>h||a===void 0&&h>=h)&&(a=h,s=u);else for(let h of t)(h=i(h,++u,t))!=null&&(a>h||a===void 0&&h>=h)&&(a=h,s=u);return s}function Xg(t,i){let a=0,s=0;if(i===void 0)for(let u of t)u!=null&&(u=+u)>=u&&(++a,s+=u);else{let u=-1;for(let h of t)(h=i(h,++u,t))!=null&&(h=+h)>=h&&(++a,s+=h)}if(a)return s/a}function EF(t){var i=document.createElement("div");i.innerHTML=t;var a=i.childNodes[0];return a&&i.contains(a)&&i.removeChild(a),a}function kF(t,i){return!t||!i?t:t.replace(/\\?\{([^{}]+)\}/g,function(a,s){return a.charAt(0)==="\\"?a.slice(1):i[s]===void 0?"":i[s]})}var Lv=kF,LF=function(t,i){if(i==null){t.innerHTML="";return}t.replaceChildren?Array.isArray(i)?t.replaceChildren.apply(t,Ve([],wt(i),!1)):t.replaceChildren(i):(t.innerHTML="",Array.isArray(i)?i.forEach(function(a){return t.appendChild(a)}):t.appendChild(i))};function _2(t){return t===void 0&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var IE={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function DF(t){var i;t===void 0&&(t="");var a=_2(t);return i={},i[".".concat(a.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},i[".".concat(a.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},i[".".concat(a.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},i[".".concat(a.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},i[".".concat(a.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},i[".".concat(a.NAME)]={display:"flex","align-items":"center","max-width":"216px"},i[".".concat(a.NAME_LABEL)]=ae({flex:1},IE),i[".".concat(a.VALUE)]=ae({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},IE),i[".".concat(a.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},i[".".concat(a.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},i}var IF=function(t){Ai(i,t);function i(a){var s=this,u,h,v=(h=(u=a.style)===null||u===void 0?void 0:u.template)===null||h===void 0?void 0:h.prefixCls,g=_2(v);return s=t.call(this,a,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(g.CONTAINER,'"></div>'),title:'<div class="'.concat(g.TITLE,'"></div>'),item:'<li class="'.concat(g.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(g.NAME,`">
          <span class="`).concat(g.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(g.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(g.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:DF(v)})||this,s.timestamp=-1,s.prevCustomContentKey=s.attributes.contentKey,s.initShape(),s.render(s.attributes,s),s}return Object.defineProperty(i.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),i.prototype.getContainer=function(){return this.element},Object.defineProperty(i.prototype,"elementSize",{get:function(){var a=this.element.offsetWidth,s=this.element.offsetHeight;return{width:a,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"HTMLTooltipItemsElements",{get:function(){var a=this.attributes,s=a.data,u=a.template;return s.map(function(h,v){var g=h.name,m=g===void 0?"":g,_=h.color,w=_===void 0?"black":_,M=h.index,O=da(h,["name","color","index"]),C=ae({name:m,color:w,index:M!=null?M:v},O);return EF(Lv(u.item,C))})},enumerable:!1,configurable:!0}),i.prototype.render=function(a,s){this.renderHTMLTooltipElement(),this.updatePosition()},i.prototype.destroy=function(){var a;(a=this.element)===null||a===void 0||a.remove(),t.prototype.destroy.call(this)},i.prototype.show=function(a,s){var u=this;if(a!==void 0&&s!==void 0){var h=this.element.style.visibility==="hidden",v=function(){u.attributes.x=a!=null?a:u.attributes.x,u.attributes.y=s!=null?s:u.attributes.y,u.updatePosition()};h?this.closeTransition(v):v()}this.element.style.visibility="visible"},i.prototype.hide=function(a,s){a===void 0&&(a=0),s===void 0&&(s=0);var u=this.attributes.enterable;u&&this.isCursorEntered(a,s)||(this.element.style.visibility="hidden")},i.prototype.initShape=function(){var a=this.attributes.template;this.element=EF(a.container),this.id&&this.element.setAttribute("id",this.id)},i.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var a=this.attributes.content;a&&(typeof a=="string"?this.element.innerHTML=a:LF(this.element,a))}},i.prototype.renderHTMLTooltipElement=function(){var a,s,u=this.attributes,h=u.template,v=u.title,g=u.enterable,m=u.style,_=u.content,w=_2(h.prefixCls),M=this.element;if(this.element.style.pointerEvents=g?"auto":"none",_)this.renderCustomContent();else{v?(M.innerHTML=h.title,M.getElementsByClassName(w.TITLE)[0].innerHTML=v):(s=(a=M.getElementsByClassName(w.TITLE))===null||a===void 0?void 0:a[0])===null||s===void 0||s.remove();var O=this.HTMLTooltipItemsElements,C=document.createElement("ul");C.className=w.LIST,LF(C,O);var P=this.element.querySelector(".".concat(w.LIST));P?P.replaceWith(C):M.appendChild(C)}R4(M,m)},i.prototype.getRelativeOffsetFromCursor=function(a){var s=this.attributes,u=s.position,h=s.offset,v=a||u,g=v.split("-"),m={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},_=this.elementSize,w=_.width,M=_.height,O=[-w/2,-M/2];return g.forEach(function(C){var P=wt(O,2),k=P[0],D=P[1],R=wt(m[C],2),B=R[0],z=R[1];O=[k+(w/2+h[0])*B,D+(M/2+h[1])*z]}),O},i.prototype.setOffsetPosition=function(a){var s=wt(a,2),u=s[0],h=s[1],v=this.attributes,g=v.x,m=g===void 0?0:g,_=v.y,w=_===void 0?0:_,M=v.container,O=M.x,C=M.y;this.element.style.left="".concat(+m+O+u,"px"),this.element.style.top="".concat(+w+C+h,"px")},i.prototype.updatePosition=function(){var a=this.attributes.showDelay,s=a===void 0?60:a,u=Date.now();this.timestamp>0&&u-this.timestamp<s||(this.timestamp=u,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},i.prototype.autoPosition=function(a){var s=wt(a,2),u=s[0],h=s[1],v=this.attributes,g=v.x,m=v.y,_=v.bounding,w=v.position;if(!_)return[u,h];var M=this.element,O=M.offsetWidth,C=M.offsetHeight,P=wt([+g+u,+m+h],2),k=P[0],D=P[1],R={left:"right",right:"left",top:"bottom",bottom:"top"},B=_.x,z=_.y,j=_.width,V=_.height,G={left:k<B,right:k+O>B+j,top:D<z,bottom:D+C>z+V},Y=[];w.split("-").forEach(function(Q){G[Q]?Y.push(R[Q]):Y.push(Q)});var Z=Y.join("-");return this.getRelativeOffsetFromCursor(Z)},i.prototype.isCursorEntered=function(a,s){if(this.element){var u=this.element.getBoundingClientRect(),h=u.x,v=u.y,g=u.width,m=u.height;return new xi(h,v,g,m).isPointIn(a,s)}return!1},i.prototype.closeTransition=function(a){var s=this,u=this.element.style.transition;this.element.style.transition="none",a(),setTimeout(function(){s.element.style.transition=u},10)},i.tag="tooltip",i}(ba);function lu(t,i,a={},s=!1){if(Wu(t)||Array.isArray(t)&&s)return t;const u=Te(t,i);return Ft(a,u)}function x2(t,i={}){return Wu(t)||Array.isArray(t)||!RF(t)?t:Ft(i,t)}function RF(t){if(Object.keys(t).length===0)return!0;const{title:i,items:a}=t;return i!==void 0||a!==void 0}function ic(t,i){return typeof t=="object"?Te(t,i):t}var NF=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function a$(t){const i=t%(Math.PI*2);return i===Math.PI/2?{titleTransform:"translate(0, 50%)"}:i>-Math.PI/2&&i<Math.PI/2?{titleTransform:"translate(50%, 0)"}:i>Math.PI/2&&i<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function o$(t,i,a,s){const{radar:u}=t,[h]=s,v=h.getOptions().name,[g,m]=ds(a),{axisRadar:_={}}=i;return Object.assign(Object.assign({},_),{grid:v==="position",gridConnect:"line",gridControlAngles:new Array(u.count).fill(0).map((w,M)=>(m-g)/u.count*M)})}const BF=t=>{const{important:i={}}=t,a=NF(t,["important"]);return s=>{const{theme:u,coordinate:h,scales:v}=s;return tf(Object.assign(Object.assign(Object.assign({},a),a$(t.orientation)),{important:Object.assign(Object.assign({},o$(t,u,h,v)),i)}))(s)}};BF.props=Object.assign(Object.assign({},tf.props),{defaultPosition:"center"});const zF=t=>(...i)=>rc(Object.assign({},{block:!0},t))(...i);zF.props=Object.assign(Object.assign({},rc.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const RE=t=>i=>{const{scales:a}=i,s=Fo(a,"size");return rc(Object.assign({},{type:"size",data:s.getTicks().map((u,h)=>({value:u,label:String(u)}))},t))(i)};RE.props=Object.assign(Object.assign({},rc.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const NE=t=>RE(Object.assign({},{block:!0},t));NE.props=Object.assign(Object.assign({},rc.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var s$=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const FF=({static:t=!1}={})=>i=>{const{width:a,height:s,depth:u,paddingLeft:h,paddingRight:v,paddingTop:g,paddingBottom:m,padding:_,inset:w,insetLeft:M,insetTop:O,insetRight:C,insetBottom:P,margin:k,marginLeft:D,marginBottom:R,marginTop:B,marginRight:z,data:j,coordinate:V,theme:G,component:Y,interaction:Z,x:Q,y:tt,z:rt,key:ct,frame:nt,labelTransform:lt,parentKey:ft,clip:q,viewStyle:H,title:U}=i,J=s$(i,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:Q,y:tt,z:rt,key:ct,width:a,height:s,depth:u,padding:_,paddingLeft:h,paddingRight:v,paddingTop:g,inset:w,insetLeft:M,insetTop:O,insetRight:C,insetBottom:P,paddingBottom:m,theme:G,coordinate:V,component:Y,interaction:Z,frame:nt,labelTransform:lt,margin:k,marginLeft:D,marginBottom:R,marginTop:B,marginRight:z,parentKey:ft,clip:q,style:H},!t&&{title:U}),{marks:[Object.assign(Object.assign(Object.assign({},J),{key:`${ct}-0`,data:j}),t&&{title:U})]})]};FF.props={};var l$=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function j1(t){return(i,...a)=>Ft({},t(i,...a),i)}function jh(t){return(i,...a)=>Ft({},i,t(i,...a))}function V1(t){return t instanceof Date?!1:typeof t=="object"}function BE(t,i){if(!t)return i;if(Array.isArray(t))return t;if(V1(t)){const{value:a=i}=t,s=l$(t,["value"]);return Object.assign(Object.assign({},s),{value:a})}return t}var zE=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const w2=()=>t=>{const{children:i}=t,a=zE(t,["children"]);if(!Array.isArray(i))return[];const{data:s,scale:u={},axis:h={},legend:v={},encode:g={},transform:m=[]}=a,_=zE(a,["data","scale","axis","legend","encode","transform"]),w=i.map(M=>{var{data:O,scale:C={},axis:P={},legend:k={},encode:D={},transform:R=[]}=M,B=zE(M,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:BE(O,s),scale:Ft({},u,C),encode:Ft({},g,D),transform:[...m,...R],axis:P&&h?Ft({},h,P):!1,legend:k&&v?Ft({},v,k):!1},B)});return[Object.assign(Object.assign({},_),{marks:w,type:"standardView"})]};w2.props={};function S2(t){return t.replace(/-(\w)/g,function(i,a){return a.toUpperCase()})}function u$(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function $g(t,i){let a,s=-1,u=-1;if(i===void 0)for(const h of t)++u,h!=null&&(a<h||a===void 0&&h>=h)&&(a=h,s=u);else for(let h of t)(h=i(h,++u,t))!=null&&(a<h||a===void 0&&h>=h)&&(a=h,s=u);return s}function c$(t,i,a,s){const u=i.length/2,h=i.slice(0,u),v=i.slice(u);let g=$g(h,(C,P)=>Math.abs(C[1]-v[P][1]));g=Math.max(Math.min(g,u-2),1);const m=C=>[h[C][0],(h[C][1]+v[C][1])/2],_=m(g),w=m(g-1),M=m(g+1),O=sl(Di(M,w))/Math.PI*180;return{x:_[0],y:_[1],transform:`rotate(${O})`,textAlign:"center",textBaseline:"middle"}}function jF(t,i,a,s){const{bounds:u}=a,[[h,v],[g,m]]=u,_=g-h,w=m-v,M=O=>{const{x:C,y:P}=O,k=t3(a.x,_),D=t3(a.y,w);return Object.assign(Object.assign({},O),{x:(k||C)+h,y:(D||P)+v})};return M(t==="left"?{x:0,y:w/2,textAlign:"start",textBaseline:"middle"}:t==="right"?{x:_,y:w/2,textAlign:"end",textBaseline:"middle"}:t==="top"?{x:_/2,y:0,textAlign:"center",textBaseline:"top"}:t==="bottom"?{x:_/2,y:w,textAlign:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:t==="top-right"?{x:_,y:0,textAlign:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:w,textAlign:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:_,y:w,textAlign:"end",textBaseline:"bottom"}:{x:_/2,y:w/2,textAlign:"center",textBaseline:"middle"})}function VF(t,i,a,s){const{y:u,y1:h,autoRotate:v,rotateToAlignArc:g}=a,m=s.getCenter(),_=lh(s,i,[u,h]),{innerRadius:w,outerRadius:M,startAngle:O,endAngle:C}=_,P=t==="inside"?(O+C)/2:C,k=M2(P,v,g),D=(()=>{const[R,B]=i,z=w+(M-w)*.5,[j,V]=t==="inside"?G1(m,P,z):mm(R,B);return{x:j,y:V}})();return Object.assign(Object.assign({},D),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:k})}function G1(t,i,a){return[t[0]+Math.sin(i)*a,t[1]-Math.cos(i)*a]}function M2(t,i,a){if(!i)return 0;const s=a?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+s}function GF(t,i,a,s){const{y:u,y1:h,autoRotate:v,rotateToAlignArc:g,radius:m=.5,offset:_=0}=a,w=lh(s,i,[u,h]),{startAngle:M,endAngle:O}=w,C=s.getCenter(),P=(M+O)/2,D={textAlign:"center",textBaseline:"middle",rotate:M2(P,v,g)},{innerRadius:R,outerRadius:B}=w,j=R+(B-R)*m+_,[V,G]=G1(C,P,j);return Object.assign({x:V,y:G},D)}function WF(t){return t===void 0?null:t}function FE(t,i,a,s){const{bounds:u}=a,[h]=u;return{x:WF(h[0]),y:WF(h[1])}}function ac(t,i,a,s){const{bounds:u}=a;return u.length===1?FE(t,i,a,s):(mu(s)?VF:bu(s)?GF:jF)(t,i,a,s)}function HF(t,i,a,s,u){const[h,v]=G1(t,i,a),[g,m]=G1(t,i,s),_=Math.sin(i)>0?1:-1;return[[h,v],[g,m],[g+_*u,m]]}function T2(t,i,a){const s=lh(a,t,[i.y,i.y1]),{innerRadius:u,outerRadius:h}=s;return u+(h-u)}function YF(t,i,a){const s=lh(a,t,[i.y,i.y1]),{startAngle:u,endAngle:h}=s;return(u+h)/2}function as(t,i,a,s){const{autoRotate:u,rotateToAlignArc:h,offset:v=0,connector:g=!0,connectorLength:m=v,connectorLength2:_=0,connectorDistance:w=0}=a,M=s.getCenter(),O=YF(i,a,s),C=Math.sin(O)>0?1:-1,P=M2(O,u,h),k={textAlign:C>0||mu(s)?"start":"end",textBaseline:"middle",rotate:P},D=T2(i,a,s),R=D+(g?m:v),[[B,z],[j,V],[G,Y]]=HF(M,O,D,R,g?_:0),Z=g?+w*C:0,Q=G+Z,tt=Y,rt={connector:g,connectorPoints:[[j-Q,V-tt],[G-Q,Y-tt]]};return Object.assign(Object.assign({x0:B,y0:z,x:G+Z,y:Y},k),rt)}function f$(t,i,a,s){const{bounds:u}=a;return u.length===1?FE(t,i,a,s):(mu(s)?VF:bu(s)?as:jF)(t,i,a,s)}function UF(t,i={}){const{labelHeight:a=14,height:s}=i,u=su(t,_=>_.y),h=u.length,v=new Array(h);for(let _=0;_<h;_++){const w=u[_],{y:M}=w;v[_]={y:M,y1:M+a,labels:[M]}}let g=!0;for(;g;){g=!1;for(let _=v.length-1;_>0;_--){const w=v[_],M=v[_-1];if(M.y1>w.y){g=!0,M.labels.push(...w.labels),v.splice(_,1),M.y1+=w.y1-w.y;const O=M.y1-M.y;M.y1=Math.max(Math.min(M.y1,s),O),M.y=M.y1-O}}}let m=0;for(const _ of v){const{y:w,labels:M}=_;let O=w-a;for(const C of M){const P=u[m++],D=O+a-C;P.connectorPoints[0][1]-=D,P.y=O+a,O+=a}}}function XF(t,i){const a=su(t,g=>g.y),{height:s,labelHeight:u=14}=i,h=Math.ceil(s/u);if(a.length<=h)return UF(a,i);const v=[];for(let g=0;g<a.length;g++)g<a.length-h?(a[g].opacity=0,a[g].connector=!1):v.push(a[g]);UF(v,i)}var h$=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const O2=new WeakMap;function d$(t,i,a){const{connectorLength:s,connectorLength2:u,connectorDistance:h}=i,v=h$(as("outside",t,i,a),[]),g=a.getCenter(),m=T2(t,i,a),_=YF(t,i,a),w=m+s+u,M=Math.sin(_)>0?1:-1,O=g[0]+(w+ +h)*M,{x:C}=v,P=O-C;return v.x+=P,v.connectorPoints[0][0]-=P,v}function v$(t,i,a,s,u,h){if(!bu(s))return{};if(O2.has(i))return O2.get(i);const v=h.map(O=>d$(O,a,s)),{width:g,height:m}=s.getOptions(),_=v.filter(O=>O.x<g/2),w=v.filter(O=>O.x>=g/2),M=Object.assign(Object.assign({},u),{height:m});return XF(_,M),XF(w,M),v.forEach((O,C)=>O2.set(h[C],O)),O2.get(i)}var $F=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function jE(t,i,a,s){if(!bu(s))return{};const{connectorLength:u,connectorLength2:h,connectorDistance:v}=a,g=$F(as("outside",i,a,s),[]),{x0:m,y0:_}=g,w=s.getCenter(),O=fe(s)+u,C=rv([m-w[0],_-w[1]]),P=Math.sin(C)>0?1:-1,[k,D]=G1(w,C,O);return g.x=k+(h+v)*P,g.y=D,g}var VE=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function p$(t,i){return t!==void 0?t:bu(i)?"inside":qe(i)?"right":"top"}function g$(t,i,a,s,u,h){const{position:v}=i,{render:g}=u,m=p$(v,a),w=s[g?"htmlLabel":m==="inside"?"innerLabel":"label"],M=Object.assign({},w,i),O=re[S2(m)];if(!O)throw new Error(`Unknown position: ${m}`);return Object.assign(Object.assign({},w),O(m,t,M,a,u,h))}const qF=(t,i)=>{const{coordinate:a,theme:s}=i,{render:u}=t;return(h,v,g,m)=>{const{text:_,x:w,y:M,transform:O="",transformOrigin:C,className:P=""}=v,k=VE(v,["text","x","y","transform","transformOrigin","className"]),D=g$(h,v,a,s,t,m),{rotate:R=0,transform:B=""}=D,z=VE(D,["rotate","transform"]);return ir(new Em).call($e,z).style("text",`${_}`).style("className",`${P} g2-label`).style("innerHTML",u?u(_,v.datum,v.index):void 0).style("labelTransform",`${B} rotate(${+R}) ${O}`.trim()).style("labelTransformOrigin",C).style("coordCenter",a.getCenter()).call($e,k).node()}};qF.props={defaultMarker:"point"};const Pn={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"};function W1(t){return b2(t,i=>i.className==="component")}function ZF(t){return b2(t,i=>i.className==="element")}function GE(t){return b2(t,i=>i.className==="label")}function fa(t,i,a,s=u=>!0){return u=>{if(!s(u))return;a.emit(`plot:${t}`,u);const{target:h}=u;if(!h)return;const{className:v}=h;if(v==="plot")return;const g=ZF(h),m=W1(h),_=GE(h),w=g||m||_;if(!w)return;const{className:M,markType:O}=w,C=Object.assign(Object.assign({},u),{nativeEvent:!0});M==="element"?(C.data={data:q5(w)},a.emit(`element:${t}`,C),a.emit(`${O}:${t}`,C)):M==="label"?(C.data={data:w.attributes.datum},a.emit(`label:${t}`,C),a.emit(`${v}:${t}`,C)):(a.emit(`component:${t}`,C),a.emit(`${v}:${t}`,C))}}function KF(){return(t,i,a)=>{const{container:s,view:u}=t,h=fa(Pn.CLICK,u,a,Y=>Y.detail===1),v=fa(Pn.DBLCLICK,u,a,Y=>Y.detail===2),g=fa(Pn.POINTER_TAP,u,a),m=fa(Pn.POINTER_DOWN,u,a),_=fa(Pn.POINTER_UP,u,a),w=fa(Pn.POINTER_OVER,u,a),M=fa(Pn.POINTER_OUT,u,a),O=fa(Pn.POINTER_MOVE,u,a),C=fa(Pn.POINTER_ENTER,u,a),P=fa(Pn.POINTER_LEAVE,u,a),k=fa(Pn.POINTER_UPOUTSIDE,u,a),D=fa(Pn.DRAG_START,u,a),R=fa(Pn.DRAG,u,a),B=fa(Pn.DRAG_END,u,a),z=fa(Pn.DRAG_ENTER,u,a),j=fa(Pn.DRAG_LEAVE,u,a),V=fa(Pn.DRAG_OVER,u,a),G=fa(Pn.DROP,u,a);return s.addEventListener("click",h),s.addEventListener("click",v),s.addEventListener("pointertap",g),s.addEventListener("pointerdown",m),s.addEventListener("pointerup",_),s.addEventListener("pointerover",w),s.addEventListener("pointerout",M),s.addEventListener("pointermove",O),s.addEventListener("pointerenter",C),s.addEventListener("pointerleave",P),s.addEventListener("pointerupoutside",k),s.addEventListener("dragstart",D),s.addEventListener("drag",R),s.addEventListener("dragend",B),s.addEventListener("dragenter",z),s.addEventListener("dragleave",j),s.addEventListener("dragover",V),s.addEventListener("drop",G),()=>{s.removeEventListener("click",h),s.removeEventListener("click",v),s.removeEventListener("pointertap",g),s.removeEventListener("pointerdown",m),s.removeEventListener("pointerup",_),s.removeEventListener("pointerover",w),s.removeEventListener("pointerout",M),s.removeEventListener("pointermove",O),s.removeEventListener("pointerenter",C),s.removeEventListener("pointerleave",P),s.removeEventListener("pointerupoutside",k),s.removeEventListener("dragstart",D),s.removeEventListener("drag",R),s.removeEventListener("dragend",B),s.removeEventListener("dragenter",z),s.removeEventListener("dragleave",j),s.removeEventListener("dragover",V),s.removeEventListener("drop",G)}}}KF.props={reapplyWhenUpdate:!0};function y$(){return{"component.axisRadar":BF,"component.axisLinear":tf,"component.axisArc":$S,"component.legendContinuousBlock":zF,"component.legendContinuousBlockSize":NE,"component.legendContinuousSize":RE,"interaction.event":KF,"composition.mark":FF,"composition.view":w2,"shape.label.label":qF}}var m$=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Un(t,i){const a=Object.assign(Object.assign({},y$()),i),s=h=>{if(typeof h!="string")return h;const v=`${t}.${h}`;return a[v]||Jp(`Unknown Component: ${v}`)};return[(h,v)=>{const{type:g}=h,m=m$(h,["type"]);g||Jp("Plot type is required!");const _=s(g);return _==null?void 0:_(m,v)},s]}function QF(t){const{canvas:i,group:a}=t;return(i==null?void 0:i.document)||(a==null?void 0:a.ownerDocument)||Jp("Cannot find library document")}var JF=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},b$=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function _$(t,i,a){return JF(this,void 0,void 0,function*(){const[s,u]=yield t6(t,i,a),{encode:h,scale:v,data:g,tooltip:m}=u;if(Array.isArray(g)===!1)return null;const{channels:_}=i,w=tv(Object.entries(h).filter(([,O])=>zn(O)),O=>O.map(([C,P])=>Object.assign({name:C},P)),([O])=>{var C;const P=(C=/([^\d]+)\d*$/.exec(O))===null||C===void 0?void 0:C[1],k=_.find(D=>D.name===P);return k!=null&&k.independent?O:P}),M=_.filter(O=>{const{name:C,required:P}=O;if(w.find(([k])=>k===C))return!0;if(P)throw new Error(`Missing encoding for channel: ${C}.`);return!1}).flatMap(O=>{const{name:C,scale:P,scaleKey:k,range:D,quantitative:R,ordinal:B}=O;return w.filter(([j])=>j.startsWith(C)).map(([j,V],G)=>{const Y=V.some(q=>q.visual),Z=V.some(q=>q.constant),Q=v[j]||{},{independent:tt=!1,key:rt=k||j,type:ct=Z?"constant":Y?"identity":P}=Q,nt=b$(Q,["independent","key","type"]),lt=ct==="constant",ft=lt?void 0:D;return{name:j,values:V,scaleKey:tt||lt?Symbol("independent"):rt,scale:Object.assign(Object.assign({type:ct,range:ft},nt),{quantitative:R,ordinal:B})}})});return[u,Object.assign(Object.assign({},i),{index:s,channels:M,tooltip:m})]})}function x$(t){const[i]=Un("encode",t);return(a,s)=>s===void 0||a===void 0?null:Object.assign(Object.assign({},s),{type:"column",value:i(s)(a),field:w$(s)})}function t6(t,i,a){return JF(this,void 0,void 0,function*(){const{library:s}=a,[u]=Un("transform",s),{preInference:h=[],postInference:v=[]}=i,{transform:g=[]}=t,m=[Eq,o8,Sk,kq,Lq,Dq,Hh,iy,Mk,Iq,...h.map(u),...g.map(u),...v.map(u),Rq];let _=[],w=t;for(const M of m)[_,w]=yield M(_,w,a);return[_,w]})}function w$(t){const{type:i,value:a}=t;return i==="field"&&typeof a=="string"?a:null}function Ur(t){for(var i=t.length/6|0,a=new Array(i),s=0;s<i;)a[s]="#"+t.slice(s*6,++s*6);return a}var S$=Ur("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),e6=Ur("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),M$=Ur("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),T$=Ur("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),O$=Ur("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),r6=Ur("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),WE=Ur("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),A$=Ur("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),C$=Ur("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),P$=Ur("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),E$=Ur("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function A2(t,i,a){t.prototype=i.prototype=a,a.constructor=t}function HE(t,i){var a=Object.create(t.prototype);for(var s in i)a[s]=i[s];return a}function Vh(){}var Gh=.7,Dv=1/Gh,Iv="\\s*([+-]?\\d+)\\s*",qg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k$=/^#([0-9a-f]{3,8})$/,L$=new RegExp("^rgb\\(".concat(Iv,",").concat(Iv,",").concat(Iv,"\\)$")),Rv=new RegExp("^rgb\\(".concat(oc,",").concat(oc,",").concat(oc,"\\)$")),n6=new RegExp("^rgba\\(".concat(Iv,",").concat(Iv,",").concat(Iv,",").concat(qg,"\\)$")),C2=new RegExp("^rgba\\(".concat(oc,",").concat(oc,",").concat(oc,",").concat(qg,"\\)$")),D$=new RegExp("^hsl\\(".concat(qg,",").concat(oc,",").concat(oc,"\\)$")),H1=new RegExp("^hsla\\(".concat(qg,",").concat(oc,",").concat(oc,",").concat(qg,"\\)$")),i6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A2(Vh,Zg,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:a6,formatHex:a6,formatHex8:I$,formatHsl:Y1,formatRgb:o6,toString:o6});function a6(){return this.rgb().formatHex()}function I$(){return this.rgb().formatHex8()}function Y1(){return l6(this).formatHsl()}function o6(){return this.rgb().formatRgb()}function Zg(t){var i,a;return t=(t+"").trim().toLowerCase(),(i=k$.exec(t))?(a=i[1].length,i=parseInt(i[1],16),a===6?P2(i):a===3?new Ba(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):a===8?E2(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):a===4?E2(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=L$.exec(t))?new Ba(i[1],i[2],i[3],1):(i=Rv.exec(t))?new Ba(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=n6.exec(t))?E2(i[1],i[2],i[3],i[4]):(i=C2.exec(t))?E2(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=D$.exec(t))?UE(i[1],i[2]/100,i[3]/100,1):(i=H1.exec(t))?UE(i[1],i[2]/100,i[3]/100,i[4]):i6.hasOwnProperty(t)?P2(i6[t]):t==="transparent"?new Ba(NaN,NaN,NaN,0):null}function P2(t){return new Ba(t>>16&255,t>>8&255,t&255,1)}function E2(t,i,a,s){return s<=0&&(t=i=a=NaN),new Ba(t,i,a,s)}function s6(t){return t instanceof Vh||(t=Zg(t)),t?(t=t.rgb(),new Ba(t.r,t.g,t.b,t.opacity)):new Ba}function Nv(t,i,a,s){return arguments.length===1?s6(t):new Ba(t,i,a,s==null?1:s)}function Ba(t,i,a,s){this.r=+t,this.g=+i,this.b=+a,this.opacity=+s}A2(Ba,Nv,HE(Vh,{brighter:function(i){return i=i==null?Dv:Math.pow(Dv,i),new Ba(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=i==null?Gh:Math.pow(Gh,i),new Ba(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},clamp:function(){return new Ba(rf(this.r),rf(this.g),rf(this.b),sc(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YE,formatHex:YE,formatHex8:U1,formatRgb:Kg,toString:Kg}));function YE(){return"#".concat(nf(this.r)).concat(nf(this.g)).concat(nf(this.b))}function U1(){return"#".concat(nf(this.r)).concat(nf(this.g)).concat(nf(this.b)).concat(nf((isNaN(this.opacity)?1:this.opacity)*255))}function Kg(){var t=sc(this.opacity);return"".concat(t===1?"rgb(":"rgba(").concat(rf(this.r),", ").concat(rf(this.g),", ").concat(rf(this.b)).concat(t===1?")":", ".concat(t,")"))}function sc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nf(t){return t=rf(t),(t<16?"0":"")+t.toString(16)}function UE(t,i,a,s){return s<=0?t=i=a=NaN:a<=0||a>=1?t=i=NaN:i<=0&&(t=NaN),new hi(t,i,a,s)}function l6(t){if(t instanceof hi)return new hi(t.h,t.s,t.l,t.opacity);if(t instanceof Vh||(t=Zg(t)),!t)return new hi;if(t instanceof hi)return t;t=t.rgb();var i=t.r/255,a=t.g/255,s=t.b/255,u=Math.min(i,a,s),h=Math.max(i,a,s),v=NaN,g=h-u,m=(h+u)/2;return g?(i===h?v=(a-s)/g+(a<s)*6:a===h?v=(s-i)/g+2:v=(i-a)/g+4,g/=m<.5?h+u:2-h-u,v*=60):g=m>0&&m<1?0:v,new hi(v,g,m,t.opacity)}function k2(t,i,a,s){return arguments.length===1?l6(t):new hi(t,i,a,s==null?1:s)}function hi(t,i,a,s){this.h=+t,this.s=+i,this.l=+a,this.opacity=+s}A2(hi,k2,HE(Vh,{brighter:function(i){return i=i==null?Dv:Math.pow(Dv,i),new hi(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Gh:Math.pow(Gh,i),new hi(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+(this.h<0)*360,a=isNaN(i)||isNaN(this.s)?0:this.s,s=this.l,u=s+(s<.5?s:1-s)*a,h=2*s-u;return new Ba(XE(i>=240?i-240:i+120,h,u),XE(i,h,u),XE(i<120?i+240:i-120,h,u),this.opacity)},clamp:function(){return new hi(u6(this.h),X1(this.s),X1(this.l),sc(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=sc(this.opacity);return"".concat(i===1?"hsl(":"hsla(").concat(u6(this.h),", ").concat(X1(this.s)*100,"%, ").concat(X1(this.l)*100,"%").concat(i===1?")":", ".concat(i,")"))}}));function u6(t){return t=(t||0)%360,t<0?t+360:t}function X1(t){return Math.max(0,Math.min(1,t||0))}function XE(t,i,a){return(t<60?i+(a-i)*t/60:t<180?a:t<240?i+(a-i)*(240-t)/60:i)*255}function $E(t,i,a,s,u){var h=t*t,v=h*t;return((1-3*t+3*h-v)*i+(4-6*h+3*v)*a+(1+3*t+3*h-3*v)*s+v*u)/6}function R$(t){var i=t.length-1;return function(a){var s=a<=0?a=0:a>=1?(a=1,i-1):Math.floor(a*i),u=t[s],h=t[s+1],v=s>0?t[s-1]:2*u-h,g=s<i-1?t[s+2]:2*h-u;return $E((a-s/i)*i,v,u,h,g)}}function c6(t){var i=t.length;return function(a){var s=Math.floor(((a%=1)<0?++a:a)*i),u=t[(s+i-1)%i],h=t[s%i],v=t[(s+1)%i],g=t[(s+2)%i];return $E((a-s/i)*i,u,h,v,g)}}var qE=function(t){return function(){return t}};function L2(t,i){return function(a){return t+a*i}}function N$(t,i,a){return t=Math.pow(t,a),i=Math.pow(i,a)-t,a=1/a,function(s){return Math.pow(t+s*i,a)}}function ZE(t,i){var a=i-t;return a?L2(t,a>180||a<-180?a-360*Math.round(a/360):a):qE(isNaN(t)?i:t)}function B$(t){return(t=+t)==1?lc:function(i,a){return a-i?N$(i,a,t):qE(isNaN(i)?a:i)}}function lc(t,i){var a=i-t;return a?L2(t,a):qE(isNaN(t)?i:t)}var KE=function t(i){var a=B$(i);function s(u,h){var v=a((u=Nv(u)).r,(h=Nv(h)).r),g=a(u.g,h.g),m=a(u.b,h.b),_=lc(u.opacity,h.opacity);return function(w){return u.r=v(w),u.g=g(w),u.b=m(w),u.opacity=_(w),u+""}}return s.gamma=t,s}(1);function QE(t){return function(i){var a=i.length,s=new Array(a),u=new Array(a),h=new Array(a),v,g;for(v=0;v<a;++v)g=Nv(i[v]),s[v]=g.r||0,u[v]=g.g||0,h[v]=g.b||0;return s=t(s),u=t(u),h=t(h),g.opacity=1,function(m){return g.r=s(m),g.g=u(m),g.b=h(m),g+""}}}var JE=QE(R$),z$=QE(c6),di=t=>JE(t[t.length-1]),f6=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ur),F$=di(f6),h6=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ur),d6=di(h6),v6=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ur),j$=di(v6),p6=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ur),V$=di(p6),g6=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ur),y6=di(g6),m6=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ur),G$=di(m6),tk=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ur),b6=di(tk),_6=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ur),W$=di(_6),x6=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ur),D2=di(x6),w6=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ur),ek=di(w6),$1=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ur),S6=di($1),Qg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ur),M6=di(Qg),T6=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ur),H$=di(T6),I2=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ur),Y$=di(I2),O6=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ur),rk=di(O6),nk=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ur),ik=di(nk),A6=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ur),q1=di(A6),Jg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ur),C6=di(Jg),R2=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ur),ak=di(R2),P6=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ur),E6=di(P6),k6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ur),ty=di(k6),L6=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ur),U$=di(L6),D6=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ur),X$=di(D6),ok=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ur),sk=di(ok),lk=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ur),_nt=di(lk),N2=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ur),$$=di(N2),uk=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ur),ck=di(uk);function I6(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var R6=Math.PI/180,N6=180/Math.PI,B6=-.14861,Z1=1.78277,fk=-.29227,ey=-.90649,K1=1.97294,z6=K1*ey,hk=K1*Z1,dk=Z1*fk-ey*B6;function vk(t){if(t instanceof af)return new af(t.h,t.s,t.l,t.opacity);t instanceof Ba||(t=s6(t));var i=t.r/255,a=t.g/255,s=t.b/255,u=(dk*s+z6*i-hk*a)/(dk+z6-hk),h=s-u,v=(K1*(a-u)-fk*h)/ey,g=Math.sqrt(v*v+h*h)/(K1*u*(1-u)),m=g?Math.atan2(v,h)*N6-120:NaN;return new af(m<0?m+360:m,g,u,t.opacity)}function pl(t,i,a,s){return arguments.length===1?vk(t):new af(t,i,a,s==null?1:s)}function af(t,i,a,s){this.h=+t,this.s=+i,this.l=+a,this.opacity=+s}A2(af,pl,HE(Vh,{brighter:function(i){return i=i==null?Dv:Math.pow(Dv,i),new af(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=i==null?Gh:Math.pow(Gh,i),new af(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=isNaN(this.h)?0:(this.h+120)*R6,a=+this.l,s=isNaN(this.s)?0:this.s*a*(1-a),u=Math.cos(i),h=Math.sin(i);return new Ba(255*(a+s*(B6*u+Z1*h)),255*(a+s*(fk*u+ey*h)),255*(a+s*(K1*u)),this.opacity)}}));function B2(t){return function i(a){a=+a;function s(u,h){var v=t((u=pl(u)).h,(h=pl(h)).h),g=lc(u.s,h.s),m=lc(u.l,h.l),_=lc(u.opacity,h.opacity);return function(w){return u.h=v(w),u.s=g(w),u.l=m(Math.pow(w,a)),u.opacity=_(w),u+""}}return s.gamma=i,s}(1)}var F6=B2(ZE),Wh=B2(lc),pk=Wh(pl(300,.5,0),pl(-240,.5,1)),j6=Wh(pl(-100,.75,.35),pl(80,1.5,.8)),V6=Wh(pl(260,.75,.35),pl(80,1.5,.8)),ry=pl();function G6(t){(t<0||t>1)&&(t-=Math.floor(t));var i=Math.abs(t-.5);return ry.h=360*t-100,ry.s=1.5-1.5*i,ry.l=.8-.9*i,ry+""}var z2=Nv(),W6=Math.PI/3,H6=Math.PI*2/3;function q$(t){var i;return t=(.5-t)*Math.PI,z2.r=255*(i=Math.sin(t))*i,z2.g=255*(i=Math.sin(t+W6))*i,z2.b=255*(i=Math.sin(t+H6))*i,z2+""}function Z$(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function of(t){var i=t.length;return function(a){return t[Math.max(0,Math.min(i-1,Math.floor(a*i)))]}}var K$=of(Ur("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Bv=of(Ur("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Y6=of(Ur("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),U6=of(Ur("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),X6=Kt(17816),F2=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Q$(t,i,a){const[s]=Un("coordinate",a),{innerHeight:u,innerWidth:h,insetLeft:v,insetTop:g,insetRight:m,insetBottom:_}=t,{coordinates:w=[]}=i,M=nq(w),O=M[0].type==="cartesian3D",C=Object.assign(Object.assign({},t),{x:v,y:g,width:h-v-m,height:u-_-g,transformations:M.flatMap(s)});return O?new X6.Coordinate3D(C):new X6.Coordinate(C)}function $6(t,i){const{coordinate:a={},coordinates:s}=t,u=F2(t,["coordinate","coordinates"]);if(s)return t;const{type:h,transform:v=[]}=a,g=F2(a,["type","transform"]);if(!h)return Object.assign(Object.assign({},u),{coordinates:v});const[,m]=Un("coordinate",i),{transform:_=!1}=m(h).props||{};if(_)throw new Error(`Unknown coordinate: ${h}.`);return Object.assign(Object.assign({},u),{coordinates:[Object.assign({type:h},g),...v]})}function uu(t,i){return t.filter(a=>a.type===i)}function zv(t){return uu(t,"polar").length>0}function q6(t){return uu(t,"helix").length>0}function Q1(t){return uu(t,"transpose").length%2===1}function J$(t){return uu(t,"parallel").length>0}function gk(t){return uu(t,"theta").length>0}function tq(t){return uu(t,"reflect").length>0}function J1(t){return uu(t,"radial").length>0}function eq(t){return uu(t,"radar").length>0}function rq(t){return uu(t,"reflectY").length>0}function nq(t){return t.find(i=>i.type==="cartesian"||i.type==="cartesian3D")?t:[...t,{type:"cartesian"}]}function yk(t,i,a,s,u,h){const{guide:v={}}=a,g=hq(t,i,a);if(typeof g!="string")return a;const m=dq(g,t,i,a),_=uq(g,m,a);return Object.assign(Object.assign(Object.assign({},a),pq(g,t,i,a,s)),{domain:_,range:vq(g,t,i,a,_,u,h),expectedDomain:m,guide:v,name:t,type:g})}function iq(t,i){const a={};for(const s of t){const{values:u,name:h}=s,v=i[h];for(const g of u){const{name:m,value:_}=g;a[m]=_.map(w=>v.map(w))}}return a}function aq(t,i){const a=Array.from(t.values()).flatMap(u=>u.channels);tv(a,u=>u.map(h=>i.get(h.scale.uid)),u=>u.name).filter(([,u])=>u.some(h=>typeof h.getOptions().groupTransform=="function")&&u.every(h=>h.getTicks)).map(u=>u[1]).forEach(u=>{const h=u.map(v=>v.getOptions().groupTransform)[0];h(u)})}function oq(t,i){var a;const{components:s=[]}=i,u=["scale","encode","axis","legend","data","transform"],h=Array.from(new Set(t.flatMap(g=>g.channels.map(m=>m.scale)))),v=new Map(h.map(g=>[g.name,g]));for(const g of s){const m=j2(g);for(const _ of m){const w=v.get(_),M=((a=g.scale)===null||a===void 0?void 0:a[_])||{},{independent:O=!1}=M;if(w&&!O){const{guide:C}=w,P=typeof C=="boolean"?{}:C;w.guide=Ft({},P,g),Object.assign(w,M)}else{const C=Object.assign(Object.assign({},M),{expectedDomain:M.domain,name:_,guide:FS(g,u)});h.push(C)}}}return h}function sq(t){if(!t||!Array.isArray(t))return[ev,ev];let i,a;return[h=>{var v;i=h.map.bind(h),a=(v=h.invert)===null||v===void 0?void 0:v.bind(h);const g=t.filter(([O])=>typeof O=="function"),m=t.filter(([O])=>typeof O!="function"),_=new Map(m);if(h.map=O=>{for(const[C,P]of g)if(C(O))return P;return _.has(O)?_.get(O):i(O)},!a)return h;const w=new Map(m.map(([O,C])=>[C,O])),M=new Map(g.map(([O,C])=>[C,O]));return h.invert=O=>M.has(O)?O:w.has(O)?w.get(O):a(O),h},h=>(i!==null&&(h.map=i),a!==null&&(h.invert=a),h)]}function Z6(t,i){const a=Object.keys(t);for(const s of Object.values(i)){const{name:u}=s.getOptions();if(!(u in t))t[u]=s;else{const h=a.filter(m=>m.startsWith(u)).map(m=>+(m.replace(u,"")||0)),v=pn(h)+1,g=`${u}${v}`;t[g]=s,s.getOptions().key=g}}return t}function K6(t,i){const[a]=Un("scale",i),{relations:s}=t,[u]=sq(s),h=a(t);return u(h)}function lq(t){const i=t.flatMap(a=>Array.from(a.values())).flatMap(a=>a.channels.map(s=>s.scale));Q6(i,"x"),Q6(i,"y")}function j2(t){const{channels:i=[],type:a,scale:s={}}=t,u=["shape","color","opacity","size"];return i.length!==0?i:a==="axisX"?["x"]:a==="axisY"?["y"]:a==="legends"?Object.keys(s).filter(h=>u.includes(h)):[]}function Q6(t,i){const a=t.filter(({name:h,facet:v=!0})=>v&&h===i),s=a.flatMap(h=>h.domain),u=a.every(J6)?Gc(s):a.every(t8)?Array.from(new Set(s)):null;if(u!==null)for(const h of a)h.domain=u}function uq(t,i,a){const{ratio:s}=a;return s==null?i:J6({type:t})?cq(i,s,t):t8({type:t})?fq(i,s):i}function cq(t,i,a){const s=t.map(Number),u=new wo({domain:s,range:[s[0],s[0]+(s[s.length-1]-s[0])*i]});return a==="time"?t.map(h=>new Date(u.map(h))):t.map(h=>u.map(h))}function fq(t,i){const a=Math.round(t.length*i);return t.slice(0,a)}function J6(t){const{type:i}=t;return typeof i!="string"?!1:["linear","log","pow","time"].includes(i)}function t8(t){const{type:i}=t;return typeof i!="string"?!1:["band","point","ordinal"].includes(i)}function hq(t,i,a){const{type:s,domain:u,range:h,quantitative:v,ordinal:g}=a;return s!==void 0?s:Tq(i)?"identity":typeof h=="string"?"linear":(u||h||[]).length>2?mk(t,g):u!==void 0?n8([u])?mk(t,g):i8(i)?"time":bk(t,h,v):n8(i)?mk(t,g):i8(i)?"time":bk(t,h,v)}function dq(t,i,a,s){const{domain:u}=s;if(u!==void 0)return u;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return _k(r8(a,s),s);case"band":case"ordinal":case"point":return xk(a);case"quantile":return wq(a);case"sequential":return _k(Sq(a),s);default:return[]}}function vq(t,i,a,s,u,h,v){const{range:g}=s;if(typeof g=="string")return gq(g);if(g!==void 0)return g;const{rangeMin:m,rangeMax:_}=s;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const w=e8(a,s,u,h,v),[M,O]=Mq(i,w);return[m!=null?m:M,_!=null?_:O]}case"band":case"point":{const w=i==="size"?5:0,M=i==="size"?10:1;return[m!=null?m:w,_!=null?_:M]}case"ordinal":return e8(a,s,u,h,v);case"sequential":return;case"constant":return[a[0][0]];default:return[]}}function pq(t,i,a,s,u){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return bq(u,s);case"band":case"point":return _q(t,i,u,s);case"sequential":return mq(s);default:return s}}function e8(t,i,a,s,u){const[h]=Un("palette",u),{category10:v,category20:g}=s,m=i3(a).length<=v.length?v:g,{palette:_=m,offset:w}=i;if(Array.isArray(_))return _;try{return h({type:_})}catch(M){const O=yq(_,a,w);if(O)return O;throw new Error(`Unknown Component: ${_} `)}}function gq(t){return t.split("-")}function yq(t,i,a=s=>s){if(!t)return null;const s=Jc(t),u=Ot[`scheme${s}`],h=Ot[`interpolate${s}`];if(!u&&!h)return null;if(u){if(!u.some(Array.isArray))return u;const v=u[i.length];if(v)return v}return i.map((v,g)=>h(a(g/i.length)))}function mq(t){const{palette:i="ylGnBu",offset:a}=t,s=Jc(i),u=Ot[`interpolate${s}`];if(!u)throw new Error(`Unknown palette: ${s}`);return{interpolator:a?h=>u(a(h)):u}}function bq(t,i){const{interpolate:a=oh,nice:s=!1,tickCount:u=5}=i;return Object.assign(Object.assign({},i),{interpolate:a,nice:s,tickCount:u})}function _q(t,i,a,s){if(s.padding!==void 0||s.paddingInner!==void 0||s.paddingOuter!==void 0)return Object.assign(Object.assign({},s),{unknown:NaN});const u=xq(t,i,a),{paddingInner:h=u,paddingOuter:v=u}=s;return Object.assign(Object.assign({},s),{paddingInner:h,paddingOuter:v,padding:u,unknown:NaN})}function xq(t,i,a){return i==="enterDelay"||i==="enterDuration"||i==="size"?0:t==="band"?gk(a)?0:.1:t==="point"?.5:0}function mk(t,i){return i||(Oq(t)?"point":"ordinal")}function bk(t,i,a){return a||(t!=="color"||i?"linear":"sequential")}function _k(t,i){if(t.length===0)return t;const{domainMin:a,domainMax:s}=i,[u,h]=t;return[a!=null?a:u,s!=null?s:h]}function r8(t,i){const{zero:a=!1}=i;let s=1/0,u=-1/0;for(const h of t)for(const v of h)zn(v)&&(s=Math.min(s,+v),u=Math.max(u,+v));return s===1/0?[]:a?[Math.min(0,s),u]:[s,u]}function xk(t){return Array.from(new Set(t.flat()))}function wq(t){return t.flat().sort()}function Sq(t){let i=1/0,a=-1/0;for(const s of t)for(const u of s)zn(u)&&(i=Math.min(i,+u),a=Math.max(a,+u));return i===1/0?[]:[i<0?-a:i,a]}function Mq(t,i){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[n3(i),KA(i)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function n8(t){return wk(t,i=>{const a=typeof i;return a==="string"||a==="boolean"})}function i8(t){return wk(t,i=>i instanceof Date)}function Tq(t){return wk(t,tg)}function wk(t,i){for(const a of t)if(a.some(i))return!0;return!1}function Oq(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function Aq(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function Cq(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:i,domain:a,range:s,interpolator:u}=t,h=a&&a.length>0,v=s&&s.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(i)&&h&&v||["sequential"].includes(i)&&h&&(v||u)||["constant","identity"].includes(i)&&v)}var Pq=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},ny=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const a8=Symbol("CALLBACK_ITEM");function Eq(t,i,a){const{encode:s={},scale:u={},transform:h=[]}=i,v=ny(i,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},v),{encode:s,scale:u,transform:h})]}function o8(t,i,a){return Pq(this,void 0,void 0,function*(){const{library:s}=a,{data:u}=i,[h]=Un("data",s),v=u8(u),{transform:g=[]}=v,w=[ny(v,["transform"]),...g].map(C=>h(C,a)),M=yield K5(w)(u),O=u&&!Array.isArray(u)&&!Array.isArray(M)?{value:M}:M;return[Array.isArray(M)?Hu(M):[],Object.assign(Object.assign({},i),{data:O})]})}function Sk(t,i,a){const{encode:s}=i;if(!s)return[t,i];const u={};for(const[h,v]of Object.entries(s))if(Array.isArray(v))for(let g=0;g<v.length;g++){const m=`${h}${g===0?"":g}`;u[m]=v[g]}else u[h]=v;return[t,Object.assign(Object.assign({},i),{encode:u})]}function kq(t,i,a){const{encode:s,data:u}=i;if(!s)return[t,i];const h=ma(s,v=>Tk(v)?v:{type:s8(u,v),value:v});return[t,Object.assign(Object.assign({},i),{encode:h})]}function Lq(t,i,a){const{encode:s}=i;if(!s)return[t,i];const u=ma(s,(h,v)=>{const{type:g}=h;return g!=="constant"||Aq(v)?h:Object.assign(Object.assign({},h),{constant:!0})});return[t,Object.assign(Object.assign({},i),{encode:u})]}function Dq(t,i,a){const{encode:s,data:u}=i;if(!s)return[t,i];const{library:h}=a,v=x$(h),g=ma(s,m=>v(u,m));return[t,Object.assign(Object.assign({},i),{encode:g})]}function Iq(t,i,a){const{tooltip:s={}}=i;return Wu(s)?[t,i]:Array.isArray(s)?[t,Object.assign(Object.assign({},i),{tooltip:{items:s}})]:tg(s)&&RF(s)?[t,Object.assign(Object.assign({},i),{tooltip:s})]:[t,Object.assign(Object.assign({},i),{tooltip:{items:[s]}})]}function Rq(t,i,a){const{data:s,encode:u,tooltip:h={}}=i;if(Wu(h))return[t,i];const v=M=>{if(!M)return M;if(typeof M=="string")return t.map(O=>({name:M,value:s[O][M]}));if(tg(M)){const{field:O,channel:C,color:P,name:k=O,valueFormatter:D=G=>G}=M,R=typeof D=="string"?Ph(D):D,B=C&&u[C],z=B&&u[C].field,j=k||z||C,V=[];for(const G of t){const Y=O?s[G][O]:B?u[C].value[G]:null;V[G]={name:j,color:P,value:R(Y)}}return V}if(typeof M=="function"){const O=[];for(const C of t){const P=M(s[C],C,s,u);tg(P)?O[C]=Object.assign(Object.assign({},P),{[a8]:!0}):O[C]={value:P}}return O}return M},{title:g,items:m=[]}=h,_=ny(h,["title","items"]),w=Object.assign({title:v(g),items:Array.isArray(m)?m.map(v):[]},_);return[t,Object.assign(Object.assign({},i),{tooltip:w})]}function Hh(t,i,a){const{encode:s}=i,u=ny(i,["encode"]);if(!s)return[t,i];const h=Object.entries(s),v=h.filter(([,m])=>{const{value:_}=m;return Array.isArray(_[0])}).flatMap(([m,_])=>{const w=[[m,new Array(t.length).fill(void 0)]],{value:M}=_,O=ny(_,["value"]);for(let C=0;C<M.length;C++){const P=M[C];if(Array.isArray(P))for(let k=0;k<P.length;k++){const D=w[k]||[`${m}${k}`,new Array(t).fill(void 0)];D[1][C]=P[k],w[k]=D}}return w.map(([C,P])=>[C,Object.assign({type:"column",value:P},O)])}),g=Object.fromEntries([...h,...v]);return[t,Object.assign(Object.assign({},u),{encode:g})]}function Mk(t,i,a){const{axis:s={},legend:u={},slider:h={},scrollbar:v={}}=i,g=(_,w)=>{if(typeof _=="boolean")return _?{}:null;const M=_[w];return M===void 0||M?M:null},m=typeof s=="object"?Array.from(new Set(["x","y","z",...Object.keys(s)])):["x","y","z"];return Ft(i,{scale:Object.assign(Object.assign({},Object.fromEntries(m.map(_=>{const w=g(v,_);return[_,Object.assign({guide:g(s,_),slider:g(h,_),scrollbar:w},w&&{ratio:w.ratio===void 0?.5:w.ratio})]}))),{color:{guide:g(u,"color")},size:{guide:g(u,"size")},shape:{guide:g(u,"shape")},opacity:{guide:g(u,"opacity")}})}),[t,i]}function iy(t,i,a){const{animate:s}=i;return s||s===void 0?[t,i]:(Ft(i,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,i])}function Tk(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:i}=t;return zn(i)}function s8(t,i){return typeof i=="function"?"transform":typeof i=="string"&&l8(t,i)?"field":"constant"}function l8(t,i){return Array.isArray(t)?t.some(a=>a[i]!==void 0):!1}function u8(t){if(yn(t))return{type:"inline",value:t};if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:i="inline"}=t,a=ny(t,["type"]);return Object.assign(Object.assign({},a),{type:i})}var Fv=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function tb(t,i){return i?typeof i=="string"?document.querySelector(i):i:t.ownerDocument.defaultView.getContextService().getDomElement().parentElement}function Nq(t){const i=t.getRenderBounds(),{min:[a,s],max:[u,h]}=i;return{x:a,y:s,width:u-a,height:h-s}}function Bq(t,i){const a=t.getBoundingClientRect(),s=i.getBoundingClientRect();return{x:a.x-s.x,y:a.y-s.y}}function V2(t,i,a,s,u,h,v,g={},m=[10,10]){const _={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},w=new IF({className:"tooltip",style:{x:i,y:a,container:v,data:[],bounding:h,position:s,enterable:u,title:"",offset:m,template:{prefixCls:"g2-"},style:Ft(_,g)}});return t.appendChild(w.HTMLTooltipElement),w}function c8({root:t,data:i,x:a,y:s,render:u,event:h,single:v,position:g="right-bottom",enterable:m=!1,css:_,mount:w,bounding:M,offset:O}){const C=tb(t,w),P=tb(t),k=v?P:t,D=M||Nq(t),R=Bq(P,C),{tooltipElement:B=V2(C,a,s,g,m,D,R,_,O)}=k,{items:z,title:j=""}=i;B.update(Object.assign({x:a,y:s,data:z,title:j,position:g,enterable:m,container:R},u!==void 0&&{content:u(h,{items:z,title:j})})),k.tooltipElement=B}function Yh({root:t,single:i,emitter:a,nativeEvent:s=!0,event:u=null}){s&&a.emit("tooltip:hide",{nativeEvent:s});const h=tb(t),v=i?h:t,{tooltipElement:g}=v;g&&g.hide(u==null?void 0:u.clientX,u==null?void 0:u.clientY),Vv(t),d8(t),v8(t)}function Ok({root:t,single:i}){const a=tb(t),s=i?a:t;if(!s)return;const{tooltipElement:u}=s;u&&(u.destroy(),s.tooltipElement=void 0),Vv(t),d8(t),v8(t)}function f8(t){const{value:i}=t;return Object.assign(Object.assign({},t),{value:i===void 0?"undefined":i})}function zq(t){const{__data__:i}=t,{title:a,items:s=[]}=i,u=s.filter(zn).map(h=>{var{color:v=h8(t)}=h,g=Fv(h,["color"]);return Object.assign(Object.assign({},g),{color:v})}).map(f8);return Object.assign(Object.assign({},a&&{title:a}),{items:u})}function h8(t){const i=t.getAttribute("fill"),a=t.getAttribute("stroke"),{__data__:s}=t,{color:u=i&&i!=="transparent"?i:a}=s;return u}function Ak(t,i=a=>a){const a=new Map(t.map(s=>[i(s),s]));return Array.from(a.values())}function Ck(t,i,a,s=t.map(h=>h.__data__),u={}){const h=m=>m instanceof Date?+m:m,v=Ak(s.map(m=>m.title),h).filter(zn),g=s.flatMap((m,_)=>{const w=t[_],{items:M=[],title:O}=m,C=M.filter(zn),P=a!==void 0?a:M.length<=1;return C.map(k=>{var{color:D=h8(w)||u.color,name:R}=k,B=Fv(k,["color","name"]);const z=Z5(i,m),j=P&&!(a8 in B)?z||R:R||z;return Object.assign(Object.assign({},B),{color:D,name:j||O})})}).map(f8);return Object.assign(Object.assign({},v.length>0&&{title:v.join(",")}),{items:Ak(g,m=>`(${h(m.name)}, ${h(m.value)}, ${h(m.color)})`)})}function jv(t,i,a,s){var{plotWidth:u,plotHeight:h,mainWidth:v,mainHeight:g,startX:m,startY:_,transposed:w,polar:M,insetLeft:O,insetTop:C}=s,P=Fv(s,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const k=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},P),D=(G,Y,Z)=>{const Q=new Xl({style:Object.assign({cx:G,cy:Y,r:Z},k)});return t.appendChild(Q),Q},R=(G,Y,Z,Q)=>{const tt=new $d({style:Object.assign({x1:G,x2:Y,y1:Z,y2:Q},k)});return t.appendChild(tt),tt},z=((G,Y)=>{if(Y.length===1)return Y[0];const Z=Y.map(tt=>ci(tt,G)),Q=F1(Z,tt=>tt);return Y[Q]})(a,i),j=()=>w?[m+z[0],m+z[0],_,_+h]:[m,m+u,z[1]+_,z[1]+_],V=()=>{const G=m+O+v/2,Y=_+C+g/2,Z=ci([G,Y],z);return[G,Y,Z]};if(M){const[G,Y,Z]=V(),Q=t.ruleX||D(G,Y,Z);Q.style.cx=G,Q.style.cy=Y,Q.style.r=Z,t.ruleX=Q}else{const[G,Y,Z,Q]=j(),tt=t.ruleX||R(G,Y,Z,Q);tt.style.x1=G,tt.style.x2=Y,tt.style.y1=Z,tt.style.y2=Q,t.ruleX=tt}}function eb(t,i,a){var{plotWidth:s,plotHeight:u,mainWidth:h,mainHeight:v,startX:g,startY:m,transposed:_,polar:w,insetLeft:M,insetTop:O}=a,C=Fv(a,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const P=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},C),k=i.map(Q=>Q[1]),D=i.map(Q=>Q[0]),R=Xg(k),B=Xg(D),z=()=>{if(w){const Q=Math.min(h,v)/2,tt=g+M+h/2,rt=m+O+v/2,ct=sl(Di([B,R],[tt,rt])),nt=tt+Q*Math.cos(ct),lt=rt+Q*Math.sin(ct);return[tt,nt,rt,lt]}return _?[g,g+s,R+m,R+m]:[B+g,B+g,m,m+u]},[j,V,G,Y]=z(),Z=()=>{const Q=new $d({style:Object.assign({x1:j,x2:V,y1:G,y2:Y},P)});return t.appendChild(Q),Q};if(D.length>0){const Q=t.ruleY||Z();Q.style.x1=j,Q.style.x2=V,Q.style.y1=G,Q.style.y2=Y,t.ruleY=Q}}function Vv(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function d8(t){t.ruleX&&(t.ruleX.remove(),t.ruleX=void 0)}function Fq(t,{data:i,style:a,theme:s}){t.markers&&t.markers.forEach(v=>v.remove());const{type:u=""}=a,h=i.filter(v=>{const[{x:g,y:m}]=v;return zn(g)&&zn(m)}).map(v=>{const[{color:g,element:m},_]=v,w=g||m.style.fill||m.style.stroke||s.color,M=u==="hollow"?"transparent":w,O=u==="hollow"?w:"#fff";return new Xl({className:"g2-tooltip-marker",style:Object.assign({cx:_[0],cy:_[1],fill:M,r:4,stroke:O,lineWidth:2},a)})});for(const v of h)t.appendChild(v);t.markers=h}function v8(t){t.markers&&(t.markers.forEach(i=>i.remove()),t.markers=[])}function p8(t,i){return Array.from(t.values()).some(a=>{var s;return(s=a.interaction)===null||s===void 0?void 0:s[i]})}function uc(t,i){return t===void 0?i:t}function g8(t){const{title:i,items:a}=t;return a.length===0&&i===void 0}function jq(t){return Array.from(t.values()).some(i=>{var a;return((a=i.interaction)===null||a===void 0?void 0:a.seriesTooltip)&&i.tooltip})}function Pk(t,i){var{elements:a,sort:s,filter:u,scale:h,coordinate:v,crosshairs:g,crosshairsX:m,crosshairsY:_,render:w,groupName:M,emitter:O,wait:C=50,leading:P=!0,trailing:k=!1,startX:D=0,startY:R=0,body:B=!0,single:z=!0,position:j,enterable:V,mount:G,bounding:Y,theme:Z,offset:Q,disableNative:tt=!1,marker:rt=!0,preserve:ct=!1,style:nt={},css:lt={}}=i,ft=Fv(i,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const q=a(t),H=qe(v),U=ce(v),J=Ft(nt,ft),{innerWidth:st,innerHeight:ut,width:mt,height:xt,insetLeft:Ct,insetTop:kt}=v.getOptions(),jt=[],Bt=[];for(const or of q){const{__data__:Nr}=or,{seriesX:sn,title:cn,items:Si}=Nr;sn?jt.push(or):(cn||Si)&&Bt.push(or)}const Zt=or=>or.markType==="interval",Oe=Bt.length&&Bt.every(Zt)&&!ce(v),se=or=>or.__data__.x,_e=!!h.x.getBandWidth&&Bt.length>0;jt.sort((or,Nr)=>{const sn=H?0:1,cn=Si=>Si.getBounds().min[sn];return H?cn(Nr)-cn(or):cn(or)-cn(Nr)});const We=or=>{const Nr=H?1:0,{min:sn,max:cn}=or.getLocalBounds();return su([sn[Nr],cn[Nr]])};Oe?q.sort((or,Nr)=>se(or)-se(Nr)):Bt.sort((or,Nr)=>{const[sn,cn]=We(or),[Si,Sa]=We(Nr),Ma=(sn+cn)/2,Ho=(Si+Sa)/2;return H?Ho-Ma:Ma-Ho});const ur=new Map(jt.map(or=>{const{__data__:Nr}=or,{seriesX:sn}=Nr,cn=sn.map((Sa,Ma)=>Ma),Si=su(cn,Sa=>sn[+Sa]);return[or,[Si,sn]]})),{x:mr}=h,on=mr!=null&&mr.getBandWidth?mr.getBandWidth()/2:0,Tr=or=>{const[Nr]=v.invert(or);return Nr-on},Ir=(or,Nr,sn,cn)=>{const{_x:Si}=or,Sa=Si!==void 0?mr.map(Si):Tr(Nr),Ma=cn.filter(zn),[Ho,pc]=su([Ma[0],Ma[Ma.length-1]]),xf=Ho===pc;if(!_e&&(Sa<Ho||Sa>pc)&&!xf)return null;const ET=Lh(sp=>cn[+sp]).center,LI=ET(sn,Sa);return sn[LI]},Xn=Oe?(or,Nr)=>{const sn=Lh(se).center,cn=sn(Nr,Tr(or)),Si=Nr[cn];return Bn(Nr,se).get(se(Si))}:(or,Nr)=>{const cn=or[H?1:0],Si=Nr.filter(Ho=>{const[pc,xf]=We(Ho);return cn>=pc&&cn<=xf});if(!_e||Si.length>0)return Si;const Sa=Lh(Ho=>{const[pc,xf]=We(Ho);return(pc+xf)/2}).center,Ma=Sa(Nr,cn);return[Nr[Ma]].filter(zn)},za=(or,Nr)=>{const{__data__:sn}=or;return Object.fromEntries(Object.entries(sn).filter(([cn])=>cn.startsWith("series")&&cn!=="series").map(([cn,Si])=>{const Sa=Si[Nr];return[V5(cn.replace("series","")),Sa]}))},po=Fh(or=>{var Nr;const sn=Ev(t,or);if(!sn)return;const cn=_F(t),Si=cn.min[0],Sa=cn.min[1],Ma=[sn[0]-D,sn[1]-R];if(!Ma)return;const Ho=Xn(Ma,Bt),pc=[],xf=[];for(const Va of jt){const[DI,Iet]=ur.get(Va),II=Ir(or,Ma,DI,Iet);if(II!==null){pc.push(Va);const g9=za(Va,II),{x:mot,y:bot}=g9,_ot=v.map([(mot||0)+on,bot||0]);xf.push([Object.assign(Object.assign({},g9),{element:Va}),_ot])}}const ET=Array.from(new Set(xf.map(Va=>Va[0].x))),LI=ET[F1(ET,Va=>Math.abs(Va-Tr(Ma)))],sp=xf.filter(Va=>Va[0].x===LI),Let=[...sp.map(Va=>Va[0]),...Ho.map(Va=>Va.__data__)],p9=[...pc,...Ho],kT=Ck(p9,h,M,Let,Z);if(s&&kT.items.sort((Va,DI)=>s(Va)-s(DI)),u&&(kT.items=kT.items.filter(u)),p9.length===0||g8(kT)){Ri(or);return}if(B&&c8({root:t,data:kT,x:sn[0]+Si,y:sn[1]+Sa,render:w,event:or,single:z,position:j,enterable:V,mount:G,bounding:Y,css:lt,offset:Q}),g||m||_){const Va=Te(J,"crosshairs"),DI=Object.assign(Object.assign({},Va),Te(J,"crosshairsX")),Iet=Object.assign(Object.assign({},Va),Te(J,"crosshairsY")),II=sp.map(g9=>g9[1]);m&&jv(t,II,sn,Object.assign(Object.assign({},DI),{plotWidth:st,plotHeight:ut,mainWidth:mt,mainHeight:xt,insetLeft:Ct,insetTop:kt,startX:D,startY:R,transposed:H,polar:U})),_&&eb(t,II,Object.assign(Object.assign({},Iet),{plotWidth:st,plotHeight:ut,mainWidth:mt,mainHeight:xt,insetLeft:Ct,insetTop:kt,startX:D,startY:R,transposed:H,polar:U}))}if(rt){const Va=Te(J,"marker");Fq(t,{data:sp,style:Va,theme:Z})}const Det=(Nr=sp[0])===null||Nr===void 0?void 0:Nr[0].x,yot=Det!=null?Det:Tr(Ma);O.emit("tooltip:show",Object.assign(Object.assign({},or),{nativeEvent:!0,data:Object.assign(Object.assign({},kT),{data:{x:Vg(h.x,yot,!0)}})}))},C,{leading:P,trailing:k}),Ri=or=>{Yh({root:t,single:z,emitter:O,event:or})},Za=()=>{Ok({root:t,single:z})},Fa=or=>{var Nr,{nativeEvent:sn,data:cn,offsetX:Si,offsetY:Sa}=or,Ma=Fv(or,["nativeEvent","data","offsetX","offsetY"]);if(sn)return;const Ho=(Nr=cn==null?void 0:cn.data)===null||Nr===void 0?void 0:Nr.x,xf=h.x.map(Ho),[ET,LI]=v.map([xf,.5]),sp=t.getRenderBounds(),Let=sp.min[0],p9=sp.min[1];po(Object.assign(Object.assign({},Ma),{offsetX:Si!==void 0?Si:Let+ET,offsetY:Sa!==void 0?Sa:p9+LI,_x:Ho}))},Ka=()=>{Yh({root:t,single:z,emitter:O,nativeEvent:!1})},wi=()=>{Qa(),Za()},ja=()=>{Wo()},Wo=()=>{tt||(t.addEventListener("pointerenter",po),t.addEventListener("pointermove",po),t.addEventListener("pointerleave",or=>{Ev(t,or)||Ri(or)}))},Qa=()=>{tt||(t.removeEventListener("pointerenter",po),t.removeEventListener("pointermove",po),t.removeEventListener("pointerleave",Ri))};return Wo(),O.on("tooltip:show",Fa),O.on("tooltip:hide",Ka),O.on("tooltip:disable",wi),O.on("tooltip:enable",ja),()=>{Qa(),O.off("tooltip:show",Fa),O.off("tooltip:hide",Ka),O.off("tooltip:disable",wi),O.off("tooltip:enable",ja),ct?Yh({root:t,single:z,emitter:O,nativeEvent:!1}):Za()}}function Vq(t,{elements:i,coordinate:a,scale:s,render:u,groupName:h,sort:v,filter:g,emitter:m,wait:_=50,leading:w=!0,trailing:M=!1,groupKey:O=rt=>rt,single:C=!0,position:P,enterable:k,datum:D,view:R,mount:B,bounding:z,theme:j,offset:V,shared:G=!1,body:Y=!0,disableNative:Z=!1,preserve:Q=!1,css:tt={}}){var rt,ct;const nt=i(t),lt=Bn(nt,O),ft=he=>he.markType==="interval",q=nt.every(ft)&&!ce(a),H=s.x,U=s.series,J=(ct=(rt=H==null?void 0:H.getBandWidth)===null||rt===void 0?void 0:rt.call(H))!==null&&ct!==void 0?ct:0,st=U?he=>{const _e=Math.round(1/U.valueBandWidth);return he.__data__.x+he.__data__.series*J+J/(_e*2)}:he=>he.__data__.x+J/2;q&&nt.sort((he,_e)=>st(he)-st(_e));const ut=he=>{const{target:_e}=he;return b2(_e,We=>We.classList?We.classList.includes("element"):!1)},mt=q?he=>{const _e=Ev(t,he);if(!_e)return;const[We]=a.invert(_e),ur=Lh(st).center,mr=ur(nt,We),on=nt[mr];return!G&&nt.find(Ir=>Ir!==on&&st(Ir)===st(on))?ut(he):on}:ut,xt=Fh(he=>{const _e=mt(he);if(!_e){Yh({root:t,single:C,emitter:m,event:he});return}const We=O(_e),ur=lt.get(We);if(!ur)return;const mr=ur.length===1&&!G?zq(ur[0]):Ck(ur,s,h,void 0,j);if(v&&mr.items.sort((Ir,Xn)=>v(Ir)-v(Xn)),g&&(mr.items=mr.items.filter(g)),g8(mr)){Yh({root:t,single:C,emitter:m,event:he});return}const{offsetX:on,offsetY:Tr}=he;Y&&c8({root:t,data:mr,x:on,y:Tr,render:u,event:he,single:C,position:P,enterable:k,mount:B,bounding:z,css:tt,offset:V}),m.emit("tooltip:show",Object.assign(Object.assign({},he),{nativeEvent:!0,data:Object.assign(Object.assign({},mr),{data:q5(_e)})}))},_,{leading:w,trailing:M}),Ct=he=>{Yh({root:t,single:C,emitter:m,event:he})},kt=()=>{Z||(t.addEventListener("pointermove",xt),t.addEventListener("pointerleave",Ct))},jt=()=>{Z||(t.removeEventListener("pointermove",xt),t.removeEventListener("pointerleave",Ct))},Bt=({nativeEvent:he,offsetX:_e,offsetY:We,data:ur})=>{if(he)return;const{data:mr}=ur,on=EE(nt,mr,D);if(!on)return;const Tr=on.getBBox(),{x:Ir,y:Xn,width:za,height:po}=Tr,Ri=t.getBBox();xt({target:on,offsetX:_e!==void 0?_e+Ri.x:Ir+za/2,offsetY:We!==void 0?We+Ri.y:Xn+po/2})},Zt=({nativeEvent:he}={})=>{he||Yh({root:t,single:C,emitter:m,nativeEvent:!1})},Oe=()=>{jt(),Ok({root:t,single:C})},se=()=>{kt()};return m.on("tooltip:show",Bt),m.on("tooltip:hide",Zt),m.on("tooltip:enable",se),m.on("tooltip:disable",Oe),kt(),()=>{jt(),m.off("tooltip:show",Bt),m.off("tooltip:hide",Zt),Q?Yh({root:t,single:C,emitter:m,nativeEvent:!1}):Ok({root:t,single:C})}}function y8(t){const{shared:i,crosshairs:a,crosshairsX:s,crosshairsY:u,series:h,name:v,item:g=()=>({}),facet:m=!1}=t,_=Fv(t,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(w,M,O)=>{const{container:C,view:P}=w,{scale:k,markState:D,coordinate:R,theme:B}=P,z=p8(D,"seriesTooltip"),j=p8(D,"crosshairs"),V=nc(C),G=uc(h,z),Y=uc(a,j);if(G&&jq(D)&&!m)return Pk(V,Object.assign(Object.assign({},_),{theme:B,elements:Nh,scale:k,coordinate:R,crosshairs:Y,crosshairsX:uc(uc(s,a),!1),crosshairsY:uc(u,Y),item:g,emitter:O}));if(G&&m){const Z=M.filter(lt=>lt!==w&&lt.options.parentKey===w.options.key),Q=bF(w,M),tt=Z[0].view.scale,rt=V.getBounds(),ct=rt.min[0],nt=rt.min[1];return Object.assign(tt,{facet:!0}),Pk(V.parentNode.parentNode,Object.assign(Object.assign({},_),{theme:B,elements:()=>Q,scale:tt,coordinate:R,crosshairs:uc(a,j),crosshairsX:uc(uc(s,a),!1),crosshairsY:uc(u,Y),item:g,startX:ct,startY:nt,emitter:O}))}return Vq(V,Object.assign(Object.assign({},_),{datum:js(P),elements:Nh,scale:k,coordinate:R,groupKey:i?g2(P):void 0,item:g,emitter:O,view:P,theme:B,shared:i}))}}y8.props={reapplyWhenUpdate:!0};var rb=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})};const Ek="legend-category",m8="legend-continuous",b8="items-item",kk="legend-category-item-marker",Lk="legend-category-item-label";function G2(t){return t.getElementsByClassName(kk)[0]}function Dk(t){return t.getElementsByClassName(Lk)[0]}function W2(t){return t.getElementsByClassName(b8)}function sf(t){return t.getElementsByClassName(Ek)}function _8(t){return t.getElementsByClassName(m8)}function x8(t,i){[...sf(t),..._8(t)].forEach(s=>{i(s,u=>u)})}function H2(t){let i=t.parentNode;for(;i&&!i.__data__;)i=i.parentNode;return i.__data__}function Gq(t){let i=t;for(;i&&!i.attr("class").startsWith("legend");)i=i.children[0];return i.attributes}function Ik(t,{legends:i,marker:a,label:s,datum:u,filter:h,emitter:v,channel:g,state:m={}}){const _=new Map,w=new Map,M=new Map,{unselected:O={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=m,C={unselected:Te(O,"marker")},P={unselected:Te(O,"label")},{setState:k,removeState:D}=jo(C,void 0),{setState:R,removeState:B}=jo(P,void 0),z=Array.from(i(t));let j=z.map(u);const V=()=>{for(const Z of z){const Q=u(Z),tt=a(Z),rt=s(Z);j.includes(Q)?(D(tt,"unselected"),B(rt,"unselected")):(k(tt,"unselected"),R(rt,"unselected"))}};for(const Z of z){const Q=()=>{Bh(t,"pointer")},tt=()=>{KX(t)},rt=ct=>rb(this,void 0,void 0,function*(){const nt=u(Z),lt=j.indexOf(nt);lt===-1?j.push(nt):j.splice(lt,1),yield h(j),V();const{nativeEvent:ft=!0}=ct;ft&&(j.length===z.length?v.emit("legend:reset",{nativeEvent:ft}):v.emit("legend:filter",Object.assign(Object.assign({},ct),{nativeEvent:ft,data:{channel:g,values:j}})))});Z.addEventListener("click",rt),Z.addEventListener("pointerenter",Q),Z.addEventListener("pointerout",tt),_.set(Z,rt),w.set(Z,Q),M.set(Z,tt)}const G=Z=>rb(this,void 0,void 0,function*(){const{nativeEvent:Q}=Z;if(Q)return;const{data:tt}=Z,{channel:rt,values:ct}=tt;rt===g&&(j=ct,yield h(j),V())}),Y=Z=>rb(this,void 0,void 0,function*(){const{nativeEvent:Q}=Z;Q||(j=z.map(u),yield h(j),V())});return v.on("legend:filter",G),v.on("legend:reset",Y),()=>{for(const Z of z)Z.removeEventListener("click",_.get(Z)),Z.removeEventListener("pointerenter",w.get(Z)),Z.removeEventListener("pointerout",M.get(Z)),v.off("legend:filter",G),v.off("legend:reset",Y)}}function lf(t,{legend:i,filter:a,emitter:s,channel:u}){const h=({detail:{value:v}})=>{a(v),s.emit({nativeEvent:!0,data:{channel:u,values:v}})};return i.addEventListener("valuechange",h),()=>{i.removeEventListener("valuechange",h)}}function Y2(t,{legend:i,channel:a,value:s,ordinal:u,channels:h,allChannels:v,facet:g=!1}){return rb(this,void 0,void 0,function*(){const{view:m,update:_,setState:w}=t;w(i,M=>{const{marks:O}=M,C=O.map(P=>{if(P.type==="legends")return P;const{transform:k=[],data:D=[]}=P,R=k.findIndex(({type:j})=>j.startsWith("group")||j.startsWith("bin")),B=[...k];D.length&&B.splice(R+1,0,{type:"filter",[a]:{value:s,ordinal:u}});const z=Object.fromEntries(h.map(j=>[j,{domain:m.scale[j].getOptions().domain}]));return Ft({},P,Object.assign(Object.assign({transform:B,scale:z},!u&&{animate:!1}),{legend:g?!1:Object.fromEntries(v.map(j=>[j,{preserve:!0}]))}))});return Object.assign(Object.assign({},M),{marks:C})}),yield _()})}function w8(t,i){for(const a of t)Y2(a,Object.assign(Object.assign({},i),{facet:!0}))}function Wq(){return(t,i,a)=>{const{container:s}=t,u=i.filter(M=>M!==t),h=u.length>0,v=M=>H2(M).scales.map(O=>O.name),g=[...sf(s),..._8(s)],m=g.flatMap(v),_=h?Fh(w8,50,{trailing:!0}):Fh(Y2,50,{trailing:!0}),w=g.map(M=>{const{name:O,domain:C}=H2(M).scales[0],P=v(M),k={legend:M,channel:O,channels:P,allChannels:m};return M.className===Ek?Ik(s,{legends:W2,marker:G2,label:Dk,datum:D=>{const{__data__:R}=D,{index:B}=R;return C[B]},filter:D=>{const R=Object.assign(Object.assign({},k),{value:D,ordinal:!0});_(h?u:t,R)},state:M.attributes.state,channel:O,emitter:a}):lf(s,{legend:M,filter:D=>{const R=Object.assign(Object.assign({},k),{value:D,ordinal:!1});_(h?u:t,R)},emitter:a,channel:O})});return()=>{w.forEach(M=>M())}}}function Rk(){return(t,i,a)=>{const{container:s,view:u,options:h}=t,v=sf(s),g=Nh(s),m=C=>H2(C).scales[0].name,_=C=>{const{scale:{[C]:P}}=u;return P},w=Ug(h,["active","inactive"]),M=B1(g,js(u)),O=[];for(const C of v){const P=st=>{const{data:ut}=C.attributes,{__data__:mt}=st,{index:xt}=mt;return ut[xt].label},k=m(C),D=W2(C),R=_(k),B=Bn(g,st=>R.invert(st.__data__[k])),{state:z={}}=C.attributes,{inactive:j={}}=z,{setState:V,removeState:G}=jo(w,M),Y={inactive:Te(j,"marker")},Z={inactive:Te(j,"label")},{setState:Q,removeState:tt}=jo(Y),{setState:rt,removeState:ct}=jo(Z),nt=st=>{for(const ut of D){const mt=G2(ut),xt=Dk(ut);ut===st||st===null?(tt(mt,"inactive"),ct(xt,"inactive")):(Q(mt,"inactive"),rt(xt,"inactive"))}},lt=(st,ut)=>{const mt=P(ut),xt=new Set(B.get(mt));for(const kt of g)xt.has(kt)?V(kt,"active"):V(kt,"inactive");nt(ut);const{nativeEvent:Ct=!0}=st;Ct&&a.emit("legend:highlight",Object.assign(Object.assign({},st),{nativeEvent:Ct,data:{channel:k,value:mt}}))},ft=new Map;for(const st of D){const ut=mt=>{lt(mt,st)};st.addEventListener("pointerover",ut),ft.set(st,ut)}const q=st=>{for(const mt of g)G(mt,"inactive","active");nt(null);const{nativeEvent:ut=!0}=st;ut&&a.emit("legend:unhighlight",{nativeEvent:ut})},H=st=>{const{nativeEvent:ut,data:mt}=st;if(ut)return;const{channel:xt,value:Ct}=mt;if(xt!==k)return;const kt=D.find(jt=>P(jt)===Ct);kt&&lt({nativeEvent:!1},kt)},U=st=>{const{nativeEvent:ut}=st;ut||q({nativeEvent:!1})};C.addEventListener("pointerleave",q),a.on("legend:highlight",H),a.on("legend:unhighlight",U);const J=()=>{C.removeEventListener(q),a.off("legend:highlight",H),a.off("legend:unhighlight",U);for(const[st,ut]of ft)st.removeEventListener(ut)};O.push(J)}return()=>O.forEach(C=>C())}}var gl=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function S8(t,i){const[a,s,u,h]=t,[v,g,m,_]=i;return!(v>u||m<a||g>h||_<s)}function Hq(t,i,a,s,u){const[h,v,g,m]=u;return[Math.max(h,Math.min(t,a)),Math.max(v,Math.min(i,s)),Math.min(g,Math.max(t,a)),Math.min(m,Math.max(i,s))]}function M8(t){const{width:i,height:a}=t.getBBox();return[0,0,i,a]}function cu(t,i){for(const[a,s]of Object.entries(i))t.style(a,s)}const T8=fg(t=>{const i=t.attributes,{x:a,y:s,width:u,height:h,class:v,renders:g={},handleSize:m=10,document:_}=i,w=gl(i,["x","y","width","height","class","renders","handleSize","document"]);if(!_||u===void 0||h===void 0||a===void 0||s===void 0)return;const M=m/2,O=(Ct,kt,jt)=>{Ct.handle||(Ct.handle=jt.createElement("rect"),Ct.append(Ct.handle));const{handle:Bt}=Ct;return Bt.attr(kt),Bt},C=Te(Xa(w,"handleNW","handleNE"),"handleN"),{render:P=O}=C,k=gl(C,["render"]),D=Te(w,"handleE"),{render:R=O}=D,B=gl(D,["render"]),z=Te(Xa(w,"handleSE","handleSW"),"handleS"),{render:j=O}=z,V=gl(z,["render"]),G=Te(w,"handleW"),{render:Y=O}=G,Z=gl(G,["render"]),Q=Te(w,"handleNW"),{render:tt=O}=Q,rt=gl(Q,["render"]),ct=Te(w,"handleNE"),{render:nt=O}=ct,lt=gl(ct,["render"]),ft=Te(w,"handleSE"),{render:q=O}=ft,H=gl(ft,["render"]),U=Te(w,"handleSW"),{render:J=O}=U,st=gl(U,["render"]),ut=(Ct,kt)=>{const{id:jt}=Ct,Bt=kt(Ct,Ct.attributes,_);Bt.id=jt,Bt.style.draggable=!0},mt=Ct=>()=>{const kt=fg(jt=>ut(jt,Ct));return new kt({})},xt=ir(t).attr("className",v).style("transform",`translate(${a}, ${s})`).style("draggable",!0);xt.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(cu,Object.assign(Object.assign({width:u,height:h},Xa(w,"handle")),{transform:void 0})),xt.maybeAppend("handle-n",mt(P)).style("x",M).style("y",-M).style("width",u-m).style("height",m).style("fill","transparent").call(cu,k),xt.maybeAppend("handle-e",mt(R)).style("x",u-M).style("y",M).style("width",m).style("height",h-m).style("fill","transparent").call(cu,B),xt.maybeAppend("handle-s",mt(j)).style("x",M).style("y",h-M).style("width",u-m).style("height",m).style("fill","transparent").call(cu,V),xt.maybeAppend("handle-w",mt(Y)).style("x",-M).style("y",M).style("width",m).style("height",h-m).style("fill","transparent").call(cu,Z),xt.maybeAppend("handle-nw",mt(tt)).style("x",-M).style("y",-M).style("width",m).style("height",m).style("fill","transparent").call(cu,rt),xt.maybeAppend("handle-ne",mt(nt)).style("x",u-M).style("y",-M).style("width",m).style("height",m).style("fill","transparent").call(cu,lt),xt.maybeAppend("handle-se",mt(q)).style("x",u-M).style("y",h-M).style("width",m).style("height",m).style("fill","transparent").call(cu,H),xt.maybeAppend("handle-sw",mt(J)).style("x",-M).style("y",h-M).style("width",m).style("height",m).style("fill","transparent").call(cu,st)});function Nk(t,i){var{brushed:a=()=>{},brushended:s=()=>{},brushcreated:u=()=>{},brushstarted:h=()=>{},brushupdated:v=()=>{},extent:g=M8(t),brushRegion:m=(Bt,Zt,Oe,se,he)=>[Bt,Zt,Oe,se],reverse:_=!1,fill:w="#777",fillOpacity:M="0.3",stroke:O="#fff",selectedHandles:C=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=i,P=gl(i,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let k=null,D=null,R=null,B=null,z=null,j=!1;const[V,G,Y,Z]=g;Bh(t,"crosshair"),t.style.draggable=!0;const Q=(Bt,Zt,Oe)=>{if(h(Oe),B&&B.remove(),z&&z.remove(),k=[Bt,Zt],_)return tt();rt()},tt=()=>{z=new _o({style:Object.assign(Object.assign({},P),{fill:w,fillOpacity:M,stroke:O,pointerEvents:"none"})}),B=new T8({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(z),t.appendChild(B)},rt=()=>{B=new T8({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},P),{fill:w,fillOpacity:M,stroke:O,draggable:!0}),className:"mask"}),t.appendChild(B)},ct=(Bt=!0)=>{B&&B.remove(),z&&z.remove(),k=null,D=null,R=null,j=!1,B=null,z=null,s(Bt)},nt=(Bt,Zt,Oe=!0)=>{const[se,he,_e,We]=Hq(Bt[0],Bt[1],Zt[0],Zt[1],g),[ur,mr,on,Tr]=m(se,he,_e,We,g);return _?ft(ur,mr,on,Tr):lt(ur,mr,on,Tr),a(ur,mr,on,Tr,Oe),[ur,mr,on,Tr]},lt=(Bt,Zt,Oe,se)=>{B.style.x=Bt,B.style.y=Zt,B.style.width=Oe-Bt,B.style.height=se-Zt},ft=(Bt,Zt,Oe,se)=>{z.style.d=`
      M${V},${G}L${Y},${G}L${Y},${Z}L${V},${Z}Z
      M${Bt},${Zt}L${Bt},${se}L${Oe},${se}L${Oe},${Zt}Z
    `,B.style.x=Bt,B.style.y=Zt,B.style.width=Oe-Bt,B.style.height=se-Zt},q=Bt=>{const Zt=(mr,on,Tr,Ir,Xn)=>mr+on<Ir?Ir-on:mr+Tr>Xn?Xn-Tr:mr,Oe=Bt[0]-R[0],se=Bt[1]-R[1],he=Zt(Oe,k[0],D[0],V,Y),_e=Zt(se,k[1],D[1],G,Z),We=[k[0]+he,k[1]+_e],ur=[D[0]+he,D[1]+_e];nt(We,ur)},H={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},U=Bt=>st(Bt)||J(Bt),J=Bt=>{const{id:Zt}=Bt;return C.indexOf(Zt)===-1?!1:new Set(Object.keys(H)).has(Zt)},st=Bt=>Bt===B.getElementById("selection"),ut=Bt=>{const{target:Zt}=Bt,[Oe,se]=v2(t,Bt);if(!B||!U(Zt)){Q(Oe,se,Bt),j=!0;return}U(Zt)&&(R=[Oe,se])},mt=Bt=>{const{target:Zt}=Bt,Oe=v2(t,Bt);if(!k)return;if(!R)return nt(k,Oe);if(st(Zt))return q(Oe);const[se,he]=[Oe[0]-R[0],Oe[1]-R[1]],{id:_e}=Zt;if(H[_e]){const[We,ur,mr,on]=H[_e].vector;return nt([k[0]+se*We,k[1]+he*ur],[D[0]+se*mr,D[1]+he*on])}},xt=Bt=>{if(R){R=null;const{x:_e,y:We,width:ur,height:mr}=B.style;k=[_e,We],D=[_e+ur,We+mr],v(_e,We,_e+ur,We+mr,Bt);return}D=v2(t,Bt);const[Zt,Oe,se,he]=nt(k,D);j=!1,u(Zt,Oe,se,he,Bt)},Ct=Bt=>{const{target:Zt}=Bt;B&&!U(Zt)&&ct()},kt=Bt=>{const{target:Zt}=Bt;!B||!U(Zt)||j?Bh(t,"crosshair"):st(Zt)?Bh(t,"move"):J(Zt)&&Bh(t,H[Zt.id].cursor)},jt=()=>{Bh(t,"default")};return t.addEventListener("dragstart",ut),t.addEventListener("drag",mt),t.addEventListener("dragend",xt),t.addEventListener("click",Ct),t.addEventListener("pointermove",kt),t.addEventListener("pointerleave",jt),{mask:B,move(Bt,Zt,Oe,se,he=!0){B||Q(Bt,Zt,{}),k=[Bt,Zt],D=[Oe,se],nt([Bt,Zt],[Oe,se],he)},remove(Bt=!0){B&&ct(Bt)},destroy(){B&&ct(!1),Bh(t,"default"),t.removeEventListener("dragstart",ut),t.removeEventListener("drag",mt),t.removeEventListener("dragend",xt),t.removeEventListener("click",Ct),t.removeEventListener("pointermove",kt),t.removeEventListener("pointerleave",jt)}}}function nb(t,i,a){return i.filter(s=>{if(s===t)return!1;const{interaction:u={}}=s.options;return Object.values(u).find(h=>h.brushKey===a)})}function Bk(t,i,a){return nb(t,i,a).map(s=>nc(s.container))}function O8(t,i,a){return nb(t,i,a).map(s=>s.options)}function zk(t,i){var{elements:a,selectedHandles:s,siblings:u=mt=>[],datum:h,brushRegion:v,extent:g,reverse:m,scale:_,coordinate:w,series:M=!1,key:O=mt=>mt,bboxOf:C=mt=>{const{x:xt,y:Ct,width:kt,height:jt}=mt.style;return{x:xt,y:Ct,width:kt,height:jt}},state:P={},emitter:k}=i,D=gl(i,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const R=a(t),B=u(t),z=B.flatMap(a),j=B1(R,h),V=Te(D,"mask"),{setState:G,removeState:Y}=jo(P,j),Z=new Map,{width:Q,height:tt,x:rt=0,y:ct=0}=C(t),nt=g||[0,0,Q,tt],lt=()=>{for(const mt of[...R,...z])Y(mt,"active","inactive")},ft=(mt,xt,Ct,kt)=>{var jt;for(const Zt of B)(jt=Zt.brush)===null||jt===void 0||jt.remove();const Bt=new Set;for(const Zt of R){const{min:Oe,max:se}=Zt.getLocalBounds(),[he,_e]=Oe,[We,ur]=se;S8([he,_e,We,ur],[mt,xt,Ct,kt])?(G(Zt,"active"),Bt.add(O(Zt))):G(Zt,"inactive")}for(const Zt of z)Bt.has(O(Zt))?G(Zt,"active"):G(Zt,"inactive")},q=()=>{for(const mt of R)Y(mt,"inactive");for(const mt of Z.values())mt.remove();Z.clear()},H=(mt,xt,Ct,kt)=>{const jt=Zt=>{const Oe=Zt.cloneNode();return Oe.__data__=Zt.__data__,Zt.parentNode.appendChild(Oe),Z.set(Zt,Oe),Oe},Bt=new Rc({style:{x:mt+rt,y:xt+ct,width:Ct-mt,height:kt-xt}});t.appendChild(Bt);for(const Zt of R){const Oe=Z.get(Zt)||jt(Zt);Oe.style.clipPath=Bt,G(Zt,"inactive"),G(Oe,"active")}},U=Nk(t,Object.assign(Object.assign({},V),{extent:nt,brushRegion:v,reverse:m,selectedHandles:s,brushended:mt=>{const xt=M?q:lt;mt&&k.emit("brush:remove",{nativeEvent:!0}),xt()},brushed:(mt,xt,Ct,kt,jt)=>{const Bt=Gg(mt,xt,Ct,kt,_,w);jt&&k.emit("brush:highlight",{nativeEvent:!0,data:{selection:Bt}}),(M?H:ft)(mt,xt,Ct,kt)},brushcreated:(mt,xt,Ct,kt,jt)=>{const Bt=Gg(mt,xt,Ct,kt,_,w);k.emit("brush:end",Object.assign(Object.assign({},jt),{nativeEvent:!0,data:{selection:Bt}}))},brushupdated:(mt,xt,Ct,kt,jt)=>{const Bt=Gg(mt,xt,Ct,kt,_,w);k.emit("brush:end",Object.assign(Object.assign({},jt),{nativeEvent:!0,data:{selection:Bt}}))},brushstarted:mt=>{k.emit("brush:start",mt)}})),J=({nativeEvent:mt,data:xt})=>{if(mt)return;const{selection:Ct}=xt,[kt,jt,Bt,Zt]=GX(Ct,_,w);U.move(kt,jt,Bt,Zt,!1)};k.on("brush:highlight",J);const st=({nativeEvent:mt}={})=>{mt||U.remove(!1)};k.on("brush:remove",st);const ut=U.destroy.bind(U);return U.destroy=()=>{k.off("brush:highlight",J),k.off("brush:remove",st),ut()},U}function Fk(t){var{facet:i,brushKey:a}=t,s=gl(t,["facet","brushKey"]);return(u,h,v)=>{const{container:g,view:m,options:_}=u,w=nc(g),M={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},O=["active",["inactive",{opacity:.5}]],{scale:C,coordinate:P}=m;if(i){const D=w.getBounds(),R=D.min[0],B=D.min[1],z=D.max[0],j=D.max[1];return zk(w.parentNode.parentNode,Object.assign(Object.assign({elements:()=>bF(u,h),datum:js(PE(u,h).map(V=>V.view)),brushRegion:(V,G,Y,Z)=>[V,G,Y,Z],extent:[R,B,z,j],state:Ug(PE(u,h).map(V=>V.options),O),emitter:v,scale:C,coordinate:P,selectedHandles:void 0},M),s))}const k=zk(w,Object.assign(Object.assign({elements:Nh,key:D=>D.__data__.key,siblings:()=>Bk(u,h,a),datum:js([m,...nb(u,h,a).map(D=>D.view)]),brushRegion:(D,R,B,z)=>[D,R,B,z],extent:void 0,state:Ug([_,...O8(u,h,a)],O),emitter:v,scale:C,coordinate:P,selectedHandles:void 0},M),s));return w.brush=k,()=>k.destroy()}}function U2(t,i,a,s,u){const[,h,,v]=u;return[t,h,a,v]}function Yq(t){return Fk(Object.assign(Object.assign({},t),{brushRegion:U2,selectedHandles:["handle-e","handle-w"]}))}function ay(t,i,a,s,u){const[h,,v]=u;return[h,i,v,s]}function A8(t){return Fk(Object.assign(Object.assign({},t),{brushRegion:ay,selectedHandles:["handle-n","handle-s"]}))}var ib=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const C8="axis",P8="axis-line",E8="axis-main-group",X2="axis-hot-area";function Uq(t){return t.getElementsByClassName(C8)}function k8(t){return t.getElementsByClassName(P8)[0]}function Xq(t){return t.getElementsByClassName(E8)[0]}function L8(t){return Xq(t).getLocalBounds()}function $q(t,i){var{cross:a,offsetX:s,offsetY:u}=i,h=ib(i,["cross","offsetX","offsetY"]);const v=L8(t),g=k8(t),[m]=g.getLocalBounds().min,[_,w]=v.min,[M,O]=v.max,C=(M-_)*2;return{brushRegion:ay,hotZone:new Rc({className:X2,style:Object.assign({width:a?C/2:C,transform:`translate(${(a?_:m-C/2).toFixed(2)}, ${w})`,height:O-w},h)}),extent:a?(P,k,D,R)=>[-1/0,k,1/0,R]:(P,k,D,R)=>[Math.floor(_-s),k,Math.ceil(M-s),R]}}function qq(t,i){var{offsetY:a,offsetX:s,cross:u=!1}=i,h=ib(i,["offsetY","offsetX","cross"]);const v=L8(t),g=k8(t),[,m]=g.getLocalBounds().min,[_,w]=v.min,[M,O]=v.max,C=O-w;return{brushRegion:U2,hotZone:new Rc({className:X2,style:Object.assign({width:M-_,height:u?C:C*2,transform:`translate(${_}, ${u?w:m-C})`},h)}),extent:u?(P,k,D,R)=>[P,-1/0,D,1/0]:(P,k,D,R)=>[P,Math.floor(w-a),D,Math.ceil(O-a)]}}function Zq(t,i){var{axes:a,elements:s,points:u,horizontal:h,datum:v,offsetY:g,offsetX:m,reverse:_=!1,state:w={},emitter:M,coordinate:O}=i,C=ib(i,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const P=s(t),k=a(t),D=B1(P,v),{setState:R,removeState:B}=jo(w,D),z=new Map,j=Te(C,"mask"),V=J=>Array.from(z.values()).every(([st,ut,mt,xt])=>J.some(([Ct,kt])=>Ct>=st&&Ct<=mt&&kt>=ut&&kt<=xt)),G=k.map(J=>J.attributes.scale),Y=J=>J.length>2?[J[0],J[J.length-1]]:J,Z=new Map,Q=()=>{Z.clear();for(let J=0;J<k.length;J++){const st=G[J],{domain:ut}=st.getOptions();Z.set(J,Y(ut))}};Q();const tt=(J,st)=>{const ut=[];for(const xt of P){const Ct=u(xt);V(Ct)?(R(xt,"active"),ut.push(xt)):R(xt,"inactive")}if(Z.set(J,ct(ut,J)),!st)return;const mt=()=>{if(!nt)return Array.from(Z.values());const xt=[];for(const[Ct,kt]of Z){const jt=G[Ct],{name:Bt}=jt.getOptions();Bt==="x"?xt[0]=kt:xt[1]=kt}return xt};M.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:mt()}})},rt=J=>{for(const st of P)B(st,"active","inactive");Q(),J&&M.emit("brushAxis:remove",{nativeEvent:!0})},ct=(J,st)=>{const ut=G[st],{name:mt}=ut.getOptions(),xt=J.map(Ct=>{const kt=Ct.__data__;return ut.invert(kt[mt])});return Y(Dh(ut,xt))},nt=k.some(h)&&k.some(J=>!h(J)),lt=[];for(let J=0;J<k.length;J++){const st=k[J],ut=h(st)?qq:$q,{hotZone:mt,brushRegion:xt,extent:Ct}=ut(st,{offsetY:g,offsetX:m,cross:nt,zIndex:999,fill:"transparent"});st.parentNode.appendChild(mt);const kt=Nk(mt,Object.assign(Object.assign({},j),{reverse:_,brushRegion:xt,brushended(jt){z.delete(st),Array.from(z.entries()).length===0?rt(jt):tt(J,jt)},brushed(jt,Bt,Zt,Oe,se){z.set(st,Ct(jt,Bt,Zt,Oe)),tt(J,se)}}));lt.push(kt)}const ft=(J={})=>{const{nativeEvent:st}=J;st||lt.forEach(ut=>ut.remove(!1))},q=(J,st,ut)=>{const[mt,xt]=J,Ct=Bt=>Bt.getStep?Bt.getStep():0,kt=H(mt,st,ut),jt=H(xt,st,ut)+Ct(st);return h(ut)?[kt,-1/0,jt,1/0]:[-1/0,kt,1/0,jt]},H=(J,st,ut)=>{const{height:mt,width:xt}=O.getOptions(),Ct=st.clone();return h(ut)?Ct.update({range:[0,xt]}):Ct.update({range:[mt,0]}),Ct.map(J)},U=J=>{const{nativeEvent:st}=J;if(st)return;const{selection:ut}=J.data;for(let mt=0;mt<lt.length;mt++){const xt=ut[mt],Ct=lt[mt],kt=k[mt];if(xt){const jt=G[mt];Ct.move(...q(xt,jt,kt),!1)}else Ct.remove(!1)}};return M.on("brushAxis:remove",ft),M.on("brushAxis:highlight",U),()=>{lt.forEach(J=>J.destroy()),M.off("brushAxis:remove",ft),M.off("brushAxis:highlight",U)}}function Kq(t){return(i,a,s)=>{const{container:u,view:h,options:v}=i,g=nc(u),{x:m,y:_}=g.getBBox(),{coordinate:w}=h;return Zq(u,Object.assign({elements:Nh,axes:Uq,offsetY:_,offsetX:m,points:M=>M.__data__.points,horizontal:M=>{const{startPos:[O,C],endPos:[P,k]}=M.attributes;return O!==P&&C===k},datum:js(h),state:Ug(v,["active",["inactive",{opacity:.5}]]),coordinate:w,emitter:s},t))}}var D8=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},I8=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Qq(t=300){let i=null;return a=>{const{timeStamp:s}=a;return i!==null&&s-i<t?(i=s,!0):(i=s,!1)}}function Jq(t,i){var{filter:a,reset:s,brushRegion:u,extent:h,reverse:v,emitter:g,scale:m,coordinate:_,selection:w,series:M=!1}=i,O=I8(i,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const C=Te(O,"mask"),{width:P,height:k}=t.getBBox(),D=h||[0,0,P,k],R=Qq(),B=Nk(t,Object.assign(Object.assign({},C),{extent:D,brushRegion:u,reverse:v,brushcreated:z}));t.addEventListener("click",j);function z(G,Y,Z,Q,tt){tt.nativeEvent=!0,a(w(G,Y,Z,Q),tt),B.remove()}function j(G){R(G)&&(G.nativeEvent=!0,s(G))}const V=({nativeEvent:G,data:Y})=>{if(G)return;const{selection:Z}=Y;a(Z,{nativeEvent:!1})};return g.on("brush:filter",V),()=>{B.destroy(),g.off("brush:filter",V),t.removeEventListener("click",j)}}function jk(t){var{hideX:i=!0,hideY:a=!0}=t,s=I8(t,["hideX","hideY"]);return(u,h,v)=>{const{container:g,view:m,options:_,update:w,setState:M}=u,O=nc(g),C={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let P=!1,k=!1,D=m;const{scale:R,coordinate:B}=m;return Jq(O,Object.assign(Object.assign({brushRegion:(z,j,V,G)=>[z,j,V,G],selection:(z,j,V,G)=>{const{scale:Y,coordinate:Z}=D;return Gg(z,j,V,G,Y,Z)},filter:(z,j)=>D8(this,void 0,void 0,function*(){if(k)return;k=!0;const[V,G]=z;M("brushFilter",Z=>{const{marks:Q}=Z,tt=Q.map(rt=>Ft({axis:Object.assign(Object.assign({},i&&{x:{transform:[{type:"hide"}]}}),a&&{y:{transform:[{type:"hide"}]}})},rt,{scale:{x:{domain:V,nice:!1},y:{domain:G,nice:!1}}}));return Object.assign(Object.assign({},_),{marks:tt,clip:!0})}),v.emit("brush:filter",Object.assign(Object.assign({},j),{data:{selection:[V,G]}})),D=(yield w()).view,k=!1,P=!0}),reset:z=>{if(k||!P)return;const{scale:j}=m,{x:V,y:G}=j,Y=V.getOptions().domain,Z=G.getOptions().domain;v.emit("brush:filter",Object.assign(Object.assign({},z),{data:{selection:[Y,Z]}})),P=!1,D=m,M("brushFilter"),w()},extent:void 0,emitter:v,scale:R,coordinate:B},C),s))}}function R8(t){return jk(Object.assign(Object.assign({hideX:!0},t),{brushRegion:U2}))}function tZ(t){return jk(Object.assign(Object.assign({hideY:!0},t),{brushRegion:ay}))}var eZ=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})};const rZ="slider";function nZ(t,i,a,s=!1,u="x",h="y"){const{marks:v}=t,g=v.map(m=>{var _,w;return Ft({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},m,{scale:i,[a]:Object.assign(Object.assign({},((_=m[a])===null||_===void 0?void 0:_[u])&&{[u]:Object.assign({preserve:!0},s&&{ratio:null})}),((w=m[a])===null||w===void 0?void 0:w[h])&&{[h]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:g,clip:!0,animate:!1})}function iZ(t,i,a){const[s,u]=t,h=a?m=>1-m:m=>m,v=Vg(i,h(s),!0),g=Vg(i,h(u),!1);return Dh(i,[v,g])}function $2(t){return[t[0],t[t.length-1]]}function N8({initDomain:t={},className:i=rZ,prefix:a="slider",setValue:s=(_,w)=>_.setValues(w),hasState:u=!1,wait:h=50,leading:v=!0,trailing:g=!1,getInitValues:m=_=>{var w;const M=(w=_==null?void 0:_.attributes)===null||w===void 0?void 0:w.values;if(M[0]!==0||M[1]!==1)return M}}){return(_,w,M)=>{const{container:O,view:C,update:P,setState:k}=_,D=O.getElementsByClassName(i);if(!D.length)return()=>{};let R=!1;const{scale:B,coordinate:z,layout:j}=C,{paddingLeft:V,paddingTop:G,paddingBottom:Y,paddingRight:Z}=j,{x:Q,y:tt}=B,rt=qe(z),ct=q=>{const H=q==="vertical"?"y":"x",U=q==="vertical"?"x":"y";return rt?[U,H]:[H,U]},nt=new Map,lt=new Set,ft={x:t.x||Q.getOptions().domain,y:t.y||tt.getOptions().domain};for(const q of D){const{orientation:H}=q.attributes,[U,J]=ct(H),st=`${a}${Jc(U)}:filter`,ut=U==="x",{ratio:mt}=Q.getOptions(),{ratio:xt}=tt.getOptions(),Ct=Zt=>{if(Zt.data){const{selection:We}=Zt.data,[ur=$2(ft.x),mr=$2(ft.y)]=We;return ut?[Dh(Q,ur,mt),Dh(tt,mr,xt)]:[Dh(tt,mr,xt),Dh(Q,ur,mt)]}const{value:Oe}=Zt.detail,se=B[U],he=iZ(Oe,se,rt&&H==="horizontal"),_e=ft[J];return[he,_e]},kt=Fh(Zt=>eZ(this,void 0,void 0,function*(){const{initValue:Oe=!1}=Zt;if(R&&!Oe)return;R=!0;const{nativeEvent:se=!0}=Zt,[he,_e]=Ct(Zt);if(ft[U]=he,ft[J]=_e,se){const We=ut?he:_e,ur=ut?_e:he;M.emit(st,Object.assign(Object.assign({},Zt),{nativeEvent:se,data:{selection:[$2(We),$2(ur)]}}))}k(q,We=>Object.assign(Object.assign({},nZ(We,{[U]:{domain:he,nice:!1}},a,u,U,J)),{paddingLeft:V,paddingTop:G,paddingBottom:Y,paddingRight:Z})),yield P(),R=!1}),h,{leading:v,trailing:g}),jt=Zt=>{const{nativeEvent:Oe}=Zt;if(Oe)return;const{data:se}=Zt,{selection:he}=se,[_e,We]=he;q.dispatchEvent(new Kn("valuechange",{data:se,nativeEvent:!1}));const ur=ut?i2(_e,Q):i2(We,tt);s(q,ur)};M.on(st,jt),q.addEventListener("valuechange",kt),nt.set(q,kt),lt.add([st,jt]);const Bt=m(q);Bt&&q.dispatchEvent(new Kn("valuechange",{detail:{value:Bt},nativeEvent:!1,initValue:!0}))}return()=>{for(const[q,H]of nt)q.removeEventListener("valuechange",H);for(const[q,H]of lt)M.off(q,H)}}}const B8="g2-scrollbar";function z8(t={}){return(i,a,s)=>{const{view:u,container:h}=i;if(!h.getElementsByClassName(B8).length)return()=>{};const{scale:g}=u,{x:m,y:_}=g,w={x:[...m.getOptions().domain],y:[..._.getOptions().domain]};return m.update({domain:m.getOptions().expectedDomain}),_.update({domain:_.getOptions().expectedDomain}),N8(Object.assign(Object.assign({},t),{initDomain:w,className:B8,prefix:"scrollbar",hasState:!0,setValue:(O,C)=>O.setValue(C[0]),getInitValues:O=>{const C=O.slider.attributes.values;if(C[0]!==0)return C}}))(i,a,s)}}var aZ=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function oZ(t,i,a){return`<${t} style="${Object.entries(a).map(([s,u])=>`${u$(s)}:${u}`).join(";")}">${i}</${t}>`}const sZ={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function F8(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function j8(t){var{offsetX:i=8,offsetY:a=8}=t,s=aZ(t,["offsetX","offsetY"]);return u=>{const{container:h}=u,[v,g]=h.getBounds().min,m=Te(s,"tip"),_=new Set,w=O=>{const{target:C}=O;if(!F8(C)){O.stopPropagation();return}const{offsetX:P,offsetY:k}=O,D=P+i-v,R=k+a-g;if(C.tip){C.tip.style.x=D,C.tip.style.y=R;return}const{text:B}=C.style,z=new Yp({className:"poptip",style:{innerHTML:oZ("div",B,Object.assign(Object.assign({},sZ),m)),x:D,y:R}});h.appendChild(z),C.tip=z,_.add(z)},M=O=>{const{target:C}=O;if(!F8(C)){O.stopPropagation();return}C.tip&&(C.tip.remove(),C.tip=null,_.delete(C.tip))};return h.addEventListener("pointerover",w),h.addEventListener("pointerout",M),()=>{h.removeEventListener("pointerover",w),h.removeEventListener("pointerout",M),_.forEach(O=>O.remove())}}}j8.props={reapplyWhenUpdate:!0};var lZ=Object.keys?function(t){return Object.keys(t)}:function(t){var i=[];return zS(t,function(a,s){si(t)&&s==="prototype"||i.push(s)}),i},q2=lZ;function uZ(t,i){var a=q2(i),s=a.length;if(Ar(t))return!s;for(var u=0;u<s;u+=1){var h=a[u];if(i[h]!==t[h]||!(h in t))return!1}return!0}var cZ=uZ;function fZ(t,i){if(!rn(t))return null;var a;if(si(i)&&(a=i),cr(i)&&(a=function(u){return cZ(u,i)}),a){for(var s=0;s<t.length;s+=1)if(a(t[s]))return t[s]}return null}var oy=fZ,hZ=Object.prototype.hasOwnProperty,Uh=function(t,i){if(t===null||!cr(t))return{};var a={};return zS(i,function(s){hZ.call(t,s)&&(a[s]=t[s])}),a},sy=Kt(64599);function fu(t){return t==null?null:V8(t)}function V8(t){if(typeof t!="function")throw new Error;return t}var dZ=Kt(9783);function vZ(t){var i=0,a=t.children,s=a&&a.length;if(!s)i=1;else for(;--s>=0;)i+=a[s].value;t.value=i}function pZ(){return this.eachAfter(vZ)}function G8(t,i){var a=-1,s=sy(this),u;try{for(s.s();!(u=s.n()).done;){var h=u.value;t.call(i,h,++a,this)}}catch(v){s.e(v)}finally{s.f()}return this}function W8(t,i){for(var a=this,s=[a],u,h,v=-1;a=s.pop();)if(t.call(i,a,++v,this),u=a.children)for(h=u.length-1;h>=0;--h)s.push(u[h]);return this}function gZ(t,i){for(var a=this,s=[a],u=[],h,v,g,m=-1;a=s.pop();)if(u.push(a),h=a.children)for(v=0,g=h.length;v<g;++v)s.push(h[v]);for(;a=u.pop();)t.call(i,a,++m,this);return this}function yZ(t,i){var a=-1,s=sy(this),u;try{for(s.s();!(u=s.n()).done;){var h=u.value;if(t.call(i,h,++a,this))return h}}catch(v){s.e(v)}finally{s.f()}}function mZ(t){return this.eachAfter(function(i){for(var a=+t(i.data)||0,s=i.children,u=s&&s.length;--u>=0;)a+=s[u].value;i.value=a})}function bZ(t){return this.eachBefore(function(i){i.children&&i.children.sort(t)})}function H8(t){for(var i=this,a=Y8(i,t),s=[i];i!==a;)i=i.parent,s.push(i);for(var u=s.length;t!==a;)s.splice(u,0,t),t=t.parent;return s}function Y8(t,i){if(t===i)return t;var a=t.ancestors(),s=i.ancestors(),u=null;for(t=a.pop(),i=s.pop();t===i;)u=t,t=a.pop(),i=s.pop();return u}function _Z(){for(var t=this,i=[t];t=t.parent;)i.push(t);return i}function xZ(){return Array.from(this)}function ab(){var t=[];return this.eachBefore(function(i){i.children||t.push(i)}),t}function wZ(){var t=this,i=[];return t.each(function(a){a!==t&&i.push({source:a.parent,target:a})}),i}var U8=Kt(15009),SZ=U8().mark(X8);function X8(){var t,i,a,s,u,h;return U8().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:t=this,a=[t];case 1:i=a.reverse(),a=[];case 2:if(!(t=i.pop())){g.next=8;break}return g.next=5,t;case 5:if(s=t.children)for(u=0,h=s.length;u<h;++u)a.push(s[u]);g.next=2;break;case 8:if(a.length){g.next=1;break}case 9:case"end":return g.stop()}},SZ,this)}function ob(t,i){t instanceof Map?(t=[void 0,t],i===void 0&&(i=OZ)):i===void 0&&(i=TZ);for(var a=new ly(t),s,u=[a],h,v,g,m;s=u.pop();)if((v=i(s.data))&&(m=(v=Array.from(v)).length))for(s.children=v,g=m-1;g>=0;--g)u.push(h=v[g]=new ly(v[g])),h.parent=s,h.depth=s.depth+1;return a.eachBefore($8)}function MZ(){return ob(this).eachBefore(AZ)}function TZ(t){return t.children}function OZ(t){return Array.isArray(t)?t[1]:null}function AZ(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function $8(t){var i=0;do t.height=i;while((t=t.parent)&&t.height<++i)}function ly(t){this.data=t,this.depth=this.height=0,this.parent=null}ly.prototype=ob.prototype=dZ({constructor:ly,count:pZ,each:G8,eachAfter:gZ,eachBefore:W8,find:yZ,sum:mZ,sort:bZ,path:H8,ancestors:_Z,descendants:xZ,leaves:ab,links:wZ,copy:MZ},Symbol.iterator,X8);var CZ={depth:-1},Z2={},sb={};function PZ(t){return t.id}function EZ(t){return t.parentId}function Vk(){var t=PZ,i=EZ,a;function s(u){var h=Array.from(u),v=t,g=i,m,_,w,M,O,C,P,k,D=new Map;if(a!=null){var R=h.map(function(Z,Q){return kZ(a(Z,Q,u))}),B=R.map(q8),z=new Set(R).add(""),j=sy(B),V;try{for(j.s();!(V=j.n()).done;){var G=V.value;z.has(G)||(z.add(G),R.push(G),B.push(q8(G)),h.push(sb))}}catch(Z){j.e(Z)}finally{j.f()}v=function(Q,tt){return R[tt]},g=function(Q,tt){return B[tt]}}for(w=0,m=h.length;w<m;++w)_=h[w],C=h[w]=new ly(_),(P=v(_,w,u))!=null&&(P+="")&&(k=C.id=P,D.set(k,D.has(k)?Z2:C)),(P=g(_,w,u))!=null&&(P+="")&&(C.parent=P);for(w=0;w<m;++w)if(C=h[w],P=C.parent){if(O=D.get(P),!O)throw new Error("missing: "+P);if(O===Z2)throw new Error("ambiguous: "+P);O.children?O.children.push(C):O.children=[C],C.parent=O}else{if(M)throw new Error("multiple roots");M=C}if(!M)throw new Error("no root");if(a!=null){for(;M.data===sb&&M.children.length===1;)M=M.children[0],--m;for(var Y=h.length-1;Y>=0&&(C=h[Y],C.data===sb);--Y)C.data=null}if(M.parent=CZ,M.eachBefore(function(Z){Z.depth=Z.parent.depth+1,--m}).eachBefore($8),M.parent=null,m>0)throw new Error("cycle");return M}return s.id=function(u){return arguments.length?(t=fu(u),s):t},s.parentId=function(u){return arguments.length?(i=fu(u),s):i},s.path=function(u){return arguments.length?(a=fu(u),s):a},s}function kZ(t){t="".concat(t);var i=t.length;return Gk(t,i-1)&&!Gk(t,i-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:"/".concat(t)}function q8(t){var i=t.length;if(i<2)return"";for(;--i>1&&!Gk(t,i););return t.slice(0,i)}function Gk(t,i){if(t[i]==="/"){for(var a=0;i>0&&t[--i]==="\\";)++a;if(!(a&1))return!0}return!1}function Wk(t,i,a,s,u){var h=t.children,v,g=h.length,m,_=new Array(g+1);for(_[0]=m=v=0;v<g;++v)_[v+1]=m+=h[v].value;w(0,g,t.value,i,a,s,u);function w(M,O,C,P,k,D,R){if(M>=O-1){var B=h[M];B.x0=P,B.y0=k,B.x1=D,B.y1=R;return}for(var z=_[M],j=C/2+z,V=M+1,G=O-1;V<G;){var Y=V+G>>>1;_[Y]<j?V=Y+1:G=Y}j-_[V-1]<_[V]-j&&M+1<V&&--V;var Z=_[V]-z,Q=C-Z;if(D-P>R-k){var tt=C?(P*Q+D*Z)/C:D;w(M,V,Z,P,k,tt,R),w(V,O,Q,tt,k,D,R)}else{var rt=C?(k*Q+R*Z)/C:R;w(M,V,Z,P,k,D,rt),w(V,O,Q,P,rt,D,R)}}}function lb(t,i,a,s,u){for(var h=t.children,v,g=-1,m=h.length,_=t.value&&(s-i)/t.value;++g<m;)v=h[g],v.y0=a,v.y1=u,v.x0=i,v.x1=i+=v.value*_}function uy(t,i,a,s,u){for(var h=t.children,v,g=-1,m=h.length,_=t.value&&(u-a)/t.value;++g<m;)v=h[g],v.x0=i,v.x1=s,v.y0=a,v.y1=a+=v.value*_}function LZ(t,i,a,s,u){(t.depth&1?uy:lb)(t,i,a,s,u)}var Z8=(1+Math.sqrt(5))/2;function K2(t,i,a,s,u,h){for(var v=[],g=i.children,m,_,w=0,M=0,O=g.length,C,P,k=i.value,D,R,B,z,j,V,G;w<O;){C=u-a,P=h-s;do D=g[M++].value;while(!D&&M<O);for(R=B=D,V=Math.max(P/C,C/P)/(k*t),G=D*D*V,j=Math.max(B/G,G/R);M<O;++M){if(D+=_=g[M].value,_<R&&(R=_),_>B&&(B=_),G=D*D*V,z=Math.max(B/G,G/R),z>j){D-=_;break}j=z}v.push(m={value:D,dice:C<P,children:g.slice(w,M)}),m.dice?lb(m,a,s,u,k?s+=P*D/k:h):uy(m,a,s,k?a+=C*D/k:u,h),k-=D,w=M}return v}var Hk=function t(i){function a(s,u,h,v,g){K2(i,s,u,h,v,g)}return a.ratio=function(s){return t((s=+s)>1?s:1)},a}(Z8),Yk=function t(i){function a(s,u,h,v,g){if((m=s._squarify)&&m.ratio===i)for(var m,_,w,M,O=-1,C,P=m.length,k=s.value;++O<P;){for(_=m[O],w=_.children,M=_.value=0,C=w.length;M<C;++M)_.value+=w[M].value;_.dice?lb(_,u,h,v,k?h+=(g-h)*_.value/k:g):uy(_,u,h,k?u+=(v-u)*_.value/k:v,g),k-=_.value}else s._squarify=m=K2(i,s,u,h,v,g),m.ratio=i}return a.ratio=function(s){return t((s=+s)>1?s:1)},a}(Z8);function DZ(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Xh(){return 0}function cy(t){return function(){return t}}function IZ(){var t=Hk,i=!1,a=1,s=1,u=[0],h=Xh,v=Xh,g=Xh,m=Xh,_=Xh;function w(O){return O.x0=O.y0=0,O.x1=a,O.y1=s,O.eachBefore(M),u=[0],i&&O.eachBefore(DZ),O}function M(O){var C=u[O.depth],P=O.x0+C,k=O.y0+C,D=O.x1-C,R=O.y1-C;D<P&&(P=D=(P+D)/2),R<k&&(k=R=(k+R)/2),O.x0=P,O.y0=k,O.x1=D,O.y1=R,O.children&&(C=u[O.depth+1]=h(O)/2,P+=_(O)-C,k+=v(O)-C,D-=g(O)-C,R-=m(O)-C,D<P&&(P=D=(P+D)/2),R<k&&(k=R=(k+R)/2),t(O,P,k,D,R))}return w.round=function(O){return arguments.length?(i=!!O,w):i},w.size=function(O){return arguments.length?(a=+O[0],s=+O[1],w):[a,s]},w.tile=function(O){return arguments.length?(t=V8(O),w):t},w.padding=function(O){return arguments.length?w.paddingInner(O).paddingOuter(O):w.paddingInner()},w.paddingInner=function(O){return arguments.length?(h=typeof O=="function"?O:cy(+O),w):h},w.paddingOuter=function(O){return arguments.length?w.paddingTop(O).paddingRight(O).paddingBottom(O).paddingLeft(O):w.paddingTop()},w.paddingTop=function(O){return arguments.length?(v=typeof O=="function"?O:cy(+O),w):v},w.paddingRight=function(O){return arguments.length?(g=typeof O=="function"?O:cy(+O),w):g},w.paddingBottom=function(O){return arguments.length?(m=typeof O=="function"?O:cy(+O),w):m},w.paddingLeft=function(O){return arguments.length?(_=typeof O=="function"?O:cy(+O),w):_},w}function RZ(t,i){return Array.isArray(t)?typeof i=="function"?Vk().path(i)(t):Vk()(t):ob(t)}function Uk(t,i=[t.data.name]){t.id=t.id||t.data.name,t.path=i,t.children&&t.children.forEach(a=>{a.id=`${t.id}/${a.data.name}`,a.path=[...i,a.data.name],Uk(a,a.path)})}function K8(t){const i=fi(t,["data","name"]);i.replaceAll&&(t.path=i.replaceAll(".","/").split("/")),t.children&&t.children.forEach(a=>{K8(a)})}function NZ(t,i){const a={treemapBinary:Wk,treemapDice:lb,treemapSlice:uy,treemapSliceDice:LZ,treemapSquarify:Hk,treemapResquarify:Yk},s=t==="treemapSquarify"?a[t].ratio(i):a[t];if(!s)throw new TypeError("Invalid tile method!");return s}function Q8(t,i,a){const{value:s}=a,u=NZ(i.tile,i.ratio),h=RZ(t,i.path);rn(t)?K8(h):Uk(h),s?h.sum(m=>i.ignoreParentValue&&m.children?0:Uu(s)(m)).sort(i.sort):h.count(),IZ().tile(u).size(i.size).round(i.round).paddingInner(i.paddingInner).paddingOuter(i.paddingOuter).paddingTop(i.paddingTop).paddingRight(i.paddingRight).paddingBottom(i.paddingBottom).paddingLeft(i.paddingLeft)(h);const v=h.descendants().map(m=>Object.assign(m,{id:m.id.replace(/^\//,""),x:[m.x0,m.x1],y:[m.y0,m.y1]}));return[v.filter(typeof i.layer=="function"?i.layer:m=>m.height===i.layer),v]}var J8=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},BZ=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function zZ(t){return ir(t).select(`.${I1}`).node()}const FZ={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function jZ(t={}){const{originData:i=[],layout:a}=t,s=BZ(t,["originData","layout"]),u=Ft({},FZ,s),h=Te(u,"breadCrumb"),v=Te(u,"active");return g=>{const{update:m,setState:_,container:w,options:M}=g,O=zZ(w),C=M.marks[0],{state:P}=C,k=new ta;O.appendChild(k);const D=(j,V)=>J8(this,void 0,void 0,function*(){if(k.removeChildren(),V){let G="",Y=h.y,Z=0;const Q=[],tt=O.getBBox().width,rt=j.map((ct,nt)=>{G=`${G}${ct}/`,Q.push(ct);const lt=new nl({name:G.replace(/\/$/,""),style:Object.assign(Object.assign({text:ct,x:Z,path:[...Q],depth:nt},h),{y:Y})});k.appendChild(lt),Z+=lt.getBBox().width;const ft=new nl({style:Object.assign(Object.assign({x:Z,text:" / "},h),{y:Y})});return k.appendChild(ft),Z+=ft.getBBox().width,Z>tt&&(Y=k.getBBox().height+h.y,Z=0,lt.attr({x:Z,y:Y}),Z+=lt.getBBox().width,ft.attr({x:Z,y:Y}),Z+=ft.getBBox().width),nt===dS(j)-1&&ft.remove(),lt});rt.forEach((ct,nt)=>{if(nt===dS(rt)-1)return;const lt=Object.assign({},ct.attributes);ct.attr("cursor","pointer"),ct.addEventListener("mouseenter",()=>{ct.attr(v)}),ct.addEventListener("mouseleave",()=>{ct.attr(lt)}),ct.addEventListener("click",()=>{D(fi(ct,["style","path"]),fi(ct,["style","depth"]))})})}x8(w,_),_("treemapDrillDown",G=>{const{marks:Y}=G,Z=j.join("/"),Q=Y.map(tt=>{if(tt.type!=="rect")return tt;let rt=i;if(V){const nt=i.filter(U=>{const J=fi(U,["id"]);return J&&(J.match(`${Z}/`)||Z.match(J))}).map(U=>({value:U.height===0?fi(U,["value"]):void 0,name:fi(U,["id"])})),{paddingLeft:lt,paddingBottom:ft,paddingRight:q}=a,H=Object.assign(Object.assign({},a),{paddingTop:(a.paddingTop||k.getBBox().height+10)/(V+1),paddingLeft:lt/(V+1),paddingBottom:ft/(V+1),paddingRight:q/(V+1),path:U=>U.name,layer:U=>U.depth===V+1});rt=Q8(nt,H,{value:"value"})[0]}else rt=i.filter(nt=>nt.depth===1);const ct=[];return rt.forEach(({path:nt})=>{ct.push(_1(nt))}),Ft({},tt,{data:rt,scale:{color:{domain:ct}}})});return Object.assign(Object.assign({},G),{marks:Q})}),yield m(void 0,["legendFilter"])}),R=j=>{const V=j.target;if(fi(V,["markType"])!=="rect")return;const G=fi(V,["__data__","key"]),Y=oy(i,Z=>Z.id===G);fi(Y,"height")&&D(fi(Y,"path"),fi(Y,"depth"))};O.addEventListener("click",R);const B=q2(Object.assign(Object.assign({},P.active),P.inactive)),z=()=>{m2(O).forEach(V=>{const G=fi(V,["style","cursor"]),Y=oy(i,Z=>Z.id===fi(V,["__data__","key"]));if(G!=="pointer"&&(Y!=null&&Y.height)){V.style.cursor="pointer";const Z=Uh(V.attributes,B);V.addEventListener("mouseenter",()=>{V.attr(P.active)}),V.addEventListener("mouseleave",()=>{V.attr(Ft(Z,P.inactive))})}})};return z(),O.addEventListener("mousemove",z),()=>{k.remove(),O.removeEventListener("click",R),O.removeEventListener("mousemove",z)}}}var Xk=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},VZ=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const GZ={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},$k="movePoint",qk=t=>{const i=t.target,{markType:a}=i;a==="line"&&(i.attr("_lineWidth",i.attr("lineWidth")||1),i.attr("lineWidth",i.attr("_lineWidth")+3)),a==="interval"&&(i.attr("_opacity",i.attr("opacity")||1),i.attr("opacity",.7*i.attr("_opacity")))},tj=t=>{const i=t.target,{markType:a}=i;a==="line"&&i.attr("lineWidth",i.attr("_lineWidth")),a==="interval"&&i.attr("opacity",i.attr("_opacity"))},ej=(t,i,a)=>i.map(s=>["x","color"].reduce((h,v)=>{const g=a[v];return g&&s[g]!==t[g]?!1:h},!0)?Object.assign(Object.assign({},s),t):s),WZ=t=>{const i=fi(t,["__data__","y"]),s=fi(t,["__data__","y1"])-i,{__data__:{data:u,encode:h,transform:v},childNodes:g}=t.parentNode,m=oy(v,({type:M})=>M==="normalizeY"),_=fi(h,["y","field"]),w=u[g.indexOf(t)][_];return(M,O=!1)=>m||O?M/(1-M)/(s/(1-s))*w:M},HZ=(t,i)=>{const a=fi(t,["__data__","seriesItems",i,"0","value"]),s=fi(t,["__data__","seriesIndex",i]),{__data__:{data:u,encode:h,transform:v}}=t.parentNode,g=oy(v,({type:w})=>w==="normalizeY"),m=fi(h,["y","field"]),_=u[s][m];return w=>g?a===1?w:w/(1-w)/(a/(1-a))*_:w},rj=(t,i,a)=>{t.forEach((s,u)=>{s.attr("stroke",i[1]===u?a.activeStroke:a.stroke)})},nj=(t,i,a,s)=>{const u=new _o({style:a}),h=new nl({style:s});return i.appendChild(h),t.appendChild(u),[u,h]},ij=(t,i)=>{if(!fi(t,["options","range","indexOf"]))return;const s=t.options.range.indexOf(i);return t.sortedDomain[s]},Zk=(t,i,a)=>{const s=zh(t,i),h=zh(t,a)/s,v=t[0]+(i[0]-t[0])*h,g=t[1]+(i[1]-t[1])*h;return[v,g]};function YZ(t={}){const{selection:i=[],precision:a=2}=t,s=VZ(t,["selection","precision"]),u=Object.assign(Object.assign({},GZ),s||{}),h=Te(u,"path"),v=Te(u,"label"),g=Te(u,"point");return(m,_,w)=>{const{update:M,setState:O,container:C,view:P,options:{marks:k,coordinate:D}}=m,R=nc(C);let B=m2(R),z,j=i;const{transform:V=[],type:G}=D,Y=!!oy(V,({type:U})=>U==="transpose"),Z=G==="polar",Q=G==="theta",tt=!!oy(B,({markType:U})=>U==="area");tt&&(B=B.filter(({markType:U})=>U==="area"));const rt=new ta({style:{zIndex:2}});R.appendChild(rt);const ct=()=>{w.emit("element-point:select",{nativeEvent:!0,data:{selection:j}})},nt=(U,J)=>{w.emit("element-point:moved",{nativeEvent:!0,data:{changeData:U,data:J}})},lt=U=>{const J=U.target;j=[J.parentNode.childNodes.indexOf(J)],ct(),q(J)},ft=U=>{const{data:{selection:J},nativeEvent:st}=U;if(st)return;j=J;const ut=fi(B,[j==null?void 0:j[0]]);ut&&q(ut)},q=U=>{const{attributes:J,markType:st,__data__:ut}=U,{stroke:mt}=J,{points:xt,seriesTitle:Ct,color:kt,title:jt,seriesX:Bt,y1:Zt}=ut;if(Y&&st!=="interval")return;const{scale:Oe,coordinate:se}=(z==null?void 0:z.view)||P,{color:he,y:_e,x:We}=Oe,ur=se.getCenter();rt.removeChildren();let mr;const on=(Tr,Ir,Xn,za)=>Xk(this,void 0,void 0,function*(){return O("elementPointMove",po=>{var Ri;const Za=(((Ri=z==null?void 0:z.options)===null||Ri===void 0?void 0:Ri.marks)||k).map(Fa=>{if(!za.includes(Fa.type))return Fa;const{data:Ka,encode:wi}=Fa,Wo=Object.keys(wi).reduce((or,Nr)=>{const sn=wi[Nr];return Nr==="x"&&(or[sn]=Tr),Nr==="y"&&(or[sn]=Ir),Nr==="color"&&(or[sn]=Xn),or},{}),Qa=ej(Wo,Ka,wi);return nt(Wo,Qa),Ft({},Fa,{data:Qa,animate:!1})});return Object.assign(Object.assign({},po),{marks:Za})}),yield M("elementPointMove")});if(["line","area"].includes(st))xt.forEach((Tr,Ir)=>{const Xn=We.invert(Bt[Ir]);if(!Xn)return;const za=new Xl({name:$k,style:Object.assign({cx:Tr[0],cy:Tr[1],fill:mt},g)}),po=HZ(U,Ir);za.addEventListener("mousedown",Ri=>{const Za=se.output([Bt[Ir],0]),Fa=Ct==null?void 0:Ct.length;C.attr("cursor","move"),j[1]!==Ir&&(j[1]=Ir,ct()),rj(rt.childNodes,j,g);const[Ka,wi]=nj(rt,za,h,v),ja=Qa=>{const or=Tr[1]+Qa.clientY-mr[1];if(tt)if(Z){const Nr=Tr[0]+Qa.clientX-mr[0],[sn,cn]=Zk(ur,Za,[Nr,or]),[,Si]=se.output([1,_e.output(0)]),[,Sa]=se.invert([sn,Si-(xt[Ir+Fa][1]-cn)]),Ma=(Ir+1)%Fa,Ho=(Ir-1+Fa)%Fa,pc=Vs([xt[Ho],[sn,cn],Ct[Ma]&&xt[Ma]]);wi.attr("text",po(_e.invert(Sa)).toFixed(a)),Ka.attr("d",pc),za.attr("cx",sn),za.attr("cy",cn)}else{const[,Nr]=se.output([1,_e.output(0)]),[,sn]=se.invert([Tr[0],Nr-(xt[Ir+Fa][1]-or)]),cn=Vs([xt[Ir-1],[Tr[0],or],Ct[Ir+1]&&xt[Ir+1]]);wi.attr("text",po(_e.invert(sn)).toFixed(a)),Ka.attr("d",cn),za.attr("cy",or)}else{const[,Nr]=se.invert([Tr[0],or]),sn=Vs([xt[Ir-1],[Tr[0],or],xt[Ir+1]]);wi.attr("text",_e.invert(Nr).toFixed(a)),Ka.attr("d",sn),za.attr("cy",or)}};mr=[Ri.clientX,Ri.clientY],window.addEventListener("mousemove",ja);const Wo=()=>Xk(this,void 0,void 0,function*(){if(C.attr("cursor","default"),window.removeEventListener("mousemove",ja),C.removeEventListener("mouseup",Wo),qn(wi.attr("text")))return;const Qa=Number(wi.attr("text")),or=ij(he,kt);z=yield on(Xn,Qa,or,["line","area"]),wi.remove(),Ka.remove(),q(U)});C.addEventListener("mouseup",Wo)}),rt.appendChild(za)}),rj(rt.childNodes,j,g);else if(st==="interval"){let Tr=[(xt[0][0]+xt[1][0])/2,xt[0][1]];Y?Tr=[xt[0][0],(xt[0][1]+xt[1][1])/2]:Q&&(Tr=xt[0]);const Ir=WZ(U),Xn=new Xl({name:$k,style:Object.assign(Object.assign({cx:Tr[0],cy:Tr[1],fill:mt},g),{stroke:g.activeStroke})});Xn.addEventListener("mousedown",za=>{C.attr("cursor","move");const po=ij(he,kt),[Ri,Za]=nj(rt,Xn,h,v),Fa=wi=>{if(Y){const ja=Tr[0]+wi.clientX-mr[0],[Wo]=se.output([_e.output(0),_e.output(0)]),[,Qa]=se.invert([Wo+(ja-xt[2][0]),Tr[1]]),or=Vs([[ja,xt[0][1]],[ja,xt[1][1]],xt[2],xt[3]],!0);Za.attr("text",Ir(_e.invert(Qa)).toFixed(a)),Ri.attr("d",or),Xn.attr("cx",ja)}else if(Q){const ja=Tr[1]+wi.clientY-mr[1],Wo=Tr[0]+wi.clientX-mr[0],[Qa,or]=Zk(ur,[Wo,ja],Tr),[Nr,sn]=Zk(ur,[Wo,ja],xt[1]),cn=se.invert([Qa,or])[1],Si=Zt-cn;if(Si<0)return;const Sa=QX(ur,[[Qa,or],[Nr,sn],xt[2],xt[3]],Si>.5?1:0);Za.attr("text",Ir(Si,!0).toFixed(a)),Ri.attr("d",Sa),Xn.attr("cx",Qa),Xn.attr("cy",or)}else{const ja=Tr[1]+wi.clientY-mr[1],[,Wo]=se.output([1,_e.output(0)]),[,Qa]=se.invert([Tr[0],Wo-(xt[2][1]-ja)]),or=Vs([[xt[0][0],ja],[xt[1][0],ja],xt[2],xt[3]],!0);Za.attr("text",Ir(_e.invert(Qa)).toFixed(a)),Ri.attr("d",or),Xn.attr("cy",ja)}};mr=[za.clientX,za.clientY],window.addEventListener("mousemove",Fa);const Ka=()=>Xk(this,void 0,void 0,function*(){if(C.attr("cursor","default"),C.removeEventListener("mouseup",Ka),window.removeEventListener("mousemove",Fa),qn(Za.attr("text")))return;const wi=Number(Za.attr("text"));z=yield on(jt,wi,po,[st]),Za.remove(),Ri.remove(),q(U)});C.addEventListener("mouseup",Ka)}),rt.appendChild(Xn)}};B.forEach((U,J)=>{j[0]===J&&q(U),U.addEventListener("click",lt),U.addEventListener("mouseenter",qk),U.addEventListener("mouseleave",tj)});const H=U=>{const J=U==null?void 0:U.target;(!J||J.name!==$k&&!B.includes(J))&&(j=[],ct(),rt.removeChildren())};return w.on("element-point:select",ft),w.on("element-point:unselect",H),C.addEventListener("mousedown",H),()=>{rt.remove(),w.off("element-point:select",ft),w.off("element-point:unselect",H),C.removeEventListener("mousedown",H),B.forEach(U=>{U.removeEventListener("click",lt),U.removeEventListener("mouseenter",qk),U.removeEventListener("mouseleave",tj)})}}}var aj=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const oj=()=>t=>{const{children:i}=t;if(!Array.isArray(i))return[];const{x:a=0,y:s=0,width:u,height:h,data:v}=t;return i.map(g=>{var{data:m,x:_,y:w,width:M,height:O}=g,C=aj(g,["data","x","y","width","height"]);return Object.assign(Object.assign({},C),{data:BE(m,v),x:_!=null?_:a,y:w!=null?w:s,width:M!=null?M:u,height:O!=null?O:h})})};oj.props={};var UZ=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const sj=()=>t=>{const{children:i}=t;if(!Array.isArray(i))return[];const{direction:a="row",ratio:s=i.map(()=>1),padding:u=0,data:h}=t,[v,g,m,_]=a==="col"?["y","height","width","x"]:["x","width","height","y"],w=s.reduce((k,D)=>k+D),M=t[g]-u*(i.length-1),O=s.map(k=>M*(k/w)),C=[];let P=t[v]||0;for(let k=0;k<O.length;k+=1){const D=i[k],{data:R}=D,B=UZ(D,["data"]),z=BE(R,h);C.push(Object.assign({[v]:P,[g]:O[k],[_]:t[_]||0,[m]:t[m],data:z},B)),P+=O[k]+u}return C};sj.props={};class ub{constructor(i){this.$value=i}static of(i){return new ub(i)}call(i,...a){return this.$value=i(this.$value,...a),this}value(){return this.$value}}var lj=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const XZ=j1(t=>{const{encode:i,data:a,scale:s,shareSize:u=!1}=t,{x:h,y:v}=i,g=(m,_)=>{var w;if(m===void 0||!u)return{};const M=Bn(a,P=>P[m]),O=((w=s==null?void 0:s[_])===null||w===void 0?void 0:w.domain)||Array.from(M.keys()),C=O.map(P=>M.has(P)?M.get(P).length:1);return{domain:O,flex:C}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:h===void 0?null:{position:"top"}},h===void 0&&{paddingInner:0}),g(h,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:v===void 0?null:{position:"right"}},v===void 0&&{paddingInner:0}),g(v,"y"))}}}),Kk=jh(t=>{const{data:i,scale:a,legend:s}=t,u=[t];let h,v,g;for(;u.length;){const O=u.shift(),{children:C,encode:P={},scale:k={},legend:D={}}=O,{color:R}=P,{color:B}=k,{color:z}=D;R!==void 0&&(h=R),B!==void 0&&(v=B),z!==void 0&&(g=z),Array.isArray(C)&&u.push(...C)}const m=()=>{var O;const C=(O=a==null?void 0:a.color)===null||O===void 0?void 0:O.domain;if(C!==void 0)return[C];if(h===void 0)return[void 0];const P=typeof h=="function"?h:D=>D[h],k=i.map(P);return k.some(D=>typeof D=="number")?[Gc(k)]:[Array.from(new Set(k)),"ordinal"]},_=typeof h=="string"?h:"",[w,M]=m();return Object.assign({encode:{color:{type:"column",value:w!=null?w:[]}},scale:{color:Ft({},v,{domain:w,type:M})}},s===void 0&&{legend:{color:Ft({title:_},g)}})}),fy=j1(()=>({animate:{enterType:"fadeIn"}})),Qk=jh(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),Jk=jh(()=>({type:"cell"})),uj=jh(t=>{const{data:i}=t;return{data:{type:"inline",value:i,transform:[{type:"custom",callback:()=>{const{data:s,encode:u}=t,{x:h,y:v}=u,g=h?Array.from(new Set(s.map(w=>w[h]))):[],m=v?Array.from(new Set(s.map(w=>w[v]))):[];return(()=>{if(g.length&&m.length){const w=[];for(const M of g)for(const O of m)w.push({[h]:M,[v]:O});return w}if(g.length)return g.map(w=>({[h]:w}));if(m.length)return m.map(w=>({[v]:w}))})()}}]}}}),cj=jh((t,i=$Z,a=qZ,s=ZZ,u={})=>{const{data:h,encode:v,children:g,scale:m,x:_=0,y:w=0,shareData:M=!1,key:O}=t,{value:C}=h,{x:P,y:k}=v,{color:D}=m,{domain:R}=D;return{children:(z,j,V)=>{const{x:G,y:Y}=j,{paddingLeft:Z,paddingTop:Q,marginLeft:tt,marginTop:rt}=V,{domain:ct}=G.getOptions(),{domain:nt}=Y.getOptions(),lt=Hu(z),ft=z.map(i),q=z.map(({x:mt,y:xt})=>[G.invert(mt),Y.invert(xt)]),U=q.map(([mt,xt])=>Ct=>{const{[P]:kt,[k]:jt}=Ct;return(P!==void 0?kt===mt:!0)&&(k!==void 0?jt===xt:!0)}).map(mt=>C.filter(mt)),J=M?pn(U,mt=>mt.length):void 0,st=q.map(([mt,xt])=>({columnField:P,columnIndex:ct.indexOf(mt),columnValue:mt,columnValuesLength:ct.length,rowField:k,rowIndex:nt.indexOf(xt),rowValue:xt,rowValuesLength:nt.length})),ut=st.map(mt=>Array.isArray(g)?g:[g(mt)].flat(1));return lt.flatMap(mt=>{const[xt,Ct,kt,jt]=ft[mt],Bt=st[mt],Zt=U[mt];return ut[mt].map(se=>{var he,_e,{scale:We,key:ur,facet:mr=!0,axis:on={},legend:Tr={}}=se,Ir=lj(se,["scale","key","facet","axis","legend"]);const Xn=((he=We==null?void 0:We.y)===null||he===void 0?void 0:he.guide)||on.y,za=((_e=We==null?void 0:We.x)===null||_e===void 0?void 0:_e.guide)||on.x,po={x:{tickCount:P?5:void 0},y:{tickCount:k?5:void 0}},Ri=mr?Zt:Zt.length===0?[]:C,Za={color:{domain:R}},Fa={x:tL(za,a)(Bt,Ri),y:tL(Xn,s)(Bt,Ri)};return Object.assign(Object.assign({key:`${ur}-${mt}`,data:Ri,margin:0,x:xt+Z+_+tt,y:Ct+Q+w+rt,parentKey:O,width:kt,height:jt,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!Ri.length,dataDomain:J,scale:Ft(po,We,Za),axis:Ft({},on,Fa),legend:!1},Ir),u)})})}}});function $Z(t){const{points:i}=t;return $A(i)}function Q2(t,i){return i.length?Ft({title:!1,tick:null,label:null},t):Ft({title:!1,tick:null,label:null,grid:null},t)}function qZ(t){return(i,a)=>{const{rowIndex:s,rowValuesLength:u,columnIndex:h,columnValuesLength:v}=i;if(s!==u-1)return Q2(t,a);const g=h!==v-1?!1:void 0,m=a.length?void 0:null;return Ft({title:g,grid:m},t)}}function ZZ(t){return(i,a)=>{const{rowIndex:s,columnIndex:u}=i;if(u!==0)return Q2(t,a);const h=s!==0?!1:void 0,v=a.length?void 0:null;return Ft({title:h,grid:v},t)}}function tL(t,i){return typeof t=="function"?t:t===null||t===!1?()=>null:i(t)}const fj=()=>t=>[ub.of(t).call(Jk).call(Kk).call(fy).call(XZ).call(Qk).call(uj).call(cj).value()];fj.props={};var eL=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const KZ=j1(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),QZ=jh(t=>{const{data:i,children:a,x:s=0,y:u=0,key:h}=t;return{children:(g,m,_)=>{const{x:w,y:M}=m,{paddingLeft:O,paddingTop:C,marginLeft:P,marginTop:k}=_,{domain:D}=w.getOptions(),{domain:R}=M.getOptions(),B=Hu(g),z=g.map(({points:Y})=>$A(Y)),j=g.map(({x:Y,y:Z})=>[w.invert(Y),M.invert(Z)]),V=j.map(([Y,Z])=>({columnField:Y,columnIndex:D.indexOf(Y),columnValue:Y,columnValuesLength:D.length,rowField:Z,rowIndex:R.indexOf(Z),rowValue:Z,rowValuesLength:R.length})),G=V.map(Y=>Array.isArray(a)?a:[a(Y)].flat(1));return B.flatMap(Y=>{const[Z,Q,tt,rt]=z[Y],[ct,nt]=j[Y],lt=V[Y];return G[Y].map(q=>{var H,U;const{scale:J,key:st,encode:ut,axis:mt,interaction:xt}=q,Ct=eL(q,["scale","key","encode","axis","interaction"]),kt=(H=J==null?void 0:J.y)===null||H===void 0?void 0:H.guide,jt=(U=J==null?void 0:J.x)===null||U===void 0?void 0:U.guide,Bt={x:{facet:!1},y:{facet:!1}},Zt={x:tK(jt)(lt,i),y:hj(kt)(lt,i)},Oe={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:i,parentKey:h,key:`${st}-${Y}`,x:Z+O+s+P,y:Q+C+u+k,width:tt,height:rt,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Ft(Bt,J),axis:Ft(Oe,mt,Zt),legend:!1,encode:Ft({},ut,{x:ct,y:nt}),interaction:Ft({},xt,{legendFilter:!1})},Ct)})})}}}),JZ=jh(t=>{const{encode:i}=t,a=eL(t,["encode"]),{position:s=[],x:u=s,y:h=[...s].reverse()}=i,v=eL(i,["position","x","y"]),g=[];for(const m of[u].flat(1))for(const _ of[h].flat(1))g.push({$x:m,$y:_});return Object.assign(Object.assign({},a),{data:g,encode:Object.assign(Object.assign({},v),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[u].flat(1).length===1&&{x:{paddingInner:0}}),[h].flat(1).length===1&&{y:{paddingInner:0}})})});function tK(t){return typeof t=="function"?t:t===null?()=>null:(i,a)=>{const{rowIndex:s,rowValuesLength:u}=i;if(s!==u-1)return Q2(t,a)}}function hj(t){return typeof t=="function"?t:t===null?()=>null:(i,a)=>{const{columnIndex:s}=i;if(s!==0)return Q2(t,a)}}const rL=()=>t=>[ub.of(t).call(Jk).call(Kk).call(QZ).call(JZ).call(fy).call(Qk).call(KZ).value()];var eK=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const dj=j1(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),rK=j1(t=>({coordinate:{type:"polar"}})),nL=t=>{const{encode:i}=t,a=eK(t,["encode"]),{position:s}=i;return Object.assign(Object.assign({},a),{encode:{x:s}})};function vj(t){return i=>null}function nK(t){const{points:i}=t,[a,s,u,h]=i,v=ci(a,h),g=Di(a,h),m=Di(s,u),_=lw(g,m),w=1/Math.sin(_/2),M=v/(1+w),O=M*Math.sqrt(2),[C,P]=u,D=rv(g)+_/2,R=M*w,B=C+R*Math.sin(D),z=P-R*Math.cos(D);return[B-O/2,z-O/2,O,O]}const iK=()=>t=>[ub.of(t).call(Jk).call(nL).call(Kk).call(rK).call(uj).call(cj,nK,vj,vj,{frame:!1}).call(fy).call(Qk).call(dj).value()];function pj(t,i,a){const u=a,h=[0,u],v=[-u+1,1];if(t==="normal")return h;if(t==="reverse")return v;if(t==="alternate")return i%2===0?h:v;if(t==="reverse-alternate")return i%2===0?v:h}function gj(t,i,a){const s=[t];for(;s.length;){const u=s.pop();u.animate=Ft({enter:{duration:i},update:{duration:i,easing:a,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:i}},u.animate||{});const{children:h}=u;Array.isArray(h)&&s.push(...h)}return t}const iL=()=>t=>{const{children:i=[],duration:a=1e3,iterationCount:s=1,direction:u="normal",easing:h="ease-in-out-sine"}=t,v=i.length;if(!Array.isArray(i)||v===0)return[];const{key:g}=i[0],m=i.map(_=>Object.assign(Object.assign({},_),{key:g})).map(_=>gj(_,a,h));return function*(){let _=0,w;for(;s==="infinite"||_<s;){const[M,O]=pj(u,_,v);for(let C=M;C<O;C+=1){const P=Math.abs(C);w!==P&&(yield m[P]),w=P}_++}}};iL.props={};function uf(t,i,a){const{encode:s}=a;if(t===null)return[i];const u=aK(t).map(v=>{var g;return[v,(g=xr(s,v))===null||g===void 0?void 0:g[0]]}).filter(([,v])=>zn(v)),h=v=>u.map(([,g])=>g[v]).join("-");return Array.from(Bn(i,h).values())}function aL(t){return Array.isArray(t)?bj(t):typeof t=="function"?oK(t):t==="series"?mj:t==="value"?_j:t==="sum"?sL:t==="maxIndex"?hy:null}function oL(t,i){for(const a of t)a.sort(i)}function yj(t,i){return(i==null?void 0:i.domain)||Array.from(new Set(t))}function aK(t){return Array.isArray(t)?t:[t]}function mj(t,i,a){return dy(s=>a[s])}function oK(t){return(i,a,s)=>dy(u=>t(i[u]))}function bj(t){return(i,a,s)=>(u,h)=>t.reduce((v,g)=>v!==0?v:Ii(i[u][g],i[h][g]),0)}function _j(t,i,a){return dy(s=>i[s])}function sL(t,i,a){const s=Hu(t),u=Array.from(Bn(s,v=>a[+v]).entries()),h=new Map(u.map(([v,g])=>[v,g.reduce((m,_)=>m+ +i[_])]));return dy(v=>h.get(a[v]))}function hy(t,i,a){const s=Hu(t),u=Array.from(Bn(s,v=>a[+v]).entries()),h=new Map(u.map(([v,g])=>[v,$g(g,m=>i[m])]));return dy(v=>h.get(a[v]))}function dy(t){return(i,a)=>Ii(t(i),t(a))}const lL=(t={})=>{const{groupBy:i="x",orderBy:a=null,reverse:s=!1,y:u="y",y1:h="y1",series:v=!0}=t;return(g,m)=>{var _;const{data:w,encode:M,style:O={}}=m,[C,P]=xr(M,"y"),[k,D]=xr(M,"y1"),[R]=v?Ja(M,"series","color"):xr(M,"color"),B=uf(i,g,m),j=((_=aL(a))!==null&&_!==void 0?_:()=>null)(w,C,R);j&&oL(B,j);const V=new Array(g.length),G=new Array(g.length),Y=new Array(g.length),Z=[],Q=[];for(const ft of B){s&&ft.reverse();const q=k?+k[ft[0]]:0,H=[],U=[];for(const kt of ft){const jt=Y[kt]=+C[kt]-q;jt<0?U.push(kt):jt>=0&&H.push(kt)}const J=H.length>0?H:U,st=U.length>0?U:H;let ut=H.length-1,mt=0;for(;ut>0&&C[J[ut]]===0;)ut--;for(;mt<st.length-1&&C[st[mt]]===0;)mt++;Z.push(J[ut]),Q.push(st[mt]);let xt=q;for(const kt of U.reverse()){const jt=Y[kt];xt=V[kt]=(G[kt]=xt)+jt}let Ct=q;for(const kt of H){const jt=Y[kt];jt>0?Ct=V[kt]=(G[kt]=Ct)+jt:V[kt]=G[kt]=Ct}}const tt=new Set(Z),rt=new Set(Q),ct=u==="y"?V:G,nt=h==="y"?V:G;let lt;return m.type==="point"?lt={y0:ar(C,P),y:be(ct,P)}:lt={y0:ar(C,P),y:be(ct,P),y1:be(nt,D)},[g,Ft({},m,{encode:Object.assign({},lt),style:Object.assign({first:(ft,q)=>tt.has(q),last:(ft,q)=>rt.has(q)},O)})]}};lL.props={};function xj(t,i){let a=0;if(i===void 0)for(let s of t)s!=null&&(s=+s)>=s&&++a;else{let s=-1;for(let u of t)(u=i(u,++s,t))!=null&&(u=+u)>=u&&++a}return a}function sK(t,i){let a=0,s,u=0,h=0;if(i===void 0)for(let v of t)v!=null&&(v=+v)>=v&&(s=v-u,u+=s/++a,h+=s*(v-u));else{let v=-1;for(let g of t)(g=i(g,++v,t))!=null&&(g=+g)>=g&&(s=g-u,u+=s/++a,h+=s*(g-u))}if(a>1)return h/(a-1)}function wj(t,i){const a=sK(t,i);return a&&Math.sqrt(a)}function lK(t,i,a){const s=xj(t),u=wj(t);return s&&u?Math.ceil((a-i)*Math.cbrt(s)/(3.49*u)):1}var Sj=Array.prototype,uK=Sj.slice,xnt=Sj.map;function cb(t){return()=>t}const cK=Math.sqrt(50),fK=Math.sqrt(10),hK=Math.sqrt(2);function fb(t,i,a){const s=(i-t)/Math.max(0,a),u=Math.floor(Math.log10(s)),h=s/Math.pow(10,u),v=h>=cK?10:h>=fK?5:h>=hK?2:1;let g,m,_;return u<0?(_=Math.pow(10,-u)/v,g=Math.round(t*_),m=Math.round(i*_),g/_<t&&++g,m/_>i&&--m,_=-_):(_=Math.pow(10,u)*v,g=Math.round(t/_),m=Math.round(i/_),g*_<t&&++g,m*_>i&&--m),m<g&&.5<=a&&a<2?fb(t,i,a*2):[g,m,_]}function dK(t,i,a){if(i=+i,t=+t,a=+a,!(a>0))return[];if(t===i)return[t];const s=i<t,[u,h,v]=s?fb(i,t,a):fb(t,i,a);if(!(h>=u))return[];const g=h-u+1,m=new Array(g);if(s)if(v<0)for(let _=0;_<g;++_)m[_]=(h-_)/-v;else for(let _=0;_<g;++_)m[_]=(h-_)*v;else if(v<0)for(let _=0;_<g;++_)m[_]=(u+_)/-v;else for(let _=0;_<g;++_)m[_]=(u+_)*v;return m}function hb(t,i,a){return i=+i,t=+t,a=+a,fb(t,i,a)[2]}function wnt(t,i,a){i=+i,t=+t,a=+a;const s=i<t,u=s?hb(i,t,a):hb(t,i,a);return(s?-1:1)*(u<0?1/-u:u)}function vK(t,i,a){let s;for(;;){const u=hb(t,i,a);if(u===s||u===0||!isFinite(u))return[t,i];u>0?(t=Math.floor(t/u)*u,i=Math.ceil(i/u)*u):u<0&&(t=Math.ceil(t*u)/u,i=Math.floor(i*u)/u),s=u}}function pK(t){return Math.max(1,Math.ceil(Math.log(xj(t))/Math.LN2)+1)}function Mj(){var t=ju,i=Gc,a=pK;function s(u){Array.isArray(u)||(u=Array.from(u));var h,v=u.length,g,m,_=new Array(v);for(h=0;h<v;++h)_[h]=t(u[h],h,u);var w=i(_),M=w[0],O=w[1],C=a(_,M,O);if(!Array.isArray(C)){const z=O,j=+C;if(i===Gc&&([M,O]=vK(M,O,j)),C=dK(M,O,j),C[0]<=M&&(m=hb(M,O,j)),C[C.length-1]>=O)if(z>=O&&i===Gc){const V=hb(M,O,j);isFinite(V)&&(V>0?O=(Math.floor(O/V)+1)*V:V<0&&(O=(Math.ceil(O*-V)+1)/-V))}else C.pop()}for(var P=C.length,k=0,D=P;C[k]<=M;)++k;for(;C[D-1]>O;)--D;(k||D<P)&&(C=C.slice(k,D),P=D-k);var R=new Array(P+1),B;for(h=0;h<=P;++h)B=R[h]=[],B.x0=h>0?C[h-1]:M,B.x1=h<P?C[h]:O;if(isFinite(m)){if(m>0)for(h=0;h<v;++h)(g=_[h])!=null&&M<=g&&g<=O&&R[Math.min(P,Math.floor((g-M)/m))].push(u[h]);else if(m<0){for(h=0;h<v;++h)if((g=_[h])!=null&&M<=g&&g<=O){const z=Math.floor((M-g)*m);R[Math.min(P,z+(C[z]<=g))].push(u[h])}}}else for(h=0;h<v;++h)(g=_[h])!=null&&M<=g&&g<=O&&R[FX(C,g,0,P)].push(u[h]);return R}return s.value=function(u){return arguments.length?(t=typeof u=="function"?u:cb(u),s):t},s.domain=function(u){return arguments.length?(i=typeof u=="function"?u:cb([u[0],u[1]]),s):i},s.thresholds=function(u){return arguments.length?(a=typeof u=="function"?u:cb(Array.isArray(u)?uK.call(u):u),s):a},s}function db(t,i,a=0,s=1/0,u){if(i=Math.floor(i),a=Math.floor(Math.max(0,a)),s=Math.floor(Math.min(t.length-1,s)),!(a<=i&&i<=s))return t;for(u=u===void 0?O1:nF(u);s>a;){if(s-a>600){const m=s-a+1,_=i-a+1,w=Math.log(m),M=.5*Math.exp(2*w/3),O=.5*Math.sqrt(w*M*(m-M)/m)*(_-m/2<0?-1:1),C=Math.max(a,Math.floor(i-_*M/m+O)),P=Math.min(s,Math.floor(i+(m-_)*M/m+O));db(t,i,C,P,u)}const h=t[i];let v=a,g=s;for(vy(t,a,i),u(t[s],h)>0&&vy(t,a,s);v<g;){for(vy(t,v,g),++v,--g;u(t[v],h)<0;)++v;for(;u(t[g],h)>0;)--g}u(t[a],h)===0?vy(t,a,g):(++g,vy(t,g,s)),g<=i&&(a=g+1),i<=g&&(s=g-1)}return t}function vy(t,i,a){const s=t[i];t[i]=t[a],t[a]=s}function gK(t,i=Ii){let a,s=!1;if(i.length===1){let u;for(const h of t){const v=i(h);(s?Ii(v,u)>0:Ii(v,v)===0)&&(a=h,u=v,s=!0)}}else for(const u of t)(s?i(u,a)>0:i(u,u)===0)&&(a=u,s=!0);return a}function J2(t,i,a){if(t=Float64Array.from(BX(t,a)),!(!(s=t.length)||isNaN(i=+i))){if(i<=0||s<2)return rs(t);if(i>=1)return pn(t);var s,u=(s-1)*i,h=Math.floor(u),v=pn(db(t,h).subarray(0,h+1)),g=rs(t.subarray(h+1));return v+(g-v)*(u-h)}}function Snt(t,i,a=number){if(!(!(s=t.length)||isNaN(i=+i))){if(i<=0||s<2)return+a(t[0],0,t);if(i>=1)return+a(t[s-1],s-1,t);var s,u=(s-1)*i,h=Math.floor(u),v=+a(t[h],h,t),g=+a(t[h+1],h+1,t);return v+(g-v)*(u-h)}}function yK(t,i,a=yE){if(!isNaN(i=+i)){if(s=Float64Array.from(t,(g,m)=>yE(a(t[m],m,t))),i<=0)return F1(s);if(i>=1)return $g(s);var s,u=Uint32Array.from(t,(g,m)=>m),h=s.length-1,v=Math.floor(h*i);return db(u,v,0,h,(g,m)=>O1(s[g],s[m])),v=gK(u.subarray(0,v+1),g=>s[g]),v>=0?v:-1}}function uL(t,i){return J2(t,.5,i)}function Tj(t,i){return yK(t,.5,i)}function yl(t,i){let a=0;if(i===void 0)for(let s of t)(s=+s)&&(a+=s);else{let s=-1;for(let u of t)(u=+i(u,++s,t))&&(a+=u)}return a}var Oj=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function $h(t){return i=>i===null?t:`${t} of ${i}`}function Aj(t){if(typeof t=="function")return[t,null];const a={mean:mK,max:_K,count:xK,first:wK,last:SK,sum:cf,min:Cj,median:bK}[t];if(!a)throw new Error(`Unknown reducer: ${t}.`);return a()}function mK(){const t=(a,s)=>Xg(a,u=>+s[u]),i=$h("mean");return[t,i]}function bK(){const t=(a,s)=>uL(a,u=>+s[u]),i=$h("median");return[t,i]}function _K(){const t=(a,s)=>pn(a,u=>+s[u]),i=$h("max");return[t,i]}function Cj(){const t=(a,s)=>rs(a,u=>+s[u]),i=$h("min");return[t,i]}function xK(){const t=(a,s)=>a.length,i=$h("count");return[t,i]}function cf(){const t=(a,s)=>yl(a,u=>+s[u]),i=$h("sum");return[t,i]}function wK(){const t=(a,s)=>s[a[0]],i=$h("first");return[t,i]}function SK(){const t=(a,s)=>s[a[a.length-1]],i=$h("last");return[t,i]}const cL=(t={})=>{const{groupBy:i}=t,a=Oj(t,["groupBy"]);return(s,u)=>{const{data:h,encode:v}=u,g=i(s,u);if(!g)return[s,u];const m=(C,P)=>{if(C)return C;const{from:k}=P;if(!k)return C;const[,D]=xr(v,k);return D},_=Object.entries(a).map(([C,P])=>{const[k,D]=Aj(P),[R,B]=xr(v,C),z=m(B,P),j=g.map(V=>k(V,R!=null?R:h));return[C,Object.assign(Object.assign({},zr(j,(D==null?void 0:D(z))||z)),{aggregate:!0})]}),w=Object.keys(v).map(C=>{const[P,k]=xr(v,C),D=g.map(R=>P[R[0]]);return[C,be(D,k)]}),M=g.map(C=>h[C[0]]);return[Hu(g),Ft({},u,{data:M,encode:Object.fromEntries([...w,..._])})]}};cL.props={};var MK=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const Pj="thresholds";function TK(t){const[i,a]=Gc(t);return Math.min(200,lK(t,i,a))}const fL=(t={})=>{const{groupChannels:i=["color"],binChannels:a=["x","y"]}=t,s=MK(t,["groupChannels","binChannels"]),u={},h=(v,g)=>{const{encode:m}=g,_=a.map(P=>{const[k]=xr(m,P);return k}),w=Te(s,Pj),M=v.filter(P=>_.every(k=>zn(k[P]))),O=[...i.map(P=>{const[k]=xr(m,P);return k}).filter(zn).map(P=>k=>P[k]),...a.map((P,k)=>{const D=_[k],R=w[P]||TK(D),B=Mj().thresholds(R).value(j=>+D[j])(M),z=new Map(B.flatMap(j=>{const{x0:V,x1:G}=j,Y=`${V},${G}`;return j.map(Z=>[Z,Y])}));return u[P]=z,j=>z.get(j)})],C=P=>O.map(k=>k(P)).join("-");return Array.from(Bn(M,C).values())};return cL(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(s).filter(([v])=>!v.startsWith(Pj)))),Object.fromEntries(a.flatMap(v=>{const g=([_])=>+u[v].get(_).split(",")[0],m=([_])=>+u[v].get(_).split(",")[1];return m.from=v,[[v,g],[`${v}1`,m]]}))),{groupBy:h}))};fL.props={};const Ej=(t={})=>{const{thresholds:i}=t;return fL(Object.assign(Object.assign({},t),{thresholdsX:i,groupChannels:["color"],binChannels:["x"]}))};Ej.props={};var OK=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const kj=(t={})=>{const{groupBy:i="x",reverse:a=!1,orderBy:s,padding:u}=t,h=OK(t,["groupBy","reverse","orderBy","padding"]);return(v,g)=>{const{data:m,encode:_,scale:w}=g,{series:M}=w,[O]=xr(_,"y"),[C]=Ja(_,"series","color"),P=yj(C,M),k=Ft({},g,{scale:{series:{domain:P,paddingInner:u}}}),D=uf(i,v,g),R=aL(s);if(!R)return[v,Ft(k,{encode:{series:be(C)}})];const B=R(m,O,C);B&&oL(D,B);const z=new Array(v.length);for(const j of D){a&&j.reverse();for(let V=0;V<j.length;V++)z[j[V]]=P[V]}return[v,Ft(k,{encode:{series:be(s?z:C)}})]}};kj.props={};function tM(t,i,a){if(t===null)return[-.5,.5];const s=yj(t,i),h=new Vu({domain:s,range:[0,1],padding:a}).getBandWidth();return[-h/2,h/2]}function eM(t,i,a){return i*(1-t)+a*t}const AK=(t={})=>{const{padding:i=0,paddingX:a=i,paddingY:s=i,random:u=Math.random}=t;return(h,v)=>{const{encode:g,scale:m}=v,{x:_,y:w}=m,[M]=xr(g,"x"),[O]=xr(g,"y"),C=tM(M,_,a),P=tM(O,w,s),k=h.map(()=>eM(u(),...P)),D=h.map(()=>eM(u(),...C));return[h,Ft({scale:{x:{padding:.5},y:{padding:.5}}},v,{encode:{dy:be(k),dx:be(D)}})]}};AK.props={};const hL=(t={})=>{const{padding:i=0,random:a=Math.random}=t;return(s,u)=>{const{encode:h,scale:v}=u,{x:g}=v,[m]=xr(h,"x"),_=tM(m,g,i),w=s.map(()=>eM(a(),..._));return[s,Ft({scale:{x:{padding:.5}}},u,{encode:{dx:be(w)}})]}};hL.props={};const dL=(t={})=>{const{padding:i=0,random:a=Math.random}=t;return(s,u)=>{const{encode:h,scale:v}=u,{y:g}=v,[m]=xr(h,"y"),_=tM(m,g,i),w=s.map(()=>eM(a(),..._));return[s,Ft({scale:{y:{padding:.5}}},u,{encode:{dy:be(w)}})]}};dL.props={};var Lj=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const vL=(t={})=>{const{groupBy:i="x"}=t;return(a,s)=>{const{encode:u}=s,{x:h}=u,v=Lj(u,["x"]),g=Object.entries(v).filter(([O])=>O.startsWith("y")).map(([O])=>[O,xr(u,O)[0]]),m=g.map(([O])=>[O,new Array(a.length)]),_=uf(i,a,s),w=new Array(_.length);for(let O=0;O<_.length;O++){const P=_[O].flatMap(R=>g.map(([,B])=>+B[R])),[k,D]=Gc(P);w[O]=(k+D)/2}const M=Math.max(...w);for(let O=0;O<_.length;O++){const C=M-w[O],P=_[O];for(const k of P)for(let D=0;D<g.length;D++){const[,R]=g[D],[,B]=m[D];B[k]=+R[k]+C}}return[a,Ft({},s,{encode:Object.fromEntries(m.map(([O,C])=>[O,be(C,xr(u,O)[1])]))})]}};vL.props={};const pL=(t={})=>{const{groupBy:i="x",series:a=!0}=t;return(s,u)=>{const{encode:h}=u,[v]=xr(h,"y"),[g,m]=xr(h,"y1"),[_]=a?Ja(h,"series","color"):xr(h,"color"),w=uf(i,s,u),M=new Array(s.length);for(const O of w){const C=O.map(P=>+v[P]);for(let P=0;P<O.length;P++){const k=O[P],D=Math.max(...C.filter((R,B)=>B!==P));M[k]=+v[k]>D?D:v[k]}}return[s,Ft({},u,{encode:{y1:be(M,m)}})]}};pL.props={};const CK=t=>{const{groupBy:i=["x"],reducer:a=(v,g)=>g[v[0]],orderBy:s=null,reverse:u=!1,duration:h}=t;return(v,g)=>{const{encode:m}=g,w=(Array.isArray(i)?i:[i]).map(D=>[D,xr(m,D)[0]]);if(w.length===0)return[v,g];let M=[v];for(const[,D]of w){const R=[];for(const B of M){const z=Array.from(Bn(B,j=>D[j]).values());R.push(...z)}M=R}if(s){const[D]=xr(m,s);D&&M.sort((R,B)=>a(R,D)-a(B,D)),u&&M.reverse()}const O=(h||3e3)/M.length,[C]=h?[qr(v,O)]:Ja(m,"enterDuration",qr(v,O)),[P]=Ja(m,"enterDelay",qr(v,0)),k=new Array(v.length);for(let D=0,R=0;D<M.length;D++){const B=M[D],z=pn(B,j=>+C[j]);for(const j of B)k[j]=+P[j]+R;R+=z}return[v,Ft({},g,{encode:{enterDuration:$n(C),enterDelay:$n(k)}})]}};CK.props={};var Dj=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Ij(t){return typeof t=="function"?t:{min:(a,s)=>rs(a,u=>s[+u]),max:(a,s)=>pn(a,u=>s[+u]),first:(a,s)=>s[a[0]],last:(a,s)=>s[a[a.length-1]],mean:(a,s)=>Xg(a,u=>s[+u]),median:(a,s)=>uL(a,u=>s[+u]),sum:(a,s)=>yl(a,u=>s[+u]),deviation:(a,s)=>wj(a,u=>s[+u])}[t]||pn}const PK=(t={})=>{const{groupBy:i="x",basis:a="max"}=t;return(s,u)=>{const{encode:h,tooltip:v}=u,{x:g}=h,m=Dj(h,["x"]),_=Object.entries(m).filter(([k])=>k.startsWith("y")).map(([k])=>[k,xr(h,k)[0]]),[,w]=_.find(([k])=>k==="y"),M=_.map(([k])=>[k,new Array(s.length)]),O=uf(i,s,u),C=Ij(a);for(const k of O){const D=C(k,w);for(const R of k)for(let B=0;B<_.length;B++){const[,z]=_[B],[,j]=M[B];j[R]=+z[R]/D}}const P=Wu(v)||(v==null?void 0:v.items)&&(v==null?void 0:v.items.length)!==0;return[s,Ft({},u,Object.assign({encode:Object.fromEntries(M.map(([k,D])=>[k,be(D,xr(h,k)[1])]))},!P&&h.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};PK.props={};function EK(t,i){return[t[0]]}function rM(t,i){const a=t.length-1;return[t[a]]}function py(t,i){const a=$g(t,s=>i[s]);return[t[a]]}function gL(t,i){const a=F1(t,s=>i[s]);return[t[a]]}function nM(t){return typeof t=="function"?t:{first:EK,last:rM,max:py,min:gL}[t]||EK}const vb=(t={})=>{const{groupBy:i="series",channel:a,selector:s}=t;return(u,h)=>{const{encode:v}=h,g=uf(i,u,h),[m]=xr(v,a),_=nM(s);return[g.flatMap(w=>_(w,m)),h]}};vb.props={};var iM=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const qh=(t={})=>{const{selector:i}=t,a=iM(t,["selector"]);return vb(Object.assign({channel:"x",selector:i},a))};qh.props={};var kK=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const Rj=(t={})=>{const{selector:i}=t,a=kK(t,["selector"]);return vb(Object.assign({channel:"y",selector:i},a))};Rj.props={};var LK=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const os=(t={})=>{const{channels:i=["x","y"]}=t,a=LK(t,["channels"]),s=(u,h)=>uf(i,u,h);return cL(Object.assign(Object.assign({},a),{groupBy:s}))};os.props={};const Nj=(t={})=>os(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));Nj.props={};const DK=(t={})=>os(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));DK.props={};const Bj=(t={})=>os(Object.assign(Object.assign({},t),{channels:["color"]}));Bj.props={};function zj(t,i,a){return(i.length!==2?su(pm(t,i,a),([s,u],[h,v])=>Ii(u,v)||Ii(s,h)):su(Bn(t,a),([s,u],[h,v])=>i(u,v)||Ii(s,h))).map(([s])=>s)}function yL(t,i,a){const{by:s=t,reducer:u="max"}=i,[h]=xr(a,s);if(typeof u=="function")return v=>u(v,h);if(u==="max")return v=>pn(v,g=>+h[g]);if(u==="min")return v=>rs(v,g=>+h[g]);if(u==="sum")return v=>yl(v,g=>+h[g]);if(u==="median")return v=>uL(v,g=>+h[g]);if(u==="mean")return v=>Xg(v,g=>+h[g]);if(u==="first")return v=>h[v[0]];if(u==="last")return v=>h[v[v.length-1]];throw new Error(`Unknown reducer: ${u}`)}function IK(t,i,a){if(!Array.isArray(a))return t;const s=new Set(a);return t.filter(u=>s.has(i[u]))}const aM=(t={})=>(i,a)=>{const{reverse:s,slice:u,channel:h,by:v,ordinal:g=!0,reducer:m}=t,{encode:_,scale:w={}}=a,M=w[h].domain,[O]=xr(_,v!=null?v:h),[C]=xr(_,h),P=yL(h,{by:v,reducer:m},_),k=IK(i,C,M),D=zj(k,P,j=>C[j]),R=g?i:su(i,j=>O[j]);s&&(!g&&R.reverse(),D.reverse());const B=typeof u=="number"?[0,u]:u,z=u?D.slice(...B):D;return[R,Ft(a,{scale:{[h]:{domain:z}}})]};aM.props={};const Fj=(t={})=>aM(Object.assign(Object.assign({},t),{channel:"x"}));Fj.props={};const jj=(t={})=>aM(Object.assign(Object.assign({},t),{channel:"y"}));jj.props={};const RK=(t={})=>aM(Object.assign(Object.assign({},t),{channel:"color"}));RK.props={};function Vj(t,i){return typeof i=="string"?t.map(a=>a[i]):t.map(i)}function NK(t,i){if(typeof t=="function")return a=>t(a,i);if(t==="sum")return a=>yl(a,s=>+i[s]);throw new Error(`Unknown reducer: ${t}`)}const mL=(t={})=>{const{field:i,channel:a="y",reducer:s="sum"}=t;return(u,h)=>{const{data:v,encode:g}=h,[m]=xr(g,"x"),_=i?Vj(v,i):xr(g,a)[0],w=NK(s,_),M=tv(u,w,O=>m[O]).map(O=>O[1]);return[u,Ft({},h,{scale:{x:{flex:M}}})]}};mL.props={};function oM(t){const{padding:i=0,direction:a="col"}=t;return(s,u,h)=>{const v=s.length;if(v===0)return[];const{innerWidth:g,innerHeight:m}=h,_=m/g;let w=Math.ceil(Math.sqrt(u/_)),M=g/w,O=Math.ceil(u/w),C=O*M;for(;C>m;)w=w+1,M=g/w,O=Math.ceil(u/w),C=O*M;const P=m-O*M,k=O<=1?0:P/(O-1),[D,R]=O<=1?[(g-v*M)/(v-1),(m-M)/2]:[0,0];return s.map((B,z)=>{const[j,V,G,Y]=$A(B),Z=a==="col"?z%w:Math.floor(z/O),Q=a==="col"?Math.floor(z/w):z%O,tt=Z*M,rt=(O-Q-1)*M+P,ct=(M-i)/G,nt=(M-i)/Y,lt=tt-j+D*Z+1/2*i,ft=rt-V-k*Q-R+1/2*i;return`translate(${lt}, ${ft}) scale(${ct}, ${nt})`})}}const cc=t=>(i,a)=>[i,Ft({},a,{modifier:oM(t),axis:!1})];cc.props={};function Zh(t,i,a,s){const u=t.length;if(s>=u||s===0)return t;const h=C=>i[t[C]]*1,v=C=>a[t[C]]*1,g=[],m=(u-2)/(s-2);let _=0,w,M,O;g.push(_);for(let C=0;C<s-2;C++){let P=0,k=0,D=Math.floor((C+1)*m)+1,R=Math.floor((C+2)*m)+1;R=Math.min(R,u);const B=R-D;for(;D<R;D++)P+=h(D),k+=v(D);P/=B,k/=B;let z=Math.floor((C+0)*m)+1;const j=Math.floor((C+1)*m)+1,V=[h(_),v(_)];for(w=M=-1;z<j;z++)M=Math.abs((V[0]-P)*(h(z)-V[1])-(V[0]-v(z))*(k-V[0]))*.5,M>w&&(w=M,O=z);g.push(O),_=O}return g.push(u-1),g.map(C=>t[C])}function bL(t){if(typeof t=="function")return t;if(t==="lttb")return Zh;const i={first:s=>[s[0]],last:s=>[s[s.length-1]],min:(s,u,h)=>[s[F1(s,v=>h[v])]],max:(s,u,h)=>[s[$g(s,v=>h[v])]],median:(s,u,h)=>[s[Tj(s,v=>h[v])]]},a=i[t]||i.median;return(s,u,h,v)=>{const g=Math.max(1,Math.floor(s.length/v));return _L(s,g).flatMap(_=>a(_,u,h))}}function _L(t,i){const a=t.length,s=[];let u=0;for(;u<a;)s.push(t.slice(u,u+=i));return s}const ff=(t={})=>{const{strategy:i="median",thresholds:a=2e3,groupBy:s=["series","color"]}=t,u=bL(i);return(h,v)=>{const{encode:g}=v,m=uf(s,h,v),[_]=xr(g,"x"),[w]=xr(g,"y");return[m.flatMap(M=>u(M,_,w,a)),v]}};ff.props={};function xL(t){return typeof t=="object"?[t.value,t.ordinal]:[t,!0]}function wL(t){var i;const{encode:a}=t,s=Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),{y:Object.assign(Object.assign({},t.encode.y),{value:[]})})}),u=(i=a==null?void 0:a.color)===null||i===void 0?void 0:i.field;if(!a||!u)return s;let h;for(const[v,g]of Object.entries(a))(v==="x"||v==="y")&&g.field===u&&(h=Object.assign(Object.assign({},h),{[v]:Object.assign(Object.assign({},g),{value:[]})}));return h?Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),h)}):s}const Gj=(t={})=>(i,a)=>{const{encode:s,data:u}=a,h=Object.entries(t).map(([w,M])=>{const[O]=xr(s,w);if(!O)return null;const[C,P=!0]=xL(M);if(typeof C=="function")return k=>C(O[k]);if(P){const k=Array.isArray(C)?C:[C];return k.length===0?null:D=>k.includes(O[D])}else{const[k,D]=C;return R=>O[R]>=k&&O[R]<=D}}).filter(zn),v=w=>h.every(M=>M(w)),g=i.filter(v),m=g.map((w,M)=>M);if(h.length===0){const w=wL(a);return[i,w]}const _=Object.entries(s).map(([w,M])=>[w,Object.assign(Object.assign({},M),{value:m.map(O=>M.value[g[O]]).filter(O=>O!==void 0)})]);return[m,Ft({},a,{encode:Object.fromEntries(_),data:g.map(w=>u[w])})]};Gj.props={};var Wj={},ss={},SL=34,Gv=10,pb=13;function Hj(t){return new Function("d","return {"+t.map(function(i,a){return JSON.stringify(i)+": d["+a+'] || ""'}).join(",")+"}")}function BK(t,i){var a=Hj(t);return function(s,u){return i(a(s),u,t)}}function Yj(t){var i=Object.create(null),a=[];return t.forEach(function(s){for(var u in s)u in i||a.push(i[u]=u)}),a}function Oo(t,i){var a=t+"",s=a.length;return s<i?new Array(i-s+1).join(0)+a:a}function ML(t){return t<0?"-"+Oo(-t,6):t>9999?"+"+Oo(t,6):Oo(t,4)}function Uj(t){var i=t.getUTCHours(),a=t.getUTCMinutes(),s=t.getUTCSeconds(),u=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ML(t.getUTCFullYear(),4)+"-"+Oo(t.getUTCMonth()+1,2)+"-"+Oo(t.getUTCDate(),2)+(u?"T"+Oo(i,2)+":"+Oo(a,2)+":"+Oo(s,2)+"."+Oo(u,3)+"Z":s?"T"+Oo(i,2)+":"+Oo(a,2)+":"+Oo(s,2)+"Z":a||i?"T"+Oo(i,2)+":"+Oo(a,2)+"Z":"")}function zK(t){var i=new RegExp('["'+t+`
\r]`),a=t.charCodeAt(0);function s(M,O){var C,P,k=u(M,function(D,R){if(C)return C(D,R-1);P=D,C=O?BK(D,O):Hj(D)});return k.columns=P||[],k}function u(M,O){var C=[],P=M.length,k=0,D=0,R,B=P<=0,z=!1;M.charCodeAt(P-1)===Gv&&--P,M.charCodeAt(P-1)===pb&&--P;function j(){if(B)return ss;if(z)return z=!1,Wj;var G,Y=k,Z;if(M.charCodeAt(Y)===SL){for(;k++<P&&M.charCodeAt(k)!==SL||M.charCodeAt(++k)===SL;);return(G=k)>=P?B=!0:(Z=M.charCodeAt(k++))===Gv?z=!0:Z===pb&&(z=!0,M.charCodeAt(k)===Gv&&++k),M.slice(Y+1,G-1).replace(/""/g,'"')}for(;k<P;){if((Z=M.charCodeAt(G=k++))===Gv)z=!0;else if(Z===pb)z=!0,M.charCodeAt(k)===Gv&&++k;else if(Z!==a)continue;return M.slice(Y,G)}return B=!0,M.slice(Y,P)}for(;(R=j())!==ss;){for(var V=[];R!==Wj&&R!==ss;)V.push(R),R=j();O&&(V=O(V,D++))==null||C.push(V)}return C}function h(M,O){return M.map(function(C){return O.map(function(P){return w(C[P])}).join(t)})}function v(M,O){return O==null&&(O=Yj(M)),[O.map(w).join(t)].concat(h(M,O)).join(`
`)}function g(M,O){return O==null&&(O=Yj(M)),h(M,O).join(`
`)}function m(M){return M.map(_).join(`
`)}function _(M){return M.map(w).join(t)}function w(M){return M==null?"":M instanceof Date?Uj(M):i.test(M+="")?'"'+M.replace(/"/g,'""')+'"':M}return{parse:s,parseRows:u,format:v,formatBody:g,formatRows:m,formatRow:_,formatValue:w}}function FK(t){for(var i in t){var a=t[i].trim(),s,u;if(!a)a=null;else if(a==="true")a=!0;else if(a==="false")a=!1;else if(a==="NaN")a=NaN;else if(!isNaN(s=+a))a=s;else if(u=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Xj&&u[4]&&!u[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a);else continue;t[i]=a}return t}const Xj=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var jK=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})};const sM=t=>{const{value:i,format:a=i.split(".").pop(),delimiter:s=",",autoType:u=!0}=t;return()=>jK(void 0,void 0,void 0,function*(){const h=yield fetch(i);if(a==="csv"){const v=yield h.text();return zK(s).parse(v,u?FK:ev)}else if(a==="json")return yield h.json();throw new Error(`Unknown format: ${a}.`)})};sM.props={};const lM=t=>{const{value:i}=t;return()=>i};lM.props={};function $j(t,i){return t.map(a=>{if(Array.isArray(a)){const[s,u=i]=a;return[s,u]}return[a,i]})}const qj=t=>{const{fields:i=[]}=t,a=$j(i,!0);return s=>{const u=(h,v)=>a.reduce((g,[m,_=!0])=>g!==0?g:_?h[m]<v[m]?-1:+(h[m]!==v[m]):h[m]>v[m]?-1:+(h[m]!==v[m]),0);return[...s].sort(u)}};qj.props={};function Mnt(t){return t!=null&&!Number.isNaN(t)}const TL=t=>{const{callback:i}=t;return a=>Array.isArray(a)?[...a].sort(i):a};TL.props={};function uM(t){return t!=null&&!Number.isNaN(t)}const cM=t=>{const{callback:i=uM}=t;return a=>a.filter(i)};cM.props={};function VK(t,i=[]){return i.reduce((a,s)=>(s in t&&(a[s]=t[s]),a),{})}const Zj=t=>{const{fields:i}=t;return a=>a.map(s=>VK(s,i))};Zj.props={};function GK(t){return Object.keys(t).length===0}const OL=t=>i=>{if(!t||GK(t))return i;const a=s=>Object.entries(s).reduce((u,[h,v])=>(u[t[h]||h]=v,u),{});return i.map(a)};OL.props={};function Kj(t){return!t||Object.keys(t).length===0}const Qj=t=>{const{fields:i,key:a="key",value:s="value"}=t;return u=>Kj(i)?u:u.flatMap(h=>i.map(v=>Object.assign(Object.assign({},h),{[a]:v,[s]:h[v]})))};Qj.props={};const AL=t=>{const{start:i,end:a}=t;return s=>s.slice(i,a)};AL.props={};const Jj=t=>{const{callback:i=ev}=t;return a=>i(a)};Jj.props={};const tV=t=>{const{callback:i=ev}=t;return a=>Array.isArray(a)?a.map(i):a};tV.props={};function Kh(t){return typeof t=="string"?i=>i[t]:t}const CL=t=>{const{join:i,on:a,select:s=[],as:u=s,unknown:h=NaN}=t,[v,g]=a,m=Kh(g),_=Kh(v),w=pm(i,([M])=>M,M=>m(M));return M=>M.map(O=>{const C=w.get(_(O));return Object.assign(Object.assign({},O),s.reduce((P,k,D)=>(P[u[D]]=C?C[k]:h,P),{}))})};CL.props={};var PL=Kt(53843),WK=Kt.n(PL);function HK(t){return t!=null&&!Number.isNaN(t)}const EL=t=>{const{field:i,groupBy:a,as:s=["y","size"],min:u,max:h,size:v=10,width:g}=t,[m,_]=s;return w=>Array.from(Bn(w,O=>a.map(C=>O[C]).join("-")).values()).map(O=>{const C=WK().create(O.map(D=>D[i]),{min:u,max:h,size:v,width:g}),P=C.map(D=>D.x),k=C.map(D=>D.y);return Object.assign(Object.assign({},O[0]),{[m]:P,[_]:k})})};EL.props={};const kL=()=>t=>(console.log("G2 data section:",t),t);kL.props={};var LL=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})};function eV(t,i){return{set(a,s,u){if(i[a]===void 0)return this;const h=s?s.call(null,i[a]):i[a];return u?u.call(null,h):typeof t[a]=="function"?t[a](h):t[a]=h,this},setAsync(a,s,u){return LL(this,void 0,void 0,function*(){if(i[a]===void 0)return this;const h=s?yield s.call(null,i[a]):i[a];return u?u.call(null,h):typeof t[a]=="function"?t[a](h):t[a]=h,this})}}}const gb=Math.PI/180,Wv=64,yb=2048;function YK(t){return t.text}function rV(){return"serif"}function fM(){return"normal"}function nV(t){return t.value}function DL(){return~~(Math.random()*2)*90}function iV(){return 1}function aV(){}function UK(t,i,a,s){if(i.sprite)return;const u=t.context,h=t.ratio;u.clearRect(0,0,(Wv<<5)/h,yb/h);let v=0,g=0,m=0;const _=a.length;for(--s;++s<_;){i=a[s],u.save(),u.font=i.style+" "+i.weight+" "+~~((i.size+1)/h)+"px "+i.font;let O=u.measureText(i.text+"m").width*h,C=i.size<<1;if(i.rotate){const P=Math.sin(i.rotate*gb),k=Math.cos(i.rotate*gb),D=O*k,R=O*P,B=C*k,z=C*P;O=Math.max(Math.abs(D+z),Math.abs(D-z))+31>>5<<5,C=~~Math.max(Math.abs(R+B),Math.abs(R-B))}else O=O+31>>5<<5;if(C>m&&(m=C),v+O>=Wv<<5&&(v=0,g+=m,m=0),g+C>=yb)break;u.translate((v+(O>>1))/h,(g+(C>>1))/h),i.rotate&&u.rotate(i.rotate*gb),u.fillText(i.text,0,0),i.padding&&(u.lineWidth=2*i.padding,u.strokeText(i.text,0,0)),u.restore(),i.width=O,i.height=C,i.xoff=v,i.yoff=g,i.x1=O>>1,i.y1=C>>1,i.x0=-i.x1,i.y0=-i.y1,i.hasText=!0,v+=O}const w=u.getImageData(0,0,(Wv<<5)/h,yb/h).data,M=[];for(;--s>=0;){if(i=a[s],!i.hasText)continue;const O=i.width,C=O>>5;let P=i.y1-i.y0;for(let R=0;R<P*C;R++)M[R]=0;if(v=i.xoff,v==null)return;g=i.yoff;let k=0,D=-1;for(let R=0;R<P;R++){for(let B=0;B<O;B++){const z=C*R+(B>>5),j=w[(g+R)*(Wv<<5)+(v+B)<<2]?1<<31-B%32:0;M[z]|=j,k|=j}k?D=R:(i.y0++,P--,R--,g++)}i.y1=i.y0+D,i.sprite=M.slice(0,(i.y1-i.y0)*C)}}function oV(t,i,a){a>>=5;const s=t.sprite,u=t.width>>5,h=t.x-(u<<4),v=h&127,g=32-v,m=t.y1-t.y0;let _=(t.y+t.y0)*a+(h>>5),w;for(let M=0;M<m;M++){w=0;for(let O=0;O<=u;O++)if((w<<g|(O<u?(w=s[M*u+O])>>>v:0))&i[_+O])return!0;_+=a}return!1}function XK(t,i){const a=t[0],s=t[1];i.x+i.x0<a.x&&(a.x=i.x+i.x0),i.y+i.y0<a.y&&(a.y=i.y+i.y0),i.x+i.x1>s.x&&(s.x=i.x+i.x1),i.y+i.y1>s.y&&(s.y=i.y+i.y1)}function sV(t,i){return t.x+t.x1>i[0].x&&t.x+t.x0<i[1].x&&t.y+t.y1>i[0].y&&t.y+t.y0<i[1].y}function lV(t){const i=t[0]/t[1];return function(a){return[i*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function $K(t){const a=4*t[0]/t[1];let s=0,u=0;return function(h){const v=h<0?-1:1;switch(Math.sqrt(1+4*v*h)-v&3){case 0:s+=a;break;case 1:u+=4;break;case 2:s-=a;break;default:u-=4;break}return[s,u]}}function uV(t){const i=[];let a=-1;for(;++a<t;)i[a]=0;return i}function hf(){return document.createElement("canvas")}function df(t){return typeof t=="function"?t:function(){return t}}const cV={archimedean:lV,rectangular:$K};function qK(){let t=[256,256],i=YK,a=rV,s=nV,u=fM,h=DL,v=iV,g=lV,m=Math.random,_=aV,w=[],M=null,O=1/0,C=hf;const P=fM,k={};k.start=function(){const[B,z]=t,j=D(C()),V=k.board?k.board:uV((t[0]>>5)*t[1]),G=w.length,Y=[],Z=w.map(function(ct,nt,lt){return ct.text=i.call(this,ct,nt,lt),ct.font=a.call(this,ct,nt,lt),ct.style=P.call(this,ct,nt,lt),ct.weight=u.call(this,ct,nt,lt),ct.rotate=h.call(this,ct,nt,lt),ct.size=~~s.call(this,ct,nt,lt),ct.padding=v.call(this,ct,nt,lt),ct}).sort(function(ct,nt){return nt.size-ct.size});let Q=-1,tt=k.board?[{x:0,y:0},{x:B,y:z}]:void 0;M&&clearInterval(M),M=setInterval(rt,0),rt();function rt(){const ct=Date.now();for(;Date.now()-ct<O&&++Q<G;){const nt=Z[Q];nt.x=B*(m()+.5)>>1,nt.y=z*(m()+.5)>>1,UK(j,nt,Z,Q),nt.hasText&&R(V,nt,tt)&&(_.call(null,"word",{cloud:k,word:nt}),Y.push(nt),tt?k.hasImage||XK(tt,nt):tt=[{x:nt.x+nt.x0,y:nt.y+nt.y0},{x:nt.x+nt.x1,y:nt.y+nt.y1}],nt.x-=t[0]>>1,nt.y-=t[1]>>1)}k._tags=Y,k._bounds=tt,Q>=G&&(k.stop(),_.call(null,"end",{cloud:k,words:Y,bounds:tt}))}return k},k.stop=function(){return M&&(clearInterval(M),M=null),k};function D(B){B.width=B.height=1;const z=Math.sqrt(B.getContext("2d").getImageData(0,0,1,1).data.length>>2);B.width=(Wv<<5)/z,B.height=yb/z;const j=B.getContext("2d");return j.fillStyle=j.strokeStyle="red",j.textAlign="center",j.textBaseline="middle",{context:j,ratio:z}}function R(B,z,j){const V=z.x,G=z.y,Y=Math.sqrt(t[0]*t[0]+t[1]*t[1]),Z=g(t),Q=m()<.5?1:-1;let tt,rt=-Q,ct,nt;for(;(tt=Z(rt+=Q))&&(ct=~~tt[0],nt=~~tt[1],!(Math.min(Math.abs(ct),Math.abs(nt))>=Y));)if(z.x=V+ct,z.y=G+nt,!(z.x+z.x0<0||z.y+z.y0<0||z.x+z.x1>t[0]||z.y+z.y1>t[1])&&(!j||!oV(z,B,t[0]))&&(!j||sV(z,j))){const lt=z.sprite,ft=z.width>>5,q=t[0]>>5,H=z.x-(ft<<4),U=H&127,J=32-U,st=z.y1-z.y0;let ut,mt=(z.y+z.y0)*q+(H>>5);for(let xt=0;xt<st;xt++){ut=0;for(let Ct=0;Ct<=ft;Ct++)B[mt+Ct]|=ut<<J|(Ct<ft?(ut=lt[xt*ft+Ct])>>>U:0);mt+=q}return delete z.sprite,!0}return!1}return k.createMask=B=>{const z=document.createElement("canvas"),[j,V]=t;if(!j||!V)return;const G=j>>5,Y=uV((j>>5)*V);z.width=j,z.height=V;const Z=z.getContext("2d");Z.drawImage(B,0,0,B.width,B.height,0,0,j,V);const Q=Z.getImageData(0,0,j,V).data;for(let tt=0;tt<V;tt++)for(let rt=0;rt<j;rt++){const ct=G*tt+(rt>>5),nt=tt*j+rt<<2,ft=Q[nt]>=250&&Q[nt+1]>=250&&Q[nt+2]>=250?1<<31-rt%32:0;Y[ct]|=ft}k.board=Y,k.hasImage=!0},k.timeInterval=function(B){O=B==null?1/0:B},k.words=function(B){w=B},k.size=function(B=[]){t=[+B[0],+B[1]]},k.text=function(B){i=df(B)},k.font=function(B){a=df(B)},k.fontWeight=function(B){u=df(B)},k.rotate=function(B){h=df(B)},k.canvas=function(B){C=df(B)},k.spiral=function(B){g=cV[B]||B},k.fontSize=function(B){s=df(B)},k.padding=function(B){v=df(B)},k.random=function(B){m=df(B)},k.on=function(B){_=df(B)},k}var ZK=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},KK=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const fV={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function QK(t){return new Promise((i,a)=>{if(t instanceof HTMLImageElement){i(t);return}if(typeof t=="string"){const s=new Image;s.crossOrigin="anonymous",s.src=t,s.onload=()=>i(s),s.onerror=()=>{console.error(`'image ${t} load failed !!!'`),a()};return}a()})}function IL(t,i){if(typeof t=="function")return t;if(Array.isArray(t)){const[a,s]=t;if(!i)return()=>(s+a)/2;const[u,h]=i;return h===u?()=>(s+a)/2:({value:v})=>(s-a)/(h-u)*(v-u)+a}return()=>t}const hV=(t,i)=>a=>ZK(void 0,void 0,void 0,function*(){const s=Object.assign({},fV,t,{canvas:i.createCanvas}),u=qK();yield eV(u,s).set("fontSize",B=>{const z=a.map(j=>j.value);return IL(B,[rs(z),pn(z)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",QK,u.createMask),u.words([...a]);const h=u.start(),[v,g]=s.size,m=[{x:0,y:0},{x:v,y:g}],{_bounds:_=m,_tags:w,hasImage:M}=h,O=w.map(B=>{var{x:z,y:j,font:V}=B,G=KK(B,["x","y","font"]);return Object.assign(Object.assign({},G),{x:z+v/2,y:j+g/2,fontFamily:V})}),[{x:C,y:P},{x:k,y:D}]=_,R={text:"",value:0,opacity:0,fontSize:0};return O.push(Object.assign(Object.assign({},R),{x:M?0:C,y:M?0:P}),Object.assign(Object.assign({},R),{x:M?v:k,y:M?g:D})),O});hV.props={};function JK(t,i){if(i<0||i>1)throw new Error("alpha must be between 0 and 1.");if(t.length===0)return[];let a=t[0];const s=[];for(const u of t){if(u==null){s.push(u),console.warn("EMA\uFF1AThe value is null or undefined",t);continue}a==null&&(a=u);const h=a*i+(1-i)*u;s.push(h),a=h}return s}const RL=t=>{const{field:i="y",alpha:a=.6,as:s=i}=t;return u=>{const h=u.map(g=>g[i]),v=JK(h,a);return u.map((g,m)=>Object.assign(Object.assign({},g),{[s]:v[m]}))}};RL.props={};const NL=.01;function BL(t){const{min:i,max:a}=t;return[[i[0],i[1]],[a[0],a[1]]]}function zL(t,i,a=NL){const[s,u]=t,[h,v]=i;return s>=h[0]-a&&s<=v[0]+a&&u>=h[1]-a&&u<=v[1]+a}function tQ(t,i,a=NL){const[s,u]=t;return!(zL(s,i,a)&&zL(u,i,a))}function eQ(t,i){const[a,s]=t,[u,h]=i;return a[0]<h[0]&&s[0]>u[0]&&a[1]<h[1]&&s[1]>u[1]}const rQ=t=>{const{priority:i}=t;return a=>{const s=[];return i&&a.sort(i),a.forEach(u=>{R1(u);const h=u.getLocalBounds();s.some(g=>eQ(BL(h),BL(g.getLocalBounds())))?d2(u):s.push(u)}),a}};function nQ([t,i],[a,s]){return s>t&&i>a}function hM(){const t=new Map;return[s=>t.get(s),(s,u)=>t.set(s,u)]}function iQ(t){const i=t.cloneNode(!0),a=i.getElementById("connector");a&&i.removeChild(a);const{min:s,max:u}=i.getRenderBounds();return i.destroy(),{min:s,max:u}}const aQ=t=>{const{maxIterations:i=10,maxError:a=.1,padding:s=1}=t;return u=>{const h=u.length;if(h<=1)return u;const[v,g]=hM(),[m,_]=hM(),[w,M]=hM(),[O,C]=hM();for(const P of u){const{min:k,max:D}=iQ(P),[R,B]=k,[z,j]=D;g(P,B),_(P,B),M(P,j-B),C(P,[R,z])}for(let P=0;P<i;P++){u.sort((D,R)=>Ii(m(D),m(R)));let k=0;for(let D=0;D<h-1;D++){const R=u[D];let B=D+1,z;for(;(z=u[B])&&!nQ(O(R),O(z));)B+=1;if(z){const j=m(R),V=w(R),G=m(z),Y=G-(j+V);if(Y<s){const Z=(s-Y)/2;k=Math.max(k,Z),_(R,j-Z),_(z,G+Z)}}}if(k<a)break}for(const P of u)P.style.y+=m(P)-v(P);return u}},dV=()=>t=>(t.forEach(i=>{R1(i);const a=i.attr("bounds"),s=i.getLocalBounds();tQ(BL(s),a)&&d2(i)}),t);function dM(t){return typeof t=="object"?t:Nu(t)}function Hv(t){let i=t/255;return i=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),i}function vV(t,i,a){return .2126*Hv(t)+.7152*Hv(i)+.0722*Hv(a)}function pV(t,i){if(!t||!i||t===i)return 1;const{r:a,g:s,b:u}=t,{r:h,g:v,b:g}=i,m=vV(a,s,u),_=vV(h,v,g);return(Math.max(m,_)+.05)/(Math.min(m,_)+.05)}function oQ(t,i){const a=$g(i,s=>pV(t,dM(s)));return i[a]}const sQ=t=>{const{threshold:i=4.5,palette:a=["#000","#fff"]}=t;return s=>(s.forEach(u=>{const h=u.attr("dependentElement").parsedStyle.fill,v=u.parsedStyle.fill;pV(v,h)<i&&u.attr("fill",oQ(h,a))}),s)},lQ=(t,i)=>{const[[a,s],[u,h]]=i,[[v,g],[m,_]]=t;let w=0,M=0;return v<a?w=a-v:m>u&&(w=u-m),g<s?M=s-g:_>h&&(M=h-_),[w,M]},uQ=()=>(t,{canvas:i,layout:a})=>(t.forEach(s=>{R1(s);const{max:u,min:h}=s.getRenderBounds(),[v,g]=u,[m,_]=h,w=lQ([[m,_],[v,g]],[[a.x,a.y],[a.x+a.width,a.y+a.height]]);s.style.connector&&s.style.connectorPoints&&(s.style.connectorPoints[0][0]-=w[0],s.style.connectorPoints[0][1]-=w[1]),s.style.x+=w[0],s.style.y+=w[1]}),t);function cQ(){return{"data.fetch":sM,"data.inline":lM,"data.sortBy":qj,"data.sort":TL,"data.filter":cM,"data.pick":Zj,"data.rename":OL,"data.fold":Qj,"data.slice":AL,"data.custom":Jj,"data.map":tV,"data.join":CL,"data.kde":EL,"data.log":kL,"data.wordCloud":hV,"data.ema":RL,"transform.stackY":lL,"transform.binX":Ej,"transform.bin":fL,"transform.dodgeX":kj,"transform.jitter":AK,"transform.jitterX":hL,"transform.jitterY":dL,"transform.symmetryY":vL,"transform.diffY":pL,"transform.stackEnter":CK,"transform.normalizeY":PK,"transform.select":vb,"transform.selectX":qh,"transform.selectY":Rj,"transform.groupX":Nj,"transform.groupY":DK,"transform.groupColor":Bj,"transform.group":os,"transform.sortX":Fj,"transform.sortY":jj,"transform.sortColor":RK,"transform.flexX":mL,"transform.pack":cc,"transform.sample":ff,"transform.filter":Gj,"coordinate.cartesian":tr,"coordinate.polar":Ae,"coordinate.transpose":ge,"coordinate.theta":ie,"coordinate.parallel":te,"coordinate.fisheye":Qt,"coordinate.radial":gr,"coordinate.radar":Vr,"coordinate.helix":Qn,"encode.constant":Sn,"encode.field":Mn,"encode.transform":Jn,"encode.column":gn,"mark.interval":d3,"mark.rect":p3,"mark.line":I3,"mark.point":tB,"mark.text":aY,"mark.cell":YC,"mark.area":XC,"mark.link":Xc,"mark.image":Lm,"mark.polygon":ru,"mark.box":CB,"mark.vector":Qw,"mark.lineX":JC,"mark.lineY":eS,"mark.connector":LB,"mark.range":iS,"mark.rangeX":Nm,"mark.rangeY":aS,"mark.path":gh,"mark.shape":jB,"mark.density":cS,"mark.heatmap":aP,"mark.wordCloud":zm,"palette.category10":qB,"palette.category20":hS,"scale.linear":oP,"scale.ordinal":ZB,"scale.band":sP,"scale.identity":cP,"scale.point":n4,"scale.time":y4,"scale.log":Sg,"scale.pow":bv,"scale.sqrt":b4,"scale.threshold":_4,"scale.quantile":x4,"scale.quantize":Zc,"scale.sequential":S4,"scale.constant":M4,"theme.classic":Tg,"theme.classicDark":A4,"theme.academy":P4,"theme.light":TP,"theme.dark":OP,"component.axisX":Tz,"component.axisY":Oz,"component.legendCategory":sE,"component.legendContinuous":rc,"component.legends":Fg,"component.title":t2,"component.sliderX":aF,"component.sliderY":P1,"component.scrollbarX":oF,"component.scrollbarY":mE,"animation.scaleInX":Hg,"animation.scaleOutX":Cv,"animation.scaleInY":a2,"animation.scaleOutY":bE,"animation.waveIn":_E,"animation.fadeIn":xE,"animation.fadeOut":D1,"animation.zoomIn":sF,"animation.zoomOut":wE,"animation.pathIn":SE,"animation.morphing":dF,"animation.growInX":u2,"animation.growInY":vF,"interaction.elementHighlight":kv,"interaction.elementHighlightByX":kE,"interaction.elementHighlightByColor":TF,"interaction.elementSelect":z1,"interaction.elementSelectByX":LE,"interaction.elementSelectByColor":DE,"interaction.fisheye":t$,"interaction.chartIndex":PF,"interaction.tooltip":y8,"interaction.legendFilter":Wq,"interaction.legendHighlight":Rk,"interaction.brushHighlight":Fk,"interaction.brushXHighlight":Yq,"interaction.brushYHighlight":A8,"interaction.brushAxisHighlight":Kq,"interaction.brushFilter":jk,"interaction.brushXFilter":R8,"interaction.brushYFilter":tZ,"interaction.sliderFilter":N8,"interaction.scrollbarFilter":z8,"interaction.poptip":j8,"interaction.treemapDrillDown":jZ,"interaction.elementPointMove":YZ,"composition.spaceLayer":oj,"composition.spaceFlex":sj,"composition.facetRect":fj,"composition.repeatMatrix":rL,"composition.facetCircle":iK,"composition.timingKeyframe":iL,"labelTransform.overlapHide":rQ,"labelTransform.overlapDodgeY":aQ,"labelTransform.overflowHide":dV,"labelTransform.contrastReverse":sQ,"labelTransform.exceedAdjust":uQ}}var Yv=t=>t;function vM(t,i){t&&pM.hasOwnProperty(t.type)&&pM[t.type](t,i)}var gV={Feature:function(t,i){vM(t.geometry,i)},FeatureCollection:function(t,i){for(var a=t.features,s=-1,u=a.length;++s<u;)vM(a[s].geometry,i)}},pM={Sphere:function(t,i){i.sphere()},Point:function(t,i){t=t.coordinates,i.point(t[0],t[1],t[2])},MultiPoint:function(t,i){for(var a=t.coordinates,s=-1,u=a.length;++s<u;)t=a[s],i.point(t[0],t[1],t[2])},LineString:function(t,i){FL(t.coordinates,i,0)},MultiLineString:function(t,i){for(var a=t.coordinates,s=-1,u=a.length;++s<u;)FL(a[s],i,0)},Polygon:function(t,i){yV(t.coordinates,i)},MultiPolygon:function(t,i){for(var a=t.coordinates,s=-1,u=a.length;++s<u;)yV(a[s],i)},GeometryCollection:function(t,i){for(var a=t.geometries,s=-1,u=a.length;++s<u;)vM(a[s],i)}};function FL(t,i,a){var s=-1,u=t.length-a,h;for(i.lineStart();++s<u;)h=t[s],i.point(h[0],h[1],h[2]);i.lineEnd()}function yV(t,i){var a=-1,s=t.length;for(i.polygonStart();++a<s;)FL(t[a],i,1);i.polygonEnd()}function Qh(t,i){t&&gV.hasOwnProperty(t.type)?gV[t.type](t,i):vM(t,i)}class vf{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){const a=this._partials;let s=0;for(let u=0;u<this._n&&u<32;u++){const h=a[u],v=i+h,g=Math.abs(i)<Math.abs(h)?i-(v-h):h-(v-i);g&&(a[s++]=g),i=v}return a[s]=i,this._n=s+1,this}valueOf(){const i=this._partials;let a=this._n,s,u,h,v=0;if(a>0){for(v=i[--a];a>0&&(s=v,u=i[--a],v=s+u,h=u-(v-s),!h););a>0&&(h<0&&i[a-1]<0||h>0&&i[a-1]>0)&&(u=h*2,s=v+u,u==s-v&&(v=s))}return v}}function fQ(t,i){const a=new vf;if(i===void 0)for(let s of t)(s=+s)&&a.add(s);else{let s=-1;for(let u of t)(u=+i(u,++s,t))&&a.add(u)}return+a}function Tnt(t,i){const a=new vf;let s=-1;return Float64Array.from(t,i===void 0?u=>a.add(+u||0):u=>a.add(+i(u,++s,t)||0))}var Pr=1e-6,mV=1e-12,hn=Math.PI,aa=hn/2,bV=hn/4,ls=hn*2,Ao=180/hn,Wi=hn/180,En=Math.abs,pf=Math.atan,ml=Math.atan2,en=Math.cos,gM=Math.ceil,_V=Math.exp,Ont=Math.floor,Ant=Math.hypot,yM=Math.log,jL=Math.pow,Fr=Math.sin,bl=Math.sign||function(t){return t>0?1:t<0?-1:0},Vo=Math.sqrt,mM=Math.tan;function xV(t){return t>1?0:t<-1?hn:Math.acos(t)}function _l(t){return t>1?aa:t<-1?-aa:Math.asin(t)}function Cnt(t){return(t=Fr(t/2))*t}function xl(){}var VL=new vf,GL=new vf,wV,bM,WL,HL,Jh={point:xl,lineStart:xl,lineEnd:xl,polygonStart:function(){Jh.lineStart=hQ,Jh.lineEnd=dQ},polygonEnd:function(){Jh.lineStart=Jh.lineEnd=Jh.point=xl,VL.add(En(GL)),GL=new vf},result:function(){var t=VL/2;return VL=new vf,t}};function hQ(){Jh.point=SV}function SV(t,i){Jh.point=_M,wV=WL=t,bM=HL=i}function _M(t,i){GL.add(HL*t-WL*i),WL=t,HL=i}function dQ(){_M(wV,bM)}var MV=Jh,Uv=1/0,xM=Uv,gy=-Uv,wM=gy,vQ={point:pQ,lineStart:xl,lineEnd:xl,polygonStart:xl,polygonEnd:xl,result:function(){var t=[[Uv,xM],[gy,wM]];return gy=wM=-(xM=Uv=1/0),t}};function pQ(t,i){t<Uv&&(Uv=t),t>gy&&(gy=t),i<xM&&(xM=i),i>wM&&(wM=i)}var SM=vQ,MM=0,YL=0,mb=0,TM=0,Xv=0,td=0,UL=0,XL=0,bb=0,TV,$L,fc,hc,hu={point:gf,lineStart:OV,lineEnd:AV,polygonStart:function(){hu.lineStart=yf,hu.lineEnd=mf},polygonEnd:function(){hu.point=gf,hu.lineStart=OV,hu.lineEnd=AV},result:function(){var t=bb?[UL/bb,XL/bb]:td?[TM/td,Xv/td]:mb?[MM/mb,YL/mb]:[NaN,NaN];return MM=YL=mb=TM=Xv=td=UL=XL=bb=0,t}};function gf(t,i){MM+=t,YL+=i,++mb}function OV(){hu.point=qL}function qL(t,i){hu.point=gQ,gf(fc=t,hc=i)}function gQ(t,i){var a=t-fc,s=i-hc,u=Vo(a*a+s*s);TM+=u*(fc+t)/2,Xv+=u*(hc+i)/2,td+=u,gf(fc=t,hc=i)}function AV(){hu.point=gf}function yf(){hu.point=ZL}function mf(){KL(TV,$L)}function ZL(t,i){hu.point=KL,gf(TV=fc=t,$L=hc=i)}function KL(t,i){var a=t-fc,s=i-hc,u=Vo(a*a+s*s);TM+=u*(fc+t)/2,Xv+=u*(hc+i)/2,td+=u,u=hc*t-fc*i,UL+=u*(fc+t),XL+=u*(hc+i),bb+=u*3,gf(fc=t,hc=i)}var QL=hu;function JL(t){this._context=t}JL.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,i){switch(this._point){case 0:{this._context.moveTo(t,i),this._point=1;break}case 1:{this._context.lineTo(t,i);break}default:{this._context.moveTo(t+this._radius,i),this._context.arc(t,i,this._radius,0,ls);break}}},result:xl};var OM=new vf,yy,tD,CV,_b,my,xb={point:xl,lineStart:function(){xb.point=yQ},lineEnd:function(){yy&&eD(tD,CV),xb.point=xl},polygonStart:function(){yy=!0},polygonEnd:function(){yy=null},result:function(){var t=+OM;return OM=new vf,t}};function yQ(t,i){xb.point=eD,tD=_b=t,CV=my=i}function eD(t,i){_b-=t,my-=i,OM.add(Vo(_b*_b+my*my)),_b=t,my=i}var by=xb;let PV,$v,rD,EV;class nD{constructor(i){this._append=i==null?AM:kV(i),this._radius=4.5,this._=""}pointRadius(i){return this._radius=+i,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(i,a){switch(this._point){case 0:{this._append`M${i},${a}`,this._point=1;break}case 1:{this._append`L${i},${a}`;break}default:{if(this._append`M${i},${a}`,this._radius!==rD||this._append!==$v){const s=this._radius,u=this._;this._="",this._append`m0,${s}a${s},${s} 0 1,1 0,${-2*s}a${s},${s} 0 1,1 0,${2*s}z`,rD=s,$v=this._append,EV=this._,this._=u}this._+=EV;break}}}result(){const i=this._;return this._="",i.length?i:null}}function AM(t){let i=1;this._+=t[0];for(const a=t.length;i<a;++i)this._+=arguments[i]+t[i]}function kV(t){const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);if(i>15)return AM;if(i!==PV){const a=Ga(10,i);PV=i,$v=function(u){let h=1;this._+=u[0];for(const v=u.length;h<v;++h)this._+=Math.round(arguments[h]*a)/a+u[h]}}return $v}function CM(t,i){let a=3,s=4.5,u,h;function v(g){return g&&(typeof s=="function"&&h.pointRadius(+s.apply(this,arguments)),Qh(g,u(h))),h.result()}return v.area=function(g){return Qh(g,u(MV)),MV.result()},v.measure=function(g){return Qh(g,u(by)),by.result()},v.bounds=function(g){return Qh(g,u(SM)),SM.result()},v.centroid=function(g){return Qh(g,u(QL)),QL.result()},v.projection=function(g){return arguments.length?(u=g==null?(t=null,Yv):(t=g).stream,v):t},v.context=function(g){return arguments.length?(h=g==null?(i=null,new nD(a)):new JL(i=g),typeof s!="function"&&h.pointRadius(s),v):i},v.pointRadius=function(g){return arguments.length?(s=typeof g=="function"?g:(h.pointRadius(+g),+g),v):s},v.digits=function(g){if(!arguments.length)return a;if(g==null)a=null;else{const m=Math.floor(g);if(!(m>=0))throw new RangeError(`invalid digits: ${g}`);a=m}return i===null&&(h=new nD(a)),v},v.projection(t).digits(a).context(i)}function ed(t,i,a){t=+t,i=+i,a=(u=arguments.length)<2?(i=t,t=0,1):u<3?1:+a;for(var s=-1,u=Math.max(0,Math.ceil((i-t)/a))|0,h=new Array(u);++s<u;)h[s]=t+s*a;return h}function iD(t,i,a){var s=ed(t,i-Pr,a).concat(i);return function(u){return s.map(function(h){return[u,h]})}}function LV(t,i,a){var s=ed(t,i-Pr,a).concat(i);return function(u){return s.map(function(h){return[h,u]})}}function mQ(){var t,i,a,s,u,h,v,g,m=10,_=m,w=90,M=360,O,C,P,k,D=2.5;function R(){return{type:"MultiLineString",coordinates:B()}}function B(){return ed(gM(s/w)*w,a,w).map(P).concat(ed(gM(g/M)*M,v,M).map(k)).concat(ed(gM(i/m)*m,t,m).filter(function(z){return En(z%w)>Pr}).map(O)).concat(ed(gM(h/_)*_,u,_).filter(function(z){return En(z%M)>Pr}).map(C))}return R.lines=function(){return B().map(function(z){return{type:"LineString",coordinates:z}})},R.outline=function(){return{type:"Polygon",coordinates:[P(s).concat(k(v).slice(1),P(a).reverse().slice(1),k(g).reverse().slice(1))]}},R.extent=function(z){return arguments.length?R.extentMajor(z).extentMinor(z):R.extentMinor()},R.extentMajor=function(z){return arguments.length?(s=+z[0][0],a=+z[1][0],g=+z[0][1],v=+z[1][1],s>a&&(z=s,s=a,a=z),g>v&&(z=g,g=v,v=z),R.precision(D)):[[s,g],[a,v]]},R.extentMinor=function(z){return arguments.length?(i=+z[0][0],t=+z[1][0],h=+z[0][1],u=+z[1][1],i>t&&(z=i,i=t,t=z),h>u&&(z=h,h=u,u=z),R.precision(D)):[[i,h],[t,u]]},R.step=function(z){return arguments.length?R.stepMajor(z).stepMinor(z):R.stepMinor()},R.stepMajor=function(z){return arguments.length?(w=+z[0],M=+z[1],R):[w,M]},R.stepMinor=function(z){return arguments.length?(m=+z[0],_=+z[1],R):[m,_]},R.precision=function(z){return arguments.length?(D=+z,O=iD(h,u,90),C=LV(i,t,D),P=iD(g,v,90),k=LV(s,a,D),R):D},R.extentMajor([[-180,-90+Pr],[180,90-Pr]]).extentMinor([[-180,-80-Pr],[180,80+Pr]])}function bQ(){return mQ()()}function DV(){var t=[],i;return{point:function(a,s,u){i.push([a,s,u])},lineStart:function(){t.push(i=[])},lineEnd:xl,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var a=t;return t=[],i=null,a}}}function wb(t,i){return En(t[0]-i[0])<Pr&&En(t[1]-i[1])<Pr}function PM(t,i,a,s){this.x=t,this.z=i,this.o=a,this.e=s,this.v=!1,this.n=this.p=null}function Sb(t,i,a,s,u){var h=[],v=[],g,m;if(t.forEach(function(P){if(!((k=P.length-1)<=0)){var k,D=P[0],R=P[k],B;if(wb(D,R)){if(!D[2]&&!R[2]){for(u.lineStart(),g=0;g<k;++g)u.point((D=P[g])[0],D[1]);u.lineEnd();return}R[0]+=2*Pr}h.push(B=new PM(D,P,null,!0)),v.push(B.o=new PM(D,null,B,!1)),h.push(B=new PM(R,P,null,!1)),v.push(B.o=new PM(R,null,B,!0))}}),!!h.length){for(v.sort(i),IV(h),IV(v),g=0,m=v.length;g<m;++g)v[g].e=a=!a;for(var _=h[0],w,M;;){for(var O=_,C=!0;O.v;)if((O=O.n)===_)return;w=O.z,u.lineStart();do{if(O.v=O.o.v=!0,O.e){if(C)for(g=0,m=w.length;g<m;++g)u.point((M=w[g])[0],M[1]);else s(O.x,O.n.x,1,u);O=O.n}else{if(C)for(w=O.p.z,g=w.length-1;g>=0;--g)u.point((M=w[g])[0],M[1]);else s(O.x,O.p.x,-1,u);O=O.p}O=O.o,w=O.z,C=!C}while(!O.v);u.lineEnd()}}}function IV(t){if(i=t.length){for(var i,a=0,s=t[0],u;++a<i;)s.n=u=t[a],u.p=s,s=u;s.n=u=t[0],u.p=s}}function aD(t){return[ml(t[1],t[0]),_l(t[2])]}function _y(t){var i=t[0],a=t[1],s=en(a);return[s*en(i),s*Fr(i),Fr(a)]}function EM(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function kM(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function oD(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function LM(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function DM(t){var i=Vo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}function rd(t){return En(t[0])<=hn?t[0]:bl(t[0])*((En(t[0])+hn)%ls-hn)}function IM(t,i){var a=rd(i),s=i[1],u=Fr(s),h=[Fr(a),-en(a),0],v=0,g=0,m=new vf;u===1?s=aa+Pr:u===-1&&(s=-aa-Pr);for(var _=0,w=t.length;_<w;++_)if(O=(M=t[_]).length)for(var M,O,C=M[O-1],P=rd(C),k=C[1]/2+bV,D=Fr(k),R=en(k),B=0;B<O;++B,P=j,D=G,R=Y,C=z){var z=M[B],j=rd(z),V=z[1]/2+bV,G=Fr(V),Y=en(V),Z=j-P,Q=Z>=0?1:-1,tt=Q*Z,rt=tt>hn,ct=D*G;if(m.add(ml(ct*Q*Fr(tt),R*Y+ct*en(tt))),v+=rt?Z+Q*ls:Z,rt^P>=a^j>=a){var nt=kM(_y(C),_y(z));DM(nt);var lt=kM(h,nt);DM(lt);var ft=(rt^Z>=0?-1:1)*_l(lt[2]);(s>ft||s===ft&&(nt[0]||nt[1]))&&(g+=rt^Z>=0?1:-1)}}return(v<-Pr||v<Pr&&m<-mV)^g&1}function*xy(t){for(const i of t)yield*dit(i)}function Mb(t){return Array.from(xy(t))}function RM(t,i,a,s){return function(u){var h=i(u),v=DV(),g=i(v),m=!1,_,w,M,O={point:C,lineStart:k,lineEnd:D,polygonStart:function(){O.point=R,O.lineStart=B,O.lineEnd=z,w=[],_=[]},polygonEnd:function(){O.point=C,O.lineStart=k,O.lineEnd=D,w=Mb(w);var j=IM(_,s);w.length?(m||(u.polygonStart(),m=!0),Sb(w,_Q,j,a,u)):j&&(m||(u.polygonStart(),m=!0),u.lineStart(),a(null,null,1,u),u.lineEnd()),m&&(u.polygonEnd(),m=!1),w=_=null},sphere:function(){u.polygonStart(),u.lineStart(),a(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function C(j,V){t(j,V)&&u.point(j,V)}function P(j,V){h.point(j,V)}function k(){O.point=P,h.lineStart()}function D(){O.point=C,h.lineEnd()}function R(j,V){M.push([j,V]),g.point(j,V)}function B(){g.lineStart(),M=[]}function z(){R(M[0][0],M[0][1]),g.lineEnd();var j=g.clean(),V=v.result(),G,Y=V.length,Z,Q,tt;if(M.pop(),_.push(M),M=null,!!Y){if(j&1){if(Q=V[0],(Z=Q.length-1)>0){for(m||(u.polygonStart(),m=!0),u.lineStart(),G=0;G<Z;++G)u.point((tt=Q[G])[0],tt[1]);u.lineEnd()}return}Y>1&&j&2&&V.push(V.pop().concat(V.shift())),w.push(V.filter(RV))}}return O}}function RV(t){return t.length>1}function _Q(t,i){return((t=t.x)[0]<0?t[1]-aa-Pr:aa-t[1])-((i=i.x)[0]<0?i[1]-aa-Pr:aa-i[1])}var NV=RM(function(){return!0},Tb,sD,[-hn,-aa]);function Tb(t){var i=NaN,a=NaN,s=NaN,u;return{lineStart:function(){t.lineStart(),u=1},point:function(h,v){var g=h>0?hn:-hn,m=En(h-i);En(m-hn)<Pr?(t.point(i,a=(a+v)/2>0?aa:-aa),t.point(s,a),t.lineEnd(),t.lineStart(),t.point(g,a),t.point(h,a),u=0):s!==g&&m>=hn&&(En(i-s)<Pr&&(i-=s*Pr),En(h-g)<Pr&&(h-=g*Pr),a=NM(i,a,h,v),t.point(s,a),t.lineEnd(),t.lineStart(),t.point(g,a),u=0),t.point(i=h,a=v),s=g},lineEnd:function(){t.lineEnd(),i=a=NaN},clean:function(){return 2-u}}}function NM(t,i,a,s){var u,h,v=Fr(t-a);return En(v)>Pr?pf((Fr(i)*(h=en(s))*Fr(a)-Fr(s)*(u=en(i))*Fr(t))/(u*h*v)):(i+s)/2}function sD(t,i,a,s){var u;if(t==null)u=a*aa,s.point(-hn,u),s.point(0,u),s.point(hn,u),s.point(hn,0),s.point(hn,-u),s.point(0,-u),s.point(-hn,-u),s.point(-hn,0),s.point(-hn,u);else if(En(t[0]-i[0])>Pr){var h=t[0]<i[0]?hn:-hn;u=a*h/2,s.point(-h,u),s.point(0,u),s.point(h,u)}else s.point(i[0],i[1])}function lD(t,i,a,s,u,h){if(a){var v=en(i),g=Fr(i),m=s*a;u==null?(u=i+s*ls,h=i-m/2):(u=uD(v,u),h=uD(v,h),(s>0?u<h:u>h)&&(u+=s*ls));for(var _,w=u;s>0?w>h:w<h;w-=m)_=aD([v,-g*en(w),-g*Fr(w)]),t.point(_[0],_[1])}}function uD(t,i){i=_y(i),i[0]-=t,DM(i);var a=xV(-i[1]);return((-i[2]<0?-a:a)+ls-Pr)%ls}function xQ(){var t=constant([0,0]),i=constant(90),a=constant(2),s,u,h={point:v};function v(m,_){s.push(m=u(m,_)),m[0]*=degrees,m[1]*=degrees}function g(){var m=t.apply(this,arguments),_=i.apply(this,arguments)*radians,w=a.apply(this,arguments)*radians;return s=[],u=rotateRadians(-m[0]*radians,-m[1]*radians,0).invert,lD(h,_,w,1),m={type:"Polygon",coordinates:[s]},s=u=null,m}return g.center=function(m){return arguments.length?(t=typeof m=="function"?m:constant([+m[0],+m[1]]),g):t},g.radius=function(m){return arguments.length?(i=typeof m=="function"?m:constant(+m),g):i},g.precision=function(m){return arguments.length?(a=typeof m=="function"?m:constant(+m),g):a},g}function BM(t){var i=en(t),a=2*Wi,s=i>0,u=En(i)>Pr;function h(w,M,O,C){lD(C,t,a,O,w,M)}function v(w,M){return en(w)*en(M)>i}function g(w){var M,O,C,P,k;return{lineStart:function(){P=C=!1,k=1},point:function(D,R){var B=[D,R],z,j=v(D,R),V=s?j?0:_(D,R):j?_(D+(D<0?hn:-hn),R):0;if(!M&&(P=C=j)&&w.lineStart(),j!==C&&(z=m(M,B),(!z||wb(M,z)||wb(B,z))&&(B[2]=1)),j!==C)k=0,j?(w.lineStart(),z=m(B,M),w.point(z[0],z[1])):(z=m(M,B),w.point(z[0],z[1],2),w.lineEnd()),M=z;else if(u&&M&&s^j){var G;!(V&O)&&(G=m(B,M,!0))&&(k=0,s?(w.lineStart(),w.point(G[0][0],G[0][1]),w.point(G[1][0],G[1][1]),w.lineEnd()):(w.point(G[1][0],G[1][1]),w.lineEnd(),w.lineStart(),w.point(G[0][0],G[0][1],3)))}j&&(!M||!wb(M,B))&&w.point(B[0],B[1]),M=B,C=j,O=V},lineEnd:function(){C&&w.lineEnd(),M=null},clean:function(){return k|(P&&C)<<1}}}function m(w,M,O){var C=_y(w),P=_y(M),k=[1,0,0],D=kM(C,P),R=EM(D,D),B=D[0],z=R-B*B;if(!z)return!O&&w;var j=i*R/z,V=-i*B/z,G=kM(k,D),Y=LM(k,j),Z=LM(D,V);oD(Y,Z);var Q=G,tt=EM(Y,Q),rt=EM(Q,Q),ct=tt*tt-rt*(EM(Y,Y)-1);if(!(ct<0)){var nt=Vo(ct),lt=LM(Q,(-tt-nt)/rt);if(oD(lt,Y),lt=aD(lt),!O)return lt;var ft=w[0],q=M[0],H=w[1],U=M[1],J;q<ft&&(J=ft,ft=q,q=J);var st=q-ft,ut=En(st-hn)<Pr,mt=ut||st<Pr;if(!ut&&U<H&&(J=H,H=U,U=J),mt?ut?H+U>0^lt[1]<(En(lt[0]-ft)<Pr?H:U):H<=lt[1]&&lt[1]<=U:st>hn^(ft<=lt[0]&&lt[0]<=q)){var xt=LM(Q,(-tt+nt)/rt);return oD(xt,Y),[lt,aD(xt)]}}}function _(w,M){var O=s?t:hn-t,C=0;return w<-O?C|=1:w>O&&(C|=2),M<-O?C|=4:M>O&&(C|=8),C}return RM(v,g,h,s?[0,-t]:[-hn,t-hn])}function wQ(t,i,a,s,u,h){var v=t[0],g=t[1],m=i[0],_=i[1],w=0,M=1,O=m-v,C=_-g,P;if(P=a-v,!(!O&&P>0)){if(P/=O,O<0){if(P<w)return;P<M&&(M=P)}else if(O>0){if(P>M)return;P>w&&(w=P)}if(P=u-v,!(!O&&P<0)){if(P/=O,O<0){if(P>M)return;P>w&&(w=P)}else if(O>0){if(P<w)return;P<M&&(M=P)}if(P=s-g,!(!C&&P>0)){if(P/=C,C<0){if(P<w)return;P<M&&(M=P)}else if(C>0){if(P>M)return;P>w&&(w=P)}if(P=h-g,!(!C&&P<0)){if(P/=C,C<0){if(P>M)return;P>w&&(w=P)}else if(C>0){if(P<w)return;P<M&&(M=P)}return w>0&&(t[0]=v+w*O,t[1]=g+w*C),M<1&&(i[0]=v+M*O,i[1]=g+M*C),!0}}}}}var qv=1e9,wy=-qv;function qa(t,i,a,s){function u(_,w){return t<=_&&_<=a&&i<=w&&w<=s}function h(_,w,M,O){var C=0,P=0;if(_==null||(C=v(_,M))!==(P=v(w,M))||m(_,w)<0^M>0)do O.point(C===0||C===3?t:a,C>1?s:i);while((C=(C+M+4)%4)!==P);else O.point(w[0],w[1])}function v(_,w){return En(_[0]-t)<Pr?w>0?0:3:En(_[0]-a)<Pr?w>0?2:1:En(_[1]-i)<Pr?w>0?1:0:w>0?3:2}function g(_,w){return m(_.x,w.x)}function m(_,w){var M=v(_,1),O=v(w,1);return M!==O?M-O:M===0?w[1]-_[1]:M===1?_[0]-w[0]:M===2?_[1]-w[1]:w[0]-_[0]}return function(_){var w=_,M=DV(),O,C,P,k,D,R,B,z,j,V,G,Y={point:Z,lineStart:ct,lineEnd:nt,polygonStart:tt,polygonEnd:rt};function Z(ft,q){u(ft,q)&&w.point(ft,q)}function Q(){for(var ft=0,q=0,H=C.length;q<H;++q)for(var U=C[q],J=1,st=U.length,ut=U[0],mt,xt,Ct=ut[0],kt=ut[1];J<st;++J)mt=Ct,xt=kt,ut=U[J],Ct=ut[0],kt=ut[1],xt<=s?kt>s&&(Ct-mt)*(s-xt)>(kt-xt)*(t-mt)&&++ft:kt<=s&&(Ct-mt)*(s-xt)<(kt-xt)*(t-mt)&&--ft;return ft}function tt(){w=M,O=[],C=[],G=!0}function rt(){var ft=Q(),q=G&&ft,H=(O=Mb(O)).length;(q||H)&&(_.polygonStart(),q&&(_.lineStart(),h(null,null,1,_),_.lineEnd()),H&&Sb(O,g,ft,h,_),_.polygonEnd()),w=_,O=C=P=null}function ct(){Y.point=lt,C&&C.push(P=[]),V=!0,j=!1,B=z=NaN}function nt(){O&&(lt(k,D),R&&j&&M.rejoin(),O.push(M.result())),Y.point=Z,j&&w.lineEnd()}function lt(ft,q){var H=u(ft,q);if(C&&P.push([ft,q]),V)k=ft,D=q,R=H,V=!1,H&&(w.lineStart(),w.point(ft,q));else if(H&&j)w.point(ft,q);else{var U=[B=Math.max(wy,Math.min(qv,B)),z=Math.max(wy,Math.min(qv,z))],J=[ft=Math.max(wy,Math.min(qv,ft)),q=Math.max(wy,Math.min(qv,q))];wQ(U,J,t,i,a,s)?(j||(w.lineStart(),w.point(U[0],U[1])),w.point(J[0],J[1]),H||w.lineEnd(),G=!1):H&&(w.lineStart(),w.point(ft,q),G=!1)}B=ft,z=q,j=H}return Y}}function wl(t,i){function a(s,u){return s=t(s,u),i(s[0],s[1])}return t.invert&&i.invert&&(a.invert=function(s,u){return s=i.invert(s,u),s&&t.invert(s[0],s[1])}),a}function zM(t,i){return En(t)>hn&&(t-=Math.round(t/ls)*ls),[t,i]}zM.invert=zM;function cD(t,i,a){return(t%=ls)?i||a?wl(BV(t),hD(i,a)):BV(t):i||a?hD(i,a):zM}function fD(t){return function(i,a){return i+=t,En(i)>hn&&(i-=Math.round(i/ls)*ls),[i,a]}}function BV(t){var i=fD(t);return i.invert=fD(-t),i}function hD(t,i){var a=en(t),s=Fr(t),u=en(i),h=Fr(i);function v(g,m){var _=en(m),w=en(g)*_,M=Fr(g)*_,O=Fr(m),C=O*a+w*s;return[ml(M*u-C*h,w*a-O*s),_l(C*u+M*h)]}return v.invert=function(g,m){var _=en(m),w=en(g)*_,M=Fr(g)*_,O=Fr(m),C=O*u-M*h;return[ml(M*u+O*h,w*a+C*s),_l(C*a-w*s)]},v}function SQ(t){t=cD(t[0]*Wi,t[1]*Wi,t.length>2?t[2]*Wi:0);function i(a){return a=t(a[0]*Wi,a[1]*Wi),a[0]*=Ao,a[1]*=Ao,a}return i.invert=function(a){return a=t.invert(a[0]*Wi,a[1]*Wi),a[0]*=Ao,a[1]*=Ao,a},i}function Pnt(t){return{stream:Ob(t)}}function Ob(t){return function(i){var a=new FM;for(var s in t)a[s]=t[s];return a.stream=i,a}}function FM(){}FM.prototype={constructor:FM,point:function(t,i){this.stream.point(t,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dD(t,i,a){var s=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),s!=null&&t.clipExtent(null),Qh(a,t.stream(SM)),i(SM.result()),s!=null&&t.clipExtent(s),t}function Ab(t,i,a){return dD(t,function(s){var u=i[1][0]-i[0][0],h=i[1][1]-i[0][1],v=Math.min(u/(s[1][0]-s[0][0]),h/(s[1][1]-s[0][1])),g=+i[0][0]+(u-v*(s[1][0]+s[0][0]))/2,m=+i[0][1]+(h-v*(s[1][1]+s[0][1]))/2;t.scale(150*v).translate([g,m])},a)}function vD(t,i,a){return Ab(t,[[0,0],i],a)}function Sy(t,i,a){return dD(t,function(s){var u=+i,h=u/(s[1][0]-s[0][0]),v=(u-h*(s[1][0]+s[0][0]))/2,g=-h*s[0][1];t.scale(150*h).translate([v,g])},a)}function pD(t,i,a){return dD(t,function(s){var u=+i,h=u/(s[1][1]-s[0][1]),v=-h*s[0][0],g=(u-h*(s[1][1]+s[0][1]))/2;t.scale(150*h).translate([v,g])},a)}var zV=16,FV=en(30*Wi);function Gs(t,i){return+i?gD(t,i):MQ(t)}function MQ(t){return Ob({point:function(i,a){i=t(i,a),this.stream.point(i[0],i[1])}})}function gD(t,i){function a(s,u,h,v,g,m,_,w,M,O,C,P,k,D){var R=_-s,B=w-u,z=R*R+B*B;if(z>4*i&&k--){var j=v+O,V=g+C,G=m+P,Y=Vo(j*j+V*V+G*G),Z=_l(G/=Y),Q=En(En(G)-1)<Pr||En(h-M)<Pr?(h+M)/2:ml(V,j),tt=t(Q,Z),rt=tt[0],ct=tt[1],nt=rt-s,lt=ct-u,ft=B*nt-R*lt;(ft*ft/z>i||En((R*nt+B*lt)/z-.5)>.3||v*O+g*C+m*P<FV)&&(a(s,u,h,v,g,m,rt,ct,Q,j/=Y,V/=Y,G,k,D),D.point(rt,ct),a(rt,ct,Q,j,V,G,_,w,M,O,C,P,k,D))}}return function(s){var u,h,v,g,m,_,w,M,O,C,P,k,D={point:R,lineStart:B,lineEnd:j,polygonStart:function(){s.polygonStart(),D.lineStart=V},polygonEnd:function(){s.polygonEnd(),D.lineStart=B}};function R(Z,Q){Z=t(Z,Q),s.point(Z[0],Z[1])}function B(){M=NaN,D.point=z,s.lineStart()}function z(Z,Q){var tt=_y([Z,Q]),rt=t(Z,Q);a(M,O,w,C,P,k,M=rt[0],O=rt[1],w=Z,C=tt[0],P=tt[1],k=tt[2],zV,s),s.point(M,O)}function j(){D.point=R,s.lineEnd()}function V(){B(),D.point=G,D.lineEnd=Y}function G(Z,Q){z(u=Z,Q),h=M,v=O,g=C,m=P,_=k,D.point=z}function Y(){a(M,O,w,C,P,k,h,v,u,g,m,_,zV,s),D.lineEnd=j,j()}return D}}var jV=Ob({point:function(t,i){this.stream.point(t*Wi,i*Wi)}});function jM(t){return Ob({point:function(i,a){var s=t(i,a);return this.stream.point(s[0],s[1])}})}function VV(t,i,a,s,u){function h(v,g){return v*=s,g*=u,[i+t*v,a-t*g]}return h.invert=function(v,g){return[(v-i)/t*s,(a-g)/t*u]},h}function GV(t,i,a,s,u,h){if(!h)return VV(t,i,a,s,u);var v=en(h),g=Fr(h),m=v*t,_=g*t,w=v/t,M=g/t,O=(g*a-v*i)/t,C=(g*i+v*a)/t;function P(k,D){return k*=s,D*=u,[m*k-_*D+i,a-_*k-m*D]}return P.invert=function(k,D){return[s*(w*k-M*D+O),u*(C-M*k-w*D)]},P}function dc(t){return yD(function(){return t})()}function yD(t){var i,a=150,s=480,u=250,h=0,v=0,g=0,m=0,_=0,w,M=0,O=1,C=1,P=null,k=NV,D=null,R,B,z,j=Yv,V=.5,G,Y,Z,Q,tt;function rt(ft){return Z(ft[0]*Wi,ft[1]*Wi)}function ct(ft){return ft=Z.invert(ft[0],ft[1]),ft&&[ft[0]*Ao,ft[1]*Ao]}rt.stream=function(ft){return Q&&tt===ft?Q:Q=jV(jM(w)(k(G(j(tt=ft)))))},rt.preclip=function(ft){return arguments.length?(k=ft,P=void 0,lt()):k},rt.postclip=function(ft){return arguments.length?(j=ft,D=R=B=z=null,lt()):j},rt.clipAngle=function(ft){return arguments.length?(k=+ft?BM(P=ft*Wi):(P=null,NV),lt()):P*Ao},rt.clipExtent=function(ft){return arguments.length?(j=ft==null?(D=R=B=z=null,Yv):qa(D=+ft[0][0],R=+ft[0][1],B=+ft[1][0],z=+ft[1][1]),lt()):D==null?null:[[D,R],[B,z]]},rt.scale=function(ft){return arguments.length?(a=+ft,nt()):a},rt.translate=function(ft){return arguments.length?(s=+ft[0],u=+ft[1],nt()):[s,u]},rt.center=function(ft){return arguments.length?(h=ft[0]%360*Wi,v=ft[1]%360*Wi,nt()):[h*Ao,v*Ao]},rt.rotate=function(ft){return arguments.length?(g=ft[0]%360*Wi,m=ft[1]%360*Wi,_=ft.length>2?ft[2]%360*Wi:0,nt()):[g*Ao,m*Ao,_*Ao]},rt.angle=function(ft){return arguments.length?(M=ft%360*Wi,nt()):M*Ao},rt.reflectX=function(ft){return arguments.length?(O=ft?-1:1,nt()):O<0},rt.reflectY=function(ft){return arguments.length?(C=ft?-1:1,nt()):C<0},rt.precision=function(ft){return arguments.length?(G=Gs(Y,V=ft*ft),lt()):Vo(V)},rt.fitExtent=function(ft,q){return Ab(rt,ft,q)},rt.fitSize=function(ft,q){return vD(rt,ft,q)},rt.fitWidth=function(ft,q){return Sy(rt,ft,q)},rt.fitHeight=function(ft,q){return pD(rt,ft,q)};function nt(){var ft=GV(a,0,0,O,C,M).apply(null,i(h,v)),q=GV(a,s-ft[0],u-ft[1],O,C,M);return w=cD(g,m,_),Y=wl(i,q),Z=wl(w,Y),G=Gs(Y,V),lt()}function lt(){return Q=tt=null,rt}return function(){return i=t.apply(this,arguments),rt.invert=i.invert&&ct,nt()}}function VM(t){var i=0,a=hn/3,s=yD(t),u=s(i,a);return u.parallels=function(h){return arguments.length?s(i=h[0]*Wi,a=h[1]*Wi):[i*Ao,a*Ao]},u}function TQ(t){var i=en(t);function a(s,u){return[s*i,Fr(u)/i]}return a.invert=function(s,u){return[s/i,_l(u*i)]},a}function WV(t,i){var a=Fr(t),s=(a+Fr(i))/2;if(En(s)<Pr)return TQ(t);var u=1+a*(2*s-a),h=Vo(u)/s;function v(g,m){var _=Vo(u-2*s*Fr(m))/s;return[_*Fr(g*=s),h-_*en(g)]}return v.invert=function(g,m){var _=h-m,w=ml(g,En(_))*bl(_);return _*s<0&&(w-=hn*bl(g)*bl(_)),[w/s,_l((u-(g*g+_*_)*s*s)/(2*s))]},v}function du(){return VM(WV).scale(155.424).center([0,33.6442])}function OQ(){return du().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ent(t){var i=t.length;return{point:function(a,s){for(var u=-1;++u<i;)t[u].point(a,s)},sphere:function(){for(var a=-1;++a<i;)t[a].sphere()},lineStart:function(){for(var a=-1;++a<i;)t[a].lineStart()},lineEnd:function(){for(var a=-1;++a<i;)t[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<i;)t[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<i;)t[a].polygonEnd()}}}function AQ(){var t,i,a=OQ(),s,u=du().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h,v=du().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g,m,_={point:function(O,C){m=[O,C]}};function w(O){var C=O[0],P=O[1];return m=null,s.point(C,P),m||(h.point(C,P),m)||(g.point(C,P),m)}w.invert=function(O){var C=a.scale(),P=a.translate(),k=(O[0]-P[0])/C,D=(O[1]-P[1])/C;return(D>=.12&&D<.234&&k>=-.425&&k<-.214?u:D>=.166&&D<.234&&k>=-.214&&k<-.115?v:a).invert(O)},w.stream=function(O){return t&&i===O?t:t=Ent([a.stream(i=O),u.stream(O),v.stream(O)])},w.precision=function(O){return arguments.length?(a.precision(O),u.precision(O),v.precision(O),M()):a.precision()},w.scale=function(O){return arguments.length?(a.scale(O),u.scale(O*.35),v.scale(O),w.translate(a.translate())):a.scale()},w.translate=function(O){if(!arguments.length)return a.translate();var C=a.scale(),P=+O[0],k=+O[1];return s=a.translate(O).clipExtent([[P-.455*C,k-.238*C],[P+.455*C,k+.238*C]]).stream(_),h=u.translate([P-.307*C,k+.201*C]).clipExtent([[P-.425*C+Pr,k+.12*C+Pr],[P-.214*C-Pr,k+.234*C-Pr]]).stream(_),g=v.translate([P-.205*C,k+.212*C]).clipExtent([[P-.214*C+Pr,k+.166*C+Pr],[P-.115*C-Pr,k+.234*C-Pr]]).stream(_),M()},w.fitExtent=function(O,C){return Ab(w,O,C)},w.fitSize=function(O,C){return vD(w,O,C)},w.fitWidth=function(O,C){return Sy(w,O,C)},w.fitHeight=function(O,C){return pD(w,O,C)};function M(){return t=i=null,w}return w.scale(1070)}function mD(t){return function(i,a){var s=en(i),u=en(a),h=t(s*u);return h===1/0?[2,0]:[h*u*Fr(i),h*Fr(a)]}}function Zv(t){return function(i,a){var s=Vo(i*i+a*a),u=t(s),h=Fr(u),v=en(u);return[ml(i*h,s*v),_l(s&&a*h/s)]}}var bD=mD(function(t){return Vo(2/(1+t))});bD.invert=Zv(function(t){return 2*_l(t/2)});function HV(){return dc(bD).scale(124.75).clipAngle(180-.001)}var Kv=mD(function(t){return(t=xV(t))&&t/Fr(t)});Kv.invert=Zv(function(t){return t});function CQ(){return dc(Kv).scale(79.4188).clipAngle(180-.001)}function Cb(t,i){return[t,yM(mM((aa+i)/2))]}Cb.invert=function(t,i){return[t,2*pf(_V(i))-aa]};function PQ(){return GM(Cb).scale(961/ls)}function GM(t){var i=dc(t),a=i.center,s=i.scale,u=i.translate,h=i.clipExtent,v=null,g,m,_;i.scale=function(M){return arguments.length?(s(M),w()):s()},i.translate=function(M){return arguments.length?(u(M),w()):u()},i.center=function(M){return arguments.length?(a(M),w()):a()},i.clipExtent=function(M){return arguments.length?(M==null?v=g=m=_=null:(v=+M[0][0],g=+M[0][1],m=+M[1][0],_=+M[1][1]),w()):v==null?null:[[v,g],[m,_]]};function w(){var M=hn*s(),O=i(SQ(i.rotate()).invert([0,0]));return h(v==null?[[O[0]-M,O[1]-M],[O[0]+M,O[1]+M]]:t===Cb?[[Math.max(O[0]-M,v),g],[Math.min(O[0]+M,m),_]]:[[v,Math.max(O[1]-M,g)],[m,Math.min(O[1]+M,_)]])}return w()}function WM(t){return mM((aa+t)/2)}function YV(t,i){var a=en(t),s=t===i?Fr(t):yM(a/en(i))/yM(WM(i)/WM(t)),u=a*jL(WM(t),s)/s;if(!s)return Cb;function h(v,g){u>0?g<-aa+Pr&&(g=-aa+Pr):g>aa-Pr&&(g=aa-Pr);var m=u/jL(WM(g),s);return[m*Fr(s*v),u-m*en(s*v)]}return h.invert=function(v,g){var m=u-g,_=bl(s)*Vo(v*v+m*m),w=ml(v,En(m))*bl(m);return m*s<0&&(w-=hn*bl(v)*bl(m)),[w/s,2*pf(jL(u/_,1/s))-aa]},h}function My(){return VM(YV).scale(109.5).parallels([30,30])}function Ty(t,i){return[t,i]}Ty.invert=Ty;function EQ(){return dc(Ty).scale(152.63)}function UV(t,i){var a=en(t),s=t===i?Fr(t):(a-en(i))/(i-t),u=a/s+t;if(En(s)<Pr)return Ty;function h(v,g){var m=u-g,_=s*v;return[m*Fr(_),u-m*en(_)]}return h.invert=function(v,g){var m=u-g,_=ml(v,En(m))*bl(m);return m*s<0&&(_-=hn*bl(v)*bl(m)),[_/s,u-bl(s)*Vo(v*v+m*m)]},h}function kQ(){return VM(UV).scale(131.154).center([0,13.9389])}var Pb=1.340264,Eb=-.081106,kb=893e-6,Oy=.003796,Ay=Vo(3)/2,LQ=12;function us(t,i){var a=_l(Ay*Fr(i)),s=a*a,u=s*s*s;return[t*en(a)/(Ay*(Pb+3*Eb*s+u*(7*kb+9*Oy*s))),a*(Pb+Eb*s+u*(kb+Oy*s))]}us.invert=function(t,i){for(var a=i,s=a*a,u=s*s*s,h=0,v,g,m;h<LQ&&(g=a*(Pb+Eb*s+u*(kb+Oy*s))-i,m=Pb+3*Eb*s+u*(7*kb+9*Oy*s),a-=v=g/m,s=a*a,u=s*s*s,!(En(v)<mV));++h);return[Ay*t*(Pb+3*Eb*s+u*(7*kb+9*Oy*s))/en(a),_l(Fr(a)/Ay)]};function XV(){return dc(us).scale(177.158)}function nd(t,i){var a=en(i),s=en(t)*a;return[a*Fr(t)/s,Fr(i)/s]}nd.invert=Zv(pf);function $V(){return dc(nd).scale(144.049).clipAngle(60)}function DQ(){var t=1,i=0,a=0,s=1,u=1,h=0,v,g,m=null,_,w,M,O=1,C=1,P=Ob({point:function(j,V){var G=z([j,V]);this.stream.point(G[0],G[1])}}),k=Yv,D,R;function B(){return O=t*s,C=t*u,D=R=null,z}function z(j){var V=j[0]*O,G=j[1]*C;if(h){var Y=G*v-V*g;V=V*v+G*g,G=Y}return[V+i,G+a]}return z.invert=function(j){var V=j[0]-i,G=j[1]-a;if(h){var Y=G*v+V*g;V=V*v-G*g,G=Y}return[V/O,G/C]},z.stream=function(j){return D&&R===j?D:D=P(k(R=j))},z.postclip=function(j){return arguments.length?(k=j,m=_=w=M=null,B()):k},z.clipExtent=function(j){return arguments.length?(k=j==null?(m=_=w=M=null,Yv):qa(m=+j[0][0],_=+j[0][1],w=+j[1][0],M=+j[1][1]),B()):m==null?null:[[m,_],[w,M]]},z.scale=function(j){return arguments.length?(t=+j,B()):t},z.translate=function(j){return arguments.length?(i=+j[0],a=+j[1],B()):[i,a]},z.angle=function(j){return arguments.length?(h=j%360*Wi,g=Fr(h),v=en(h),B()):h*Ao},z.reflectX=function(j){return arguments.length?(s=j?-1:1,B()):s<0},z.reflectY=function(j){return arguments.length?(u=j?-1:1,B()):u<0},z.fitExtent=function(j,V){return Ab(z,j,V)},z.fitSize=function(j,V){return vD(z,j,V)},z.fitWidth=function(j,V){return Sy(z,j,V)},z.fitHeight=function(j,V){return pD(z,j,V)},z}function _D(t,i){var a=i*i,s=a*a;return[t*(.8707-.131979*a+s*(-.013791+s*(.003971*a-.001529*s))),i*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))]}_D.invert=function(t,i){var a=i,s=25,u;do{var h=a*a,v=h*h;a-=u=(a*(1.007226+h*(.015085+v*(-.044475+.028874*h-.005916*v)))-i)/(1.007226+h*(.015085*3+v*(-.044475*7+.028874*9*h-.005916*11*v)))}while(En(u)>Pr&&--s>0);return[t/(.8707+(h=a*a)*(-.131979+h*(-.013791+h*h*h*(.003971-.001529*h)))),a]};function qV(){return dc(_D).scale(175.295)}function xD(t,i){return[en(i)*Fr(t),Fr(i)]}xD.invert=Zv(_l);function IQ(){return dc(xD).scale(249.5).clipAngle(90+Pr)}function wD(t,i){var a=en(i),s=1+en(t)*a;return[a*Fr(t)/s,Fr(i)/s]}wD.invert=Zv(function(t){return 2*pf(t)});function RQ(){return dc(wD).scale(250).clipAngle(142)}function SD(t,i){return[yM(mM((aa+i)/2)),-t]}SD.invert=function(t,i){return[-i,2*pf(_V(t))-aa]};function ZV(){var t=GM(SD),i=t.center,a=t.rotate;return t.center=function(s){return arguments.length?i([-s[1],s[0]]):(s=i(),[s[1],-s[0]])},t.rotate=function(s){return arguments.length?a([s[0],s[1],s.length>2?s[2]+90:90]):(s=a(),[s[0],s[1],s[2]-90])},a([0,0,90]).scale(159.155)}var knt=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Lnt(t){if(typeof t=="function")return t;const i=`geo${Jc(t)}`,a=$r[i];if(!a)throw new Error(`Unknown coordinate: ${t}`);return a}function NQ(t){return{type:"FeatureCollection",features:t.flatMap(i=>BQ(i).features)}}function BQ(t){const i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const a=i[t.type];if(!a)return null;if(a==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(a==="feature")return{type:"FeatureCollection",features:[t]};if(a==="featureCollection")return t}function KV(t,i){var a;for(const[s,u]of Object.entries(i))(a=t[s])===null||a===void 0||a.call(t,u)}function zQ(t,i,a,s){const u=()=>{const g=i.filter(QV);return g.find(_=>_.sphere)?{type:"Sphere"}:NQ(g.filter(_=>!_.sphere).flatMap(_=>_.data.value))},{outline:h=u()}=s,{size:v="fitExtent"}=s;if(v==="fitExtent")return HM(t,h,a);if(v==="fitWidth")return Cy(t,h,a)}function HM(t,i,a){const{x:s,y:u,width:h,height:v}=a;t.fitExtent([[s,u],[h,v]],i)}function Cy(t,i,a){const{width:s,height:u}=a,[[h,v],[g,m]]=CM(t.fitWidth(s,i)).bounds(i),_=Math.ceil(m-v),w=Math.min(Math.ceil(g-h),_),M=t.scale()*(w-1)/w,[O,C]=t.translate(),P=C+(u-_)/2;t.scale(M).translate([O,P]).precision(.2)}function FQ(t){const{data:i}=t;if(Array.isArray(i))return Object.assign(Object.assign({},t),{data:{value:i}});const{type:a}=i;return a==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[bQ()]}}):a==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function QV(t){return t.type==="geoPath"}const JV=()=>t=>{const{children:i,coordinate:a={}}=t;if(!Array.isArray(i))return[];const{type:s="equalEarth"}=a,u=knt(a,["type"]),h=Lnt(s),v=i.map(FQ);let g;function m(){return[["custom",(M,O,C,P)=>{const k=h();zQ(k,v,{x:M,y:O,width:C,height:P},u),KV(k,u),g=CM(k);const R=new wo({domain:[M,M+C]}),B=new wo({domain:[O,O+P]}),z=V=>{const G=k(V);if(!G)return[null,null];const[Y,Z]=G;return[R.map(Y),B.map(Z)]},j=V=>{if(!V)return null;const[G,Y]=V,Z=[R.invert(G),B.invert(Y)];return k.invert(Z)};return{transform:V=>z(V),untransform:V=>j(V)}}]]}function _(M){const{style:O,tooltip:C={}}=M;return Object.assign(Object.assign({},M),{type:"path",tooltip:x2(C,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},O),{d:P=>g(P)||[]})})}const w=M=>QV(M)?_(M):M;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:m},children:v.flatMap(w)})]};JV.props={};var jQ=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const Lb=()=>t=>{const{type:i,data:a,scale:s,encode:u,style:h,animate:v,key:g,state:m}=t,_=jQ(t,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},_),{children:[{type:"geoPath",key:`${g}-0`,data:{value:a},scale:s,encode:u,style:h,animate:v,state:m}]})]};Lb.props={};function VQ(){return{"composition.geoView":JV,"composition.geoPath":Lb}}function MD(t){const i=+this._x.call(null,t),a=+this._y.call(null,t);return tG(this.cover(i,a),i,a,t)}function tG(t,i,a,s){if(isNaN(i)||isNaN(a))return t;var u,h=t._root,v={data:s},g=t._x0,m=t._y0,_=t._x1,w=t._y1,M,O,C,P,k,D,R,B;if(!h)return t._root=v,t;for(;h.length;)if((k=i>=(M=(g+_)/2))?g=M:_=M,(D=a>=(O=(m+w)/2))?m=O:w=O,u=h,!(h=h[R=D<<1|k]))return u[R]=v,t;if(C=+t._x.call(null,h.data),P=+t._y.call(null,h.data),i===C&&a===P)return v.next=h,u?u[R]=v:t._root=v,t;do u=u?u[R]=new Array(4):t._root=new Array(4),(k=i>=(M=(g+_)/2))?g=M:_=M,(D=a>=(O=(m+w)/2))?m=O:w=O;while((R=D<<1|k)===(B=(P>=O)<<1|C>=M));return u[B]=h,u[R]=v,t}function GQ(t){var i,a,s=t.length,u,h,v=new Array(s),g=new Array(s),m=1/0,_=1/0,w=-1/0,M=-1/0;for(a=0;a<s;++a)isNaN(u=+this._x.call(null,i=t[a]))||isNaN(h=+this._y.call(null,i))||(v[a]=u,g[a]=h,u<m&&(m=u),u>w&&(w=u),h<_&&(_=h),h>M&&(M=h));if(m>w||_>M)return this;for(this.cover(m,_).cover(w,M),a=0;a<s;++a)tG(this,v[a],g[a],t[a]);return this}function WQ(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var a=this._x0,s=this._y0,u=this._x1,h=this._y1;if(isNaN(a))u=(a=Math.floor(t))+1,h=(s=Math.floor(i))+1;else{for(var v=u-a||1,g=this._root,m,_;a>t||t>=u||s>i||i>=h;)switch(_=(i<s)<<1|t<a,m=new Array(4),m[_]=g,g=m,v*=2,_){case 0:u=a+v,h=s+v;break;case 1:a=u-v,h=s+v;break;case 2:u=a+v,s=h-v;break;case 3:a=u-v,s=h-v;break}this._root&&this._root.length&&(this._root=g)}return this._x0=a,this._y0=s,this._x1=u,this._y1=h,this}function HQ(){var t=[];return this.visit(function(i){if(!i.length)do t.push(i.data);while(i=i.next)}),t}function YQ(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Go(t,i,a,s,u){this.node=t,this.x0=i,this.y0=a,this.x1=s,this.y1=u}function eG(t,i,a){var s,u=this._x0,h=this._y0,v,g,m,_,w=this._x1,M=this._y1,O=[],C=this._root,P,k;for(C&&O.push(new Go(C,u,h,w,M)),a==null?a=1/0:(u=t-a,h=i-a,w=t+a,M=i+a,a*=a);P=O.pop();)if(!(!(C=P.node)||(v=P.x0)>w||(g=P.y0)>M||(m=P.x1)<u||(_=P.y1)<h))if(C.length){var D=(v+m)/2,R=(g+_)/2;O.push(new Go(C[3],D,R,m,_),new Go(C[2],v,R,D,_),new Go(C[1],D,g,m,R),new Go(C[0],v,g,D,R)),(k=(i>=R)<<1|t>=D)&&(P=O[O.length-1],O[O.length-1]=O[O.length-1-k],O[O.length-1-k]=P)}else{var B=t-+this._x.call(null,C.data),z=i-+this._y.call(null,C.data),j=B*B+z*z;if(j<a){var V=Math.sqrt(a=j);u=t-V,h=i-V,w=t+V,M=i+V,s=C.data}}return s}function rG(t){if(isNaN(w=+this._x.call(null,t))||isNaN(M=+this._y.call(null,t)))return this;var i,a=this._root,s,u,h,v=this._x0,g=this._y0,m=this._x1,_=this._y1,w,M,O,C,P,k,D,R;if(!a)return this;if(a.length)for(;;){if((P=w>=(O=(v+m)/2))?v=O:m=O,(k=M>=(C=(g+_)/2))?g=C:_=C,i=a,!(a=a[D=k<<1|P]))return this;if(!a.length)break;(i[D+1&3]||i[D+2&3]||i[D+3&3])&&(s=i,R=D)}for(;a.data!==t;)if(u=a,!(a=a.next))return this;return(h=a.next)&&delete a.next,u?(h?u.next=h:delete u.next,this):i?(h?i[D]=h:delete i[D],(a=i[0]||i[1]||i[2]||i[3])&&a===(i[3]||i[2]||i[1]||i[0])&&!a.length&&(s?s[R]=a:this._root=a),this):(this._root=h,this)}function UQ(t){for(var i=0,a=t.length;i<a;++i)this.remove(t[i]);return this}function XQ(){return this._root}function $Q(){var t=0;return this.visit(function(i){if(!i.length)do++t;while(i=i.next)}),t}function qQ(t){var i=[],a,s=this._root,u,h,v,g,m;for(s&&i.push(new Go(s,this._x0,this._y0,this._x1,this._y1));a=i.pop();)if(!t(s=a.node,h=a.x0,v=a.y0,g=a.x1,m=a.y1)&&s.length){var _=(h+g)/2,w=(v+m)/2;(u=s[3])&&i.push(new Go(u,_,w,g,m)),(u=s[2])&&i.push(new Go(u,h,w,_,m)),(u=s[1])&&i.push(new Go(u,_,v,g,w)),(u=s[0])&&i.push(new Go(u,h,v,_,w))}return this}function TD(t){var i=[],a=[],s;for(this._root&&i.push(new Go(this._root,this._x0,this._y0,this._x1,this._y1));s=i.pop();){var u=s.node;if(u.length){var h,v=s.x0,g=s.y0,m=s.x1,_=s.y1,w=(v+m)/2,M=(g+_)/2;(h=u[0])&&i.push(new Go(h,v,g,w,M)),(h=u[1])&&i.push(new Go(h,w,g,m,M)),(h=u[2])&&i.push(new Go(h,v,M,w,_)),(h=u[3])&&i.push(new Go(h,w,M,m,_))}a.push(s)}for(;s=a.pop();)t(s.node,s.x0,s.y0,s.x1,s.y1);return this}function ZQ(t){return t[0]}function KQ(t){return arguments.length?(this._x=t,this):this._x}function QQ(t){return t[1]}function JQ(t){return arguments.length?(this._y=t,this):this._y}function YM(t,i,a){var s=new UM(i==null?ZQ:i,a==null?QQ:a,NaN,NaN,NaN,NaN);return t==null?s:s.addAll(t)}function UM(t,i,a,s,u,h){this._x=t,this._y=i,this._x0=a,this._y0=s,this._x1=u,this._y1=h,this._root=void 0}function nG(t){for(var i={data:t.data},a=i;t=t.next;)a=a.next={data:t.data};return i}var Co=YM.prototype=UM.prototype;Co.copy=function(){var t=new UM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root,a,s;if(!i)return t;if(!i.length)return t._root=nG(i),t;for(a=[{source:i,target:t._root=new Array(4)}];i=a.pop();)for(var u=0;u<4;++u)(s=i.source[u])&&(s.length?a.push({source:s,target:i.target[u]=new Array(4)}):i.target[u]=nG(s));return t},Co.add=MD,Co.addAll=GQ,Co.cover=WQ,Co.data=HQ,Co.extent=YQ,Co.find=eG,Co.remove=rG,Co.removeAll=UQ,Co.root=XQ,Co.size=$Q,Co.visit=qQ,Co.visitAfter=TD,Co.x=KQ,Co.y=JQ;function cs(t){return function(){return t}}function id(t){return(t()-.5)*1e-6}var iG={value:function(){}};function OD(){for(var t=0,i=arguments.length,a={},s;t<i;++t){if(!(s=arguments[t]+"")||s in a||/[\s.]/.test(s))throw new Error("illegal type: "+s);a[s]=[]}return new Db(a)}function Db(t){this._=t}function tJ(t,i){return t.trim().split(/^|\s+/).map(function(a){var s="",u=a.indexOf(".");if(u>=0&&(s=a.slice(u+1),a=a.slice(0,u)),a&&!i.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:s}})}Db.prototype=OD.prototype={constructor:Db,on:function(i,a){var s=this._,u=tJ(i+"",s),h,v=-1,g=u.length;if(arguments.length<2){for(;++v<g;)if((h=(i=u[v]).type)&&(h=aG(s[h],i.name)))return h;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++v<g;)if(h=(i=u[v]).type)s[h]=XM(s[h],i.name,a);else if(a==null)for(h in s)s[h]=XM(s[h],i.name,null);return this},copy:function(){var i={},a=this._;for(var s in a)i[s]=a[s].slice();return new Db(i)},call:function(i,a){if((h=arguments.length-2)>0)for(var s=new Array(h),u=0,h,v;u<h;++u)s[u]=arguments[u+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(v=this._[i],u=0,h=v.length;u<h;++u)v[u].value.apply(a,s)},apply:function(i,a,s){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var u=this._[i],h=0,v=u.length;h<v;++h)u[h].value.apply(a,s)}};function aG(t,i){for(var a=0,s=t.length,u;a<s;++a)if((u=t[a]).name===i)return u.value}function XM(t,i,a){for(var s=0,u=t.length;s<u;++s)if(t[s].name===i){t[s]=iG,t=t.slice(0,s).concat(t.slice(s+1));break}return a!=null&&t.push({name:i,value:a}),t}var AD=OD,Py=0,$M=0,Ib=0,oG=1e3,Ey,Rb,qM=0,Qv=0,ZM=0,Nb=typeof performance=="object"&&performance.now?performance:Date,sG=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function CD(){return Qv||(sG(lG),Qv=Nb.now()+ZM)}function lG(){Qv=0}function KM(){this._call=this._time=this._next=null}KM.prototype=uG.prototype={constructor:KM,restart:function(t,i,a){if(typeof t!="function")throw new TypeError("callback is not a function");a=(a==null?CD():+a)+(i==null?0:+i),!this._next&&Rb!==this&&(Rb?Rb._next=this:Ey=this,Rb=this),this._call=t,this._time=a,ED()},stop:function(){this._call&&(this._call=null,this._time=1/0,ED())}};function uG(t,i,a){var s=new KM;return s.restart(t,i,a),s}function cG(){CD(),++Py;for(var t=Ey,i;t;)(i=Qv-t._time)>=0&&t._call.call(void 0,i),t=t._next;--Py}function fG(){Qv=(qM=Nb.now())+ZM,Py=$M=0;try{cG()}finally{Py=0,PD(),Qv=0}}function eJ(){var t=Nb.now(),i=t-qM;i>oG&&(ZM-=i,qM=t)}function PD(){for(var t,i=Ey,a,s=1/0;i;)i._call?(s>i._time&&(s=i._time),t=i,i=i._next):(a=i._next,i._next=null,i=t?t._next=a:Ey=a);Rb=t,ED(s)}function ED(t){if(!Py){$M&&($M=clearTimeout($M));var i=t-Qv;i>24?(t<1/0&&($M=setTimeout(fG,t-Nb.now()-ZM)),Ib&&(Ib=clearInterval(Ib))):(Ib||(qM=Nb.now(),Ib=setInterval(eJ,oG)),Py=1,sG(fG))}}const rJ=1664525,nJ=1013904223,hG=4294967296;function dG(){let t=1;return()=>(t=(rJ*t+nJ)%hG)/hG}function iJ(t){return t.x}function aJ(t){return t.y}var vG=10,oJ=Math.PI*(3-Math.sqrt(5));function sJ(t){var i,a=1,s=.001,u=1-Math.pow(s,1/300),h=0,v=.6,g=new Map,m=uG(M),_=AD("tick","end"),w=dG();t==null&&(t=[]);function M(){O(),_.call("tick",i),a<s&&(m.stop(),_.call("end",i))}function O(k){var D,R=t.length,B;k===void 0&&(k=1);for(var z=0;z<k;++z)for(a+=(h-a)*u,g.forEach(function(j){j(a)}),D=0;D<R;++D)B=t[D],B.fx==null?B.x+=B.vx*=v:(B.x=B.fx,B.vx=0),B.fy==null?B.y+=B.vy*=v:(B.y=B.fy,B.vy=0);return i}function C(){for(var k=0,D=t.length,R;k<D;++k){if(R=t[k],R.index=k,R.fx!=null&&(R.x=R.fx),R.fy!=null&&(R.y=R.fy),isNaN(R.x)||isNaN(R.y)){var B=vG*Math.sqrt(.5+k),z=k*oJ;R.x=B*Math.cos(z),R.y=B*Math.sin(z)}(isNaN(R.vx)||isNaN(R.vy))&&(R.vx=R.vy=0)}}function P(k){return k.initialize&&k.initialize(t,w),k}return C(),i={tick:O,restart:function(){return m.restart(M),i},stop:function(){return m.stop(),i},nodes:function(k){return arguments.length?(t=k,C(),g.forEach(P),i):t},alpha:function(k){return arguments.length?(a=+k,i):a},alphaMin:function(k){return arguments.length?(s=+k,i):s},alphaDecay:function(k){return arguments.length?(u=+k,i):+u},alphaTarget:function(k){return arguments.length?(h=+k,i):h},velocityDecay:function(k){return arguments.length?(v=1-k,i):1-v},randomSource:function(k){return arguments.length?(w=k,g.forEach(P),i):w},force:function(k,D){return arguments.length>1?(D==null?g.delete(k):g.set(k,P(D)),i):g.get(k)},find:function(k,D,R){var B=0,z=t.length,j,V,G,Y,Z;for(R==null?R=1/0:R*=R,B=0;B<z;++B)Y=t[B],j=k-Y.x,V=D-Y.y,G=j*j+V*V,G<R&&(Z=Y,R=G);return Z},on:function(k,D){return arguments.length>1?(_.on(k,D),i):_.on(k)}}}function lJ(){var t,i,a,s,u=cs(-30),h,v=1,g=1/0,m=.81;function _(C){var P,k=t.length,D=YM(t,iJ,aJ).visitAfter(M);for(s=C,P=0;P<k;++P)i=t[P],D.visit(O)}function w(){if(t){var C,P=t.length,k;for(h=new Array(P),C=0;C<P;++C)k=t[C],h[k.index]=+u(k,C,t)}}function M(C){var P=0,k,D,R=0,B,z,j;if(C.length){for(B=z=j=0;j<4;++j)(k=C[j])&&(D=Math.abs(k.value))&&(P+=k.value,R+=D,B+=D*k.x,z+=D*k.y);C.x=B/R,C.y=z/R}else{k=C,k.x=k.data.x,k.y=k.data.y;do P+=h[k.data.index];while(k=k.next)}C.value=P}function O(C,P,k,D){if(!C.value)return!0;var R=C.x-i.x,B=C.y-i.y,z=D-P,j=R*R+B*B;if(z*z/m<j)return j<g&&(R===0&&(R=id(a),j+=R*R),B===0&&(B=id(a),j+=B*B),j<v&&(j=Math.sqrt(v*j)),i.vx+=R*C.value*s/j,i.vy+=B*C.value*s/j),!0;if(C.length||j>=g)return;(C.data!==i||C.next)&&(R===0&&(R=id(a),j+=R*R),B===0&&(B=id(a),j+=B*B),j<v&&(j=Math.sqrt(v*j)));do C.data!==i&&(z=h[C.data.index]*s/j,i.vx+=R*z,i.vy+=B*z);while(C=C.next)}return _.initialize=function(C,P){t=C,a=P,w()},_.strength=function(C){return arguments.length?(u=typeof C=="function"?C:cs(+C),w(),_):u},_.distanceMin=function(C){return arguments.length?(v=C*C,_):Math.sqrt(v)},_.distanceMax=function(C){return arguments.length?(g=C*C,_):Math.sqrt(g)},_.theta=function(C){return arguments.length?(m=C*C,_):Math.sqrt(m)},_}function ad(t){return t.index}function kD(t,i){var a=t.get(i);if(!a)throw new Error("node not found: "+i);return a}function pG(t){var i=ad,a=M,s,u=cs(30),h,v,g,m,_,w=1;t==null&&(t=[]);function M(D){return 1/Math.min(g[D.source.index],g[D.target.index])}function O(D){for(var R=0,B=t.length;R<w;++R)for(var z=0,j,V,G,Y,Z,Q,tt;z<B;++z)j=t[z],V=j.source,G=j.target,Y=G.x+G.vx-V.x-V.vx||id(_),Z=G.y+G.vy-V.y-V.vy||id(_),Q=Math.sqrt(Y*Y+Z*Z),Q=(Q-h[z])/Q*D*s[z],Y*=Q,Z*=Q,G.vx-=Y*(tt=m[z]),G.vy-=Z*tt,V.vx+=Y*(tt=1-tt),V.vy+=Z*tt}function C(){if(v){var D,R=v.length,B=t.length,z=new Map(v.map((V,G)=>[i(V,G,v),V])),j;for(D=0,g=new Array(R);D<B;++D)j=t[D],j.index=D,typeof j.source!="object"&&(j.source=kD(z,j.source)),typeof j.target!="object"&&(j.target=kD(z,j.target)),g[j.source.index]=(g[j.source.index]||0)+1,g[j.target.index]=(g[j.target.index]||0)+1;for(D=0,m=new Array(B);D<B;++D)j=t[D],m[D]=g[j.source.index]/(g[j.source.index]+g[j.target.index]);s=new Array(B),P(),h=new Array(B),k()}}function P(){if(v)for(var D=0,R=t.length;D<R;++D)s[D]=+a(t[D],D,t)}function k(){if(v)for(var D=0,R=t.length;D<R;++D)h[D]=+u(t[D],D,t)}return O.initialize=function(D,R){v=D,_=R,C()},O.links=function(D){return arguments.length?(t=D,C(),O):t},O.id=function(D){return arguments.length?(i=D,O):i},O.iterations=function(D){return arguments.length?(w=+D,O):w},O.strength=function(D){return arguments.length?(a=typeof D=="function"?D:cs(+D),P(),O):a},O.distance=function(D){return arguments.length?(u=typeof D=="function"?D:cs(+D),k(),O):u},O}function uJ(t,i){var a,s=1;t==null&&(t=0),i==null&&(i=0);function u(){var h,v=a.length,g,m=0,_=0;for(h=0;h<v;++h)g=a[h],m+=g.x,_+=g.y;for(m=(m/v-t)*s,_=(_/v-i)*s,h=0;h<v;++h)g=a[h],g.x-=m,g.y-=_}return u.initialize=function(h){a=h},u.x=function(h){return arguments.length?(t=+h,u):t},u.y=function(h){return arguments.length?(i=+h,u):i},u.strength=function(h){return arguments.length?(s=+h,u):s},u}function cJ(t){var i=cs(.1),a,s,u;typeof t!="function"&&(t=cs(t==null?0:+t));function h(g){for(var m=0,_=a.length,w;m<_;++m)w=a[m],w.vx+=(u[m]-w.x)*s[m]*g}function v(){if(a){var g,m=a.length;for(s=new Array(m),u=new Array(m),g=0;g<m;++g)s[g]=isNaN(u[g]=+t(a[g],g,a))?0:+i(a[g],g,a)}}return h.initialize=function(g){a=g,v()},h.strength=function(g){return arguments.length?(i=typeof g=="function"?g:cs(+g),v(),h):i},h.x=function(g){return arguments.length?(t=typeof g=="function"?g:cs(+g),v(),h):t},h}function fJ(t){var i=cs(.1),a,s,u;typeof t!="function"&&(t=cs(t==null?0:+t));function h(g){for(var m=0,_=a.length,w;m<_;++m)w=a[m],w.vy+=(u[m]-w.y)*s[m]*g}function v(){if(a){var g,m=a.length;for(s=new Array(m),u=new Array(m),g=0;g<m;++g)s[g]=isNaN(u[g]=+t(a[g],g,a))?0:+i(a[g],g,a)}}return h.initialize=function(g){a=g,v()},h.strength=function(g){return arguments.length?(i=typeof g=="function"?g:cs(+g),v(),h):i},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:cs(+g),v(),h):t},h}var Bb=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const gG={joint:!0},hJ={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},dJ={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},vJ={text:""};function yG(t,i,a){const{nodes:s,links:u}=t,{joint:h,nodeStrength:v,linkStrength:g}=i,{nodeKey:m=P=>P.id,linkKey:_=P=>P.id}=a,w=lJ(),M=pG(u).id(Uu(_));typeof v=="function"&&w.strength(v),typeof g=="function"&&M.strength(g);const O=sJ(s).force("link",M).force("charge",w);h?O.force("center",uJ()):O.force("x",cJ()).force("y",fJ()),O.stop();const C=Math.ceil(Math.log(O.alphaMin())/Math.log(1-O.alphaDecay()));for(let P=0;P<C;P++)O.tick();return{nodesData:s,linksData:u}}const mG=t=>{const{data:i,encode:a={},scale:s,style:u={},layout:h={},nodeLabels:v=[],linkLabels:g=[],animate:m={},tooltip:_={}}=t,{nodeKey:w=G=>G.id,linkKey:M=G=>G.id}=a,O=Bb(a,["nodeKey","linkKey"]),C=Object.assign({nodeKey:w,linkKey:M},O),P=Te(C,"node"),k=Te(C,"link"),{links:D,nodes:R}=aC(i,C),{nodesData:B,linksData:z}=yG({links:D,nodes:R},Ft({},gG,h),C),j=lu(_,"link",{items:[G=>({name:"source",value:Uu(M)(G.source)}),G=>({name:"target",value:Uu(M)(G.target)})]}),V=lu(_,"node",{items:[G=>({name:"key",value:Uu(w)(G)})]},!0);return[Ft({},hJ,{data:z,encode:k,labels:g,style:Te(u,"link"),tooltip:j,animate:ic(m,"link")}),Ft({},dJ,{data:B,encode:Object.assign({},P),scale:s,style:Te(u,"node"),tooltip:V,labels:[Object.assign(Object.assign({},vJ),Te(u,"label")),...v],animate:ic(m,"link")})]};mG.props={};function pJ(t,i){return t.parent===i.parent?1:2}function LD(t){var i=t.children;return i?i[0]:t.t}function DD(t){var i=t.children;return i?i[i.length-1]:t.t}function gJ(t,i,a){var s=a/(i.i-t.i);i.c-=s,i.s+=a,t.c+=s,i.z+=a,i.m+=a}function yJ(t){for(var i=0,a=0,s=t.children,u=s.length,h;--u>=0;)h=s[u],h.z+=i,h.m+=i,i+=h.s+(a+=h.c)}function bG(t,i,a){return t.a.parent===i.parent?t.a:a}function zb(t,i){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}zb.prototype=Object.create(ly.prototype);function ID(t){for(var i=new zb(t,0),a,s=[i],u,h,v,g;a=s.pop();)if(h=a._.children)for(a.children=new Array(g=h.length),v=g-1;v>=0;--v)s.push(u=a.children[v]=new zb(h[v],v)),u.parent=a;return(i.parent=new zb(null,0)).children=[i],i}function _G(){var t=pJ,i=1,a=1,s=null;function u(_){var w=ID(_);if(w.eachAfter(h),w.parent.m=-w.z,w.eachBefore(v),s)_.eachBefore(m);else{var M=_,O=_,C=_;_.eachBefore(function(B){B.x<M.x&&(M=B),B.x>O.x&&(O=B),B.depth>C.depth&&(C=B)});var P=M===O?1:t(M,O)/2,k=P-M.x,D=i/(O.x+P+k),R=a/(C.depth||1);_.eachBefore(function(B){B.x=(B.x+k)*D,B.y=B.depth*R})}return _}function h(_){var w=_.children,M=_.parent.children,O=_.i?M[_.i-1]:null;if(w){yJ(_);var C=(w[0].z+w[w.length-1].z)/2;O?(_.z=O.z+t(_._,O._),_.m=_.z-C):_.z=C}else O&&(_.z=O.z+t(_._,O._));_.parent.A=g(_,O,_.parent.A||M[0])}function v(_){_._.x=_.z+_.parent.m,_.m+=_.parent.m}function g(_,w,M){if(w){for(var O=_,C=_,P=w,k=O.parent.children[0],D=O.m,R=C.m,B=P.m,z=k.m,j;P=DD(P),O=LD(O),P&&O;)k=LD(k),C=DD(C),C.a=_,j=P.z+B-O.z-D+t(P._,O._),j>0&&(gJ(bG(P,_,M),_,j),D+=j,R+=j),B+=P.m,D+=O.m,z+=k.m,R+=C.m;P&&!DD(C)&&(C.t=P,C.m+=B-R),O&&!LD(k)&&(k.t=O,k.m+=D-z,M=_)}return M}function m(_){_.x*=i,_.y=_.depth*a}return u.separation=function(_){return arguments.length?(t=_,u):t},u.size=function(_){return arguments.length?(s=!1,i=+_[0],a=+_[1],u):s?null:[i,a]},u.nodeSize=function(_){return arguments.length?(s=!0,i=+_[0],a=+_[1],u):s?[i,a]:null},u}function mJ(t,i){return t.parent===i.parent?1:2}function bJ(t){return t.reduce(_J,0)/t.length}function _J(t,i){return t+i.x}function xG(t){return 1+t.reduce(wG,0)}function wG(t,i){return Math.max(t,i.y)}function Fb(t){for(var i;i=t.children;)t=i[0];return t}function Dnt(t){for(var i;i=t.children;)t=i[i.length-1];return t}function SG(){var t=mJ,i=1,a=1,s=!1;function u(h){var v,g=0;h.eachAfter(function(O){var C=O.children;C?(O.x=bJ(C),O.y=xG(C)):(O.x=v?g+=t(O,v):0,O.y=0,v=O)});var m=Fb(h),_=Dnt(h),w=m.x-t(m,_)/2,M=_.x+t(_,m)/2;return h.eachAfter(s?function(O){O.x=(O.x-h.x)*i,O.y=(h.y-O.y)*a}:function(O){O.x=(O.x-w)/(M-w)*i,O.y=(1-(h.y?O.y/h.y:1))*a})}return u.separation=function(h){return arguments.length?(t=h,u):t},u.size=function(h){return arguments.length?(s=!1,i=+h[0],a=+h[1],u):s?null:[i,a]},u.nodeSize=function(h){return arguments.length?(s=!0,i=+h[0],a=+h[1],u):s?[i,a]:null},u}const QM=t=>i=>a=>{const{field:s="value",nodeSize:u,separation:h,sortBy:v,as:g=["x","y"]}=i,[m,_]=g,w=ob(a,P=>P.children).sum(P=>P[s]).sort(v),M=t();M.size([1,1]),u&&M.nodeSize(u),h&&M.separation(h),M(w);const O=[];w.each(P=>{P[m]=P.x,P[_]=P.y,P.name=P.data.name,O.push(P)});const C=w.links();return C.forEach(P=>{P[m]=[P.source[m],P.target[m]],P[_]=[P.source[_],P.target[_]]}),{nodes:O,edges:C}},JM=t=>QM(SG)(t);JM.props={};const RD=t=>QM(_G)(t);RD.props={};const xJ={sortBy:(t,i)=>i.value-t.value},wJ={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},SJ={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},MG={text:"",fontSize:10},TG=t=>{const{data:i,encode:a={},scale:s={},style:u={},layout:h={},nodeLabels:v=[],linkLabels:g=[],animate:m={},tooltip:_={}}=t,w=a==null?void 0:a.value,{nodes:M,edges:O}=RD(Object.assign(Object.assign(Object.assign({},xJ),h),{field:w}))(i),C=lu(_,"node",{title:"name",items:["value"]},!0),P=lu(_,"link",{title:"",items:[k=>({name:"source",value:k.source.name}),k=>({name:"target",value:k.target.name})]});return[Ft({},SJ,{data:O,encode:Te(a,"link"),scale:Te(s,"link"),labels:g,style:Object.assign({stroke:"#999"},Te(u,"link")),tooltip:P,animate:ic(m,"link")}),Ft({},wJ,{data:M,scale:Te(s,"node"),encode:Te(a,"node"),labels:[Object.assign(Object.assign({},MG),Te(u,"label")),...v],style:Object.assign({},Te(u,"node")),tooltip:C,animate:ic(m,"node")})]};TG.props={};var MJ=1664525,OG=1013904223,AG=4294967296;function TJ(){var t=1;return function(){return(t=(MJ*t+OG)%AG)/AG}}var OJ=Kt(52677);function CG(t){return OJ(t)==="object"&&"length"in t?t:Array.from(t)}function AJ(t,i){for(var a=t.length,s,u;a;)u=i()*a--|0,s=t[a],t[a]=t[u],t[u]=s;return t}function Int(t){return PG(t,lcg())}function PG(t,i){for(var a=0,s=(t=AJ(Array.from(t),i)).length,u=[],h,v;a<s;)h=t[a],v&&EG(v,h)?++a:(v=PJ(u=CJ(u,h)),a=0);return v}function CJ(t,i){var a,s;if(ND(i,t))return[i];for(a=0;a<t.length;++a)if(tT(i,t[a])&&ND(ky(t[a],i),t))return[t[a],i];for(a=0;a<t.length-1;++a)for(s=a+1;s<t.length;++s)if(tT(ky(t[a],t[s]),i)&&tT(ky(t[a],i),t[s])&&tT(ky(t[s],i),t[a])&&ND(BD(t[a],t[s],i),t))return[t[a],t[s],i];throw new Error}function tT(t,i){var a=t.r-i.r,s=i.x-t.x,u=i.y-t.y;return a<0||a*a<s*s+u*u}function EG(t,i){var a=t.r-i.r+Math.max(t.r,i.r,1)*1e-9,s=i.x-t.x,u=i.y-t.y;return a>0&&a*a>s*s+u*u}function ND(t,i){for(var a=0;a<i.length;++a)if(!EG(t,i[a]))return!1;return!0}function PJ(t){switch(t.length){case 1:return EJ(t[0]);case 2:return ky(t[0],t[1]);case 3:return BD(t[0],t[1],t[2])}}function EJ(t){return{x:t.x,y:t.y,r:t.r}}function ky(t,i){var a=t.x,s=t.y,u=t.r,h=i.x,v=i.y,g=i.r,m=h-a,_=v-s,w=g-u,M=Math.sqrt(m*m+_*_);return{x:(a+h+m/M*w)/2,y:(s+v+_/M*w)/2,r:(M+u+g)/2}}function BD(t,i,a){var s=t.x,u=t.y,h=t.r,v=i.x,g=i.y,m=i.r,_=a.x,w=a.y,M=a.r,O=s-v,C=s-_,P=u-g,k=u-w,D=m-h,R=M-h,B=s*s+u*u-h*h,z=B-v*v-g*g+m*m,j=B-_*_-w*w+M*M,V=C*P-O*k,G=(P*j-k*z)/(V*2)-s,Y=(k*D-P*R)/V,Z=(C*z-O*j)/(V*2)-u,Q=(O*R-C*D)/V,tt=Y*Y+Q*Q-1,rt=2*(h+G*Y+Z*Q),ct=G*G+Z*Z-h*h,nt=-(Math.abs(tt)>1e-6?(rt+Math.sqrt(rt*rt-4*tt*ct))/(2*tt):ct/rt);return{x:s+G+Y*nt,y:u+Z+Q*nt,r:nt}}function kG(t,i,a){var s=t.x-i.x,u,h,v=t.y-i.y,g,m,_=s*s+v*v;_?(h=i.r+a.r,h*=h,m=t.r+a.r,m*=m,h>m?(u=(_+m-h)/(2*_),g=Math.sqrt(Math.max(0,m/_-u*u)),a.x=t.x-u*s-g*v,a.y=t.y-u*v+g*s):(u=(_+h-m)/(2*_),g=Math.sqrt(Math.max(0,h/_-u*u)),a.x=i.x+u*s-g*v,a.y=i.y+u*v+g*s)):(a.x=i.x+a.r,a.y=i.y)}function LG(t,i){var a=t.r+i.r-1e-6,s=i.x-t.x,u=i.y-t.y;return a>0&&a*a>s*s+u*u}function DG(t){var i=t._,a=t.next._,s=i.r+a.r,u=(i.x*a.r+a.x*i.r)/s,h=(i.y*a.r+a.y*i.r)/s;return u*u+h*h}function eT(t){this._=t,this.next=null,this.previous=null}function IG(t,i){if(!(h=(t=CG(t)).length))return 0;var a,s,u,h,v,g,m,_,w,M,O;if(a=t[0],a.x=0,a.y=0,!(h>1))return a.r;if(s=t[1],a.x=-s.r,s.x=a.r,s.y=0,!(h>2))return a.r+s.r;kG(s,a,u=t[2]),a=new eT(a),s=new eT(s),u=new eT(u),a.next=u.previous=s,s.next=a.previous=u,u.next=s.previous=a;t:for(m=3;m<h;++m){kG(a._,s._,u=t[m]),u=new eT(u),_=s.next,w=a.previous,M=s._.r,O=a._.r;do if(M<=O){if(LG(_._,u._)){s=_,a.next=s,s.previous=a,--m;continue t}M+=_._.r,_=_.next}else{if(LG(w._,u._)){a=w,a.next=s,s.previous=a,--m;continue t}O+=w._.r,w=w.previous}while(_!==w.next);for(u.previous=a,u.next=s,a.next=s.previous=s=u,v=DG(a);(u=u.next)!==s;)(g=DG(u))<v&&(a=u,v=g);s=a.next}for(a=[s._],u=s;(u=u.next)!==s;)a.push(u._);for(u=PG(a,i),m=0;m<h;++m)a=t[m],a.x-=u.x,a.y-=u.y;return u.r}function RG(t){return IG(t,lcg()),t}function NG(t){return Math.sqrt(t.value)}function kJ(){var t=null,i=1,a=1,s=Xh;function u(h){var v=TJ();return h.x=i/2,h.y=a/2,t?h.eachBefore(BG(t)).eachAfter(zD(s,.5,v)).eachBefore(zG(1)):h.eachBefore(BG(NG)).eachAfter(zD(Xh,1,v)).eachAfter(zD(s,h.r/Math.min(i,a),v)).eachBefore(zG(Math.min(i,a)/(2*h.r))),h}return u.radius=function(h){return arguments.length?(t=fu(h),u):t},u.size=function(h){return arguments.length?(i=+h[0],a=+h[1],u):[i,a]},u.padding=function(h){return arguments.length?(s=typeof h=="function"?h:cy(+h),u):s},u}function BG(t){return function(i){i.children||(i.r=Math.max(0,+t(i)||0))}}function zD(t,i,a){return function(s){if(u=s.children){var u,h,v=u.length,g=t(s)*i||0,m;if(g)for(h=0;h<v;++h)u[h].r+=g;if(m=IG(u,a),g)for(h=0;h<v;++h)u[h].r-=g;s.r=m+g}}}function zG(t){return function(i){var a=i.parent;i.r*=t,a&&(i.x=a.x+t*i.x,i.y=a.y+t*i.y)}}var FG=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const jG=(t,i)=>({size:[t,i],padding:0,sort:(a,s)=>s.value-a.value}),LJ=(t,i,a)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,i]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:a.color?void 0:s=>s.height===0?"#ddd":"#fff",stroke:a.color?void 0:s=>s.height===0?"":"#000"}}),DJ={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.r*2},IJ={title:t=>t.data.name,items:[{field:"value"}]},RJ=(t,i,a)=>{const{value:s}=a,u=rn(t)?Vk().path(i.path)(t):ob(t);return s?u.sum(h=>Uu(s)(h)).sort(i.sort):u.count(),kJ().size(i.size).padding(i.padding)(u),u.descendants()},FD=(t,i)=>{const{width:a,height:s}=i,{data:u,encode:h={},scale:v={},style:g={},layout:m={},labels:_=[],tooltip:w={}}=t,M=FG(t,["data","encode","scale","style","layout","labels","tooltip"]),O=LJ(a,s,h),C=RJ(u,Ft({},jG(a,s),m),Ft({},O.encode,h)),P=Te(g,"label");return Ft({},O,Object.assign(Object.assign({data:C,encode:h,scale:v,style:g,labels:[Object.assign(Object.assign({},DJ),P),..._]},M),{tooltip:x2(w,IJ),axis:!1}))};FD.props={};function Jv(t){return t.target.depth}function NJ(t){return t.depth}function jD(t,i){return i-1-t.height}function tp(t,i){return t.sourceLinks.length?t.depth:i-1}function rT(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?rs(t.sourceLinks,Jv)-1:0}function jb(t){return function(){return t}}function vc(t,i){return nT(t.source,i.source)||t.index-i.index}function VG(t,i){return nT(t.target,i.target)||t.index-i.index}function nT(t,i){return t.y0-i.y0}function Vb(t){return t.value}function BJ(t){return t.index}function iT(t){return t.nodes}function aT(t){return t.links}function Ly(t,i){const a=t.get(i);if(!a)throw new Error("missing: "+i);return a}function VD({nodes:t}){for(const i of t){let a=i.y0,s=a;for(const u of i.sourceLinks)u.y0=a+u.width/2,a+=u.width;for(const u of i.targetLinks)u.y1=s+u.width/2,s+=u.width}}function zJ(){let t=0,i=0,a=1,s=1,u=24,h=8,v,g=BJ,m=tp,_,w,M,O=iT,C=aT,P=6;function k(q){const H={nodes:O(q),links:C(q)};return D(H),R(H),B(H),z(H),G(H),VD(H),H}k.update=function(q){return VD(q),q},k.nodeId=function(q){return arguments.length?(g=typeof q=="function"?q:jb(q),k):g},k.nodeAlign=function(q){return arguments.length?(m=typeof q=="function"?q:jb(q),k):m},k.nodeDepth=function(q){return arguments.length?(_=q,k):_},k.nodeSort=function(q){return arguments.length?(w=q,k):w},k.nodeWidth=function(q){return arguments.length?(u=+q,k):u},k.nodePadding=function(q){return arguments.length?(h=v=+q,k):h},k.nodes=function(q){return arguments.length?(O=typeof q=="function"?q:jb(q),k):O},k.links=function(q){return arguments.length?(C=typeof q=="function"?q:jb(q),k):C},k.linkSort=function(q){return arguments.length?(M=q,k):M},k.size=function(q){return arguments.length?(t=i=0,a=+q[0],s=+q[1],k):[a-t,s-i]},k.extent=function(q){return arguments.length?(t=+q[0][0],a=+q[1][0],i=+q[0][1],s=+q[1][1],k):[[t,i],[a,s]]},k.iterations=function(q){return arguments.length?(P=+q,k):P};function D({nodes:q,links:H}){q.forEach((J,st)=>{J.index=st,J.sourceLinks=[],J.targetLinks=[]});const U=new Map(q.map(J=>[g(J),J]));if(H.forEach((J,st)=>{J.index=st;let{source:ut,target:mt}=J;typeof ut!="object"&&(ut=J.source=Ly(U,ut)),typeof mt!="object"&&(mt=J.target=Ly(U,mt)),ut.sourceLinks.push(J),mt.targetLinks.push(J)}),M!=null)for(const{sourceLinks:J,targetLinks:st}of q)J.sort(M),st.sort(M)}function R({nodes:q}){for(const H of q)H.value=H.fixedValue===void 0?Math.max(yl(H.sourceLinks,Vb),yl(H.targetLinks,Vb)):H.fixedValue}function B({nodes:q}){const H=q.length;let U=new Set(q),J=new Set,st=0;for(;U.size;){if(U.forEach(ut=>{ut.depth=st;for(const{target:mt}of ut.sourceLinks)J.add(mt)}),++st>H)throw new Error("circular link");U=J,J=new Set}if(_){const ut=Math.max(pn(q,xt=>xt.depth)+1,0);let mt;for(let xt=0;xt<q.length;xt++)mt=q[xt],mt.depth=_.call(null,mt,ut)}}function z({nodes:q}){const H=q.length;let U=new Set(q),J=new Set,st=0;for(;U.size;){if(U.forEach(ut=>{ut.height=st;for(const{source:mt}of ut.targetLinks)J.add(mt)}),++st>H)throw new Error("circular link");U=J,J=new Set}}function j({nodes:q}){const H=Math.max(pn(q,st=>st.depth)+1,0),U=(a-t-u)/(H-1),J=new Array(H).fill(0).map(()=>[]);for(const st of q){const ut=Math.max(0,Math.min(H-1,Math.floor(m.call(null,st,H))));st.layer=ut,st.x0=t+ut*U,st.x1=st.x0+u,J[ut]?J[ut].push(st):J[ut]=[st]}if(w)for(const st of J)st.sort(w);return J}function V(q){const H=rs(q,U=>(s-i-(U.length-1)*v)/yl(U,Vb));for(const U of q){let J=i;for(const st of U){st.y0=J,st.y1=J+st.value*H,J=st.y1+v;for(const ut of st.sourceLinks)ut.width=ut.value*H}J=(s-J+v)/(U.length+1);for(let st=0;st<U.length;++st){const ut=U[st];ut.y0+=J*(st+1),ut.y1+=J*(st+1)}nt(U)}}function G(q){const H=j(q);v=Math.min(h,(s-i)/(pn(H,U=>U.length)-1)),V(H);for(let U=0;U<P;++U){const J=Math.pow(.99,U),st=Math.max(1-J,(U+1)/P);Z(H,J,st),Y(H,J,st)}}function Y(q,H,U){for(let J=1,st=q.length;J<st;++J){const ut=q[J];for(const mt of ut){let xt=0,Ct=0;for(const{source:jt,value:Bt}of mt.targetLinks){const Zt=Bt*(mt.layer-jt.layer);xt+=lt(jt,mt)*Zt,Ct+=Zt}if(!(Ct>0))continue;const kt=(xt/Ct-mt.y0)*H;mt.y0+=kt,mt.y1+=kt,ct(mt)}w===void 0&&ut.sort(nT),ut.length&&Q(ut,U)}}function Z(q,H,U){for(let J=q.length,st=J-2;st>=0;--st){const ut=q[st];for(const mt of ut){let xt=0,Ct=0;for(const{target:jt,value:Bt}of mt.sourceLinks){const Zt=Bt*(jt.layer-mt.layer);xt+=ft(mt,jt)*Zt,Ct+=Zt}if(!(Ct>0))continue;const kt=(xt/Ct-mt.y0)*H;mt.y0+=kt,mt.y1+=kt,ct(mt)}w===void 0&&ut.sort(nT),ut.length&&Q(ut,U)}}function Q(q,H){const U=q.length>>1,J=q[U];rt(q,J.y0-v,U-1,H),tt(q,J.y1+v,U+1,H),rt(q,s,q.length-1,H),tt(q,i,0,H)}function tt(q,H,U,J){for(;U<q.length;++U){const st=q[U],ut=(H-st.y0)*J;ut>1e-6&&(st.y0+=ut,st.y1+=ut),H=st.y1+v}}function rt(q,H,U,J){for(;U>=0;--U){const st=q[U],ut=(st.y1-H)*J;ut>1e-6&&(st.y0-=ut,st.y1-=ut),H=st.y0-v}}function ct({sourceLinks:q,targetLinks:H}){if(M===void 0){for(const{source:{sourceLinks:U}}of H)U.sort(VG);for(const{target:{targetLinks:U}}of q)U.sort(vc)}}function nt(q){if(M===void 0)for(const{sourceLinks:H,targetLinks:U}of q)H.sort(VG),U.sort(vc)}function lt(q,H){let U=q.y0-(q.sourceLinks.length-1)*v/2;for(const{target:J,width:st}of q.sourceLinks){if(J===H)break;U+=st+v}for(const{source:J,width:st}of H.targetLinks){if(J===q)break;U-=st}return U}function ft(q,H){let U=H.y0-(H.targetLinks.length-1)*v/2;for(const{source:J,width:st}of H.targetLinks){if(J===q)break;U+=st+v}for(const{target:J,width:st}of q.sourceLinks){if(J===H)break;U-=st}return U}return k}const Gb={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},FJ={left:NJ,right:jD,center:rT,justify:tp};function GG(t){const i=typeof t;return i==="string"?FJ[t]||tp:i==="function"?t:tp}const Wb=t=>i=>{const{nodeId:a,nodeSort:s,nodeAlign:u,nodeWidth:h,nodePadding:v,nodeDepth:g,nodes:m,links:_,linkSort:w,iterations:M}=Object.assign({},Gb,t),O=zJ().nodeSort(s).linkSort(w).links(_).nodes(m).nodeWidth(h).nodePadding(v).nodeDepth(g).nodeAlign(GG(u)).iterations(M).extent([[0,0],[1,1]]);typeof a=="function"&&O.nodeId(a);const C=O(i),{nodes:P,links:k}=C,D=P.map(B=>{const{x0:z,x1:j,y0:V,y1:G}=B;return Object.assign(Object.assign({},B),{x:[z,j,j,z],y:[V,V,G,G]})}),R=k.map(B=>{const{source:z,target:j}=B,V=z.x1,G=j.x0,Y=B.width/2;return Object.assign(Object.assign({},B),{x:[V,V,G,G],y:[B.y0+Y,B.y0-Y,B.y1+Y,B.y1-Y]})});return{nodes:D,links:R}};Wb.props={};var GD=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const jJ={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},VJ={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},WD={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},WG={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},HG=t=>{const{data:i,encode:a={},scale:s,style:u={},layout:h={},nodeLabels:v=[],linkLabels:g=[],animate:m={},tooltip:_={},interaction:w}=t,{links:M,nodes:O}=aC(i,a),C=Te(a,"node"),P=Te(a,"link"),{key:k=tt=>tt.key,color:D=k}=C,{links:R,nodes:B}=Wb(Object.assign(Object.assign(Object.assign({},jJ),{nodeId:Uu(k)}),h))({links:M,nodes:O}),z=Te(u,"label"),{text:j=k,spacing:V=5}=z,G=GD(z,["text","spacing"]),Y=Uu(k),Z=lu(_,"node",{title:Y,items:[{field:"value"}]},!0),Q=lu(_,"link",{title:"",items:[tt=>({name:"source",value:Y(tt.source)}),tt=>({name:"target",value:Y(tt.target)})]});return[Ft({},VJ,{data:B,encode:Object.assign(Object.assign({},C),{color:D}),scale:s,style:Te(u,"node"),labels:[Object.assign(Object.assign(Object.assign({},WG),{text:j,dx:tt=>tt.x[0]<.5?V:-V}),G),...v],tooltip:Z,animate:ic(m,"node"),axis:!1,interaction:w}),Ft({},WD,{data:R,encode:P,labels:g,style:Object.assign({fill:P.color?void 0:"#aaa",lineWidth:0},Te(u,"link")),tooltip:Q,animate:ic(m,"link"),interaction:w})]};HG.props={};function GJ(t,i){return i.value-t.value}function WJ(t,i){return i.frequency-t.frequency}function HJ(t,i){return`${t.id}`.localeCompare(`${i.id}`)}function YJ(t,i){return`${t.name}`.localeCompare(`${i.name}`)}const UJ={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function oT(t){const{y:i,thickness:a,weight:s,marginRatio:u,id:h,source:v,target:g,sourceWeight:m,targetWeight:_,sortBy:w}=Object.assign(Object.assign({},UJ),t);function M(D){const R=D.nodes.map(z=>Object.assign({},z)),B=D.edges.map(z=>Object.assign({},z));return O(R,B),C(R,B),P(R,B),k(R,B),{nodes:R,edges:B}}function O(D,R){R.forEach(j=>{j.source=v(j),j.target=g(j),j.sourceWeight=m(j),j.targetWeight=_(j)});const B=Bn(R,j=>j.source),z=Bn(R,j=>j.target);return D.forEach(j=>{j.id=h(j);const V=B.has(j.id)?B.get(j.id):[],G=z.has(j.id)?z.get(j.id):[];j.frequency=V.length+G.length,j.value=yl(V,Y=>Y.sourceWeight)+yl(G,Y=>Y.targetWeight)}),{nodes:D,edges:R}}function C(D,R){const B=typeof w=="function"?w:sr[w];B&&D.sort(B)}function P(D,R){const B=D.length;if(!B)throw Jp("Invalid nodes: it's empty!");if(!s){const V=1/B;return D.forEach((G,Y)=>{G.x=(Y+.5)*V,G.y=i}),{nodes:D,edges:R}}const z=u/(2*B),j=D.reduce((V,G)=>V+=G.value,0);return D.reduce((V,G)=>{G.weight=G.value/j,G.width=G.weight*(1-u),G.height=a;const Y=z+V,Z=Y+G.width,Q=i-a/2,tt=Q+a;return G.x=[Y,Z,Z,Y],G.y=[Q,Q,tt,tt],V+G.width+2*z},0),{nodes:D,edges:R}}function k(D,R){const B=new Map(D.map(V=>[V.id,V]));if(!s)return R.forEach(V=>{const G=v(V),Y=g(V),Z=B.get(G),Q=B.get(Y);Z&&Q&&(V.x=[Z.x,Q.x],V.y=[Z.y,Q.y])}),{nodes:D,edges:R};R.forEach(V=>{V.x=[0,0,0,0],V.y=[i,i,i,i]});const z=Bn(R,V=>V.source),j=Bn(R,V=>V.target);D.forEach(V=>{const{edges:G,width:Y,x:Z,y:Q,value:tt,id:rt}=V,ct=z.get(rt)||[],nt=j.get(rt)||[];let lt=0;ct.map(ft=>{const q=ft.sourceWeight/tt*Y;ft.x[0]=Z[0]+lt,ft.x[1]=Z[0]+lt+q,lt+=q}),nt.forEach(ft=>{const q=ft.targetWeight/tt*Y;ft.x[3]=Z[0]+lt,ft.x[2]=Z[0]+lt+q,lt+=q})})}return M}const HD=t=>i=>oT(t)(i);HD.props={};var Hb=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const sT={y:0,thickness:.05,marginRatio:.1,id:t=>t.key,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null},XJ={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},YD={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},$J={position:"outside",fontSize:10},YG=(t,i)=>{const{data:a,encode:s={},scale:u,style:h={},layout:v={},nodeLabels:g=[],linkLabels:m=[],animate:_={},tooltip:w={}}=t,{nodes:M,links:O}=aC(a,s),C=Te(s,"node"),P=Te(s,"link"),{key:k=ft=>ft.key,color:D=k}=C,{linkEncodeColor:R=ft=>ft.source}=P,{nodeWidthRatio:B=sT.thickness,nodePaddingRatio:z=sT.marginRatio}=v,j=Hb(v,["nodeWidthRatio","nodePaddingRatio"]),{nodes:V,edges:G}=HD(Object.assign(Object.assign(Object.assign(Object.assign({},sT),{id:Uu(k),thickness:B,marginRatio:z}),j),{weight:!0}))({nodes:M,edges:O}),Y=Te(h,"label"),{text:Z=k}=Y,Q=Hb(Y,["text"]),tt=lu(w,"node",{title:"",items:[ft=>({name:ft.key,value:ft.value})]},!0),rt=lu(w,"link",{title:"",items:[ft=>({name:`${ft.source} -> ${ft.target}`,value:ft.value})]}),{height:ct,width:nt}=i,lt=Math.min(ct,nt);return[Ft({},YD,{data:G,encode:Object.assign(Object.assign({},P),{color:R}),labels:m,style:Object.assign({fill:R?void 0:"#aaa"},Te(h,"link")),tooltip:rt,animate:ic(_,"link")}),Ft({},XJ,{data:V,encode:Object.assign(Object.assign({},C),{color:D}),scale:u,style:Te(h,"node"),coordinate:{type:"polar",outerRadius:(lt-20)/lt,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},$J),{text:Z}),Q),...g],tooltip:tt,animate:ic(_,"node"),axis:!1})]};YG.props={};var qJ=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const ZJ=(t,i)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,i],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(a,s)=>s.value-a.value,layer:0}),KJ=(t,i)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:a=>a.path[1]},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,i],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),QJ={fontSize:10,text:t=>_1(t.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0},lT={title:t=>{var i,a;return(a=(i=t.path)===null||i===void 0?void 0:i.join)===null||a===void 0?void 0:a.call(i,".")},items:[{field:"value"}]},JJ={title:t=>_1(t.path),items:[{field:"value"}]},Yb=(t,i)=>{const{width:a,height:s,options:u}=i,{data:h,encode:v={},scale:g,style:m={},layout:_={},labels:w=[],tooltip:M={}}=t,O=qJ(t,["data","encode","scale","style","layout","labels","tooltip"]),C=fi(u,["interaction","treemapDrillDown"]),P=Ft({},ZJ(a,s),_,{layer:C?B=>B.depth===1:_.layer}),[k,D]=Q8(h,P,v),R=Te(m,"label");return Ft({},KJ(a,s),Object.assign(Object.assign({data:k,scale:g,style:m,labels:[Object.assign(Object.assign({},QJ),R),...w]},O),{encode:v,tooltip:x2(M,lT),axis:!1}),C?{interaction:Object.assign(Object.assign({},O.interaction),{treemapDrillDown:C?Object.assign(Object.assign({},C),{originData:D,layout:P}):void 0}),encode:Object.assign({color:B=>_1(B.path)},v),tooltip:x2(M,JJ)}:{})};Yb.props={};function UG(){return{"data.arc":HD,"data.cluster":JM,"mark.forceGraph":mG,"mark.tree":TG,"mark.pack":FD,"mark.sankey":HG,"mark.chord":YG,"mark.treemap":Yb}}var XG=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function $G(t,i){return rs(t,a=>i[a])}function qG(t,i){return pn(t,a=>i[a])}function ZG(t,i){const a=UD(t,i)*2.5-XD(t,i)*1.5;return rs(t,s=>i[s]>=a?i[s]:NaN)}function UD(t,i){return J2(t,.25,a=>i[a])}function ttt(t,i){return J2(t,.5,a=>i[a])}function XD(t,i){return J2(t,.75,a=>i[a])}function KG(t,i){const a=XD(t,i)*2.5-UD(t,i)*1.5;return pn(t,s=>i[s]<=a?i[s]:NaN)}function ett(){return(t,i)=>{const{encode:a}=i,{y:s,x:u}=a,{value:h}=s,{value:v}=u;return[Array.from(Bn(t,_=>v[+_]).values()).flatMap(_=>{const w=ZG(_,h),M=KG(_,h);return _.filter(O=>h[O]<w||h[O]>M)}),i]}}const uT=t=>{const{data:i,encode:a,style:s={},tooltip:u={},transform:h,animate:v}=t,g=XG(t,["data","encode","style","tooltip","transform","animate"]),{point:m=!0}=s,_=XG(s,["point"]),{y:w}=a,M={y:w,y1:w,y2:w,y3:w,y4:w},O={y1:UD,y2:ttt,y3:XD},C=lu(u,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),P=lu(u,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!m)return Object.assign({type:"box",data:i,transform:[Object.assign(Object.assign({type:"groupX",y:$G},O),{y4:qG})],encode:Object.assign(Object.assign({},a),M),style:_,tooltip:C},g);const k=Te(_,"box"),D=Te(_,"point");return[Object.assign({type:"box",data:i,transform:[Object.assign(Object.assign({type:"groupX",y:ZG},O),{y4:KG})],encode:Object.assign(Object.assign({},a),M),style:k,tooltip:C,animate:ic(v,"box")},g),{type:"point",data:i,transform:[{type:ett}],encode:a,style:Object.assign({},D),tooltip:P,animate:ic(v,"point")}]};uT.props={};const ep=(t,i)=>Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))/2,$D=(t,i)=>{if(!i)return;const{coordinate:a}=i;if(!(a!=null&&a.getCenter))return;const s=a.getCenter();return(u,h,v)=>{const{document:g}=i.canvas,{color:m,index:_}=h,w=g.createElement("g",{}),M=ep(u[0],u[1]),O=ep(u[0],s)*2,C=g.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...u[0]],["A",M,M,0,1,0,...u[1]],["A",O+M*2,O+M*2,0,0,0,...u[2]],["A",M,M,0,1,_===0?0:1,...u[3]],["A",O,O,0,0,1,...u[0]],["Z"]]},v),FS(t,["shape","last","first"])),{fill:m||v.color})});return w.appendChild(C),w}};var od=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const rtt=(t,i)=>{const{shape:a,radius:s}=t,u=od(t,["shape","radius"]),h=Te(u,"pointer"),v=Te(u,"pin"),{shape:g}=h,m=od(h,["shape"]),{shape:_}=v,w=od(v,["shape"]),{coordinate:M,theme:O}=i;return(C,P)=>{const k=C.map(lt=>M.invert(lt)),[D,R,B]=_u(M,"polar"),z=M.clone(),{color:j}=P,V=gr({startAngle:D,endAngle:R,innerRadius:B,outerRadius:s});V.push(["cartesian"]),z.update({transformations:V});const G=k.map(lt=>z.map(lt)),[Y,Z]=yw(G),[Q,tt]=M.getCenter(),rt=Object.assign(Object.assign({x1:Y,y1:Z,x2:Q,y2:tt,stroke:j},m),u),ct=Object.assign(Object.assign({cx:Q,cy:tt,stroke:j},w),u),nt=ir(new ta);return Wu(g)||(typeof g=="function"?nt.append(()=>g(G,P,z,O)):nt.append("line").call($e,rt).node()),Wu(_)||(typeof _=="function"?nt.append(()=>_(G,P,z,O)):nt.append("circle").call($e,ct).node()),nt.node()}},QG={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},ntt={style:{shape:rtt,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},JG={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function t7(t){if(yn(t)){const i=Math.max(0,Math.min(t,1));return{percent:i,target:i,total:1}}return t}function qD(t,i){const{name:a="score",target:s,total:u,percent:h,thresholds:v=[]}=t7(t),g=h||s,m=h?1:u,_=Object.assign({y:{domain:[0,m]}},i);return v.length?{targetData:[{x:a,y:g,color:"target"}],totalData:v.map((w,M)=>({x:a,y:M>=1?w-v[M-1]:w,color:M})),target:g,total:m,scale:_}:{targetData:[{x:a,y:g,color:"target"}],totalData:[{x:a,y:g,color:"target"},{x:a,y:m-g,color:"total"}],target:g,total:m,scale:_}}function ZD(t,{target:i,total:a}){const{content:s}=t;return s?s(i,a):i.toString()}const KD=t=>{const{data:i={},scale:a={},style:s={},animate:u={},transform:h=[]}=t,v=od(t,["data","scale","style","animate","transform"]),{targetData:g,totalData:m,target:_,total:w,scale:M}=qD(i,a),O=Te(s,"text"),{tooltip:C}=O,P=od(O,["tooltip"]),k=J5(s,["pointer","pin"]),D=Te(s,"arc"),R=D.shape;return[Ft({},QG,Object.assign({type:"interval",transform:[{type:"stackY"}],data:m,scale:M,style:R==="round"?Object.assign(Object.assign({},D),{shape:$D}):D,animate:typeof u=="object"?Te(u,"arc"):u},v)),Ft({},QG,ntt,Object.assign({type:"point",data:g,scale:M,style:k,animate:typeof u=="object"?Te(u,"indicator"):u},v)),Ft({},JG,{style:Object.assign({text:ZD(P,{target:_,total:w})},P),tooltip:C,animate:typeof u=="object"?Te(u,"text"):u})]};KD.props={};const e7=5e3;function Dy(t,i,a){return t+(i-t)*a}function r7(t,i,a,s){return i===0?[[t+1/2*a/Math.PI/2,s/2],[t+1/2*a/Math.PI,s],[t+a/4,s]]:i===1?[[t+1/2*a/Math.PI/2*(Math.PI-2),s],[t+1/2*a/Math.PI/2*(Math.PI-1),s/2],[t+a/4,0]]:i===2?[[t+1/2*a/Math.PI/2,-s/2],[t+1/2*a/Math.PI,-s],[t+a/4,-s]]:[[t+1/2*a/Math.PI/2*(Math.PI-2),-s],[t+1/2*a/Math.PI/2*(Math.PI-1),-s/2],[t+a/4,0]]}function itt(t,i,a,s,u,h,v){const g=Math.ceil(2*t/a*4)*4,m=[];let _=s;for(;_<-Math.PI*2;)_+=Math.PI*2;for(;_>0;)_-=Math.PI*2;_=_/Math.PI/2*a;const w=h-t+_-t*2;m.push(["M",w,i]);let M=0;for(let O=0;O<g;++O){const C=O%4,P=r7(O*a/4,C,a,u);m.push(["C",P[0][0]+w,-P[0][1]+i,P[1][0]+w,-P[1][1]+i,P[2][0]+w,-P[2][1]+i]),O===g-1&&(M=P[2][0])}return m.push(["L",M+w,v+t]),m.push(["L",w,v+t]),m.push(["Z"]),m}function n7(t,i,a,s,u,h,v,g,m,_,w){const{fill:M,fillOpacity:O,opacity:C}=u;for(let P=0;P<s;P++){const k=s<=1?1:P/(s-1),D=itt(g,v+g*a,m,0,g/40,t,i),R=w.createElement("path",{style:{d:D,fill:M,opacity:Dy(.2,.9,k)*Number(C||O)}});h.appendChild(R);try{if(_===!1)return;const B=[{transform:"translate(0, 0)"},{transform:`translate(${m*2}, 0)`}];R.animate(B,{duration:Dy(.5*e7,e7,k)*2,iterations:1/0})}catch(B){console.warn("off-screen group animate error!")}}}function att(t,i,a){return`
      M ${t} ${i-a} 
      a ${a} ${a} 0 1 0 0 ${a*2}
      a ${a} ${a} 0 1 0 0 ${-a*2}
      Z
    `}function i7(t,i,a){const u=a*.618;return`
      M ${t-u} ${i-a}
      L ${t+u} ${i-a}
      L ${t+u} ${i+a}
      L ${t-u} ${i+a}
      Z
    `}function ott(t,i,a){return`
      M ${t} ${i-a}
      L ${t+a} ${i}
      L ${t} ${i+a}
      L ${t-a} ${i}
      Z
    `}function a7(t,i,a){return`
      M ${t} ${i-a}
      L ${t+a} ${i+a}
      L ${t-a} ${i+a}
      Z
    `}function QD(t,i,a){const s=a*4/3,u=Math.max(s,a*2),h=s/2,v=t,g=h+i-u/2,m=Math.asin(h/((u-h)*.85)),_=Math.sin(m)*h,w=Math.cos(m)*h,M=v-w,O=g+_,C=t,P=g+h/Math.sin(m);return`
      M ${M} ${O}
      A ${h} ${h} 0 1 1 ${M+w*2} ${O}
      Q ${C} ${P} ${t} ${i+u/2}
      Q ${C} ${P} ${M} ${O}
      Z 
    `}const cT={pin:QD,rect:i7,circle:att,diamond:ott,triangle:a7};var o7=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const stt=(t="circle")=>cT[t]||cT.circle,s7=(t,i)=>{if(!i)return;const{coordinate:a}=i,{liquidOptions:s,styleOptions:u}=t,{liquidShape:h,percent:v}=s,{background:g,outline:m={},wave:_={}}=u,w=o7(u,["background","outline","wave"]),{border:M=2,distance:O=0}=m,C=o7(m,["border","distance"]),{length:P=192,count:k=3}=_;return(D,R,B)=>{const{document:z}=i.canvas,{color:j,fillOpacity:V}=B,G=Object.assign(Object.assign({fill:j},B),w),Y=z.createElement("g",{}),[Z,Q]=a.getCenter(),tt=a.getSize(),rt=Math.min(...tt)/2,nt=(si(h)?h:stt(h))(Z,Q,rt,...tt);if(Object.keys(g).length){const q=z.createElement("path",{style:Object.assign({d:nt,fill:"#fff"},g)});Y.appendChild(q)}if(v>0){const q=z.createElement("path",{style:{d:nt}});Y.appendChild(q),Y.style.clipPath=q,n7(Z,Q,1-v,k,G,Y,q.getBBox().y,rt*2,P,!0,z)}const lt=z.createElement("path",{style:{d:nt,fill:"transparent",lineWidth:M+2*O,stroke:"#fff"}}),ft=z.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:nt,stroke:j,strokeOpacity:V,lineWidth:M},G),C),{fill:"transparent"})});return Y.appendChild(lt),Y.appendChild(ft),Y}};s7.props={};var ltt=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const utt={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:s7},animate:{enter:{type:"fadeIn"}}},ctt={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},l7=t=>{const{data:i={},style:a={},animate:s}=t,u=ltt(t,["data","style","animate"]),h=Math.max(0,yn(i)?i:i==null?void 0:i.percent),v=[{percent:h,type:"liquid"}],g=Object.assign(Object.assign({},Te(a,"text")),Te(a,"content")),m=Te(a,"outline"),_=Te(a,"wave"),w=Te(a,"background");return[Ft({},utt,Object.assign({type:"interval",data:v,style:{liquidOptions:{percent:h,liquidShape:a==null?void 0:a.shape},styleOptions:Object.assign(Object.assign({},a),{outline:m,wave:_,background:w})},animate:s},u)),Ft({},ctt,{style:Object.assign({text:`${bm(h*100)} %`},g),animate:s})]};l7.props={};var vu=Kt(69916);const u7=1e-10;function c7(t,i){const a=ftt(t),s=a.filter(function(m){return f7(m,t)});let u=0,h=0,v;const g=[];if(s.length>1){const m=htt(s);for(v=0;v<s.length;++v){const w=s[v];w.angle=Math.atan2(w.x-m.x,w.y-m.y)}s.sort(function(w,M){return M.angle-w.angle});let _=s[s.length-1];for(v=0;v<s.length;++v){const w=s[v];h+=(_.x+w.x)*(w.y-_.y);const M={x:(w.x+_.x)/2,y:(w.y+_.y)/2};let O=null;for(let C=0;C<w.parentIndex.length;++C)if(_.parentIndex.indexOf(w.parentIndex[C])>-1){const P=t[w.parentIndex[C]],k=Math.atan2(w.x-P.x,w.y-P.y),D=Math.atan2(_.x-P.x,_.y-P.y);let R=D-k;R<0&&(R+=2*Math.PI);const B=D-R/2;let z=Ub(M,{x:P.x+P.radius*Math.sin(B),y:P.y+P.radius*Math.cos(B)});z>P.radius*2&&(z=P.radius*2),(O===null||O.width>z)&&(O={circle:P,width:z,p1:w,p2:_})}O!==null&&(g.push(O),u+=JD(O.circle.radius,O.width),_=w)}}else{let m=t[0];for(v=1;v<t.length;++v)t[v].radius<m.radius&&(m=t[v]);let _=!1;for(v=0;v<t.length;++v)if(Ub(t[v],m)>Math.abs(m.radius-t[v].radius)){_=!0;break}_?u=h=0:(u=m.radius*m.radius*Math.PI,g.push({circle:m,p1:{x:m.x,y:m.y+m.radius},p2:{x:m.x-u7,y:m.y+m.radius},width:m.radius*2}))}return h/=2,i&&(i.area=u+h,i.arcArea=u,i.polygonArea=h,i.arcs=g,i.innerPoints=s,i.intersectionPoints=a),u+h}function f7(t,i){for(let a=0;a<i.length;++a)if(Ub(t,i[a])>i[a].radius+u7)return!1;return!0}function ftt(t){const i=[];for(let a=0;a<t.length;++a)for(let s=a+1;s<t.length;++s){const u=d7(t[a],t[s]);for(let h=0;h<u.length;++h){const v=u[h];v.parentIndex=[a,s],i.push(v)}}return i}function JD(t,i){return t*t*Math.acos(1-i/t)-(t-i)*Math.sqrt(i*(2*t-i))}function Ub(t,i){return Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y))}function h7(t,i,a){if(a>=t+i)return 0;if(a<=Math.abs(t-i))return Math.PI*Math.min(t,i)*Math.min(t,i);const s=t-(a*a-i*i+t*t)/(2*a),u=i-(a*a-t*t+i*i)/(2*a);return JD(t,s)+JD(i,u)}function d7(t,i){const a=Ub(t,i),s=t.radius,u=i.radius;if(a>=s+u||a<=Math.abs(s-u))return[];const h=(s*s-u*u+a*a)/(2*a),v=Math.sqrt(s*s-h*h),g=t.x+h*(i.x-t.x)/a,m=t.y+h*(i.y-t.y)/a,_=-(i.y-t.y)*(v/a),w=-(i.x-t.x)*(v/a);return[{x:g+_,y:m-w},{x:g-_,y:m+w}]}function htt(t){const i={x:0,y:0};for(let a=0;a<t.length;++a)i.x+=t[a].x,i.y+=t[a].y;return i.x/=t.length,i.y/=t.length,i}function tI(t,i){i=i||{},i.maxIterations=i.maxIterations||500;const a=i.initialLayout||ptt,s=i.lossFunction||qb;t=dtt(t);const u=a(t,i),h=[],v=[];let g;for(g in u)u.hasOwnProperty(g)&&(h.push(u[g].x),h.push(u[g].y),v.push(g));const _=(0,vu.nelderMead)(function(w){const M={};for(let O=0;O<v.length;++O){const C=v[O];M[C]={x:w[2*O],y:w[2*O+1],radius:u[C].radius}}return s(M,t)},h,i).x;for(let w=0;w<v.length;++w)g=v[w],u[g].x=_[2*w],u[g].y=_[2*w+1];return u}const eI=1e-10;function Xb(t,i,a){return Math.min(t,i)*Math.min(t,i)*Math.PI<=a+eI?Math.abs(t-i):(0,vu.bisect)(function(s){return h7(t,i,s)-a},0,t+i)}function dtt(t){t=t.slice();const i=[],a={};let s,u,h,v;for(s=0;s<t.length;++s){const g=t[s];g.sets.length==1?i.push(g.sets[0]):g.sets.length==2&&(h=g.sets[0],v=g.sets[1],a[[h,v]]=!0,a[[v,h]]=!0)}for(i.sort((g,m)=>g>m?1:-1),s=0;s<i.length;++s)for(h=i[s],u=s+1;u<i.length;++u)v=i[u],[h,v]in a||t.push({sets:[h,v],size:0});return t}function v7(t,i,a){const s=(0,vu.zerosM)(i.length,i.length),u=(0,vu.zerosM)(i.length,i.length);return t.filter(function(h){return h.sets.length==2}).map(function(h){const v=a[h.sets[0]],g=a[h.sets[1]],m=Math.sqrt(i[v].size/Math.PI),_=Math.sqrt(i[g].size/Math.PI),w=Xb(m,_,h.size);s[v][g]=s[g][v]=w;let M=0;h.size+1e-10>=Math.min(i[v].size,i[g].size)?M=1:h.size<=1e-10&&(M=-1),u[v][g]=u[g][v]=M}),{distances:s,constraints:u}}function vtt(t,i,a,s){let u=0,h;for(h=0;h<i.length;++h)i[h]=0;for(h=0;h<a.length;++h){const v=t[2*h],g=t[2*h+1];for(let m=h+1;m<a.length;++m){const _=t[2*m],w=t[2*m+1],M=a[h][m],O=s[h][m],C=(_-v)*(_-v)+(w-g)*(w-g),P=Math.sqrt(C),k=C-M*M;O>0&&P<=M||O<0&&P>=M||(u+=2*k*k,i[2*h]+=4*k*(v-_),i[2*h+1]+=4*k*(g-w),i[2*m]+=4*k*(_-v),i[2*m+1]+=4*k*(w-g))}}return u}function ptt(t,i){let a=gtt(t,i);const s=i.lossFunction||qb;if(t.length>=8){const u=$b(t,i),h=s(u,t),v=s(a,t);h+1e-8<v&&(a=u)}return a}function $b(t,i){i=i||{};const a=i.restarts||10,s=[],u={};let h;for(h=0;h<t.length;++h){const k=t[h];k.sets.length==1&&(u[k.sets[0]]=s.length,s.push(k))}const v=v7(t,s,u);let g=v.distances;const m=v.constraints,_=(0,vu.norm2)(g.map(vu.norm2))/g.length;g=g.map(function(k){return k.map(function(D){return D/_})});const w=function(k,D){return vtt(k,D,g,m)};let M,O;for(h=0;h<a;++h){const k=(0,vu.zeros)(g.length*2).map(Math.random);O=(0,vu.conjugateGradient)(w,k,i),(!M||O.fx<M.fx)&&(M=O)}const C=M.x,P={};for(h=0;h<s.length;++h){const k=s[h];P[k.sets[0]]={x:C[2*h]*_,y:C[2*h+1]*_,radius:Math.sqrt(k.size/Math.PI)}}if(i.history)for(h=0;h<i.history.length;++h)(0,vu.scale)(i.history[h].x,_);return P}function gtt(t,i){const a=i&&i.lossFunction?i.lossFunction:qb,s={},u={};let h;for(let M=0;M<t.length;++M){const O=t[M];O.sets.length==1&&(h=O.sets[0],s[h]={x:1e10,y:1e10,rowid:Object.keys(s).length,size:O.size,radius:Math.sqrt(O.size/Math.PI)},u[h]=[])}t=t.filter(function(M){return M.sets.length==2});for(let M=0;M<t.length;++M){const O=t[M];let C=O.hasOwnProperty("weight")?O.weight:1;const P=O.sets[0],k=O.sets[1];O.size+eI>=Math.min(s[P].size,s[k].size)&&(C=0),u[P].push({set:k,size:O.size,weight:C}),u[k].push({set:P,size:O.size,weight:C})}const v=[];for(h in u)if(u.hasOwnProperty(h)){let M=0;for(let O=0;O<u[h].length;++O)M+=u[h][O].size*u[h][O].weight;v.push({set:h,size:M})}function g(M,O){return O.size-M.size}v.sort(g);const m={};function _(M){return M.set in m}function w(M,O){s[O].x=M.x,s[O].y=M.y,m[O]=!0}w({x:0,y:0},v[0].set);for(let M=1;M<v.length;++M){const O=v[M].set,C=u[O].filter(_);if(h=s[O],C.sort(g),C.length===0)throw"ERROR: missing pairwise overlap information";const P=[];for(let R=0;R<C.length;++R){const B=s[C[R].set],z=Xb(h.radius,B.radius,C[R].size);P.push({x:B.x+z,y:B.y}),P.push({x:B.x-z,y:B.y}),P.push({y:B.y+z,x:B.x}),P.push({y:B.y-z,x:B.x});for(let j=R+1;j<C.length;++j){const V=s[C[j].set],G=Xb(h.radius,V.radius,C[j].size),Y=d7({x:B.x,y:B.y,radius:z},{x:V.x,y:V.y,radius:G});for(let Z=0;Z<Y.length;++Z)P.push(Y[Z])}}let k=1e50,D=P[0];for(let R=0;R<P.length;++R){s[O].x=P[R].x,s[O].y=P[R].y;const B=a(s,t);B<k&&(k=B,D=P[R])}w(D,O)}return s}function qb(t,i){let a=0;function s(u){return u.map(function(h){return t[h]})}for(let u=0;u<i.length;++u){const h=i[u];let v;if(h.sets.length==1)continue;if(h.sets.length==2){const m=t[h.sets[0]],_=t[h.sets[1]];v=h7(m.radius,_.radius,Ub(m,_))}else v=c7(s(h.sets));const g=h.hasOwnProperty("weight")?h.weight:1;a+=g*(v-h.size)*(v-h.size)}return a}function ytt(t,i,a){a===null?t.sort(function(u,h){return h.radius-u.radius}):t.sort(a);let s;if(t.length>0){const u=t[0].x,h=t[0].y;for(s=0;s<t.length;++s)t[s].x-=u,t[s].y-=h}if(t.length==2&&distance(t[0],t[1])<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y),t.length>1){const u=Math.atan2(t[1].x,t[1].y)-i;let h,v;const g=Math.cos(u),m=Math.sin(u);for(s=0;s<t.length;++s)h=t[s].x,v=t[s].y,t[s].x=g*h-m*v,t[s].y=m*h+g*v}if(t.length>2){let u=Math.atan2(t[2].x,t[2].y)-i;for(;u<0;)u+=2*Math.PI;for(;u>2*Math.PI;)u-=2*Math.PI;if(u>Math.PI){const h=t[1].y/(1e-10+t[1].x);for(s=0;s<t.length;++s){const v=(t[s].x+h*t[s].y)/(1+h*h);t[s].x=2*v-t[s].x,t[s].y=2*v*h-t[s].y}}}}function Zb(t){t.map(function(v){v.parent=v});function i(v){return v.parent!==v&&(v.parent=i(v.parent)),v.parent}function a(v,g){const m=i(v),_=i(g);m.parent=_}for(let v=0;v<t.length;++v)for(let g=v+1;g<t.length;++g){const m=t[v].radius+t[g].radius;distance(t[v],t[g])+1e-10<m&&a(t[g],t[v])}const s={};let u;for(let v=0;v<t.length;++v)u=i(t[v]).parent.setid,u in s||(s[u]=[]),s[u].push(t[v]);t.map(function(v){delete v.parent});const h=[];for(u in s)s.hasOwnProperty(u)&&h.push(s[u]);return h}function fT(t){const i=function(a){const s=Math.max.apply(null,t.map(function(h){return h[a]+h.radius})),u=Math.min.apply(null,t.map(function(h){return h[a]-h.radius}));return{max:s,min:u}};return{xRange:i("x"),yRange:i("y")}}function Rnt(t,i,a){i===null&&(i=Math.PI/2);let s=[],u,h;for(h in t)if(t.hasOwnProperty(h)){const O=t[h];s.push({x:O.x,y:O.y,radius:O.radius,setid:h})}const v=Zb(s);for(u=0;u<v.length;++u){ytt(v[u],i,a);const O=fT(v[u]);v[u].size=(O.xRange.max-O.xRange.min)*(O.yRange.max-O.yRange.min),v[u].bounds=O}v.sort(function(O,C){return C.size-O.size}),s=v[0];let g=s.bounds;const m=(g.xRange.max-g.xRange.min)/50;function _(O,C,P){if(!O)return;const k=O.bounds;let D,R,B;C?D=g.xRange.max-k.xRange.min+m:(D=g.xRange.max-k.xRange.max,B=(k.xRange.max-k.xRange.min)/2-(g.xRange.max-g.xRange.min)/2,B<0&&(D+=B)),P?R=g.yRange.max-k.yRange.min+m:(R=g.yRange.max-k.yRange.max,B=(k.yRange.max-k.yRange.min)/2-(g.yRange.max-g.yRange.min)/2,B<0&&(R+=B));for(let z=0;z<O.length;++z)O[z].x+=D,O[z].y+=R,s.push(O[z])}let w=1;for(;w<v.length;)_(v[w],!0,!1),_(v[w+1],!1,!0),_(v[w+2],!0,!0),w+=3,g=fT(s);const M={};for(u=0;u<s.length;++u)M[s[u].setid]=s[u];return M}function mtt(t,i,a,s){const u=[],h=[];for(const k in t)t.hasOwnProperty(k)&&(h.push(k),u.push(t[k]));i-=2*s,a-=2*s;const v=fT(u),g=v.xRange,m=v.yRange;if(g.max==g.min||m.max==m.min)return console.log("not scaling solution: zero size detected"),t;const _=i/(g.max-g.min),w=a/(m.max-m.min),M=Math.min(w,_),O=(i-(g.max-g.min)*M)/2,C=(a-(m.max-m.min)*M)/2,P={};for(let k=0;k<u.length;++k){const D=u[k];P[h[k]]={radius:M*D.radius,x:s+O+(D.x-g.min)*M,y:s+C+(D.y-m.min)*M}}return P}function btt(t,i,a){const s=[],u=t-a,h=i;return s.push("M",u,h),s.push("A",a,a,0,1,0,u+2*a,h),s.push("A",a,a,0,1,0,u,h),s.join(" ")}function _tt(t){const i={};c7(t,i);const a=i.arcs;if(a.length===0)return"M 0 0";if(a.length==1){const s=a[0].circle;return btt(s.x,s.y,s.radius)}else{const s=[`
M`,a[0].p2.x,a[0].p2.y];for(let u=0;u<a.length;++u){const h=a[u],v=h.circle.radius,g=h.width>v;s.push(`
A`,v,v,0,g?1:0,1,h.p1.x,h.p1.y)}return s.join(" ")}}const p7=t=>{const{sets:i="sets",size:a="size",as:s=["key","path"],padding:u=0}=t,[h,v]=s;return g=>{const m=g.map(M=>Object.assign(Object.assign({},M),{sets:M[i],size:M[a],[h]:M.sets.join("&")}));m.sort((M,O)=>M.sets.length-O.sets.length);const _=tI(m);let w;return m.map(M=>{const O=M[i],C=({width:P,height:k})=>{w=w||mtt(_,P,k,u);const D=O.map(B=>w[B]);let R=_tt(D);return/[zZ]$/.test(R)||(R+=" Z"),R};return Object.assign(Object.assign({},M),{[v]:C})})}};p7.props={};function xtt(){return{"data.venn":p7,"mark.boxplot":uT,"mark.gauge":KD,"mark.wordCloud":zm,"mark.liquid":l7}}function wtt(){return Object.assign(Object.assign(Object.assign(Object.assign({},VQ()),UG()),xtt()),cQ())}function g7(t,i){class a extends t{constructor(u){super(Object.assign(Object.assign({},u),{lib:i}))}}return a}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},sd(t)}function Stt(t,i){if(sd(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(sd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function Mtt(t){var i=Stt(t,"string");return sd(i)=="symbol"?i:i+""}function rI(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Mtt(s.key),s)}}function hT(t,i,a){return i&&rI(t.prototype,i),a&&rI(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function nI(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function dT(t){return dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},dT(t)}function iI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(iI=function(){return!!t})()}function Ttt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ott(t,i){if(i&&(sd(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ttt(t)}function y7(t,i,a){return i=dT(i),Ott(t,iI()?Reflect.construct(i,a||[],dT(t).constructor):i.apply(t,a))}function Iy(t,i){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Iy(t,i)}function aI(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Iy(t,i)}function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ry(t)}function m7(t,i){if(Ry(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(Ry(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function b7(t){var i=m7(t,"string");return Ry(i)=="symbol"?i:i+""}function Ws(t,i,a){return(i=b7(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function _7(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function oI(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,b7(s.key),s)}}function x7(t,i,a){return i&&oI(t.prototype,i),a&&oI(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},rp(t)}function pu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(pu=function(){return!!t})()}function Att(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(t,i){if(i&&(Ry(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Att(t)}function sI(t,i,a){return i=rp(i),w7(t,pu()?Reflect.construct(i,a||[],rp(t).constructor):i.apply(t,a))}function lI(t,i){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lI(t,i)}function Ctt(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&lI(t,i)}function Ptt(t){if(Array.isArray(t))return t}function S7(t,i){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,u,h,v,g=[],m=!0,_=!1;try{if(h=(a=a.call(t)).next,i===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(s=h.call(a)).done)&&(g.push(s.value),g.length!==i);m=!0);}catch(w){_=!0,u=w}finally{try{if(!m&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(_)throw u}}return g}}function M7(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,s=Array(i);a<i;a++)s[a]=t[a];return s}function T7(t,i){if(t){if(typeof t=="string")return M7(t,i);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M7(t,i):void 0}}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kb(t,i){return Ptt(t)||S7(t,i)||T7(t,i)||O7()}function Ett(t,i){var a=i.cx,s=a===void 0?0:a,u=i.cy,h=u===void 0?0:u,v=i.r;t.arc(s,h,v,0,Math.PI*2,!1)}function ktt(t,i){var a=i.cx,s=a===void 0?0:a,u=i.cy,h=u===void 0?0:u,v=i.rx,g=i.ry;if(t.ellipse)t.ellipse(s,h,v,g,0,0,Math.PI*2,!1);else{var m=v>g?v:g,_=v>g?1:v/g,w=v>g?g/v:1;t.save(),t.scale(_,w),t.arc(s,h,m,0,Math.PI*2)}}function Ltt(t,i){var a=i.x1,s=i.y1,u=i.x2,h=i.y2,v=i.markerStart,g=i.markerEnd,m=i.markerStartOffset,_=i.markerEndOffset,w=0,M=0,O=0,C=0,P=0,k,D;v&&bn(v)&&m&&(k=u-a,D=h-s,P=Math.atan2(D,k),w=Math.cos(P)*(m||0),M=Math.sin(P)*(m||0)),g&&bn(g)&&_&&(k=a-u,D=s-h,P=Math.atan2(D,k),O=Math.cos(P)*(_||0),C=Math.sin(P)*(_||0)),t.moveTo(a+w,s+M),t.lineTo(u+O,h+C)}function Dtt(t,i){var a=i.markerStart,s=i.markerEnd,u=i.markerStartOffset,h=i.markerEndOffset,v=i.d,g=v.absolutePath,m=v.segments,_=0,w=0,M=0,O=0,C=0,P,k;if(a&&bn(a)&&u){var D=a.parentNode.getStartTangent(),R=Kb(D,2),B=R[0],z=R[1];P=B[0]-z[0],k=B[1]-z[1],C=Math.atan2(k,P),_=Math.cos(C)*(u||0),w=Math.sin(C)*(u||0)}if(s&&bn(s)&&h){var j=s.parentNode.getEndTangent(),V=Kb(j,2),G=V[0],Y=V[1];P=G[0]-Y[0],k=G[1]-Y[1],C=Math.atan2(k,P),M=Math.cos(C)*(h||0),O=Math.sin(C)*(h||0)}for(var Z=0;Z<g.length;Z++){var Q=g[Z],tt=Q[0],rt=g[Z+1],ct=Z===0&&(_!==0||w!==0),nt=(Z===g.length-1||rt&&(rt[0]==="M"||rt[0]==="Z"))&&M!==0&&O!==0,lt=ct?[_,w]:[0,0],ft=Kb(lt,2),q=ft[0],H=ft[1],U=nt?[M,O]:[0,0],J=Kb(U,2),st=J[0],ut=J[1];switch(tt){case"M":t.moveTo(Q[1]+q,Q[2]+H);break;case"L":t.lineTo(Q[1]+st,Q[2]+ut);break;case"Q":t.quadraticCurveTo(Q[1],Q[2],Q[3]+st,Q[4]+ut);break;case"C":t.bezierCurveTo(Q[1],Q[2],Q[3],Q[4],Q[5]+st,Q[6]+ut);break;case"A":{var mt=m[Z].arcParams,xt=mt.cx,Ct=mt.cy,kt=mt.rx,jt=mt.ry,Bt=mt.startAngle,Zt=mt.endAngle,Oe=mt.xRotation,se=mt.sweepFlag;if(t.ellipse)t.ellipse(xt,Ct,kt,jt,Oe,Bt,Zt,!!(1-se));else{var he=kt>jt?kt:jt,_e=kt>jt?1:kt/jt,We=kt>jt?jt/kt:1;t.translate(xt,Ct),t.rotate(Oe),t.scale(_e,We),t.arc(0,0,he,Bt,Zt,!!(1-se)),t.scale(1/_e,1/We),t.rotate(-Oe),t.translate(-xt,-Ct)}nt&&t.lineTo(Q[6]+M,Q[7]+O);break}case"Z":t.closePath();break}}}function A7(t,i){var a=i.markerStart,s=i.markerEnd,u=i.markerStartOffset,h=i.markerEndOffset,v=i.points.points,g=v.length,m=v[0][0],_=v[0][1],w=v[g-1][0],M=v[g-1][1],O=0,C=0,P=0,k=0,D=0,R,B;a&&bn(a)&&u&&(R=v[1][0]-v[0][0],B=v[1][1]-v[0][1],D=Math.atan2(B,R),O=Math.cos(D)*(u||0),C=Math.sin(D)*(u||0)),s&&bn(s)&&h&&(R=v[g-1][0]-v[0][0],B=v[g-1][1]-v[0][1],D=Math.atan2(B,R),P=Math.cos(D)*(h||0),k=Math.sin(D)*(h||0)),t.moveTo(m+(O||P),_+(C||k));for(var z=1;z<g-1;z++){var j=v[z];t.lineTo(j[0],j[1])}t.lineTo(w,M)}function Itt(t,i){var a=i.markerStart,s=i.markerEnd,u=i.markerStartOffset,h=i.markerEndOffset,v=i.points.points,g=v.length,m=v[0][0],_=v[0][1],w=v[g-1][0],M=v[g-1][1],O=0,C=0,P=0,k=0,D=0,R,B;a&&bn(a)&&u&&(R=v[1][0]-v[0][0],B=v[1][1]-v[0][1],D=Math.atan2(B,R),O=Math.cos(D)*(u||0),C=Math.sin(D)*(u||0)),s&&bn(s)&&h&&(R=v[g-2][0]-v[g-1][0],B=v[g-2][1]-v[g-1][1],D=Math.atan2(B,R),P=Math.cos(D)*(h||0),k=Math.sin(D)*(h||0)),t.moveTo(m+O,_+C);for(var z=1;z<g-1;z++){var j=v[z];t.lineTo(j[0],j[1])}t.lineTo(w+P,M+k)}function Ny(t,i){var a=i.x,s=a===void 0?0:a,u=i.y,h=u===void 0?0:u,v=i.radius,g=i.width,m=i.height,_=g,w=m,M=v&&v.some(function(V){return V!==0});if(!M)t.rect(s,h,_,w);else{var O=g>0?1:-1,C=m>0?1:-1,P=O+C===0,k=v.map(function(V){return Oi(V,0,Math.min(Math.abs(_)/2,Math.abs(w)/2))}),D=Kb(k,4),R=D[0],B=D[1],z=D[2],j=D[3];t.moveTo(O*R+s,h),t.lineTo(_-O*B+s,h),B!==0&&t.arc(_-O*B+s,C*B+h,B,-C*Math.PI/2,O>0?0:Math.PI,P),t.lineTo(_+s,w-C*z+h),z!==0&&t.arc(_-O*z+s,w-C*z+h,z,O>0?0:Math.PI,C>0?Math.PI/2:1.5*Math.PI,P),t.lineTo(O*j+s,w+h),j!==0&&t.arc(O*j+s,w-C*j+h,j,C>0?Math.PI/2:-Math.PI/2,O>0?Math.PI:0,P),t.lineTo(s,C*R+h),R!==0&&t.arc(O*R+s,C*R+h,R,O>0?Math.PI:0,C>0?Math.PI*1.5:Math.PI/2,P)}}var C7=function(t){function i(){var a;_7(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=sI(this,i,[].concat(u)),a.name="canvas-path-generator",a}return Ctt(i,t),x7(i,[{key:"init",value:function(){var s,u=(s={},Ws(Ws(Ws(Ws(Ws(Ws(Ws(Ws(Ws(Ws(s,Xt.CIRCLE,Ett),Xt.ELLIPSE,ktt),Xt.RECT,Ny),Xt.LINE,Ltt),Xt.POLYLINE,Itt),Xt.POLYGON,A7),Xt.PATH,Dtt),Xt.TEXT,void 0),Xt.GROUP,void 0),Xt.IMAGE,void 0),Ws(Ws(Ws(s,Xt.HTML,void 0),Xt.MESH,void 0),Xt.FRAGMENT,void 0));this.context.pathGeneratorFactory=u}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(Wf);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},bf(t)}function P7(t,i){if(bf(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function E7(t){var i=P7(t,"string");return bf(i)=="symbol"?i:i+""}function Hs(t,i,a){return(i=E7(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function uI(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function k7(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,E7(s.key),s)}}function L7(t,i,a){return i&&k7(t.prototype,i),a&&k7(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function vT(t){return vT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},vT(t)}function cI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(cI=function(){return!!t})()}function Rtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ntt(t,i){if(i&&(bf(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rtt(t)}function Btt(t,i,a){return i=vT(i),Ntt(t,cI()?Reflect.construct(i,a||[],vT(t).constructor):i.apply(t,a))}function fI(t,i){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fI(t,i)}function D7(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&fI(t,i)}function hI(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,s=Array(i);a<i;a++)s[a]=t[a];return s}function I7(t,i){if(t){if(typeof t=="string")return hI(t,i);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?hI(t,i):void 0}}function ztt(t,i){var a=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=I7(t))||i&&t&&typeof t.length=="number"){a&&(t=a);var s=0,u=function(){};return{s:u,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(_){throw _},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,v=!0,g=!1;return{s:function(){a=a.call(t)},n:function(){var _=a.next();return v=_.done,_},e:function(_){g=!0,h=_},f:function(){try{v||a.return==null||a.return()}finally{if(g)throw h}}}}function pT(){"use strict";pT=function(){return i};var t,i={},a=Object.prototype,s=a.hasOwnProperty,u=Object.defineProperty||function(q,H,U){q[H]=U.value},h=typeof Symbol=="function"?Symbol:{},v=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",m=h.toStringTag||"@@toStringTag";function _(q,H,U){return Object.defineProperty(q,H,{value:U,enumerable:!0,configurable:!0,writable:!0}),q[H]}try{_({},"")}catch(q){_=function(U,J,st){return U[J]=st}}function w(q,H,U,J){var st=H&&H.prototype instanceof R?H:R,ut=Object.create(st.prototype),mt=new lt(J||[]);return u(ut,"_invoke",{value:tt(q,U,mt)}),ut}function M(q,H,U){try{return{type:"normal",arg:q.call(H,U)}}catch(J){return{type:"throw",arg:J}}}i.wrap=w;var O="suspendedStart",C="suspendedYield",P="executing",k="completed",D={};function R(){}function B(){}function z(){}var j={};_(j,v,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(ft([])));G&&G!==a&&s.call(G,v)&&(j=G);var Y=z.prototype=R.prototype=Object.create(j);function Z(q){["next","throw","return"].forEach(function(H){_(q,H,function(U){return this._invoke(H,U)})})}function Q(q,H){function U(st,ut,mt,xt){var Ct=M(q[st],q,ut);if(Ct.type!=="throw"){var kt=Ct.arg,jt=kt.value;return jt&&bf(jt)=="object"&&s.call(jt,"__await")?H.resolve(jt.__await).then(function(Bt){U("next",Bt,mt,xt)},function(Bt){U("throw",Bt,mt,xt)}):H.resolve(jt).then(function(Bt){kt.value=Bt,mt(kt)},function(Bt){return U("throw",Bt,mt,xt)})}xt(Ct.arg)}var J;u(this,"_invoke",{value:function(ut,mt){function xt(){return new H(function(Ct,kt){U(ut,mt,Ct,kt)})}return J=J?J.then(xt,xt):xt()}})}function tt(q,H,U){var J=O;return function(st,ut){if(J===P)throw Error("Generator is already running");if(J===k){if(st==="throw")throw ut;return{value:t,done:!0}}for(U.method=st,U.arg=ut;;){var mt=U.delegate;if(mt){var xt=rt(mt,U);if(xt){if(xt===D)continue;return xt}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(J===O)throw J=k,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);J=P;var Ct=M(q,H,U);if(Ct.type==="normal"){if(J=U.done?k:C,Ct.arg===D)continue;return{value:Ct.arg,done:U.done}}Ct.type==="throw"&&(J=k,U.method="throw",U.arg=Ct.arg)}}}function rt(q,H){var U=H.method,J=q.iterator[U];if(J===t)return H.delegate=null,U==="throw"&&q.iterator.return&&(H.method="return",H.arg=t,rt(q,H),H.method==="throw")||U!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+U+"' method")),D;var st=M(J,q.iterator,H.arg);if(st.type==="throw")return H.method="throw",H.arg=st.arg,H.delegate=null,D;var ut=st.arg;return ut?ut.done?(H[q.resultName]=ut.value,H.next=q.nextLoc,H.method!=="return"&&(H.method="next",H.arg=t),H.delegate=null,D):ut:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,D)}function ct(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function nt(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function lt(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ct,this),this.reset(!0)}function ft(q){if(q||q===""){var H=q[v];if(H)return H.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var U=-1,J=function st(){for(;++U<q.length;)if(s.call(q,U))return st.value=q[U],st.done=!1,st;return st.value=t,st.done=!0,st};return J.next=J}}throw new TypeError(bf(q)+" is not iterable")}return B.prototype=z,u(Y,"constructor",{value:z,configurable:!0}),u(z,"constructor",{value:B,configurable:!0}),B.displayName=_(z,m,"GeneratorFunction"),i.isGeneratorFunction=function(q){var H=typeof q=="function"&&q.constructor;return!!H&&(H===B||(H.displayName||H.name)==="GeneratorFunction")},i.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,z):(q.__proto__=z,_(q,m,"GeneratorFunction")),q.prototype=Object.create(Y),q},i.awrap=function(q){return{__await:q}},Z(Q.prototype),_(Q.prototype,g,function(){return this}),i.AsyncIterator=Q,i.async=function(q,H,U,J,st){st===void 0&&(st=Promise);var ut=new Q(w(q,H,U,J),st);return i.isGeneratorFunction(H)?ut:ut.next().then(function(mt){return mt.done?mt.value:ut.next()})},Z(Y),_(Y,m,"Generator"),_(Y,v,function(){return this}),_(Y,"toString",function(){return"[object Generator]"}),i.keys=function(q){var H=Object(q),U=[];for(var J in H)U.push(J);return U.reverse(),function st(){for(;U.length;){var ut=U.pop();if(ut in H)return st.value=ut,st.done=!1,st}return st.done=!0,st}},i.values=ft,lt.prototype={constructor:lt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(nt),!H)for(var U in this)U.charAt(0)==="t"&&s.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=t)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function J(kt,jt){return mt.type="throw",mt.arg=H,U.next=kt,jt&&(U.method="next",U.arg=t),!!jt}for(var st=this.tryEntries.length-1;st>=0;--st){var ut=this.tryEntries[st],mt=ut.completion;if(ut.tryLoc==="root")return J("end");if(ut.tryLoc<=this.prev){var xt=s.call(ut,"catchLoc"),Ct=s.call(ut,"finallyLoc");if(xt&&Ct){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}else if(xt){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0)}else{if(!Ct)throw Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}}}},abrupt:function(H,U){for(var J=this.tryEntries.length-1;J>=0;--J){var st=this.tryEntries[J];if(st.tryLoc<=this.prev&&s.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var ut=st;break}}ut&&(H==="break"||H==="continue")&&ut.tryLoc<=U&&U<=ut.finallyLoc&&(ut=null);var mt=ut?ut.completion:{};return mt.type=H,mt.arg=U,ut?(this.method="next",this.next=ut.finallyLoc,D):this.complete(mt)},complete:function(H,U){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&U&&(this.next=U),D},finish:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===H)return this.complete(J.completion,J.afterLoc),nt(J),D}},catch:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===H){var st=J.completion;if(st.type==="throw"){var ut=st.arg;nt(J)}return ut}}throw Error("illegal catch attempt")},delegateYield:function(H,U,J){return this.delegate={iterator:ft(H),resultName:U,nextLoc:J},this.method==="next"&&(this.arg=t),D}},i}function R7(t,i,a,s,u,h,v){try{var g=t[h](v),m=g.value}catch(_){return void a(_)}g.done?i(m):Promise.resolve(m).then(s,u)}function Ftt(t){return function(){var i=this,a=arguments;return new Promise(function(s,u){var h=t.apply(i,a);function v(m){R7(h,s,u,v,g,"next",m)}function g(m){R7(h,s,u,v,g,"throw",m)}v(void 0)})}}function jtt(t){if(Array.isArray(t))return t}function Vtt(t,i){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,u,h,v,g=[],m=!0,_=!1;try{if(h=(a=a.call(t)).next,i===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(s=h.call(a)).done)&&(g.push(s.value),g.length!==i);m=!0);}catch(w){_=!0,u=w}finally{try{if(!m&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(_)throw u}}return g}}function N7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ld(t,i){return jtt(t)||Vtt(t,i)||I7(t,i)||N7()}function B7(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),a.push.apply(a,s)}return a}function z7(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?B7(Object(a),!0).forEach(function(s){Hs(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}var Gtt=Cr(),Wtt=Cr(),Htt=Cr(),dI=Dn(),vI=function(){function t(){var i=this;uI(this,t),this.isHit=function(a,s,u,h){var v=i.context.pointInPathPickerFactory[a.nodeName];if(v){var g=kl(dI,u),m=yi(Wtt,nn(Htt,s[0],s[1],0),g);if(v(a,new Ea(m[0],m[1]),h,i.isPointInPath,i.context,i.runtime))return!0}return!1},this.isPointInPath=function(a,s){var u=i.runtime.offscreenCanvasCreator.getOrCreateContext(i.context.config.offscreenCanvas),h=i.context.pathGeneratorFactory[a.nodeName];return h&&(u.beginPath(),h(u,a.parsedStyle),u.closePath()),u.isPointInPath(s.x,s.y)}}return L7(t,[{key:"apply",value:function(a,s){var u,h=this,v=a.renderingService,g=a.renderingContext;this.context=a,this.runtime=s;var m=(u=g.root)===null||u===void 0?void 0:u.ownerDocument;v.hooks.pick.tapPromise(t.tag,function(){var _=Ftt(pT().mark(function w(M){return pT().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",h.pick(m,M));case 1:case"end":return C.stop()}},w)}));return function(w){return _.apply(this,arguments)}}()),v.hooks.pickSync.tap(t.tag,function(_){return h.pick(m,_)})}},{key:"pick",value:function(a,s){var u=s.topmost,h=s.position,v=h.x,g=h.y,m=nn(Gtt,v,g,0),_=a.elementsFromBBox(m[0],m[1],m[0],m[1]),w=[],M=ztt(_),O;try{for(M.s();!(O=M.n()).done;){var C=O.value,P=C.getWorldTransform(),k=this.isHit(C,m,P,!1);if(k){var D=gx(C);if(D){var R=D.parsedStyle.clipPath,B=this.isHit(R,m,R.getWorldTransform(),!0);if(B){if(u)return s.picked=[C],s;w.push(C)}}else{if(u)return s.picked=[C],s;w.push(C)}}}}catch(z){M.e(z)}finally{M.f()}return s.picked=w,s}}])}();vI.tag="CanvasPicker";function Ytt(t,i,a){var s=t.parsedStyle,u=s.cx,h=u===void 0?0:u,v=s.cy,g=v===void 0?0:v,m=s.r,_=s.fill,w=s.stroke,M=s.lineWidth,O=M===void 0?1:M,C=s.increasedLineWidthForHitTesting,P=C===void 0?0:C,k=s.pointerEvents,D=k===void 0?"auto":k,R=(O+P)/2,B=oo(h,g,i.x,i.y),z=Vd(D,_,w),j=ld(z,2),V=j[0],G=j[1];return V&&G||a?B<=m+R:V?B<=m:G?B>=m-R&&B<=m+R:!1}function gT(t,i,a,s){return t/(a*a)+i/(s*s)}function F7(t,i,a){var s=t.parsedStyle,u=s.cx,h=u===void 0?0:u,v=s.cy,g=v===void 0?0:v,m=s.rx,_=s.ry,w=s.fill,M=s.stroke,O=s.lineWidth,C=O===void 0?1:O,P=s.increasedLineWidthForHitTesting,k=P===void 0?0:P,D=s.pointerEvents,R=D===void 0?"auto":D,B=i.x,z=i.y,j=Vd(R,w,M),V=ld(j,2),G=V[0],Y=V[1],Z=(C+k)/2,Q=(B-h)*(B-h),tt=(z-g)*(z-g);return G&&Y||a?gT(Q,tt,m+Z,_+Z)<=1:G?gT(Q,tt,m,_)<=1:Y?gT(Q,tt,m-Z,_-Z)>=1&&gT(Q,tt,m+Z,_+Z)<=1:!1}function np(t,i,a,s,u,h){return u>=t&&u<=t+a&&h>=i&&h<=i+s}function Utt(t,i,a,s,u,h,v){var g=u/2;return np(t-g,i-g,a,u,h,v)||np(t+a-g,i-g,u,s,h,v)||np(t+g,i+s-g,a,u,h,v)||np(t-g,i+g,u,s,h,v)}function yT(t,i,a,s,u,h,v,g){var m=(Math.atan2(g-i,v-t)+Math.PI*2)%(Math.PI*2),_={x:t+a*Math.cos(m),y:i+a*Math.sin(m)};return oo(_.x,_.y,v,g)<=h/2}function ip(t,i,a,s,u,h,v){var g=Math.min(t,a),m=Math.max(t,a),_=Math.min(i,s),w=Math.max(i,s),M=u/2;return h>=g-M&&h<=m+M&&v>=_-M&&v<=w+M?NR(t,i,a,s,h,v)<=u/2:!1}function j7(t,i,a,s,u){var h=t.length;if(h<2)return!1;for(var v=0;v<h-1;v++){var g=t[v][0],m=t[v][1],_=t[v+1][0],w=t[v+1][1];if(ip(g,m,_,w,i,a,s))return!0}if(u){var M=t[0],O=t[h-1];if(ip(M[0],M[1],O[0],O[1],i,a,s))return!0}return!1}var Xtt=1e-6;function pI(t){return Math.abs(t)<Xtt?0:t<0?-1:1}function $tt(t,i,a){return(a[0]-t[0])*(i[1]-t[1])===(i[0]-t[0])*(a[1]-t[1])&&Math.min(t[0],i[0])<=a[0]&&a[0]<=Math.max(t[0],i[0])&&Math.min(t[1],i[1])<=a[1]&&a[1]<=Math.max(t[1],i[1])}function V7(t,i,a){var s=!1,u=t.length;if(u<=2)return!1;for(var h=0;h<u;h++){var v=t[h],g=t[(h+1)%u];if($tt(v,g,[i,a]))return!0;pI(v[1]-a)>0!=pI(g[1]-a)>0&&pI(i-(a-v[1])*(v[0]-g[0])/(v[1]-g[1])-v[0])<0&&(s=!s)}return s}function gu(t,i,a){for(var s=!1,u=0;u<t.length;u++){var h=t[u];if(s=V7(h,i,a),s)break}return s}function By(t,i,a){var s=t.parsedStyle,u=s.x1,h=s.y1,v=s.x2,g=s.y2,m=s.lineWidth,_=m===void 0?1:m,w=s.increasedLineWidthForHitTesting,M=w===void 0?0:w,O=s.pointerEvents,C=O===void 0?"auto":O,P=s.fill,k=s.stroke,D=Vd(C,P,k),R=ld(D,2),B=R[1];return!B&&!a||!_?!1:ip(u,h,v,g,_+M,i.x,i.y)}function gI(t,i,a,s,u){for(var h=!1,v=i/2,g=0;g<t.length;g++){var m=t[g],_=m.currentPoint,w=m.params,M=m.prePoint,O=m.box;if(!(O&&!np(O.x-v,O.y-v,O.width+i,O.height+i,a,s)))switch(m.command){case"L":case"Z":if(h=ip(M[0],M[1],_[0],_[1],i,a,s),h)return!0;break;case"Q":var C=CO(M[0],M[1],w[1],w[2],w[3],w[4],a,s);if(h=C<=i/2,h)return!0;break;case"C":var P=FR(M[0],M[1],w[1],w[2],w[3],w[4],w[5],w[6],a,s,u);if(h=P<=i/2,h)return!0;break;case"A":m.cubicParams||(m.cubicParams=Mp(M[0],M[1],w[1],w[2],w[3],w[4],w[5],w[6],w[7],void 0));for(var k=m.cubicParams,D=M,R=0;R<k.length;R+=6){var B=FR(D[0],D[1],k[R],k[R+1],k[R+2],k[R+3],k[R+4],k[R+5],a,s,u);if(D=[k[R+4],k[R+5]],h=B<=i/2,h)return!0}break}}return h}function yI(t,i,a,s,u,h){var v=t.parsedStyle,g=v.lineWidth,m=g===void 0?1:g,_=v.increasedLineWidthForHitTesting,w=_===void 0?0:_,M=v.stroke,O=v.fill,C=v.d,P=v.pointerEvents,k=P===void 0?"auto":P,D=C.segments,R=C.hasArc,B=C.polylines,z=C.polygons,j=Vd(k,(z==null?void 0:z.length)&&O,M),V=ld(j,2),G=V[0],Y=V[1],Z=ox(t),Q=!1;return G||a?(R?Q=s(t,i):Q=gu(z,i.x,i.y)||gu(B,i.x,i.y),Q):((Y||a)&&(Q=gI(D,m+w,i.x,i.y,Z)),Q)}function qtt(t,i,a){var s=t.parsedStyle,u=s.stroke,h=s.fill,v=s.lineWidth,g=v===void 0?1:v,m=s.increasedLineWidthForHitTesting,_=m===void 0?0:m,w=s.points,M=s.pointerEvents,O=M===void 0?"auto":M,C=Vd(O,h,u),P=ld(C,2),k=P[0],D=P[1],R=!1;return(D||a)&&(R=j7(w.points,g+_,i.x,i.y,!0)),!R&&(k||a)&&(R=V7(w.points,i.x,i.y)),R}function G7(t,i,a){var s=t.parsedStyle,u=s.lineWidth,h=u===void 0?1:u,v=s.increasedLineWidthForHitTesting,g=v===void 0?0:v,m=s.points,_=s.pointerEvents,w=_===void 0?"auto":_,M=s.fill,O=s.stroke,C=Vd(w,M,O),P=ld(C,2),k=P[1];return!k&&!a||!h?!1:j7(m.points,h+g,i.x,i.y,!1)}function W7(t,i,a,s,u){var h=t.parsedStyle,v=h.radius,g=h.fill,m=h.stroke,_=h.lineWidth,w=_===void 0?1:_,M=h.increasedLineWidthForHitTesting,O=M===void 0?0:M,C=h.x,P=C===void 0?0:C,k=h.y,D=k===void 0?0:k,R=h.width,B=h.height,z=h.pointerEvents,j=z===void 0?"auto":z,V=Vd(j,g,m),G=ld(V,2),Y=G[0],Z=G[1],Q=v&&v.some(function(nt){return nt!==0}),tt=w+O;if(Q){var ct=!1;return(Z||a)&&(ct=Ztt(P,D,R,B,v.map(function(nt){return Oi(nt,0,Math.min(Math.abs(R)/2,Math.abs(B)/2))}),tt,i.x,i.y)),!ct&&(Y||a)&&(ct=s(t,i)),ct}else{var rt=tt/2;if(Y&&Z||a)return np(P-rt,D-rt,R+rt,B+rt,i.x,i.y);if(Y)return np(P,D,R,B,i.x,i.y);if(Z)return Utt(P,D,R,B,tt,i.x,i.y)}return!1}function Ztt(t,i,a,s,u,h,v,g){var m=ld(u,4),_=m[0],w=m[1],M=m[2],O=m[3];return ip(t+_,i,t+a-w,i,h,v,g)||ip(t+a,i+w,t+a,i+s-M,h,v,g)||ip(t+a-M,i+s,t+O,i+s,h,v,g)||ip(t,i+s-O,t,i+_,h,v,g)||yT(t+a-w,i+w,w,1.5*Math.PI,2*Math.PI,h,v,g)||yT(t+a-M,i+s-M,M,0,.5*Math.PI,h,v,g)||yT(t+O,i+s-O,O,.5*Math.PI,Math.PI,h,v,g)||yT(t+_,i+_,_,Math.PI,1.5*Math.PI,h,v,g)}function H7(t,i,a,s,u,h){var v=t.parsedStyle,g=v.pointerEvents,m=g===void 0?"auto":g,_=v.x,w=_===void 0?0:_,M=v.y,O=M===void 0?0:M,C=v.width,P=v.height;if(m==="non-transparent-pixel"){var k=u.config.offscreenCanvas,D=h.offscreenCanvasCreator.getOrCreateCanvas(k),R=h.offscreenCanvasCreator.getOrCreateContext(k,{willReadFrequently:!0});D.width=C,D.height=P,u.defaultStyleRendererFactory[Xt.IMAGE].render(R,z7(z7({},t.parsedStyle),{},{x:0,y:0}),t,void 0,void 0,void 0);var B=R.getImageData(i.x-w,i.y-O,1,1).data;return B.every(function(z){return z!==0})}return!0}function Ktt(t,i,a,s){var u=t.getGeometryBounds();return i.x>=u.min[0]&&i.y>=u.min[1]&&i.x<=u.max[0]&&i.y<=u.max[1]}var Qtt=function(t){function i(){var a;uI(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=Btt(this,i,[].concat(u)),a.name="canvas-picker",a}return D7(i,t),L7(i,[{key:"init",value:function(){var s,u=(s={},Hs(Hs(Hs(Hs(Hs(Hs(Hs(Hs(Hs(Hs(s,Xt.CIRCLE,Ytt),Xt.ELLIPSE,F7),Xt.RECT,W7),Xt.LINE,By),Xt.POLYLINE,G7),Xt.POLYGON,qtt),Xt.PATH,yI),Xt.TEXT,Ktt),Xt.GROUP,null),Xt.IMAGE,H7),Hs(Hs(s,Xt.HTML,null),Xt.MESH,null));this.context.pointInPathPickerFactory=u,this.addRenderingPlugin(new vI)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(Wf);function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},yu(t)}function Jtt(t,i){if(yu(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(yu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function mI(t){var i=Jtt(t,"string");return yu(i)=="symbol"?i:i+""}function vo(t,i,a){return(i=mI(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Y7(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),a.push.apply(a,s)}return a}function bI(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Y7(Object(a),!0).forEach(function(s){vo(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y7(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function zy(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function U7(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,mI(s.key),s)}}function Fy(t,i,a){return i&&U7(t.prototype,i),a&&U7(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Qb(t)}function X7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(X7=function(){return!!t})()}function $7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tet(t,i){if(i&&(yu(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $7(t)}function mT(t,i,a){return i=Qb(i),tet(t,X7()?Reflect.construct(i,a||[],Qb(t).constructor):i.apply(t,a))}function _I(t,i){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_I(t,i)}function ap(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&_I(t,i)}function Nnt(t){if(Array.isArray(t))return t}function q7(t,i){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,u,h,v,g=[],m=!0,_=!1;try{if(h=(a=a.call(t)).next,i===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(s=h.call(a)).done)&&(g.push(s.value),g.length!==i);m=!0);}catch(w){_=!0,u=w}finally{try{if(!m&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(_)throw u}}return g}}function jy(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,s=Array(i);a<i;a++)s[a]=t[a];return s}function Vy(t,i){if(t){if(typeof t=="string")return jy(t,i);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?jy(t,i):void 0}}function Z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jb(t,i){return Nnt(t)||q7(t,i)||Vy(t,i)||Z7()}function xI(t){if(Array.isArray(t))return jy(t)}function eet(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(t){return xI(t)||eet(t)||Vy(t)||bT()}function Sl(t,i){if(!{}.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var ret=0;function net(t){return"__private_"+ret+++"_"+t}function Gy(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_f(t)}function iet(t,i){if(_f(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(_f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function _T(t){var i=iet(t,"string");return _f(i)=="symbol"?i:i+""}function ud(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,_T(s.key),s)}}function Wy(t,i,a){return i&&ud(t.prototype,i),a&&ud(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function xT(t){return xT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},xT(t)}function wI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(wI=function(){return!!t})()}function Q7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aet(t,i){if(i&&(_f(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7(t)}function oet(t,i,a){return i=xT(i),aet(t,wI()?Reflect.construct(i,a||[],xT(t).constructor):i.apply(t,a))}function SI(t,i){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},SI(t,i)}function J7(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&SI(t,i)}function Hy(){"use strict";Hy=function(){return i};var t,i={},a=Object.prototype,s=a.hasOwnProperty,u=Object.defineProperty||function(q,H,U){q[H]=U.value},h=typeof Symbol=="function"?Symbol:{},v=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",m=h.toStringTag||"@@toStringTag";function _(q,H,U){return Object.defineProperty(q,H,{value:U,enumerable:!0,configurable:!0,writable:!0}),q[H]}try{_({},"")}catch(q){_=function(U,J,st){return U[J]=st}}function w(q,H,U,J){var st=H&&H.prototype instanceof R?H:R,ut=Object.create(st.prototype),mt=new lt(J||[]);return u(ut,"_invoke",{value:tt(q,U,mt)}),ut}function M(q,H,U){try{return{type:"normal",arg:q.call(H,U)}}catch(J){return{type:"throw",arg:J}}}i.wrap=w;var O="suspendedStart",C="suspendedYield",P="executing",k="completed",D={};function R(){}function B(){}function z(){}var j={};_(j,v,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(ft([])));G&&G!==a&&s.call(G,v)&&(j=G);var Y=z.prototype=R.prototype=Object.create(j);function Z(q){["next","throw","return"].forEach(function(H){_(q,H,function(U){return this._invoke(H,U)})})}function Q(q,H){function U(st,ut,mt,xt){var Ct=M(q[st],q,ut);if(Ct.type!=="throw"){var kt=Ct.arg,jt=kt.value;return jt&&_f(jt)=="object"&&s.call(jt,"__await")?H.resolve(jt.__await).then(function(Bt){U("next",Bt,mt,xt)},function(Bt){U("throw",Bt,mt,xt)}):H.resolve(jt).then(function(Bt){kt.value=Bt,mt(kt)},function(Bt){return U("throw",Bt,mt,xt)})}xt(Ct.arg)}var J;u(this,"_invoke",{value:function(ut,mt){function xt(){return new H(function(Ct,kt){U(ut,mt,Ct,kt)})}return J=J?J.then(xt,xt):xt()}})}function tt(q,H,U){var J=O;return function(st,ut){if(J===P)throw Error("Generator is already running");if(J===k){if(st==="throw")throw ut;return{value:t,done:!0}}for(U.method=st,U.arg=ut;;){var mt=U.delegate;if(mt){var xt=rt(mt,U);if(xt){if(xt===D)continue;return xt}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(J===O)throw J=k,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);J=P;var Ct=M(q,H,U);if(Ct.type==="normal"){if(J=U.done?k:C,Ct.arg===D)continue;return{value:Ct.arg,done:U.done}}Ct.type==="throw"&&(J=k,U.method="throw",U.arg=Ct.arg)}}}function rt(q,H){var U=H.method,J=q.iterator[U];if(J===t)return H.delegate=null,U==="throw"&&q.iterator.return&&(H.method="return",H.arg=t,rt(q,H),H.method==="throw")||U!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+U+"' method")),D;var st=M(J,q.iterator,H.arg);if(st.type==="throw")return H.method="throw",H.arg=st.arg,H.delegate=null,D;var ut=st.arg;return ut?ut.done?(H[q.resultName]=ut.value,H.next=q.nextLoc,H.method!=="return"&&(H.method="next",H.arg=t),H.delegate=null,D):ut:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,D)}function ct(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function nt(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function lt(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ct,this),this.reset(!0)}function ft(q){if(q||q===""){var H=q[v];if(H)return H.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var U=-1,J=function st(){for(;++U<q.length;)if(s.call(q,U))return st.value=q[U],st.done=!1,st;return st.value=t,st.done=!0,st};return J.next=J}}throw new TypeError(_f(q)+" is not iterable")}return B.prototype=z,u(Y,"constructor",{value:z,configurable:!0}),u(z,"constructor",{value:B,configurable:!0}),B.displayName=_(z,m,"GeneratorFunction"),i.isGeneratorFunction=function(q){var H=typeof q=="function"&&q.constructor;return!!H&&(H===B||(H.displayName||H.name)==="GeneratorFunction")},i.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,z):(q.__proto__=z,_(q,m,"GeneratorFunction")),q.prototype=Object.create(Y),q},i.awrap=function(q){return{__await:q}},Z(Q.prototype),_(Q.prototype,g,function(){return this}),i.AsyncIterator=Q,i.async=function(q,H,U,J,st){st===void 0&&(st=Promise);var ut=new Q(w(q,H,U,J),st);return i.isGeneratorFunction(H)?ut:ut.next().then(function(mt){return mt.done?mt.value:ut.next()})},Z(Y),_(Y,m,"Generator"),_(Y,v,function(){return this}),_(Y,"toString",function(){return"[object Generator]"}),i.keys=function(q){var H=Object(q),U=[];for(var J in H)U.push(J);return U.reverse(),function st(){for(;U.length;){var ut=U.pop();if(ut in H)return st.value=ut,st.done=!1,st}return st.done=!0,st}},i.values=ft,lt.prototype={constructor:lt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(nt),!H)for(var U in this)U.charAt(0)==="t"&&s.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=t)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function J(kt,jt){return mt.type="throw",mt.arg=H,U.next=kt,jt&&(U.method="next",U.arg=t),!!jt}for(var st=this.tryEntries.length-1;st>=0;--st){var ut=this.tryEntries[st],mt=ut.completion;if(ut.tryLoc==="root")return J("end");if(ut.tryLoc<=this.prev){var xt=s.call(ut,"catchLoc"),Ct=s.call(ut,"finallyLoc");if(xt&&Ct){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}else if(xt){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0)}else{if(!Ct)throw Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}}}},abrupt:function(H,U){for(var J=this.tryEntries.length-1;J>=0;--J){var st=this.tryEntries[J];if(st.tryLoc<=this.prev&&s.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var ut=st;break}}ut&&(H==="break"||H==="continue")&&ut.tryLoc<=U&&U<=ut.finallyLoc&&(ut=null);var mt=ut?ut.completion:{};return mt.type=H,mt.arg=U,ut?(this.method="next",this.next=ut.finallyLoc,D):this.complete(mt)},complete:function(H,U){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&U&&(this.next=U),D},finish:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===H)return this.complete(J.completion,J.afterLoc),nt(J),D}},catch:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===H){var st=J.completion;if(st.type==="throw"){var ut=st.arg;nt(J)}return ut}}throw Error("illegal catch attempt")},delegateYield:function(H,U,J){return this.delegate={iterator:ft(H),resultName:U,nextLoc:J},this.method==="next"&&(this.arg=t),D}},i}function MI(t,i,a){return(i=_T(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function wT(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),a.push.apply(a,s)}return a}function Ys(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?wT(Object(a),!0).forEach(function(s){MI(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wT(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function set(t){if(Array.isArray(t))return t}function uet(t,i){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,u,h,v,g=[],m=!0,_=!1;try{if(h=(a=a.call(t)).next,i===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(s=h.call(a)).done)&&(g.push(s.value),g.length!==i);m=!0);}catch(w){_=!0,u=w}finally{try{if(!m&&a.return!=null&&(v=a.return(),Object(v)!==v))return}finally{if(_)throw u}}return g}}function TI(t,i){(i==null||i>t.length)&&(i=t.length);for(var a=0,s=Array(i);a<i;a++)s[a]=t[a];return s}function t9(t,i){if(t){if(typeof t=="string")return TI(t,i);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?TI(t,i):void 0}}function e9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cd(t,i){return set(t)||uet(t,i)||t9(t,i)||e9()}function r9(t,i,a,s,u,h,v){try{var g=t[h](v),m=g.value}catch(_){return void a(_)}g.done?i(m):Promise.resolve(m).then(s,u)}function OI(t){return function(){var i=this,a=arguments;return new Promise(function(s,u){var h=t.apply(i,a);function v(m){r9(h,s,u,v,g,"next",m)}function g(m){r9(h,s,u,v,g,"throw",m)}v(void 0)})}}var cet=function(){function t(){Gy(this,t),this.cacheStore=new Map}return Wy(t,[{key:"onRefAdded",value:function(a){}},{key:"has",value:function(a){return this.cacheStore.has(a)}},{key:"put",value:function(a,s,u){return this.cacheStore.has(a)?!1:(this.cacheStore.set(a,{value:s,counter:new Set([u])}),this.onRefAdded(u),!0)}},{key:"get",value:function(a,s){var u=this.cacheStore.get(a);return u?(u.counter.has(s)||(u.counter.add(s),this.onRefAdded(s)),u.value):null}},{key:"update",value:function(a,s,u){var h=this.cacheStore.get(a);return h?(h.value=Ys(Ys({},h.value),s),h.counter.has(u)||(h.counter.add(u),this.onRefAdded(u)),!0):!1}},{key:"release",value:function(a,s){var u=this.cacheStore.get(a);return u?(u.counter.delete(s),u.counter.size<=0&&this.cacheStore.delete(a),!0):!1}},{key:"releaseRef",value:function(a){var s=this;Array.from(this.cacheStore.keys()).forEach(function(u){s.release(u,a)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])}(),AI=[],CI=[],PI=function(){function t(){Gy(this,t)}return Wy(t,null,[{key:"stop",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;t.rafId&&(a.cancelAnimationFrame(t.rafId),t.rafId=null)}},{key:"executeTask",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;AI.length<=0&&CI.length<=0||(CI.forEach(function(s){return s()}),CI=AI.splice(0,t.TASK_NUM_PER_FRAME),t.rafId=a.requestAnimationFrame(function(){t.executeTask(a)}))}},{key:"sliceImage",value:function(a,s,u,h){for(var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t.api,m=a.naturalWidth||a.width,_=a.naturalHeight||a.height,w=s-v,M=u-v,O=Math.ceil(m/w),C=Math.ceil(_/M),P={tileSize:[s,u],gridSize:[C,O],tiles:Array(C).fill(null).map(function(){return Array(O).fill(null)})},k=function(B){for(var z=function(G){AI.push(function(){var Y=G*w,Z=B*M,Q=[Math.min(s,m-Y),Math.min(u,_-Z)],tt=Q[0],rt=Q[1],ct=g.createCanvas();ct.width=s,ct.height=u;var nt=ct.getContext("2d");nt.drawImage(a,Y,Z,tt,rt,0,0,tt,rt),P.tiles[B][G]={x:Y,y:Z,tileX:G,tileY:B,data:ct},h()})},j=0;j<O;j++)z(j)},D=0;D<C;D++)k(D);return t.stop(),t.executeTask(),P}}])}();PI.TASK_NUM_PER_FRAME=10;var fs=new cet;fs.onRefAdded=function(i){var a=this;i.addEventListener(Jr.DESTROY,function(){a.releaseRef(i)},{once:!0})};var ST=function(){function t(i,a){Gy(this,t),this.gradientCache={},this.patternCache={},this.context=i,this.runtime=a}return Wy(t,[{key:"getImageSync",value:function(a,s,u){var h=zi(a)?a:a.src;if(fs.has(h)){var v=fs.get(h,s);if(v.img.complete)return u==null||u(v),v}return this.getOrCreateImage(a,s).then(function(g){u==null||u(g)}).catch(function(g){console.error(g)}),null}},{key:"getOrCreateImage",value:function(a,s){var u=this,h=zi(a)?a:a.src;if(!zi(a)&&!fs.has(h)){var v={img:a,size:[a.naturalWidth||a.width,a.naturalHeight||a.height],tileSize:MT(a)};fs.put(h,v,s)}if(fs.has(h)){var g=fs.get(h,s);return g.img.complete?Promise.resolve(g):new Promise(function(m,_){g.img.addEventListener("load",function(){g.size=[g.img.naturalWidth||g.img.width,g.img.naturalHeight||g.img.height],g.tileSize=MT(g.img),m(g)}),g.img.addEventListener("error",function(w){_(w)})})}return new Promise(function(m,_){var w=u.context.config.createImage();if(w){var M={img:w,size:[0,0],tileSize:MT(w)};fs.put(h,M,s),w.onload=function(){M.size=[w.naturalWidth||w.width,w.naturalHeight||w.height],M.tileSize=MT(M.img),m(M)},w.onerror=function(O){_(O)},w.crossOrigin="Anonymous",w.src=h}})}},{key:"createDownSampledImage",value:function(){var i=OI(Hy().mark(function s(u,h){var v,g,m,_,w,M,O,C,P,k,D,R,B,z;return Hy().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.getOrCreateImage(u,h);case 2:if(v=V.sent,typeof v.downSamplingRate=="undefined"){V.next=5;break}return V.abrupt("return",v);case 5:if(g=this.context.config.enableLargeImageOptimization,m=typeof g=="boolean"?{}:g,_=m.maxDownSampledImageSize,w=_===void 0?2048:_,M=m.downSamplingRateThreshold,O=M===void 0?.5:M,C=this.runtime.globalThis.createImageBitmap,P=cd(v.size,2),k=P[0],D=P[1],R=v.img,B=Math.min((w+w)/(k+D),Math.max(.01,Math.min(O,.5))),z=Ys(Ys({},v),{},{downSamplingRate:B}),fs.update(v.img.src,z,h),!C){V.next=25;break}return V.prev=14,V.next=17,C(v.img,{resizeWidth:k*B,resizeHeight:D*B});case 17:R=V.sent,V.next=23;break;case 20:V.prev=20,V.t0=V.catch(14),B=1;case 23:V.next=26;break;case 25:B=1;case 26:return z=Ys(Ys({},this.getImageSync(u,h)),{},{downSampled:R,downSamplingRate:B}),fs.update(v.img.src,z,h),V.abrupt("return",z);case 29:case"end":return V.stop()}},s,this,[[14,20]])}));function a(s,u){return i.apply(this,arguments)}return a}()},{key:"createImageTiles",value:function(){var i=OI(Hy().mark(function s(u,h,v,g){var m,_,w,M,O;return Hy().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.getOrCreateImage(u,g);case 2:return m=P.sent,_=g.ownerDocument.defaultView,w=_.requestAnimationFrame,M=_.cancelAnimationFrame,PI.api={requestAnimationFrame:w,cancelAnimationFrame:M,createCanvas:function(){return Gp.createCanvas()}},O=Ys(Ys({},m),PI.sliceImage(m.img,m.tileSize[0],m.tileSize[0],v)),fs.update(m.img.src,O,g),P.abrupt("return",O);case 8:case"end":return P.stop()}},s,this)}));function a(s,u,h,v){return i.apply(this,arguments)}return a}()},{key:"releaseImage",value:function(a,s){fs.release(zi(a)?a:a.src,s)}},{key:"releaseImageRef",value:function(a){fs.releaseRef(a)}},{key:"getOrCreatePatternSync",value:function(a,s,u,h,v,g,m){var _=this.generatePatternKey(s);if(_&&this.patternCache[_])return this.patternCache[_];var w=s.image,M=s.repetition,O=s.transform,C,P=!1;if(zi(w)){var k=this.getImageSync(w,a,m);C=k==null?void 0:k.img}else h?(C=h,P=!0):C=w;var D=C&&u.createPattern(C,M);if(D){var R;O?R=Vp(QO(O),new li({})):R=Pf(Dn()),P&&WI(R,R,[1/v,1/v,1]),D.setTransform({a:R[0],b:R[1],c:R[4],d:R[5],e:R[12]+g[0],f:R[13]+g[1]})}return _&&D&&(this.patternCache[_]=D),D}},{key:"getOrCreateGradient",value:function(a,s){var u=this.generateGradientKey(a),h=a.type,v=a.steps,g=a.min,m=a.width,_=a.height,w=a.angle,M=a.cx,O=a.cy,C=a.size;if(this.gradientCache[u])return this.gradientCache[u];var P=null;if(h===qf.LinearGradient){var k=C0(g,m,_,w),D=k.x1,R=k.y1,B=k.x2,z=k.y2;P=s.createLinearGradient(D,R,B,z)}else if(h===qf.RadialGradient){var j=J_(g,m,_,M,O,C),V=j.x,G=j.y,Y=j.r;P=s.createRadialGradient(V,G,0,V,G,Y)}return P&&(v.forEach(function(Z){var Q=Z.offset,tt=Z.color;if(Q.unit===we.kPercentage){var rt;(rt=P)===null||rt===void 0||rt.addColorStop(Q.value/100,tt.toString())}}),this.gradientCache[u]=P),this.gradientCache[u]}},{key:"generateGradientKey",value:function(a){var s=a.type,u=a.min,h=a.width,v=a.height,g=a.steps,m=a.angle,_=a.cx,w=a.cy,M=a.size;return"gradient-".concat(s,"-").concat((m==null?void 0:m.toString())||0,"-").concat((_==null?void 0:_.toString())||0,"-").concat((w==null?void 0:w.toString())||0,"-").concat((M==null?void 0:M.toString())||0,"-").concat(u[0],"-").concat(u[1],"-").concat(h,"-").concat(v,"-").concat(g.map(function(O){var C=O.offset,P=O.color;return"".concat(C).concat(P)}).join("-"))}},{key:"generatePatternKey",value:function(a){var s=a.image,u=a.repetition;if(zi(s))return"pattern-".concat(s,"-").concat(u);if(s.nodeName==="rect")return"pattern-".concat(s.entity,"-").concat(u)}}])}();ST.isSupportTile=!!Gp.createCanvas();function MT(t){if(!t.complete)return[0,0];var i=t.naturalWidth||t.width,a=t.naturalHeight||t.height,s=256;return[256,512].forEach(function(u){var h=Math.ceil(a/u),v=Math.ceil(i/u);h*v<1e3&&(s=u)}),[s,s]}var n9=function(){function t(){Gy(this,t)}return Wy(t,[{key:"apply",value:function(a){var s=a.renderingService,u=a.renderingContext,h=a.imagePool,v=u.root.ownerDocument.defaultView,g=function(M,O,C){var P=M.parsedStyle,k=P.width,D=P.height;k&&!D?M.setAttribute("height",C/O*k):!k&&D&&M.setAttribute("width",O/C*D)},m=function(M){var O=M.target,C=O.nodeName,P=O.attributes;if(C===Xt.IMAGE){var k=P.src,D=P.keepAspectRatio;h.getImageSync(k,O,function(R){var B=R.img,z=B.width,j=B.height;D&&g(O,z,j),O.renderable.dirty=!0,s.dirtify()})}},_=function(M){var O=M.target,C=M.attrName,P=M.prevValue,k=M.newValue;O.nodeName!==Xt.IMAGE||C!=="src"||(P!==k&&h.releaseImage(P,O),zi(k)&&h.getOrCreateImage(k,O).then(function(D){var R=D.img,B=R.width,z=R.height;O.attributes.keepAspectRatio&&g(O,B,z),O.renderable.dirty=!0,s.dirtify()}).catch(function(){}))};s.hooks.init.tap(t.tag,function(){v.addEventListener(Jr.MOUNTED,m),v.addEventListener(Jr.ATTR_MODIFIED,_)}),s.hooks.destroy.tap(t.tag,function(){v.removeEventListener(Jr.MOUNTED,m),v.removeEventListener(Jr.ATTR_MODIFIED,_)})}}])}();n9.tag="LoadImage";var fet=function(t){function i(){var a;Gy(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=oet(this,i,[].concat(u)),a.name="image-loader",a}return J7(i,t),Wy(i,[{key:"init",value:function(s){this.context.imagePool=new ST(this.context,s),this.addRenderingPlugin(new n9)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Wf);var Hi=net("renderState"),TT=function(){function t(i){zy(this,t),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,Hi,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=Dn(),this.dprMatrix=Dn(),this.tmpMat4=Dn(),this.vec3a=Cr(),this.vec3b=Cr(),this.vec3c=Cr(),this.vec3d=Cr(),this.canvasRendererPluginOptions=i}return Fy(t,[{key:"apply",value:function(a,s){var u=this;this.context=a;var h=this.context,v=h.config,g=h.camera,m=h.renderingService,_=h.renderingContext,w=h.rBushRoot,M=h.pathGeneratorFactory,O=v.renderer.getConfig().enableRenderingOptimization;v.renderer.getConfig().enableDirtyCheck=!1,v.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=w,this.pathGeneratorFactory=M;var C=a.contextService,P=_.root.ownerDocument.defaultView,k=function(z){var j=z.target,V=j.rBushNode;V.aabb&&u.removedRBushNodeAABBs.push(V.aabb)},D=function(z){var j=z.target,V=j.rBushNode;V.aabb&&u.removedRBushNodeAABBs.push(V.aabb)};m.hooks.init.tap(t.tag,function(){P.addEventListener(Jr.UNMOUNTED,k),P.addEventListener(Jr.CULLED,D);var B=C.getDPR(),z=v.width,j=v.height,V=C.getContext();u.clearRect(V,0,0,z*B,j*B,v.background)}),m.hooks.destroy.tap(t.tag,function(){P.removeEventListener(Jr.UNMOUNTED,k),P.removeEventListener(Jr.CULLED,D),u.renderQueue=[],u.removedRBushNodeAABBs=[],Sl(u,Hi)[Hi]={restoreStack:[],prevObject:null,currentContext:null}}),m.hooks.beginFrame.tap(t.tag,function(){var B,z=C.getContext(),j=C.getDPR(),V=v.width,G=v.height,Y=u.canvasRendererPluginOptions,Z=Y.dirtyObjectNumThreshold,Q=Y.dirtyObjectRatioThreshold,tt=m.getStats(),rt=tt.total,ct=tt.rendered,nt=ct/rt;u.clearFullScreen=u.clearFullScreenLastFrame||!((B=P.context.renderingPlugins[1])!==null&&B!==void 0&&B.isFirstTimeRenderingFinished)||m.disableDirtyRectangleRendering()||ct>Z&&nt>Q,z&&(typeof z.resetTransform=="function"?z.resetTransform():z.setTransform(1,0,0,1,0,0),u.clearFullScreen&&u.clearRect(z,0,0,V*j,G*j,v.background))});var R=function(z,j){for(var V=[z];V.length>0;){var G=V.pop();G.isVisible()&&!G.isCulled()&&(O?u.renderDisplayObjectOptimized(G,j,u.context,Sl(u,Hi)[Hi],s):u.renderDisplayObject(G,j,u.context,Sl(u,Hi)[Hi],s));for(var Y=G.sortable.sorted||G.childNodes,Z=Y.length-1;Z>=0;Z--)V.push(Y[Z])}};m.hooks.endFrame.tap(t.tag,function(){if(_.root.childNodes.length===0){u.clearFullScreenLastFrame=!0;return}O=v.renderer.getConfig().enableRenderingOptimization,Sl(u,Hi)[Hi]={restoreStack:[],prevObject:null,currentContext:Sl(u,Hi)[Hi].currentContext},Sl(u,Hi)[Hi].currentContext.clear(),u.clearFullScreenLastFrame=!1;var B=C.getContext(),z=C.getDPR();if(kf(u.dprMatrix,[z,z,1]),mo(u.vpMatrix,u.dprMatrix,g.getOrthoMatrix()),u.clearFullScreen)O?(B.save(),R(_.root,B),B.restore()):R(_.root,B),u.removedRBushNodeAABBs=[];else{var j=u.safeMergeAABB.apply(u,[u.mergeDirtyAABBs(u.renderQueue)].concat(K7(u.removedRBushNodeAABBs.map(function(kt){var jt=kt.minX,Bt=kt.minY,Zt=kt.maxX,Oe=kt.maxY,se=new Zi;return se.setMinMax([jt,Bt,0],[Zt,Oe,0]),se}))));if(u.removedRBushNodeAABBs=[],Zi.isEmpty(j)){u.renderQueue=[];return}var V=u.convertAABB2Rect(j),G=V.x,Y=V.y,Z=V.width,Q=V.height,tt=yi(u.vec3a,[G,Y,0],u.vpMatrix),rt=yi(u.vec3b,[G+Z,Y,0],u.vpMatrix),ct=yi(u.vec3c,[G,Y+Q,0],u.vpMatrix),nt=yi(u.vec3d,[G+Z,Y+Q,0],u.vpMatrix),lt=Math.min(tt[0],rt[0],nt[0],ct[0]),ft=Math.min(tt[1],rt[1],nt[1],ct[1]),q=Math.max(tt[0],rt[0],nt[0],ct[0]),H=Math.max(tt[1],rt[1],nt[1],ct[1]),U=Math.floor(lt),J=Math.floor(ft),st=Math.ceil(q-lt),ut=Math.ceil(H-ft);B.save(),u.clearRect(B,U,J,st,ut,v.background),B.beginPath(),B.rect(U,J,st,ut),B.clip(),B.setTransform(u.vpMatrix[0],u.vpMatrix[1],u.vpMatrix[4],u.vpMatrix[5],u.vpMatrix[12],u.vpMatrix[13]);var mt=v.renderer.getConfig(),xt=mt.enableDirtyRectangleRenderingDebug;xt&&P.dispatchEvent(new Kn(il.DIRTY_RECTANGLE,{dirtyRect:{x:U,y:J,width:st,height:ut}}));var Ct=u.searchDirtyObjects(j);Ct.sort(function(kt,jt){return kt.sortable.renderOrder-jt.sortable.renderOrder}).forEach(function(kt){kt&&kt.isVisible()&&!kt.isCulled()&&u.renderDisplayObject(kt,B,u.context,Sl(u,Hi)[Hi],s)}),B.restore(),u.renderQueue.forEach(function(kt){u.saveDirtyAABB(kt)}),u.renderQueue=[]}Sl(u,Hi)[Hi].restoreStack.forEach(function(){B.restore()}),Sl(u,Hi)[Hi].restoreStack=[]}),m.hooks.render.tap(t.tag,function(B){u.clearFullScreen||u.renderQueue.push(B)})}},{key:"clearRect",value:function(a,s,u,h,v,g){a.clearRect(s,u,h,v),g&&(a.fillStyle=g,a.fillRect(s,u,h,v))}},{key:"renderDisplayObjectOptimized",value:function(a,s,u,h,v){var g=a.nodeName,m=!1,_=!1,w=this.context.styleRendererFactory[g],M=this.pathGeneratorFactory[g],O=a.parsedStyle.clipPath;if(O){m=!h.prevObject||!f_(O.getWorldTransform(),h.prevObject.getWorldTransform()),m&&(this.applyWorldTransform(s,O),h.prevObject=null);var C=this.pathGeneratorFactory[O.nodeName];C&&(s.save(),_=!0,s.beginPath(),C(s,O.parsedStyle),s.closePath(),s.clip())}if(w){m=!h.prevObject||!f_(a.getWorldTransform(),h.prevObject.getWorldTransform()),m&&this.applyWorldTransform(s,a);var P=!h.prevObject;if(!P){var k=h.prevObject.nodeName;g===Xt.TEXT?P=k!==Xt.TEXT:g===Xt.IMAGE?P=k!==Xt.IMAGE:P=k===Xt.TEXT||k===Xt.IMAGE}w.applyStyleToContext(s,a,P,h),h.prevObject=a}M&&(s.beginPath(),M(s,a.parsedStyle),g!==Xt.LINE&&g!==Xt.PATH&&g!==Xt.POLYLINE&&s.closePath()),w&&w.drawToContext(s,a,Sl(this,Hi)[Hi],this,v),_&&s.restore(),a.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(a,s,u,h,v){var g=a.nodeName,m=h.restoreStack[h.restoreStack.length-1];m&&!(a.compareDocumentPosition(m)&ii.DOCUMENT_POSITION_CONTAINS)&&(s.restore(),h.restoreStack.pop());var _=this.context.styleRendererFactory[g],w=this.pathGeneratorFactory[g],M=a.parsedStyle.clipPath;if(M){this.applyWorldTransform(s,M);var O=this.pathGeneratorFactory[M.nodeName];O&&(s.save(),h.restoreStack.push(a),s.beginPath(),O(s,M.parsedStyle),s.closePath(),s.clip())}_&&(this.applyWorldTransform(s,a),s.save(),this.applyAttributesToContext(s,a)),w&&(s.beginPath(),w(s,a.parsedStyle),g!==Xt.LINE&&g!==Xt.PATH&&g!==Xt.POLYLINE&&s.closePath()),_&&(_.render(s,a.parsedStyle,a,u,this,v),s.restore()),a.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(a,s){var u=s.parsedStyle,h=u.stroke,v=u.fill,g=u.opacity,m=u.lineDash,_=u.lineDashOffset;m&&a.setLineDash(m),Ar(_)||(a.lineDashOffset=_),Ar(g)||(a.globalAlpha*=g),!Ar(h)&&!Array.isArray(h)&&!h.isNone&&(a.strokeStyle=s.attributes.stroke),!Ar(v)&&!Array.isArray(v)&&!v.isNone&&(a.fillStyle=s.attributes.fill)}},{key:"convertAABB2Rect",value:function(a){var s=a.getMin(),u=a.getMax(),h=Math.floor(s[0]),v=Math.floor(s[1]),g=Math.ceil(u[0]),m=Math.ceil(u[1]),_=g-h,w=m-v;return{x:h,y:v,width:_,height:w}}},{key:"mergeDirtyAABBs",value:function(a){var s=new Zi;return a.forEach(function(u){var h=u.getRenderBounds();s.add(h);var v=u.renderable.dirtyRenderBounds;v&&s.add(v)}),s}},{key:"searchDirtyObjects",value:function(a){var s=a.getMin(),u=Jb(s,2),h=u[0],v=u[1],g=a.getMax(),m=Jb(g,2),_=m[0],w=m[1],M=this.rBush.search({minX:h,minY:v,maxX:_,maxY:w});return M.map(function(O){var C=O.displayObject;return C})}},{key:"saveDirtyAABB",value:function(a){var s=a.renderable;s.dirtyRenderBounds||(s.dirtyRenderBounds=new Zi);var u=a.getRenderBounds();u&&s.dirtyRenderBounds.update(u.center,u.halfExtents)}},{key:"applyWorldTransform",value:function(a,s,u){u?(Mu(this.tmpMat4,s.getLocalTransform()),mo(this.tmpMat4,u,this.tmpMat4),mo(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(Mu(this.tmpMat4,s.getWorldTransform()),mo(this.tmpMat4,this.vpMatrix,this.tmpMat4)),a.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var a=new Zi,s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return u.forEach(function(v){a.add(v)}),a}}])}();TT.tag="CanvasRenderer";function Yy(t,i,a,s,u,h,v){var g,m;if(t.image.nodeName==="rect"){var _=t.image.parsedStyle,w=_.width,M=_.height;m=s.contextService.getDPR();var O=s.config.offscreenCanvas;g=h.offscreenCanvasCreator.getOrCreateCanvas(O),g.width=w*m,g.height=M*m;var C=h.offscreenCanvasCreator.getOrCreateContext(O),P={restoreStack:[],prevObject:null,currentContext:new Map};t.image.forEach(function(D){u.renderDisplayObject(D,C,s,P,h)}),P.restoreStack.forEach(function(){C.restore()})}var k=v.getOrCreatePatternSync(i,t,a,g,m,i.getGeometryBounds().min,function(){i.renderable.dirty=!0,s.renderingService.dirtify()});return k}function Uy(t,i,a,s){var u;if(t.type===qf.LinearGradient||t.type===qf.RadialGradient){var h=i.getGeometryBounds(),v=h&&h.halfExtents[0]*2||1,g=h&&h.halfExtents[1]*2||1,m=h&&h.min||[0,0];u=s.getOrCreateGradient(bI(bI({type:t.type},t.value),{},{min:m,width:v,height:g}),a)}return u}var OT=["shadowBlur","shadowOffsetX","shadowOffsetY"],i9=["lineCap","lineJoin","miterLimit"],xa={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},a9={};function Yi(t,i,a,s){var u=s.has(i)?s.get(i):xa[i];return u!==a&&(i==="lineDash"?t.setLineDash(a):t[i]=a,s.set(i,a)),u}var het=function(){function t(i){zy(this,t),this.imagePool=i}return Fy(t,[{key:"applyAttributesToContext",value:function(a,s){}},{key:"render",value:function(a,s,u,h,v,g){}},{key:"applyCommonStyleToContext",value:function(a,s,u,h){var v=u?a9:h.prevObject.parsedStyle,g=s.parsedStyle;(u||g.opacity!==v.opacity)&&Yi(a,"globalAlpha",Ar(g.opacity)?xa.globalAlpha:g.opacity,h.currentContext),(u||g.blend!==v.blend)&&Yi(a,"globalCompositeOperation",Ar(g.blend)?xa.globalCompositeOperation:g.blend,h.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(a,s,u,h){var v=u?a9:h.prevObject.parsedStyle,g=s.parsedStyle,m=g.lineWidth,_=m===void 0?xa.lineWidth:m,w=g.fill&&!g.fill.isNone,M=g.stroke&&!g.stroke.isNone&&_>0;if(M){if(u||s.attributes.stroke!==h.prevObject.attributes.stroke){var O=!Ar(g.stroke)&&!Array.isArray(g.stroke)&&!g.stroke.isNone?s.attributes.stroke:xa.strokeStyle;Yi(a,"strokeStyle",O,h.currentContext)}(u||g.lineWidth!==v.lineWidth)&&Yi(a,"lineWidth",Ar(g.lineWidth)?xa.lineWidth:g.lineWidth,h.currentContext),(u||g.lineDash!==v.lineDash)&&Yi(a,"lineDash",g.lineDash||xa.lineDash,h.currentContext),(u||g.lineDashOffset!==v.lineDashOffset)&&Yi(a,"lineDashOffset",Ar(g.lineDashOffset)?xa.lineDashOffset:g.lineDashOffset,h.currentContext);for(var C=0;C<i9.length;C++){var P=i9[C];(u||g[P]!==v[P])&&Yi(a,P,Ar(g[P])?xa[P]:g[P],h.currentContext)}}if(w&&(u||s.attributes.fill!==h.prevObject.attributes.fill)){var k=!Ar(g.fill)&&!Array.isArray(g.fill)&&!g.fill.isNone?s.attributes.fill:xa.fillStyle;Yi(a,"fillStyle",k,h.currentContext)}}},{key:"applyStyleToContext",value:function(a,s,u,h){var v=s.nodeName;this.applyCommonStyleToContext(a,s,u,h),v===Xt.IMAGE||this.applyStrokeFillStyleToContext(a,s,u,h)}},{key:"applyShadowAndFilterStyleToContext",value:function(a,s,u,h){var v=s.parsedStyle;if(u){Yi(a,"shadowColor",v.shadowColor.toString(),h.currentContext);for(var g=0;g<OT.length;g++){var m=OT[g];Yi(a,m,v[m]||xa[m],h.currentContext)}}v.filter&&v.filter.length&&Yi(a,"filter",s.attributes.filter,h.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(a,s,u,h){var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(s){Yi(a,"shadowColor",xa.shadowColor,h.currentContext);for(var g=0;g<OT.length;g++){var m=OT[g];Yi(a,m,xa[m],h.currentContext)}}if(u)if(s&&v){var _=a.filter;!Ar(_)&&_.indexOf("drop-shadow")>-1&&Yi(a,"filter",_.replace(/drop-shadow\([^)]*\)/,"").trim()||xa.filter,h.currentContext)}else Yi(a,"filter",xa.filter,h.currentContext)}},{key:"fillToContext",value:function(a,s,u,h,v){var g=this,m=s.parsedStyle,_=m.fill,w=m.fillRule,M=null;if(Array.isArray(_)&&_.length>0)_.forEach(function(C){var P=Yi(a,"fillStyle",Uy(C,s,a,g.imagePool),u.currentContext);M=M!=null?M:P,w?a.fill(w):a.fill()});else{if(Kf(_)){var O=Yy(_,s,a,s.ownerDocument.defaultView.context,h,v,this.imagePool);O&&(a.fillStyle=O,M=!0)}w?a.fill(w):a.fill()}M!==null&&Yi(a,"fillStyle",M,u.currentContext)}},{key:"strokeToContext",value:function(a,s,u,h,v){var g=this,m=s.parsedStyle.stroke,_=null;if(Array.isArray(m)&&m.length>0)m.forEach(function(O){var C=Yi(a,"strokeStyle",Uy(O,s,a,g.imagePool),u.currentContext);_=_!=null?_:C,a.stroke()});else{if(Kf(m)){var w=Yy(m,s,a,s.ownerDocument.defaultView.context,h,v,this.imagePool);if(w){var M=Yi(a,"strokeStyle",w,u.currentContext);_=_!=null?_:M}}a.stroke()}_!==null&&Yi(a,"strokeStyle",_,u.currentContext)}},{key:"drawToContext",value:function(a,s,u,h,v){var g,m=s.nodeName,_=s.parsedStyle,w=_.opacity,M=w===void 0?xa.globalAlpha:w,O=_.fillOpacity,C=O===void 0?xa.fillOpacity:O,P=_.strokeOpacity,k=P===void 0?xa.strokeOpacity:P,D=_.lineWidth,R=D===void 0?xa.lineWidth:D,B=_.fill&&!_.fill.isNone,z=_.stroke&&!_.stroke.isNone&&R>0;if(!(!B&&!z)){var j=!Ar(_.shadowColor)&&_.shadowBlur>0,V=_.shadowType==="inner",G=((g=_.fill)===null||g===void 0?void 0:g.alpha)===0,Y=!!(_.filter&&_.filter.length),Z=j&&z&&(m===Xt.PATH||m===Xt.LINE||m===Xt.POLYLINE||G||V),Q=null;if(B){Z||this.applyShadowAndFilterStyleToContext(a,s,j,u);var tt=M*C;Q=Yi(a,"globalAlpha",tt,u.currentContext),this.fillToContext(a,s,u,h,v),Z||this.clearShadowAndFilterStyleForContext(a,j,Y,u)}if(z){var rt=!1,ct=M*k,nt=Yi(a,"globalAlpha",ct,u.currentContext);if(Q=B?Q:nt,Z&&(this.applyShadowAndFilterStyleToContext(a,s,j,u),rt=!0,V)){var lt=a.globalCompositeOperation;a.globalCompositeOperation="source-atop",this.strokeToContext(a,s,u,h,v),a.globalCompositeOperation=lt,this.clearShadowAndFilterStyleForContext(a,j,Y,u,!0)}this.strokeToContext(a,s,u,h,v),rt&&this.clearShadowAndFilterStyleForContext(a,j,Y,u)}Q!==null&&Yi(a,"globalAlpha",Q,u.currentContext)}}}])}(),AT=function(t){function i(){return zy(this,i),mT(this,i,arguments)}return ap(i,t),Fy(i,[{key:"render",value:function(s,u,h,v,g,m){var _=u.fill,w=u.fillRule,M=u.opacity,O=M===void 0?1:M,C=u.fillOpacity,P=C===void 0?1:C,k=u.stroke,D=u.strokeOpacity,R=D===void 0?1:D,B=u.lineWidth,z=B===void 0?1:B,j=u.lineCap,V=u.lineJoin,G=u.shadowType,Y=u.shadowColor,Z=u.shadowBlur,Q=u.filter,tt=u.miterLimit,rt=_&&!_.isNone,ct=k&&!k.isNone&&z>0,nt=(_==null?void 0:_.alpha)===0,lt=!!(Q&&Q.length),ft=!Ar(Y)&&Z>0,q=h.nodeName,H=G==="inner",U=ct&&ft&&(q===Xt.PATH||q===Xt.LINE||q===Xt.POLYLINE||nt||H);rt&&(s.globalAlpha=O*P,U||CT(h,s,ft),o9(s,h,_,w,v,g,m,this.imagePool),U||this.clearShadowAndFilter(s,lt,ft)),ct&&(s.globalAlpha=O*R,s.lineWidth=z,Ar(tt)||(s.miterLimit=tt),Ar(j)||(s.lineCap=j),Ar(V)||(s.lineJoin=V),U&&(H&&(s.globalCompositeOperation="source-atop"),CT(h,s,!0),H&&(EI(s,h,k,v,g,m,this.imagePool),s.globalCompositeOperation=xa.globalCompositeOperation,this.clearShadowAndFilter(s,lt,!0))),EI(s,h,k,v,g,m,this.imagePool))}},{key:"clearShadowAndFilter",value:function(s,u,h){if(h&&(s.shadowColor="transparent",s.shadowBlur=0),u){var v=s.filter;!Ar(v)&&v.indexOf("drop-shadow")>-1&&(s.filter=v.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}(het);function CT(t,i,a){var s=t.parsedStyle,u=s.filter,h=s.shadowColor,v=s.shadowBlur,g=s.shadowOffsetX,m=s.shadowOffsetY;u&&u.length&&(i.filter=t.style.filter),a&&(i.shadowColor=h.toString(),i.shadowBlur=v||0,i.shadowOffsetX=g||0,i.shadowOffsetY=m||0)}function o9(t,i,a,s,u,h,v,g){var m=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(a)?a.forEach(function(_){t.fillStyle=Uy(_,i,t,g),m||(s?t.fill(s):t.fill())}):(Kf(a)&&(t.fillStyle=Yy(a,i,t,u,h,v,g)),m||(s?t.fill(s):t.fill()))}function EI(t,i,a,s,u,h,v){var g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(a)?a.forEach(function(m){t.strokeStyle=Uy(m,i,t,v),g||t.stroke()}):(Kf(a)&&(t.strokeStyle=Yy(a,i,t,s,u,h,v)),g||t.stroke())}function det(t,i){var a=Jb(t,4),s=a[0],u=a[1],h=a[2],v=a[3],g=Jb(i,4),m=g[0],_=g[1],w=g[2],M=g[3],O=Math.max(s,m),C=Math.max(u,_),P=Math.min(s+h,m+w),k=Math.min(u+v,_+M);return P<=O||k<=C?null:[O,C,P-O,k-C]}function vet(t,i){var a=yi(Cr(),[t[0],t[1],0],i),s=yi(Cr(),[t[0]+t[2],t[1],0],i),u=yi(Cr(),[t[0],t[1]+t[3],0],i),h=yi(Cr(),[t[0]+t[2],t[1]+t[3],0],i);return[Math.min(a[0],s[0],u[0],h[0]),Math.min(a[1],s[1],u[1],h[1]),Math.max(a[0],s[0],u[0],h[0])-Math.min(a[0],s[0],u[0],h[0]),Math.max(a[1],s[1],u[1],h[1])-Math.min(a[1],s[1],u[1],h[1])]}var pet=function(t){function i(){return zy(this,i),mT(this,i,arguments)}return ap(i,t),Fy(i,[{key:"renderDownSampled",value:function(s,u,h,v){var g=v.src,m=v.imageCache;if(!m.downSampled){this.imagePool.createDownSampledImage(g,h).then(function(){h.ownerDocument&&(h.renderable.dirty=!0,h.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(_){console.error(_)});return}s.drawImage(m.downSampled,Math.floor(v.drawRect[0]),Math.floor(v.drawRect[1]),Math.ceil(v.drawRect[2]),Math.ceil(v.drawRect[3]))}},{key:"renderTile",value:function(s,u,h,v){var g=v.src,m=v.imageCache,_=v.imageRect,w=v.drawRect,M=m.size,O=s.getTransform(),C=O.a,P=O.b,k=O.c,D=O.d,R=O.e,B=O.f;if(s.resetTransform(),!(m!=null&&m.gridSize)){this.imagePool.createImageTiles(g,[],function(){h.ownerDocument&&(h.renderable.dirty=!0,h.ownerDocument.defaultView.context.renderingService.dirtify())},h).catch(function(ft){console.error(ft)});return}for(var z=[M[0]/_[2],M[1]/_[3]],j=[m.tileSize[0]/z[0],m.tileSize[1]/z[1]],V=[Math.floor((w[0]-_[0])/j[0]),Math.ceil((w[0]+w[2]-_[0])/j[0])],G=V[0],Y=V[1],Z=[Math.floor((w[1]-_[1])/j[1]),Math.ceil((w[1]+w[3]-_[1])/j[1])],Q=Z[0],tt=Z[1],rt=Q;rt<=tt;rt++)for(var ct=G;ct<=Y;ct++){var nt=m.tiles[rt][ct];if(nt){var lt=[Math.floor(_[0]+nt.tileX*j[0]),Math.floor(_[1]+nt.tileY*j[1]),Math.ceil(j[0]),Math.ceil(j[1])];s.drawImage(nt.data,lt[0],lt[1],lt[2],lt[3])}}s.setTransform(C,P,k,D,R,B)}},{key:"render",value:function(s,u,h){var v=u.x,g=v===void 0?0:v,m=u.y,_=m===void 0?0:m,w=u.width,M=u.height,O=u.src,C=u.shadowColor,P=u.shadowBlur,k=this.imagePool.getImageSync(O,h),D=k==null?void 0:k.img,R=w,B=M;if(D){R||(R=D.width),B||(B=D.height);var z=!Ar(C)&&P>0;CT(h,s,z);try{var j=h.ownerDocument.defaultView.getContextService().getDomElement(),V=j.width,G=j.height,Y=s.getTransform(),Z=Y.a,Q=Y.b,tt=Y.c,rt=Y.d,ct=Y.e,nt=Y.f,lt=a_(Z,tt,0,0,Q,rt,0,0,0,0,1,0,ct,nt,0,1),ft=vet([g,_,R,B],lt),q=det([0,0,V,G],ft);if(!q)return;if(!h.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){i.renderFull(s,u,h,{image:D,drawRect:[g,_,R,B]});return}var H=ft[2]/k.size[0];if(H<(k.downSamplingRate||.5)){this.renderDownSampled(s,u,h,{src:O,imageCache:k,drawRect:[g,_,R,B]});return}if(!ST.isSupportTile){i.renderFull(s,u,h,{image:D,drawRect:[g,_,R,B]});return}this.renderTile(s,u,h,{src:O,imageCache:k,imageRect:ft,drawRect:q})}catch(U){}}}},{key:"drawToContext",value:function(s,u,h,v,g){this.render(s,u.parsedStyle,u)}}],[{key:"renderFull",value:function(s,u,h,v){s.drawImage(v.image,Math.floor(v.drawRect[0]),Math.floor(v.drawRect[1]),Math.ceil(v.drawRect[2]),Math.ceil(v.drawRect[3]))}}])}(AT),get=function(t){function i(){return zy(this,i),mT(this,i,arguments)}return ap(i,t),Fy(i,[{key:"render",value:function(s,u,h,v,g,m){h.getBounds();var _=u.lineWidth,w=_===void 0?1:_,M=u.textAlign,O=M===void 0?"start":M,C=u.textBaseline,P=C===void 0?"alphabetic":C,k=u.lineJoin,D=k===void 0?"miter":k,R=u.miterLimit,B=R===void 0?10:R,z=u.letterSpacing,j=z===void 0?0:z,V=u.stroke,G=u.fill,Y=u.fillRule,Z=u.fillOpacity,Q=Z===void 0?1:Z,tt=u.strokeOpacity,rt=tt===void 0?1:tt,ct=u.opacity,nt=ct===void 0?1:ct,lt=u.metrics,ft=u.x,q=ft===void 0?0:ft,H=u.y,U=H===void 0?0:H,J=u.dx,st=u.dy,ut=u.shadowColor,mt=u.shadowBlur,xt=lt.font,Ct=lt.lines,kt=lt.height,jt=lt.lineHeight,Bt=lt.lineMetrics;s.font=xt,s.lineWidth=w,s.textAlign=O==="middle"?"center":O;var Zt=P;Zt==="alphabetic"&&(Zt="bottom"),s.lineJoin=D,Ar(B)||(s.miterLimit=B);var Oe=U;P==="middle"?Oe+=-kt/2-jt/2:P==="bottom"||P==="alphabetic"||P==="ideographic"?Oe+=-kt:(P==="top"||P==="hanging")&&(Oe+=-jt);var se=q+(J||0);Oe+=st||0,Ct.length===1&&(Zt==="bottom"?(Zt="middle",Oe-=.5*kt):Zt==="top"&&(Zt="middle",Oe+=.5*kt)),s.textBaseline=Zt;var he=!Ar(ut)&&mt>0;CT(h,s,he);for(var _e=0;_e<Ct.length;_e++){var We=w/2+se;Oe+=jt,!Ar(V)&&!V.isNone&&w&&this.drawLetterSpacing(s,h,Ct[_e],Bt[_e],O,We,Oe,j,G,Y,Q,V,rt,nt,!0,v,g,m),Ar(G)||this.drawLetterSpacing(s,h,Ct[_e],Bt[_e],O,We,Oe,j,G,Y,Q,V,rt,nt,!1,v,g,m)}}},{key:"drawLetterSpacing",value:function(s,u,h,v,g,m,_,w,M,O,C,P,k,D,R,B,z,j){if(w===0){R?this.strokeText(s,u,h,m,_,P,k,B,z,j):this.fillText(s,u,h,m,_,M,O,C,D,B,z,j);return}var V=s.textAlign;s.textAlign="left";var G=m;g==="center"||g==="middle"?G=m-v.width/2:(g==="right"||g==="end")&&(G=m-v.width);for(var Y=Array.from(h),Z=s.measureText(h).width,Q=0,tt=0;tt<Y.length;++tt){var rt=Y[tt];R?this.strokeText(s,u,rt,G,_,P,k,B,z,j):this.fillText(s,u,rt,G,_,M,O,C,D,B,z,j),Q=s.measureText(h.substring(tt+1)).width,G+=Z-Q+w,Z=Q}s.textAlign=V}},{key:"fillText",value:function(s,u,h,v,g,m,_,w,M,O,C,P){o9(s,u,m,_,O,C,P,this.imagePool,!0);var k,D=!Ar(w)&&w!==1;D&&(k=s.globalAlpha,s.globalAlpha=w*M),s.fillText(h,v,g),D&&(s.globalAlpha=k)}},{key:"strokeText",value:function(s,u,h,v,g,m,_,w,M,O){EI(s,u,m,w,M,O,this.imagePool,!0);var C,P=!Ar(_)&&_!==1;P&&(C=s.globalAlpha,s.globalAlpha=_),s.strokeText(h,v,g),P&&(s.globalAlpha=C)}},{key:"drawToContext",value:function(s,u,h,v,g){this.render(s,u.parsedStyle,u,u.ownerDocument.defaultView.context,v,g)}}])}(AT),yet=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return zy(this,i),a=mT(this,i),a.name="canvas-renderer",a.options=s,a}return ap(i,t),Fy(i,[{key:"init",value:function(){var s,u=bI({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),h=this.context.imagePool,v=new AT(h),g=(s={},vo(vo(vo(vo(vo(vo(vo(vo(vo(vo(s,Xt.CIRCLE,v),Xt.ELLIPSE,v),Xt.RECT,v),Xt.IMAGE,new pet(h)),Xt.TEXT,new get(h)),Xt.LINE,v),Xt.POLYLINE,v),Xt.POLYGON,v),Xt.PATH,v),Xt.GROUP,void 0),vo(vo(vo(s,Xt.HTML,void 0),Xt.MESH,void 0),Xt.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=g,this.context.styleRendererFactory=g,this.addRenderingPlugin(new TT(u))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(Wf);function s9(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Xy(t)}function met(t,i){if(Xy(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(Xy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function bet(t){var i=met(t,"string");return Xy(i)=="symbol"?i:i+""}function n(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,bet(s.key),s)}}function r(t,i,a){return i&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function e(t){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},e(t)}function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(o=function(){return!!t})()}function l(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,i){if(i&&(Xy(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function f(t,i,a){return i=e(i),c(t,o()?Reflect.construct(i,a||[],e(t).constructor):i.apply(t,a))}function d(t,i){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},d(t,i)}function p(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&d(t,i)}var y=function(){function t(){s9(this,t)}return r(t,[{key:"apply",value:function(a,s){var u=this,h=a.renderingService,v=a.renderingContext,g=a.config;this.context=a;var m=v.root.ownerDocument.defaultView,_=function(Z){h.hooks.pointerMove.call(Z)},w=function(Z){h.hooks.pointerUp.call(Z)},M=function(Z){h.hooks.pointerDown.call(Z)},O=function(Z){h.hooks.pointerOver.call(Z)},C=function(Z){h.hooks.pointerOut.call(Z)},P=function(Z){h.hooks.pointerCancel.call(Z)},k=function(Z){h.hooks.pointerWheel.call(Z)},D=function(Z){h.hooks.click.call(Z)},R=function(Z){s.globalThis.document.addEventListener("pointermove",_,!0),Z.addEventListener("pointerdown",M,!0),Z.addEventListener("pointerleave",C,!0),Z.addEventListener("pointerover",O,!0),s.globalThis.addEventListener("pointerup",w,!0),s.globalThis.addEventListener("pointercancel",P,!0)},B=function(Z){Z.addEventListener("touchstart",M,!0),Z.addEventListener("touchend",w,!0),Z.addEventListener("touchmove",_,!0),Z.addEventListener("touchcancel",P,!0)},z=function(Z){s.globalThis.document.addEventListener("mousemove",_,!0),Z.addEventListener("mousedown",M,!0),Z.addEventListener("mouseout",C,!0),Z.addEventListener("mouseover",O,!0),s.globalThis.addEventListener("mouseup",w,!0)},j=function(Z){s.globalThis.document.removeEventListener("pointermove",_,!0),Z.removeEventListener("pointerdown",M,!0),Z.removeEventListener("pointerleave",C,!0),Z.removeEventListener("pointerover",O,!0),s.globalThis.removeEventListener("pointerup",w,!0),s.globalThis.removeEventListener("pointercancel",P,!0)},V=function(Z){Z.removeEventListener("touchstart",M,!0),Z.removeEventListener("touchend",w,!0),Z.removeEventListener("touchmove",_,!0),Z.removeEventListener("touchcancel",P,!0)},G=function(Z){s.globalThis.document.removeEventListener("mousemove",_,!0),Z.removeEventListener("mousedown",M,!0),Z.removeEventListener("mouseout",C,!0),Z.removeEventListener("mouseover",O,!0),s.globalThis.removeEventListener("mouseup",w,!0)};h.hooks.init.tap(t.tag,function(){var Y=u.context.contextService.getDomElement();s.globalThis.navigator.msPointerEnabled?(Y.style.msContentZooming="none",Y.style.msTouchAction="none"):m.supportsPointerEvents&&(Y.style.touchAction="none"),m.supportsPointerEvents?R(Y):z(Y),m.supportsTouchEvents&&B(Y),g.useNativeClickEvent&&Y.addEventListener("click",D,!0),Y.addEventListener("wheel",k,{passive:!0,capture:!0})}),h.hooks.destroy.tap(t.tag,function(){var Y=u.context.contextService.getDomElement();s.globalThis.navigator.msPointerEnabled?(Y.style.msContentZooming="",Y.style.msTouchAction=""):m.supportsPointerEvents&&(Y.style.touchAction=""),m.supportsPointerEvents?j(Y):G(Y),m.supportsTouchEvents&&V(Y),g.useNativeClickEvent&&Y.removeEventListener("click",D,!0),Y.removeEventListener("wheel",k,!0)})}}])}();y.tag="DOMInteraction";var b=function(t){function i(){var a;s9(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=f(this,i,[].concat(u)),a.name="dom-interaction",a}return p(i,t),r(i,[{key:"init",value:function(){this.addRenderingPlugin(new y)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Wf);function x(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},S(t)}function T(t,i){if(S(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(S(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function A(t){var i=T(t,"string");return S(i)=="symbol"?i:i+""}function E(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,A(s.key),s)}}function L(t,i,a){return i&&E(t.prototype,i),a&&E(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},I(t)}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(N=function(){return!!t})()}function F(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t,i){if(i&&(S(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}function X(t,i,a){return i=I(i),W(t,N()?Reflect.construct(i,a||[],I(t).constructor):i.apply(t,a))}function $(t,i){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$(t,i)}function K(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&$(t,i)}var et="g-canvas-camera",at=function(){function t(){x(this,t),this.displayObjectHTMLElementMap=new WeakMap}return L(t,[{key:"joinTransformMatrix",value:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([a[0],a[1],a[4],a[5],a[12]+s[0],a[13]+s[1]].join(","),")")}},{key:"apply",value:function(a,s){var u=this,h=a.camera,v=a.renderingContext,g=a.renderingService;this.context=a;var m=v.root.ownerDocument.defaultView,_=m.context.eventService.nativeHTMLMap,w=function(R,B){B.style.transform=u.joinTransformMatrix(R.getWorldTransform(),R.getOrigin())},M=function(R){var B=R.target;if(B.nodeName===Xt.HTML){u.$camera||(u.$camera=u.createCamera(h));var z=u.getOrCreateEl(B);u.$camera.appendChild(z),Object.keys(B.attributes).forEach(function(j){u.updateAttribute(j,B)}),w(B,z),_.set(z,B)}},O=function(R){var B=R.target;if(B.nodeName===Xt.HTML&&u.$camera){var z=u.getOrCreateEl(B);z&&(z.remove(),_.delete(z))}},C=function(R){var B=R.target;if(B.nodeName===Xt.HTML){var z=R.attrName;u.updateAttribute(z,B)}},P=function(R){var B=R.target,z=B.nodeName===Xt.FRAGMENT?B.childNodes:[B];z.forEach(function(j){if(j.nodeName===Xt.HTML){var V=u.getOrCreateEl(j);w(j,V)}})},k=function(){if(u.$camera){var R=u.context.config,B=R.width,z=R.height;u.$camera.parentElement.style.width="".concat(B||0,"px"),u.$camera.parentElement.style.height="".concat(z||0,"px")}};g.hooks.init.tap(t.tag,function(){m.addEventListener(il.RESIZE,k),m.addEventListener(Jr.MOUNTED,M),m.addEventListener(Jr.UNMOUNTED,O),m.addEventListener(Jr.ATTR_MODIFIED,C),m.addEventListener(Jr.BOUNDS_CHANGED,P)}),g.hooks.endFrame.tap(t.tag,function(){u.$camera&&v.renderReasons.has(Wd.CAMERA_CHANGED)&&(u.$camera.style.transform=u.joinTransformMatrix(h.getOrthoMatrix()))}),g.hooks.destroy.tap(t.tag,function(){u.$camera&&u.$camera.remove(),m.removeEventListener(il.RESIZE,k),m.removeEventListener(Jr.MOUNTED,M),m.removeEventListener(Jr.UNMOUNTED,O),m.removeEventListener(Jr.ATTR_MODIFIED,C),m.removeEventListener(Jr.BOUNDS_CHANGED,P)})}},{key:"createCamera",value:function(a){var s=this.context.config,u=s.document,h=s.width,v=s.height,g=this.context.contextService.getDomElement(),m=g.parentNode;if(m){var _=et,w=m.querySelector("#".concat(_));if(!w){var M=(u||document).createElement("div");M.style.overflow="hidden",M.style.pointerEvents="none",M.style.position="absolute",M.style.left="0px",M.style.top="0px",M.style.width="".concat(h||0,"px"),M.style.height="".concat(v||0,"px");var O=(u||document).createElement("div");w=O,O.id=_,O.style.position="absolute",O.style.left="".concat(g.offsetLeft||0,"px"),O.style.top="".concat(g.offsetTop||0,"px"),O.style.transformOrigin="left top",O.style.transform=this.joinTransformMatrix(a.getOrthoMatrix()),O.style.pointerEvents="none",O.style.width="100%",O.style.height="100%",M.appendChild(O),m.appendChild(M)}return w}return null}},{key:"getOrCreateEl",value:function(a){var s=this.context.config.document,u=this.displayObjectHTMLElementMap.get(a);return u||(u=(s||document).createElement("div"),a.parsedStyle.$el=u,this.displayObjectHTMLElementMap.set(a,u),a.id&&(u.id=a.id),a.name&&u.setAttribute("name",a.name),a.className&&(u.className=a.className),u.style.position="absolute",u.style["will-change"]="transform",u.style.transform=this.joinTransformMatrix(a.getWorldTransform(),a.getOrigin())),u}},{key:"updateAttribute",value:function(a,s){var u=this.getOrCreateEl(s);switch(a){case"innerHTML":var h=s.parsedStyle.innerHTML;zi(h)?u.innerHTML=h:(u.innerHTML="",u.appendChild(h));break;case"x":u.style.left="".concat(s.parsedStyle.x,"px");break;case"y":u.style.top="".concat(s.parsedStyle.y,"px");break;case"transformOrigin":var v=s.parsedStyle.transformOrigin;u.style["transform-origin"]="".concat(v[0].buildCSSText(null,null,"")," ").concat(v[1].buildCSSText(null,null,""));break;case"width":var g=s.parsedStyle.width;u.style.width=yn(g)?"".concat(g,"px"):g.toString();break;case"height":var m=s.parsedStyle.height;u.style.height=yn(m)?"".concat(m,"px"):m.toString();break;case"zIndex":var _=s.parsedStyle.zIndex;u.style["z-index"]="".concat(_);break;case"visibility":var w=s.parsedStyle.visibility;u.style.visibility=w;break;case"pointerEvents":var M=s.parsedStyle.pointerEvents,O=M===void 0?"auto":M;u.style.pointerEvents=O;break;case"opacity":var C=s.parsedStyle.opacity;u.style.opacity="".concat(C);break;case"fill":var P=s.parsedStyle.fill,k="";E0(P)?P.isNone?k="transparent":k=s.getAttribute("fill"):Array.isArray(P)?k=s.getAttribute("fill"):Kf(P),u.style.background=k;break;case"stroke":var D=s.parsedStyle.stroke,R="";E0(D)?D.isNone?R="transparent":R=s.getAttribute("stroke"):Array.isArray(D)?R=s.getAttribute("stroke"):Kf(D),u.style["border-color"]=R,u.style["border-style"]="solid";break;case"lineWidth":var B=s.parsedStyle.lineWidth;u.style["border-width"]="".concat(B||0,"px");break;case"lineDash":u.style["border-style"]="dashed";break;case"filter":var z=s.style.filter;u.style.filter=z;break;default:!Ar(s.style[a])&&s.style[a]!==""&&(u.style[a]=s.style[a])}}}])}();at.tag="HTMLRendering";var ot=function(t){function i(){var a;x(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=X(this,i,[].concat(u)),a.name="html-renderer",a}return K(i,t),L(i,[{key:"init",value:function(){this.addRenderingPlugin(new at)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(Wf);function ht(){"use strict";ht=function(){return i};var t,i={},a=Object.prototype,s=a.hasOwnProperty,u=Object.defineProperty||function(q,H,U){q[H]=U.value},h=typeof Symbol=="function"?Symbol:{},v=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",m=h.toStringTag||"@@toStringTag";function _(q,H,U){return Object.defineProperty(q,H,{value:U,enumerable:!0,configurable:!0,writable:!0}),q[H]}try{_({},"")}catch(q){_=function(U,J,st){return U[J]=st}}function w(q,H,U,J){var st=H&&H.prototype instanceof R?H:R,ut=Object.create(st.prototype),mt=new lt(J||[]);return u(ut,"_invoke",{value:tt(q,U,mt)}),ut}function M(q,H,U){try{return{type:"normal",arg:q.call(H,U)}}catch(J){return{type:"throw",arg:J}}}i.wrap=w;var O="suspendedStart",C="suspendedYield",P="executing",k="completed",D={};function R(){}function B(){}function z(){}var j={};_(j,v,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(ft([])));G&&G!==a&&s.call(G,v)&&(j=G);var Y=z.prototype=R.prototype=Object.create(j);function Z(q){["next","throw","return"].forEach(function(H){_(q,H,function(U){return this._invoke(H,U)})})}function Q(q,H){function U(st,ut,mt,xt){var Ct=M(q[st],q,ut);if(Ct.type!=="throw"){var kt=Ct.arg,jt=kt.value;return jt&&sd(jt)=="object"&&s.call(jt,"__await")?H.resolve(jt.__await).then(function(Bt){U("next",Bt,mt,xt)},function(Bt){U("throw",Bt,mt,xt)}):H.resolve(jt).then(function(Bt){kt.value=Bt,mt(kt)},function(Bt){return U("throw",Bt,mt,xt)})}xt(Ct.arg)}var J;u(this,"_invoke",{value:function(ut,mt){function xt(){return new H(function(Ct,kt){U(ut,mt,Ct,kt)})}return J=J?J.then(xt,xt):xt()}})}function tt(q,H,U){var J=O;return function(st,ut){if(J===P)throw Error("Generator is already running");if(J===k){if(st==="throw")throw ut;return{value:t,done:!0}}for(U.method=st,U.arg=ut;;){var mt=U.delegate;if(mt){var xt=rt(mt,U);if(xt){if(xt===D)continue;return xt}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(J===O)throw J=k,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);J=P;var Ct=M(q,H,U);if(Ct.type==="normal"){if(J=U.done?k:C,Ct.arg===D)continue;return{value:Ct.arg,done:U.done}}Ct.type==="throw"&&(J=k,U.method="throw",U.arg=Ct.arg)}}}function rt(q,H){var U=H.method,J=q.iterator[U];if(J===t)return H.delegate=null,U==="throw"&&q.iterator.return&&(H.method="return",H.arg=t,rt(q,H),H.method==="throw")||U!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+U+"' method")),D;var st=M(J,q.iterator,H.arg);if(st.type==="throw")return H.method="throw",H.arg=st.arg,H.delegate=null,D;var ut=st.arg;return ut?ut.done?(H[q.resultName]=ut.value,H.next=q.nextLoc,H.method!=="return"&&(H.method="next",H.arg=t),H.delegate=null,D):ut:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,D)}function ct(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function nt(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function lt(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ct,this),this.reset(!0)}function ft(q){if(q||q===""){var H=q[v];if(H)return H.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var U=-1,J=function st(){for(;++U<q.length;)if(s.call(q,U))return st.value=q[U],st.done=!1,st;return st.value=t,st.done=!0,st};return J.next=J}}throw new TypeError(sd(q)+" is not iterable")}return B.prototype=z,u(Y,"constructor",{value:z,configurable:!0}),u(z,"constructor",{value:B,configurable:!0}),B.displayName=_(z,m,"GeneratorFunction"),i.isGeneratorFunction=function(q){var H=typeof q=="function"&&q.constructor;return!!H&&(H===B||(H.displayName||H.name)==="GeneratorFunction")},i.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,z):(q.__proto__=z,_(q,m,"GeneratorFunction")),q.prototype=Object.create(Y),q},i.awrap=function(q){return{__await:q}},Z(Q.prototype),_(Q.prototype,g,function(){return this}),i.AsyncIterator=Q,i.async=function(q,H,U,J,st){st===void 0&&(st=Promise);var ut=new Q(w(q,H,U,J),st);return i.isGeneratorFunction(H)?ut:ut.next().then(function(mt){return mt.done?mt.value:ut.next()})},Z(Y),_(Y,m,"Generator"),_(Y,v,function(){return this}),_(Y,"toString",function(){return"[object Generator]"}),i.keys=function(q){var H=Object(q),U=[];for(var J in H)U.push(J);return U.reverse(),function st(){for(;U.length;){var ut=U.pop();if(ut in H)return st.value=ut,st.done=!1,st}return st.done=!0,st}},i.values=ft,lt.prototype={constructor:lt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(nt),!H)for(var U in this)U.charAt(0)==="t"&&s.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=t)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function J(kt,jt){return mt.type="throw",mt.arg=H,U.next=kt,jt&&(U.method="next",U.arg=t),!!jt}for(var st=this.tryEntries.length-1;st>=0;--st){var ut=this.tryEntries[st],mt=ut.completion;if(ut.tryLoc==="root")return J("end");if(ut.tryLoc<=this.prev){var xt=s.call(ut,"catchLoc"),Ct=s.call(ut,"finallyLoc");if(xt&&Ct){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}else if(xt){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0)}else{if(!Ct)throw Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}}}},abrupt:function(H,U){for(var J=this.tryEntries.length-1;J>=0;--J){var st=this.tryEntries[J];if(st.tryLoc<=this.prev&&s.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var ut=st;break}}ut&&(H==="break"||H==="continue")&&ut.tryLoc<=U&&U<=ut.finallyLoc&&(ut=null);var mt=ut?ut.completion:{};return mt.type=H,mt.arg=U,ut?(this.method="next",this.next=ut.finallyLoc,D):this.complete(mt)},complete:function(H,U){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&U&&(this.next=U),D},finish:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===H)return this.complete(J.completion,J.afterLoc),nt(J),D}},catch:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===H){var st=J.completion;if(st.type==="throw"){var ut=st.arg;nt(J)}return ut}}throw Error("illegal catch attempt")},delegateYield:function(H,U,J){return this.delegate={iterator:ft(H),resultName:U,nextLoc:J},this.method==="next"&&(this.arg=t),D}},i}function yt(t,i,a,s,u,h,v){try{var g=t[h](v),m=g.value}catch(_){return void a(_)}g.done?i(m):Promise.resolve(m).then(s,u)}function vt(t){return function(){var i=this,a=arguments;return new Promise(function(s,u){var h=t.apply(i,a);function v(m){yt(h,s,u,v,g,"next",m)}function g(m){yt(h,s,u,v,g,"throw",m)}v(void 0)})}}var bt=function(){function t(i){nI(this,t),this.renderingContext=i.renderingContext,this.canvasConfig=i.config}return hT(t,[{key:"init",value:function(){var a=this.canvasConfig,s=a.container,u=a.canvas;if(u)this.$canvas=u,s&&u.parentElement!==s&&s.appendChild(u),this.$container=u.parentElement,this.canvasConfig.container=this.$container;else if(s&&(this.$container=zi(s)?document.getElementById(s):s,this.$container)){var h=document.createElement("canvas");this.$container.appendChild(h),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=h}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(a,s){var u=this.canvasConfig.devicePixelRatio;this.dpr=u,this.$canvas&&(this.$canvas.width=this.dpr*a,this.$canvas.height=this.dpr*s,la(this.$canvas,a,s)),this.renderingContext.renderReasons.add(Wd.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(a){this.$container&&this.$container.style&&(this.$container.style.cursor=a)}},{key:"toDataURL",value:function(){var i=vt(ht().mark(function s(){var u,h,v,g=arguments;return ht().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return u=g.length>0&&g[0]!==void 0?g[0]:{},h=u.type,v=u.encoderOptions,_.abrupt("return",this.context.canvas.toDataURL(h,v));case 3:case"end":return _.stop()}},s,this)}));function a(){return i.apply(this,arguments)}return a}()}])}(),Mt=function(t){function i(){var a;nI(this,i);for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];return a=y7(this,i,[].concat(u)),a.name="canvas-context-register",a}return aI(i,t),hT(i,[{key:"init",value:function(){this.context.ContextService=bt}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(Wf),St=function(t){function i(a){var s;return nI(this,i),s=y7(this,i,[a]),s.registerPlugin(new Mt),s.registerPlugin(new fet),s.registerPlugin(new C7),s.registerPlugin(new yet),s.registerPlugin(new b),s.registerPlugin(new Qtt),s.registerPlugin(new ot),s}return aI(i,t),hT(i)}(gW);function Pt(t){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Pt(t)}function Et(t,i){if(Pt(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,i||"default");if(Pt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}function Lt(t){var i=Et(t,"string");return Pt(i)=="symbol"?i:i+""}function zt(t,i,a){return(i=Lt(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}function Ht(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),a.push.apply(a,s)}return a}function qt(t){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?Ht(Object(a),!0).forEach(function(s){zt(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ht(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function ne(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function Ce(t,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Lt(s.key),s)}}function Qe(t,i,a){return i&&Ce(t.prototype,i),a&&Ce(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},jr(t)}function wn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(i){}return(wn=function(){return!!t})()}function dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t,i){if(i&&(Pt(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}function Mr(t,i,a){return i=jr(i),Ge(t,wn()?Reflect.construct(i,a||[],jr(t).constructor):i.apply(t,a))}function Pe(t,i){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Pe(t,i)}function fr(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&Pe(t,i)}function _n(){"use strict";_n=function(){return i};var t,i={},a=Object.prototype,s=a.hasOwnProperty,u=Object.defineProperty||function(q,H,U){q[H]=U.value},h=typeof Symbol=="function"?Symbol:{},v=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",m=h.toStringTag||"@@toStringTag";function _(q,H,U){return Object.defineProperty(q,H,{value:U,enumerable:!0,configurable:!0,writable:!0}),q[H]}try{_({},"")}catch(q){_=function(U,J,st){return U[J]=st}}function w(q,H,U,J){var st=H&&H.prototype instanceof R?H:R,ut=Object.create(st.prototype),mt=new lt(J||[]);return u(ut,"_invoke",{value:tt(q,U,mt)}),ut}function M(q,H,U){try{return{type:"normal",arg:q.call(H,U)}}catch(J){return{type:"throw",arg:J}}}i.wrap=w;var O="suspendedStart",C="suspendedYield",P="executing",k="completed",D={};function R(){}function B(){}function z(){}var j={};_(j,v,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(ft([])));G&&G!==a&&s.call(G,v)&&(j=G);var Y=z.prototype=R.prototype=Object.create(j);function Z(q){["next","throw","return"].forEach(function(H){_(q,H,function(U){return this._invoke(H,U)})})}function Q(q,H){function U(st,ut,mt,xt){var Ct=M(q[st],q,ut);if(Ct.type!=="throw"){var kt=Ct.arg,jt=kt.value;return jt&&Pt(jt)=="object"&&s.call(jt,"__await")?H.resolve(jt.__await).then(function(Bt){U("next",Bt,mt,xt)},function(Bt){U("throw",Bt,mt,xt)}):H.resolve(jt).then(function(Bt){kt.value=Bt,mt(kt)},function(Bt){return U("throw",Bt,mt,xt)})}xt(Ct.arg)}var J;u(this,"_invoke",{value:function(ut,mt){function xt(){return new H(function(Ct,kt){U(ut,mt,Ct,kt)})}return J=J?J.then(xt,xt):xt()}})}function tt(q,H,U){var J=O;return function(st,ut){if(J===P)throw Error("Generator is already running");if(J===k){if(st==="throw")throw ut;return{value:t,done:!0}}for(U.method=st,U.arg=ut;;){var mt=U.delegate;if(mt){var xt=rt(mt,U);if(xt){if(xt===D)continue;return xt}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(J===O)throw J=k,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);J=P;var Ct=M(q,H,U);if(Ct.type==="normal"){if(J=U.done?k:C,Ct.arg===D)continue;return{value:Ct.arg,done:U.done}}Ct.type==="throw"&&(J=k,U.method="throw",U.arg=Ct.arg)}}}function rt(q,H){var U=H.method,J=q.iterator[U];if(J===t)return H.delegate=null,U==="throw"&&q.iterator.return&&(H.method="return",H.arg=t,rt(q,H),H.method==="throw")||U!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+U+"' method")),D;var st=M(J,q.iterator,H.arg);if(st.type==="throw")return H.method="throw",H.arg=st.arg,H.delegate=null,D;var ut=st.arg;return ut?ut.done?(H[q.resultName]=ut.value,H.next=q.nextLoc,H.method!=="return"&&(H.method="next",H.arg=t),H.delegate=null,D):ut:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,D)}function ct(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function nt(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function lt(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ct,this),this.reset(!0)}function ft(q){if(q||q===""){var H=q[v];if(H)return H.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var U=-1,J=function st(){for(;++U<q.length;)if(s.call(q,U))return st.value=q[U],st.done=!1,st;return st.value=t,st.done=!0,st};return J.next=J}}throw new TypeError(Pt(q)+" is not iterable")}return B.prototype=z,u(Y,"constructor",{value:z,configurable:!0}),u(z,"constructor",{value:B,configurable:!0}),B.displayName=_(z,m,"GeneratorFunction"),i.isGeneratorFunction=function(q){var H=typeof q=="function"&&q.constructor;return!!H&&(H===B||(H.displayName||H.name)==="GeneratorFunction")},i.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,z):(q.__proto__=z,_(q,m,"GeneratorFunction")),q.prototype=Object.create(Y),q},i.awrap=function(q){return{__await:q}},Z(Q.prototype),_(Q.prototype,g,function(){return this}),i.AsyncIterator=Q,i.async=function(q,H,U,J,st){st===void 0&&(st=Promise);var ut=new Q(w(q,H,U,J),st);return i.isGeneratorFunction(H)?ut:ut.next().then(function(mt){return mt.done?mt.value:ut.next()})},Z(Y),_(Y,m,"Generator"),_(Y,v,function(){return this}),_(Y,"toString",function(){return"[object Generator]"}),i.keys=function(q){var H=Object(q),U=[];for(var J in H)U.push(J);return U.reverse(),function st(){for(;U.length;){var ut=U.pop();if(ut in H)return st.value=ut,st.done=!1,st}return st.done=!0,st}},i.values=ft,lt.prototype={constructor:lt,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(nt),!H)for(var U in this)U.charAt(0)==="t"&&s.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=t)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function J(kt,jt){return mt.type="throw",mt.arg=H,U.next=kt,jt&&(U.method="next",U.arg=t),!!jt}for(var st=this.tryEntries.length-1;st>=0;--st){var ut=this.tryEntries[st],mt=ut.completion;if(ut.tryLoc==="root")return J("end");if(ut.tryLoc<=this.prev){var xt=s.call(ut,"catchLoc"),Ct=s.call(ut,"finallyLoc");if(xt&&Ct){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}else if(xt){if(this.prev<ut.catchLoc)return J(ut.catchLoc,!0)}else{if(!Ct)throw Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return J(ut.finallyLoc)}}}},abrupt:function(H,U){for(var J=this.tryEntries.length-1;J>=0;--J){var st=this.tryEntries[J];if(st.tryLoc<=this.prev&&s.call(st,"finallyLoc")&&this.prev<st.finallyLoc){var ut=st;break}}ut&&(H==="break"||H==="continue")&&ut.tryLoc<=U&&U<=ut.finallyLoc&&(ut=null);var mt=ut?ut.completion:{};return mt.type=H,mt.arg=U,ut?(this.method="next",this.next=ut.finallyLoc,D):this.complete(mt)},complete:function(H,U){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&U&&(this.next=U),D},finish:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.finallyLoc===H)return this.complete(J.completion,J.afterLoc),nt(J),D}},catch:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var J=this.tryEntries[U];if(J.tryLoc===H){var st=J.completion;if(st.type==="throw"){var ut=st.arg;nt(J)}return ut}}throw Error("illegal catch attempt")},delegateYield:function(H,U,J){return this.delegate={iterator:ft(H),resultName:U,nextLoc:J},this.method==="next"&&(this.arg=t),D}},i}function Xr(t,i,a,s,u,h,v){try{var g=t[h](v),m=g.value}catch(_){return void a(_)}g.done?i(m):Promise.resolve(m).then(s,u)}function xn(t){return function(){var i=this,a=arguments;return new Promise(function(s,u){var h=t.apply(i,a);function v(m){Xr(h,s,u,v,g,"next",m)}function g(m){Xr(h,s,u,v,g,"throw",m)}v(void 0)})}}var kn=function(){function t(i){ne(this,t),this.dragndropPluginOptions=i}return Qe(t,[{key:"apply",value:function(a){var s=this,u=a.renderingService,h=a.renderingContext,v=h.root.ownerDocument,g=v.defaultView,m=function(w){var M=w.target,O=M===v,C=O&&s.dragndropPluginOptions.isDocumentDraggable?v:M.closest&&M.closest("[draggable=true]");if(C){var P=!1,k=w.timeStamp,D=[w.clientX,w.clientY],R=null,B=[w.clientX,w.clientY],z=function(){var V=xn(_n().mark(function G(Y){var Z,Q,tt,rt,ct,nt;return _n().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(P){ft.next=8;break}if(Z=Y.timeStamp-k,Q=bo([Y.clientX,Y.clientY],D),!(Z<=s.dragndropPluginOptions.dragstartTimeThreshold||Q<=s.dragndropPluginOptions.dragstartDistanceThreshold)){ft.next=5;break}return ft.abrupt("return");case 5:Y.type="dragstart",C.dispatchEvent(Y),P=!0;case 8:if(Y.type="drag",Y.dx=Y.clientX-B[0],Y.dy=Y.clientY-B[1],C.dispatchEvent(Y),B=[Y.clientX,Y.clientY],O){ft.next=21;break}return tt=s.dragndropPluginOptions.overlap==="pointer"?[Y.canvasX,Y.canvasY]:M.getBounds().center,ft.next=17,v.elementsFromPoint(tt[0],tt[1]);case 17:rt=ft.sent,ct=rt[rt.indexOf(M)+1],nt=(ct==null?void 0:ct.closest("[droppable=true]"))||(s.dragndropPluginOptions.isDocumentDroppable?v:null),R!==nt&&(R&&(Y.type="dragleave",Y.target=R,R.dispatchEvent(Y)),nt&&(Y.type="dragenter",Y.target=nt,nt.dispatchEvent(Y)),R=nt,R&&(Y.type="dragover",Y.target=R,R.dispatchEvent(Y)));case 21:case"end":return ft.stop()}},G)}));return function(Y){return V.apply(this,arguments)}}();g.addEventListener("pointermove",z);var j=function(G){if(P){G.detail={preventClick:!0};var Y=G.clone();R&&(Y.type="drop",Y.target=R,R.dispatchEvent(Y)),Y.type="dragend",C.dispatchEvent(Y),P=!1}g.removeEventListener("pointermove",z)};M.addEventListener("pointerup",j,{once:!0}),M.addEventListener("pointerupoutside",j,{once:!0})}};u.hooks.init.tap(t.tag,function(){g.addEventListener("pointerdown",m)}),u.hooks.destroy.tap(t.tag,function(){g.removeEventListener("pointerdown",m)})}}])}();kn.tag="Dragndrop";var wa=function(t){function i(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ne(this,i),a=Mr(this,i),a.name="dragndrop",a.options=s,a}return fr(i,t),Qe(i,[{key:"init",value:function(){this.addRenderingPlugin(new kn(qt({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(s){Object.assign(this.plugins[0].dragndropPluginOptions,s)}}])}(Wf),Us="*",hs=function(){function t(){this._events={}}return t.prototype.on=function(i,a,s){return this._events[i]||(this._events[i]=[]),this._events[i].push({callback:a,once:!!s}),this},t.prototype.once=function(i,a){return this.on(i,a,!0)},t.prototype.emit=function(i){for(var a=this,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];var h=this._events[i]||[],v=this._events[Us]||[],g=function(m){for(var _=m.length,w=0;w<_;w++)if(m[w]){var M=m[w],O=M.callback,C=M.once;C&&(m.splice(w,1),m.length===0&&delete a._events[i],_--,w--),O.apply(a,s)}};g(h),g(v)},t.prototype.off=function(i,a){if(!i)this._events={};else if(!a)delete this._events[i];else{for(var s=this._events[i]||[],u=s.length,h=0;h<u;h++)s[h].callback===a&&(s.splice(h,1),u--,h--);s.length===0&&delete this._events[i]}return this},t.prototype.getEvents=function(){return this._events},t}(),fd=hs;const $y=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]],kI={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},Tit={threshold:"threshold",quantize:"quantize",quantile:"quantile"},Oit={ordinal:"ordinal",band:"band",point:"point"},Ait={constant:"constant"};var qy=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function Cit(t,i,a){const{coordinates:s=[],title:u}=i,[,h]=Un("component",a),v=t.filter(({guide:w})=>w!==null),g=[],m=zit(i,t,a);if(g.push(...m),u){const{props:w}=h("title"),{defaultPosition:M,defaultOrientation:O,defaultOrder:C,defaultSize:P,defaultCrossPadding:k}=w,D=typeof u=="string"?{title:u}:u;g.push(Object.assign({type:"title",position:M,orientation:O,order:C,crossPadding:k[0],defaultSize:P},D))}return Dit(v,s).forEach(([w,M])=>{const{props:O}=h(w),{defaultPosition:C,defaultPlane:P="xy",defaultOrientation:k,defaultSize:D,defaultOrder:R,defaultLength:B,defaultPadding:z=[0,0],defaultCrossPadding:j=[0,0]}=O,V=Ft({},...M),{guide:G,field:Y}=V,Z=Array.isArray(G)?G:[G];for(const Q of Z){const[tt,rt]=Nit(w,C,k,Q,M,v,s);if(!tt&&!rt)continue;const ct=tt==="left"||tt==="right",nt=ct?z[1]:z[0],lt=ct?j[1]:j[0],{size:ft,order:q=R,length:H=B,padding:U=nt,crossPadding:J=lt}=Q;g.push(Object.assign(Object.assign({title:Y},Q),{defaultSize:D,length:H,position:tt,plane:P,orientation:rt,padding:U,order:q,crossPadding:J,size:ft,type:w,scales:M}))}}),g}function Bnt(t,i,a,s,u){const[h]=Un("component",s),{scaleInstances:v,scale:g,bbox:m}=t,_=qy(t,["scaleInstances","scale","bbox"]),w={bbox:m,library:s};return h(_)({coordinate:i,library:s,markState:u,scales:v,theme:a,value:w,scale:g})}function Pit(t){return t.map(i=>{const a=Ft(i,i.style);return delete a.style,a})}function Sot(t){return t.flatMap(i=>i.type=="group"?i.children:i)}function znt(t,i){const a=["left","right","bottom","top"];return nw(t,({type:h,position:v,group:g})=>a.includes(v)?g===void 0?h.startsWith("legend")?`legend-${v}`:Symbol("independent"):g==="independent"?Symbol("independent"):g:Symbol("independent")).flatMap(([,h])=>{if(h.length===1)return h[0];if(i!==void 0){const w=h.filter(k=>k.length!==void 0).map(k=>k.length),M=yl(w);if(M>i)return h.forEach(k=>k.group=Symbol("independent")),h;const O=i-M,C=h.length-w.length,P=O/C;h.forEach(k=>{k.length===void 0&&(k.length=P)})}const v=pn(h,w=>w.size),g=pn(h,w=>w.order),m=pn(h,w=>w.crossPadding),_=h[0].position;return{type:"group",size:v,order:g,position:_,children:h,crossPadding:m}})}function Eit(t,i){const a=["shape","size","color","opacity"],s=(O,C)=>O==="constant"&&C==="size",u=t.filter(({type:O,name:C})=>typeof O=="string"&&a.includes(C)&&!s(O,C)),h=u.filter(({type:O})=>O==="constant"),v=u.filter(({type:O})=>O!=="constant"),m=nw(v,O=>O.field?O.field:Symbol("independent")).map(([O,C])=>[O,[...C,...h]]).filter(([,O])=>O.some(C=>C.type!=="constant")),_=new Map(m);if(_.size===0)return[];const w=O=>O.sort(([C],[P])=>C.localeCompare(P));return Array.from(_).map(([,O])=>{const P=pw(O).sort((k,D)=>D.length-k.length).map(k=>({combination:k,option:k.map(D=>[D.name,kit(D)])}));for(const{option:k,combination:D}of P)if(!k.every(R=>R[1]==="constant")&&k.every(R=>R[1]==="discrete"||R[1]==="constant"))return["legendCategory",D];for(const[k,D]of $y)for(const{option:R,combination:B}of P)if(D.some(z=>pE(w(z),w(R))))return[k,B];return null}).filter(zn)}function kit(t){const{type:i}=t;return typeof i!="string"?null:i in kI?"continuous":i in Oit?"discrete":i in Tit?"distribution":i in Ait?"constant":null}function Lit(t,i){return t.map(a=>{const{name:s}=a;if(q6(i)||gk(i)||Q1(i)&&(zv(i)||J1(i)))return null;if(s.startsWith("x"))return zv(i)?["axisArc",[a]]:J1(i)?["axisLinear",[a]]:[Q1(i)?"axisY":"axisX",[a]];if(s.startsWith("y"))return zv(i)?["axisLinear",[a]]:J1(i)?["axisArc",[a]]:[Q1(i)?"axisX":"axisY",[a]];if(s.startsWith("z"))return["axisZ",[a]];if(s.startsWith("position")){if(eq(i))return["axisRadar",[a]];if(!zv(i))return["axisY",[a]]}return null}).filter(zn)}function Dit(t,i){const a=t.filter(s=>Cq(s));return[...Eit(a,i),...Lit(a,i)]}function _et(t){const i=uu(t,"polar");if(i.length){const s=i[i.length-1],{startAngle:u,endAngle:h}=er(s);return[u,h]}const a=uu(t,"radial");if(a.length){const s=a[a.length-1],{startAngle:u,endAngle:h}=le(s);return[u,h]}return[-Math.PI/2,Math.PI/2*3]}function Iit(t){const i=/position(\d*)/g.exec(t);return i?+i[1]:null}function Rit(t,i,a,s,u){const{name:h}=a[0];if(t==="axisRadar"){const v=s.filter(M=>M.name.startsWith("position")),g=Iit(h);if(h===v.slice(-1)[0].name||g===null)return[null,null];const[m,_]=_et(u);return["center",(_-m)/(v.length-1)*g+m]}if(t==="axisY"&&J$(u))return Q1(u)?["center","horizontal"]:["center","vertical"];if(t==="axisLinear"){const[v]=_et(u);return["center",v]}return t==="axisArc"?i[0]==="inner"?["inner",null]:["outer",null]:zv(u)?["center",null]:J1(u)?["center",null]:t==="axisX"&&tq(u)||t==="axisX"&&rq(u)?["top",null]:i}function Nit(t,i,a,s,u,h,v){const[g]=_et(v),m=[s.position||i,g!=null?g:a];return typeof t=="string"&&t.startsWith("axis")?Rit(t,m,u,h,v):typeof t=="string"&&t.startsWith("legend")&&zv(v)&&s.position==="center"?["center","vertical"]:m}function Bit(t,i,a=[]){return t==="x"?Q1(a)?`${i}Y`:`${i}X`:t==="y"?Q1(a)?`${i}X`:`${i}Y`:null}function zit(t,i,a){const[,s]=Un("component",a),{coordinates:u}=t;function h(v,g,m,_){const w=Bit(g,v,u);if(!_||!w)return;const{props:M}=s(w),{defaultPosition:O,defaultSize:C,defaultOrder:P,defaultCrossPadding:[k]}=M;return Object.assign(Object.assign({position:O,defaultSize:C,order:P,type:w,crossPadding:k},_),{scales:[m]})}return i.filter(v=>v.slider||v.scrollbar).flatMap(v=>{const{slider:g,scrollbar:m,name:_}=v;return[h("slider",_,v,g),h("scrollbar",_,v,m)]}).filter(v=>!!v)}function Fnt(t,i,a,s,u,h){const{type:v}=t;if(!["left","right","bottom","top"].includes(s)||typeof v!="string")return;const m=v;return(m.startsWith("axis")?Wit:m.startsWith("group")?Fit:m.startsWith("legendContinuous")?Hit:m==="legendCategory"?Yit:m.startsWith("slider")?Git:m==="title"?Vit:m.startsWith("scrollbar")?jit:()=>{})(t,i,a,s,u,h)}function Fit(t,i,a,s,u,h){const{children:v}=t,g=pn(v,_=>_.crossPadding);v.forEach(_=>_.crossPadding=g),v.forEach(_=>Fnt(_,i,a,s,u,h));const m=pn(v,_=>_.size);t.size=m,v.forEach(_=>_.size=m)}function jit(t,i,a,s,u,h){const{trackSize:v=6}=Ft({},u.scrollbar,t);t.size=v}function Vit(t,i,a,s,u,h){const v=Ft({},u.title,t),{title:g,subtitle:m,spacing:_=0}=v,w=qy(v,["title","subtitle","spacing"]);if(g){const M=Te(w,"title"),O=f9(g,M);t.size=O.height}if(m){const M=Te(w,"subtitle"),O=f9(m,M);t.size+=_+O.height}}function Git(t,i,a,s,u,h){const v=()=>{const{slider:w}=u;return Ft({},w,t)},{trackSize:g,handleIconSize:m}=v(),_=Math.max(g,m*2.4);t.size=_}function Wit(t,i,a,s,u,h){var v;t.transform=t.transform||[{type:"hide"}];const g=s==="left"||s==="right",m=jnt(t,s,u),{tickLength:_=0,labelSpacing:w=0,titleSpacing:M=0,labelAutoRotate:O}=m,C=qy(m,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),P=l9(t,h),k=u9(C,P),D=_+w;if(k&&k.length){const B=pn(k,j=>j.width),z=pn(k,j=>j.height);if(g)t.size=B+D;else{const{tickFilter:j,labelTransform:V}=t;$it(P,k,i,a,j)&&!V&&O!==!1&&O!==null?(t.labelTransform="rotate(90)",t.size=B+D):(t.labelTransform=(v=t.labelTransform)!==null&&v!==void 0?v:"rotate(0)",t.size=z+D)}}else t.size=_;const R=c9(C);R&&(g?t.size+=M+R.width:t.size+=M+R.height)}function Hit(t,i,a,s,u,h){const g=(()=>{const{legendContinuous:j}=u;return Ft({},j,t)})(),{labelSpacing:m=0,titleSpacing:_=0}=g,w=qy(g,["labelSpacing","titleSpacing"]),M=s==="left"||s==="right",O=Te(w,"ribbon"),{size:C}=O,P=Te(w,"handleIcon"),{size:k}=P,D=Math.max(C,k*2.4);t.size=D;const R=l9(t,h),B=u9(w,R);if(B){const j=M?"width":"height",V=pn(B,G=>G[j]);t.size+=V+m}const z=c9(w);z&&(M?t.size=Math.max(t.size,z.width):t.size+=_+z.height)}function Yit(t,i,a,s,u,h){const g=(()=>{const{legendCategory:lt}=u,{title:ft}=t,[q,H]=Array.isArray(ft)?[ft,void 0]:[void 0,ft];return Ft({title:q},lt,Object.assign(Object.assign({},t),{title:H}))})(),{itemSpacing:m,itemMarkerSize:_,titleSpacing:w,rowPadding:M,colPadding:O,maxCols:C=1/0,maxRows:P=1/0}=g,k=qy(g,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:D,length:R}=t,B=lt=>Math.min(lt,P),z=lt=>Math.min(lt,C),j=s==="left"||s==="right",V=R===void 0?i+(j?0:a[0]+a[1]):R,G=c9(k),Y=l9(t,h),Z=u9(k,Y,"itemLabel"),Q=Math.max(Z[0].height,_)+M,tt=(lt,ft=0)=>_+lt+m[0]+ft;j?(()=>{let lt=-1/0,ft=0,q=1,H=0,U=-1/0,J=-1/0;const st=G?G.height:0,ut=V-st;for(const{width:mt}of Z){const xt=tt(mt,O);lt=Math.max(lt,xt),ft+Q>ut?(q++,U=Math.max(U,H),J=Math.max(J,ft),H=1,ft=Q):(ft+=Q,H++)}q<=1&&(U=H,J=ft),t.size=lt*z(q),t.length=J+st,Ft(t,{cols:z(q),gridRow:U})})():typeof D=="number"?(()=>{const lt=Math.ceil(Z.length/D),ft=pn(Z,q=>tt(q.width))*D;t.size=Q*B(lt)-M,t.length=Math.min(ft,V)})():(()=>{let lt=1,ft=0,q=-1/0;for(const{width:H}of Z){const U=tt(H,O);ft+U>V?(q=Math.max(q,ft),ft=U,lt++):ft+=U}lt===1&&(q=ft),t.size=Q*B(lt)-M,t.length=q})(),G&&(j?t.size=Math.max(t.size,G.width):t.size+=w+G.height)}function l9(t,i){const[a]=Un("scale",i),{scales:s,tickCount:u,tickMethod:h}=t,v=s.find(g=>g.type!=="constant"&&g.type!=="identity");return u!==void 0&&(v.tickCount=u),h!==void 0&&(v.tickMethod=h),a(v)}function u9(t,i,a="label"){const{labelFormatter:s,tickFilter:u,label:h=!0}=t,v=qy(t,["labelFormatter","tickFilter","label"]);if(!h)return null;const g=Uit(i,s,u),m=Te(v,a),_=g.map((O,C)=>Object.fromEntries(Object.entries(m).map(([P,k])=>[P,typeof k=="function"?k(O,C):k]))),w=g.map((O,C)=>{const P=_[C];return f9(O,P)});if(!_.some(O=>O.transform)){const O=g.map((C,P)=>P);t.indexBBox=new Map(O.map(C=>[C,[g[C],w[C]]]))}return w}function c9(t){const i=_=>_===!1||_===null,{title:a}=t,s=qy(t,["title"]);if(i(a)||a===void 0)return null;const u=Te(s,"title"),{direction:h,transform:v}=u,g=Array.isArray(a)?a.join(","):a;return typeof g!="string"?null:f9(g,Object.assign(Object.assign({},u),{transform:v||(h==="vertical"?"rotate(-90)":"")}))}function jnt(t,i,a){const{title:s}=t,[u,h]=Array.isArray(s)?[s,void 0]:[void 0,s],{axis:v,[`axis${uo(i)}`]:g}=a;return Ft({title:u},v,g,Object.assign(Object.assign({},t),{title:h}))}function Vnt(t,i){const a=t.getTicks?t.getTicks():t.getOptions().domain;return i?a.filter(i):a}function Uit(t,i,a){const u=Vnt(t,a).map(v=>typeof v=="number"?bm(v):v),h=i?typeof i=="string"?Ph(i):i:t.getFormatter?t.getFormatter():v=>`${v}`;return u.map(h)}function Xit(t,i){return t.getBandWidth?t.getBandWidth(i)/2:0}function $it(t,i,a,s,u){if(yl(i,C=>C.width)>a)return!0;const v=t.clone();v.update({range:[0,a]});const g=Vnt(t,u),m=g.map(C=>v.map(C)+Xit(v,C)),_=g.map((C,P)=>P),w=-s[0],M=a+s[1],O=(C,P)=>{const{width:k}=P;return[C-k/2,C+k/2]};for(let C=0;C<_.length;C++){const P=m[C],[k,D]=O(P,i[C]);if(k<w||D>M)return!0;const R=m[C+1];if(R){const[B]=O(R,i[C+1]);if(D>B)return!0}}return!1}function f9(t,i){const a=qit(t),{filter:s}=i,u=qy(i,["filter"]);return a.attr(Object.assign(Object.assign({},u),{visibility:"none"})),a.getBBox()}function qit(t){return t instanceof li?t:new nl({style:{text:`${t}`}})}function Zit(t){const i=t.find(({type:u})=>u==="axisX"),a=t.find(({type:u})=>u==="axisY"),s=t.find(({type:u})=>u==="axisZ");i&&a&&s&&(i.plane="xy",a.plane="xy",s.plane="yz",s.origin=[i.bbox.x,i.bbox.y,0],s.eulerAngles=[0,-90,0],s.bbox.x=i.bbox.x,s.bbox.y=i.bbox.y,t.push(Object.assign(Object.assign({},i),{plane:"xz",showLabel:!1,showTitle:!1,origin:[i.bbox.x,i.bbox.y,0],eulerAngles:[-90,0,0]})),t.push(Object.assign(Object.assign({},a),{plane:"yz",showLabel:!1,showTitle:!1,origin:[a.bbox.x+a.bbox.width,a.bbox.y,0],eulerAngles:[0,-90,0]})),t.push(Object.assign(Object.assign({},s),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function Kit(t,i,a,s){var u,h;const{width:v,height:g,depth:m,x:_=0,y:w=0,z:M=0,inset:O=(u=a.inset)!==null&&u!==void 0?u:0,insetLeft:C=O,insetTop:P=O,insetBottom:k=O,insetRight:D=O,margin:R=(h=a.margin)!==null&&h!==void 0?h:0,marginLeft:B=R,marginBottom:z=R,marginTop:j=R,marginRight:V=R,padding:G=a.padding,paddingBottom:Y=G,paddingLeft:Z=G,paddingRight:Q=G,paddingTop:tt=G}=Jit(t,i,a,s),rt=1/4,ct=(se,he,_e,We,ur)=>{const{marks:mr}=i;if(mr.length===0)return[We,ur];if(se-We-ur-se*rt>0)return[We,ur];const Ir=se*(1-rt);return[he==="auto"?Ir*We/(We+ur):We,_e==="auto"?Ir*ur/(We+ur):ur]},nt=se=>se==="auto"?20:se!=null?se:20,lt=nt(tt),ft=nt(Y),q=Gnt(t,g-lt-ft,[lt+j,ft+z],["left","right"],i,a,s),{paddingLeft:H,paddingRight:U}=q,J=v-B-V,[st,ut]=ct(J,Z,Q,H,U),mt=J-st-ut,xt=Gnt(t,mt,[st+B,ut+V],["bottom","top"],i,a,s),{paddingTop:Ct,paddingBottom:kt}=xt,jt=g-z-j,[Bt,Zt]=ct(jt,Y,tt,kt,Ct),Oe=jt-Bt-Zt;return{width:v,height:g,depth:m,insetLeft:C,insetTop:P,insetBottom:k,insetRight:D,innerWidth:mt,innerHeight:Oe,paddingLeft:st,paddingRight:ut,paddingTop:Zt,paddingBottom:Bt,marginLeft:B,marginBottom:z,marginTop:j,marginRight:V,x:_,y:w,z:M}}function Qit(t){const{height:i,width:a,padding:s=0,paddingLeft:u=s,paddingRight:h=s,paddingTop:v=s,paddingBottom:g=s,margin:m=16,marginLeft:_=m,marginRight:w=m,marginTop:M=m,marginBottom:O=m,inset:C=0,insetLeft:P=C,insetRight:k=C,insetTop:D=C,insetBottom:R=C}=t,B=V=>V==="auto"?20:V,z=a-B(u)-B(h)-_-w-P-k,j=i-B(v)-B(g)-M-O-D-R;return{width:z,height:j}}function Jit(t,i,a,s){const{coordinates:u}=i;if(!zv(u)&&!J1(u))return i;const h=t.filter(R=>typeof R.type=="string"&&R.type.startsWith("axis"));if(h.length===0)return i;const v=h.map(R=>{const B=R.type==="axisArc"?"arc":"linear";return jnt(R,B,a)}),g=pn(v,R=>{var B;return(B=R.labelSpacing)!==null&&B!==void 0?B:0}),m=h.flatMap((R,B)=>{const z=v[B],j=l9(R,s);return u9(z,j)}).filter(zn),_=pn(m,R=>R.height)+g,w=h.flatMap((R,B)=>{const z=v[B];return c9(z)}).filter(R=>R!==null),M=w.length===0?0:pn(w,R=>R.height),{inset:O=_,insetLeft:C=O,insetBottom:P=O,insetTop:k=O+M,insetRight:D=O}=i;return Object.assign(Object.assign({},i),{insetLeft:C,insetBottom:P,insetTop:k,insetRight:D})}function Gnt(t,i,a,s,u,h,v){const g=Bn(t,P=>P.position),{padding:m=h.padding,paddingLeft:_=m,paddingRight:w=m,paddingBottom:M=m,paddingTop:O=m}=u,C={paddingBottom:M,paddingLeft:_,paddingTop:O,paddingRight:w};for(const P of s){const k=`padding${uo(S2(P))}`,D=g.get(P)||[],R=C[k],B=Q=>{Q.size===void 0&&(Q.size=Q.defaultSize)},z=Q=>{Q.type==="group"?(Q.children.forEach(B),Q.size=pn(Q.children,tt=>tt.size)):Q.size=Q.defaultSize},j=Q=>{Q.size||(R!=="auto"?z(Q):(Fnt(Q,i,a,P,h,v),B(Q)))},V=Q=>{Q.type.startsWith("axis")&&Q.labelAutoHide===void 0&&(Q.labelAutoHide=!0)},G=P==="bottom"||P==="top",Y=rs(D,Q=>Q.order),Z=D.filter(Q=>Q.type.startsWith("axis")&&Q.order==Y);if(Z.length&&(Z[0].crossPadding=0),typeof R=="number")D.forEach(B),D.forEach(V);else if(D.length===0)C[k]=0;else{const Q=G?i+a[0]+a[1]:i,tt=znt(D,Q);tt.forEach(j);const rt=tt.reduce((ct,{size:nt,crossPadding:lt=12})=>ct+nt+lt,0);C[k]=rt}}return C}function tat(t,i,a){const s=Bn(t,G=>`${G.plane||"xy"}-${G.position}`),{paddingLeft:u,paddingRight:h,paddingTop:v,paddingBottom:g,marginLeft:m,marginTop:_,marginBottom:w,marginRight:M,innerHeight:O,innerWidth:C,insetBottom:P,insetLeft:k,insetRight:D,insetTop:R,height:B,width:z,depth:j}=a,V={xy:xet({width:z,height:B,paddingLeft:u,paddingRight:h,paddingTop:v,paddingBottom:g,marginLeft:m,marginTop:_,marginBottom:w,marginRight:M,innerHeight:O,innerWidth:C,insetBottom:P,insetLeft:k,insetRight:D,insetTop:R}),yz:xet({width:j,height:B,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:j,innerHeight:B,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:xet({width:z,height:j,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:z,innerHeight:j,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[G,Y]of s.entries()){const[Z,Q]=G.split("-"),tt=V[Z][Q],[rt,ct]=av(Y,nt=>typeof nt.type!="string"?!1:!!(Q==="center"||nt.type.startsWith("axis")&&["inner","outer"].includes(Q)));rt.length&&eat(rt,i,tt,Q),ct.length&&cat(Y,i,tt)}}function xet({width:t,height:i,paddingLeft:a,paddingRight:s,paddingTop:u,paddingBottom:h,marginLeft:v,marginTop:g,marginBottom:m,marginRight:_,innerHeight:w,innerWidth:M,insetBottom:O,insetLeft:C,insetRight:P,insetTop:k}){const D=a+v,R=u+g,B=s+_,z=h+m,j=t-v-_,V=[D+C,R+k,M-C-P,w-k-O,"center",null,null];return{top:[D,0,M,R,"vertical",!0,Ii,v,j],right:[t-B,R,B,w,"horizontal",!1,Ii],bottom:[D,i-z,M,z,"vertical",!1,Ii,v,j],left:[0,R,D,w,"horizontal",!0,Ii],"top-left":[D,0,M,R,"vertical",!0,Ii],"top-right":[D,0,M,R,"vertical",!0,Ii],"bottom-left":[D,i-z,M,z,"vertical",!1,Ii],"bottom-right":[D,i-z,M,z,"vertical",!1,Ii],center:V,inner:V,outer:V}}function eat(t,i,a,s){const[u,h]=av(t,v=>!!(typeof v.type=="string"&&v.type.startsWith("axis")));rat(u,i,a,s),fat(h,i,a)}function rat(t,i,a,s){s==="center"?Ky(i)?uat(t,i,a,s):ce(i)?aat(t,i,a):Uo(i)&&oat(t,i,a,t[0].orientation):s==="inner"?nat(t,i,a):s==="outer"&&iat(t,i,a)}function nat(t,i,a){const[s,u,,h]=a,[v,g]=i.getCenter(),[m]=Ui(i),_=h/2,w=m*_,M=v-w,O=g-w;for(let C=0;C<t.length;C++){const P=t[C];P.bbox={x:s+M,y:u+O,width:w*2,height:w*2}}}function iat(t,i,a){const[s,u,h,v]=a;for(const g of t)g.bbox={x:s,y:u,width:h,height:v}}function aat(t,i,a){const[s,u,h,v]=a;for(const g of t)g.bbox={x:s,y:u,width:h,height:v}}function oat(t,i,a,s){s==="horizontal"?lat(t,i,a):s==="vertical"&&sat(t,i,a)}function sat(t,i,a){const[s,u,,h]=a,v=new Array(t.length).fill(0),m=i.map(v).filter((_,w)=>w%2===0).map(_=>_+s);for(let _=0;_<t.length;_++){const w=t[_],M=m[_],O=m[_+1]-M;w.bbox={x:M,y:u,width:O,height:h}}}function lat(t,i,a){const[s,u,h]=a,v=new Array(t.length).fill(0),m=i.map(v).filter((_,w)=>w%2===1).map(_=>_+u);for(let _=0;_<t.length;_++){const w=t[_],M=m[_],O=m[_+1]-M;w.bbox={x:s,y:M,width:h,height:O}}}function uat(t,i,a,s){const[u,h,v,g]=a;for(const m of t)m.bbox={x:u,y:h,width:v,height:g},m.radar={index:t.indexOf(m),count:t.length}}function cat(t,i,a){const[s,u,h,v,g,m,_,w,M]=a,[O,C,P,k,D,R,B,z]=g==="vertical"?["y",u,"x",s,"height",v,"width",h]:["x",s,"y",u,"width",h,"height",v];t.sort((Q,tt)=>_==null?void 0:_(Q.order,tt.order));const j=Q=>Q==="title"||Q==="group"||Q.startsWith("legend"),V=(Q,tt,rt)=>rt===void 0?tt:j(Q)?rt:tt,G=(Q,tt,rt)=>rt===void 0?tt:j(Q)?rt:tt,Y=m?C+R:C;for(let Q=0,tt=Y;Q<t.length;Q++){const rt=t[Q],{crossPadding:ct=0,type:nt}=rt,{size:lt}=rt;rt.bbox={[O]:m?tt-lt-ct:tt+ct,[P]:G(nt,k,w),[D]:lt,[B]:V(nt,z,M)},tt+=(lt+ct)*(m?-1:1)}const Z=t.filter(Q=>Q.type==="group");for(const Q of Z){const{bbox:tt,children:rt}=Q,ct=tt[B],nt=ct/rt.length,lt=rt.reduce((J,st)=>{var ut;const mt=(ut=st.layout)===null||ut===void 0?void 0:ut.justifyContent;return mt||J},"flex-start"),ft=rt.map((J,st)=>{const{length:ut=nt,padding:mt=0}=J;return ut+(st===rt.length-1?0:mt)}),q=yl(ft),H=ct-q,U=lt==="flex-start"?0:lt==="center"?H/2:H;for(let J=0,st=tt[P]+U;J<rt.length;J++){const ut=rt[J],{padding:mt=0}=ut,xt=J===rt.length-1?0:mt;ut.bbox={[D]:tt[D],[O]:tt[O],[P]:st,[B]:ft[J]-xt},Ft(ut,{layout:{justifyContent:lt}}),st+=ft[J]}}}function fat(t,i,a){if(t.length===0)return;const[s,u,h,v]=a,[g]=Ui(i),m=v/2*g/Math.sqrt(2),_=s+h/2,w=u+v/2;for(let M=0;M<t.length;M++){const O=t[M];O.bbox={x:_-m,y:w-m,width:m*2,height:m*2}}}var op=function(t,i,a,s){function u(h){return h instanceof a?h:new a(function(v){v(h)})}return new(a||(a=Promise))(function(h,v){function g(w){try{_(s.next(w))}catch(M){v(M)}}function m(w){try{_(s.throw(w))}catch(M){v(M)}}function _(w){w.done?h(w.value):u(w.value).then(g,m)}_((s=s.apply(t,i||[])).next())})},Zy=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};function wet(t,i,a){var s;return op(this,void 0,void 0,function*(){const{library:u}=a,[h]=Un("composition",u),[v]=Un("interaction",u),g=new Set(Object.keys(u).map(nt=>{var lt;return(lt=/mark\.(.*)/.exec(nt))===null||lt===void 0?void 0:lt[1]}).filter(zn)),m=new Set(Object.keys(u).map(nt=>{var lt;return(lt=/component\.(.*)/.exec(nt))===null||lt===void 0?void 0:lt[1]}).filter(zn)),_=nt=>{const{type:lt}=nt;if(typeof lt=="function"){const{props:ft={}}=lt,{composite:q=!0}=ft;if(q)return"mark"}return typeof lt!="string"?lt:g.has(lt)||m.has(lt)?"mark":lt},w=nt=>_(nt)==="mark",M=nt=>_(nt)==="standardView",O=nt=>{const{type:lt}=nt;return typeof lt!="string"?!1:!!m.has(lt)},C=nt=>{if(M(nt))return[nt];const lt=_(nt);return h({type:lt,static:O(nt)})(nt)},P=[],k=new Map,D=new Map,R=[t],B=[];for(;R.length;){const nt=R.shift();if(M(nt)){const lt=D.get(nt),[ft,q]=lt?Unt(lt,nt,u):yield Hnt(nt,a);k.set(ft,nt),P.push(ft);const H=q.flatMap(C).map(U=>$6(U,u));if(R.push(...H),H.every(M)){const U=yield Promise.all(H.map(J=>Ynt(J,a)));lq(U);for(let J=0;J<H.length;J++){const st=H[J],ut=U[J];D.set(st,ut)}}}else{const lt=w(nt)?nt:yield Znt(nt,a),ft=C(lt);Array.isArray(ft)?R.push(...ft):typeof ft=="function"&&B.push(ft())}}a.emitter.emit(Pn.BEFORE_PAINT);const z=new Map,j=new Map,V=[];i.selectAll(hd(AE)).data(P,nt=>nt.key).join(nt=>nt.append("g").attr("className",AE).attr("id",lt=>lt.key).call(Wnt).each(function(lt,ft,q){Tet(lt,ir(q),V,a),z.set(lt,q)}),nt=>nt.call(Wnt).each(function(lt,ft,q){Tet(lt,ir(q),V,a),j.set(lt,q)}),nt=>nt.each(function(lt,ft,q){const H=q.nameInteraction.values();for(const U of H)U.destroy()}).remove());const G=(nt,lt,ft)=>Array.from(nt.entries()).map(([q,H])=>{const U=ft||new Map,J=(mt,xt=Ct=>Ct)=>U.set(mt,xt),st=k.get(q),ut=dat(ir(H),st,a);return{view:q,container:H,options:st,setState:J,update:(mt,xt)=>op(this,void 0,void 0,function*(){const kt=XA(Array.from(U.values()))(st);return yield ut(kt,mt,()=>{rn(xt)&&lt(nt,xt,U)})})}}),Y=(nt=j,lt,ft)=>{var q;const H=G(nt,Y,ft);for(const U of H){const{options:J,container:st}=U,ut=st.nameInteraction;let mt=h9(J);lt&&(mt=mt.filter(xt=>lt.includes(xt[0])));for(const xt of mt){const[Ct,kt]=xt,jt=ut.get(Ct);if(jt&&((q=jt.destroy)===null||q===void 0||q.call(jt)),kt){const Zt=Met(U.view,Ct,kt,v)(U,H,a.emitter);ut.set(Ct,{destroy:Zt})}}}},Z=G(z,Y);for(const nt of Z){const{options:lt}=nt,ft=new Map;nt.container.nameInteraction=ft;for(const q of h9(lt)){const[H,U]=q;if(U){const st=Met(nt.view,H,U,v)(nt,Z,a.emitter);ft.set(H,{destroy:st})}}}Y();const{width:Q,height:tt}=t,rt=[];for(const nt of B){const lt=new Promise(ft=>op(this,void 0,void 0,function*(){for(const q of nt){const H=Object.assign({width:Q,height:tt},q);yield wet(H,i,a)}ft()}));rt.push(lt)}a.views=P,(s=a.animations)===null||s===void 0||s.forEach(nt=>nt==null?void 0:nt.cancel()),a.animations=V,a.emitter.emit(Pn.AFTER_PAINT);const ct=V.filter(zn).map(Cat).map(nt=>nt.finished);return Promise.all([...ct,...rt])})}function Wnt(t){t.style("transform",i=>`translate(${i.layout.x}, ${i.layout.y})`)}function hat(t){const[,i]=Un("interaction",t);return a=>{const[s,u]=a;try{return[s,i(s)]}catch(h){return[s,u.type]}}}function dat(t,i,a){const{library:s}=a,u=hat(s),h=m=>m[1]&&m[1].props&&m[1].props.reapplyWhenUpdate,g=h9(i).map(u).filter(h).map(m=>m[0]);return(m,_,w)=>op(this,void 0,void 0,function*(){const M=[],[O,C]=yield Hnt(m,a);Tet(O,t,M,a);for(const P of g.filter(k=>k!==_))vat(P,t,m,O,a);for(const P of C)wet(P,t,a);return w(),{options:m,view:O}})}function vat(t,i,a,s,u){var h;const{library:v}=u,[g]=Un("interaction",v),_=i.node().nameInteraction,w=h9(a).find(([k])=>k===t),M=_.get(t);if(!M||((h=M.destroy)===null||h===void 0||h.call(M),!w[1]))return;const O=Met(s,t,w[1],g),C={options:a,view:s,container:i.node(),update:k=>Promise.resolve(k)},P=O(C,[],u.emitter);_.set(t,{destroy:P})}function Hnt(t,i){return op(this,void 0,void 0,function*(){const{library:a}=i,s=yield gat(t,i),u=pat(s);t.interaction=u.interaction,t.coordinate=u.coordinate,t.marks=[...u.marks,...u.components];const h=$6(u,a),v=yield Ynt(h,i);return Unt(v,h,a)})}function pat(t){const{coordinate:i={},interaction:a={},style:s={},marks:u}=t,h=Zy(t,["coordinate","interaction","style","marks"]),v=u.map(O=>O.coordinate||{}),g=u.map(O=>O.interaction||{}),m=u.map(O=>O.viewStyle||{}),_=[...v,i].reduceRight((O,C)=>Ft(O,C),{}),w=[a,...g].reduce((O,C)=>Ft(O,C),{}),M=[...m,s].reduce((O,C)=>Ft(O,C),{});return Object.assign(Object.assign({},h),{marks:u,coordinate:_,interaction:w,style:M})}function gat(t,i){return op(this,void 0,void 0,function*(){const{library:a}=i,[s,u]=Un("mark",a),h=new Set(Object.keys(a).map(C=>{var P;return(P=/component\.(.*)/.exec(C))===null||P===void 0?void 0:P[1]}).filter(zn)),{marks:v}=t,g=[],m=[],_=[...v],{width:w,height:M}=Qit(t),O={options:t,width:w,height:M};for(;_.length;){const[C]=_.splice(0,1),P=yield Znt(C,i),{type:k=Jp("G2Mark type is required."),key:D}=P;if(h.has(k))m.push(P);else{const{props:R={}}=u(k),{composite:B=!0}=R;if(!B)g.push(P);else{const{data:z}=P,j=Object.assign(Object.assign({},P),{data:z&&(Array.isArray(z)?z:z.value)}),V=yield s(j,O),G=Array.isArray(V)?V:[V];_.unshift(...G.map((Y,Z)=>Object.assign(Object.assign({},Y),{key:`${D}-${Z}`})))}}}return Object.assign(Object.assign({},t),{marks:g,components:m})})}function Ynt(t,i){return op(this,void 0,void 0,function*(){const{library:a}=i,[s]=Un("theme",a),[,u]=Un("mark",a),{theme:h,marks:v,coordinates:g=[]}=t,m=s(qnt(h)),_=new Map;for(const M of v){const{type:O}=M,{props:C={}}=u(O),P=yield _$(M,C,i);if(P){const[k,D]=P;_.set(k,D)}}const w=Bn(Array.from(_.values()).flatMap(M=>M.channels),({scaleKey:M})=>M);for(const M of w.values()){const O=M.reduce((j,{scale:V})=>Ft(j,V),{}),{scaleKey:C}=M[0],{values:P}=M[0],k=Array.from(new Set(P.map(j=>j.field).filter(zn))),D=Ft({guide:{title:k.length===0?void 0:k},field:k[0]},O),{name:R}=M[0],B=M.flatMap(({values:j})=>j.map(V=>V.value)),z=Object.assign(Object.assign({},yk(R,B,D,g,m,a)),{uid:Symbol("scale"),key:C});M.forEach(j=>j.scale=z)}return _})}function Met(t,i,a,s){const u=t.theme,h=typeof i=="string"?u[i]||{}:{};return s(Ft(h,Object.assign({type:i},a)))}function Unt(t,i,a){var s;const[u]=Un("mark",a),[h]=Un("theme",a),[v]=Un("labelTransform",a),{key:g,frame:m=!1,theme:_,clip:w,style:M={},labelTransform:O=[]}=i,C=h(qnt(_)),P=Array.from(t.values()),k=oq(P,i),D=Pit(Cit(Lat(Array.from(k),P,t),i,a)),R=Kit(D,i,C,a),B=Q$(R,i,a),z=m?Ft({mainLineWidth:1,mainStroke:"#000"},M):M;tat(znt(D),B,R),Zit(D);const j=new Map(Array.from(t.values()).flatMap(Z=>{const{channels:Q}=Z;return Q.map(({scale:tt})=>[tt.uid,K6(tt,a)])}));aq(t,j);const V={};for(const Z of D){const{scales:Q=[]}=Z,tt=[];for(const rt of Q){const{name:ct,uid:nt}=rt,lt=(s=j.get(nt))!==null&&s!==void 0?s:K6(rt,a);tt.push(lt),ct==="y"&&lt.update(Object.assign(Object.assign({},lt.getOptions()),{xScale:V.x})),Z6(V,{[ct]:lt})}Z.scaleInstances=tt}const G=[];for(const[Z,Q]of t.entries()){const{children:tt,dataDomain:rt,modifier:ct,key:nt}=Z,{index:lt,channels:ft,tooltip:q}=Q,H=Object.fromEntries(ft.map(({name:se,scale:he})=>[se,he])),U=ma(H,({uid:se})=>j.get(se));Z6(V,U);const J=iq(ft,U),st=u(Z),[ut,mt,xt]=bat(st(lt,U,J,B)),Ct=rt||ut.length,kt=ct?ct(mt,Ct,R):[],jt=se=>{var he,_e;return(_e=(he=q.title)===null||he===void 0?void 0:he[se])===null||_e===void 0?void 0:_e.value},Bt=se=>q.items.map(he=>he[se]),Zt=ut.map((se,he)=>{const _e=Object.assign({points:mt[he],transform:kt[he],index:se,markKey:nt,viewKey:g},q&&{title:jt(se),items:Bt(se)});for(const[We,ur]of Object.entries(J))_e[We]=ur[se],xt&&(_e[`series${Jc(We)}`]=xt[he].map(mr=>ur[mr]));return xt&&(_e.seriesIndex=xt[he]),xt&&q&&(_e.seriesItems=xt[he].map(We=>Bt(We)),_e.seriesTitle=xt[he].map(We=>jt(We))),_e});Q.data=Zt,Q.index=ut;const Oe=tt==null?void 0:tt(Zt,U,R);G.push(...Oe||[])}return[{layout:R,theme:C,coordinate:B,markState:t,key:g,clip:w,scale:V,style:z,components:D,labelTransform:XA(O.map(v))},G]}function Tet(t,i,a,s){return op(this,void 0,void 0,function*(){const{library:u}=s,{components:h,theme:v,layout:g,markState:m,coordinate:_,key:w,style:M,clip:O,scale:C}=t,{x:P,y:k,width:D,height:R}=g,B=Zy(g,["x","y","width","height"]),z=["view","plot","main","content"],j=z.map((U,J)=>J),V=["a","margin","padding","inset"],G=z.map(U=>xo(Object.assign({},v.view,M),U)),Y=V.map(U=>Te(B,U)),Z=U=>U.style("x",J=>nt[J].x).style("y",J=>nt[J].y).style("width",J=>nt[J].width).style("height",J=>nt[J].height).each(function(J,st,ut){Dat(ir(ut),G[J])});let Q=0,tt=0,rt=D,ct=R;const nt=j.map(U=>{const J=Y[U],{left:st=0,top:ut=0,bottom:mt=0,right:xt=0}=J;return Q+=st,tt+=ut,rt-=st+xt,ct-=ut+mt,{x:Q,y:tt,width:rt,height:ct}});i.selectAll(hd(f2)).data(j.filter(U=>zn(G[U])),U=>z[U]).join(U=>U.append("rect").attr("className",f2).style("zIndex",-2).call(Z),U=>U.call(Z),U=>U.remove());const lt=Sat(m),ft=lt?{duration:lt[1]}:!1;for(const[,U]of nw(h,J=>`${J.type}-${J.position}`))U.forEach((J,st)=>J.index=st);const q=i.selectAll(hd(Rh)).data(h,U=>`${U.type}-${U.position}-${U.index}`).join(U=>U.append("g").style("zIndex",({zIndex:J})=>J||-1).attr("className",Rh).append(J=>Bnt(Ft({animate:ft,scale:C},J),_,v,u,m)),U=>U.transition(function(J,st,ut){const{preserve:mt=!1}=J;if(mt)return;const xt=Bnt(Ft({animate:ft,scale:C},J),_,v,u,m),{attributes:Ct}=xt,[kt]=ut.childNodes;return kt.update(Ct,!1)})).transitions();a.push(...q.flat().filter(zn));const H=i.selectAll(hd(I1)).data([g],()=>w).join(U=>U.append("rect").style("zIndex",0).style("fill","transparent").attr("className",I1).call(Knt).call(Jnt,Array.from(m.keys())).call(tit,O),U=>U.call(Jnt,Array.from(m.keys())).call(J=>lt?kat(J,lt):Knt(J)).call(tit,O)).transitions();a.push(...H.flat());for(const[U,J]of m.entries()){const{data:st}=J,{key:ut,class:mt,type:xt}=U,Ct=i.select(`#${ut}`),kt=Oat(U,J,t,s),jt=Aat(U,J,t,u),Bt=Pat(U,J,t,u),Zt=Eat(U,J,t,u),Oe=Mat(i,Ct,mt,"element"),se=Ct.selectAll(hd(ef)).selectFacetAll(Oe).data(st,he=>he.key,he=>he.groupKey).join(he=>he.append(kt).attr("className",ef).attr("markType",xt).transition(function(_e,We,ur){return jt(_e,[ur])}),he=>he.call(_e=>{const We=_e.parent(),ur=Q5(mr=>{const[on,Tr]=mr.getBounds().min;return[on,Tr]});_e.transition(function(mr,on,Tr){Tat(Tr,We,ur);const Ir=kt(mr,on),Xn=Bt(mr,[Tr],[Ir]);return Xn!==null||(Tr.nodeName===Ir.nodeName&&Ir.nodeName!=="g"?sw(Tr,Ir):(Tr.parentNode.replaceChild(Ir,Tr),Ir.className=ef,Ir.markType=xt,Ir.__data__=Tr.__data__)),Xn}).attr("markType",xt).attr("className",ef)}),he=>he.each(function(_e,We,ur){ur.__removed__=!0}).transition(function(_e,We,ur){return Zt(_e,[ur])}).remove(),he=>he.append(kt).attr("className",ef).attr("markType",xt).transition(function(_e,We,ur){const{__fromElements__:mr}=ur,on=Bt(_e,mr,[ur]);return new ca(mr,null,ur.parentNode).transition(on).remove(),on}),he=>he.transition(function(_e,We,ur){const on=new ca([],ur.__toData__,ur.parentNode).append(kt).attr("className",ef).attr("markType",xt).nodes();return Bt(_e,[ur],on)}).remove()).transitions();a.push(...se.flat())}yat(t,i,a,u,s)})}function yat(t,i,a,s,u){const[h]=Un("labelTransform",s),{markState:v,labelTransform:g}=t,m=i.select(hd(c2)).node(),_=new Map,w=new Map,M=Array.from(v.entries()).flatMap(([R,B])=>{const{labels:z=[],key:j}=R,V=wat(R,B,t,s,u),G=i.select(`#${j}`).selectAll(hd(ef)).nodes().filter(Y=>!Y.__removed__);return z.flatMap((Y,Z)=>{const{transform:Q=[]}=Y,tt=Zy(Y,["transform"]);return G.flatMap(rt=>{const ct=mat(tt,Z,rt);return ct.forEach(nt=>{_.set(nt,lt=>V(Object.assign(Object.assign({},lt),{element:rt}))),w.set(nt,Y)}),ct})})}),O=ir(m).selectAll(hd(CE)).data(M,R=>R.key).join(R=>R.append(B=>_.get(B)(B)).attr("className",CE),R=>R.each(function(B,z,j){const G=_.get(B)(B);sw(j,G)}),R=>R.remove()).nodes(),C=Bn(O,R=>w.get(R.__data__)),{coordinate:P,layout:k}=t,D={canvas:u.canvas,coordinate:P,layout:k};for(const[R,B]of C){const{transform:z=[]}=R;XA(z.map(h))(B,D)}g&&g(O,D)}function mat(t,i,a){const{seriesIndex:s,seriesKey:u,points:h,key:v,index:g}=a.__data__,m=xat(a);if(!s)return[Object.assign(Object.assign({},t),{key:`${v}-${i}`,bounds:m,index:g,points:h,dependentElement:a})];const _=_at(t),w=s.map((M,O)=>Object.assign(Object.assign({},t),{key:`${u[O]}-${i}`,bounds:[h[O]],index:M,points:h,dependentElement:a}));return _?_(w):w}function bat([t,i,a]){if(a)return[t,i,a];const s=[],u=[];for(let h=0;h<t.length;h++){const v=t[h],g=i[h];g.every(([m,_])=>zn(m)&&zn(_))&&(s.push(v),u.push(g))}return[s,u]}function _at(t){const{selector:i}=t;if(!i)return null;if(typeof i=="function")return i;if(i==="first")return a=>[a[0]];if(i==="last")return a=>[a[a.length-1]];throw new Error(`Unknown selector: ${i}`)}function xat(t){const i=t.cloneNode(),a=t.getAnimations();i.style.visibility="hidden",a.forEach(v=>{const g=v.effect.getKeyframes();i.attr(g[g.length-1])}),t.parentNode.appendChild(i);const s=i.getLocalBounds();i.destroy();const{min:u,max:h}=s;return[u,h]}function wat(t,i,a,s,u){const[h]=Un("shape",s),{data:v,encode:g}=t,{data:m,defaultLabelShape:_}=i,w=m.map(k=>k.points),M=ma(g,k=>k.value),{theme:O,coordinate:C}=a,P=Object.assign(Object.assign({},u),{document:QF(u),theme:O,coordinate:C});return k=>{const{index:D,points:R}=k,B=v[D],{formatter:z=J=>`${J}`,transform:j,style:V,render:G,selector:Y,element:Z}=k,Q=Zy(k,["formatter","transform","style","render","selector","element"]),tt=ma(Object.assign(Object.assign({},Q),V),J=>Xnt(J,B,D,v,{channel:M,element:Z})),{shape:rt=_,text:ct}=tt,nt=Zy(tt,["shape","text"]),lt=typeof z=="string"?Ph(z):z,ft=Object.assign(Object.assign({},nt),{text:lt(ct,B,D,v),datum:B}),q=Object.assign({type:`label.${rt}`,render:G},nt),H=h(q,P),U=$nt(O,"label",rt,"label");return H(R,ft,U,w)}}function Xnt(t,i,a,s,u){return typeof t=="function"?t(i,a,s,u):typeof t!="string"?t:tg(i)&&i[t]!==void 0?i[t]:t}function Sat(t){let i=-1/0,a=1/0;for(const[s,u]of t){const{animate:h={}}=s,{data:v}=u,{enter:g={},update:m={},exit:_={}}=h,{type:w,duration:M=300,delay:O=0}=m,{type:C,duration:P=300,delay:k=0}=g,{type:D,duration:R=300,delay:B=0}=_;for(const z of v){const{updateType:j=w,updateDuration:V=M,updateDelay:G=O,enterType:Y=C,enterDuration:Z=P,enterDelay:Q=k,exitDuration:tt=R,exitDelay:rt=B,exitType:ct=D}=z;(j===void 0||j)&&(i=Math.max(i,V+G),a=Math.min(a,G)),(ct===void 0||ct)&&(i=Math.max(i,tt+rt),a=Math.min(a,rt)),(Y===void 0||Y)&&(i=Math.max(i,Z+Q),a=Math.min(a,Q))}}return i===-1/0?null:[a,i-a]}function Mat(t,i,a,s){return t.node().parentElement.findAll(h=>h.style.facet!==void 0&&h.style.facet===a&&h!==i.node()).flatMap(h=>h.getElementsByClassName(s))}function Tat(t,i,a){if(!t.__facet__)return;const s=t.parentNode.parentNode,u=i.parentNode,[h,v]=a(s),[g,m]=a(u),_=`translate(${h-g}, ${v-m})`;VH(t,_),i.append(t)}function Oat(t,i,a,s){const{library:u}=s,[h]=Un("shape",u),{data:v,encode:g}=t,{defaultShape:m,data:_,shape:w}=i,M=ma(g,B=>B.value),O=_.map(B=>B.points),{theme:C,coordinate:P}=a,{type:k,style:D={}}=t,R=Object.assign(Object.assign({},s),{document:QF(s),coordinate:P,theme:C});return B=>{const{shape:z=m}=D,{shape:j=z,points:V,seriesIndex:G,index:Y}=B,Z=Zy(B,["shape","points","seriesIndex","index"]),Q=Object.assign(Object.assign({},Z),{index:Y}),tt=G?G.map(ft=>v[ft]):v[Y],rt=G||Y,ct=ma(D,ft=>Xnt(ft,tt,rt,v,{channel:M})),nt=w[j]?w[j](ct,R):h(Object.assign(Object.assign({},ct),{type:Qnt(t,j)}),R),lt=$nt(C,k,j,m);return nt(V,Q,lt,O)}}function $nt(t,i,a,s){if(typeof i!="string")return;const{color:u}=t,h=t[i]||{},v=h[a]||h[s];return Object.assign({color:u},v)}function Oet(t,i,a,s,u){var h,v;const[,g]=Un("shape",u),[m]=Un("animation",u),{defaultShape:_,shape:w}=a,{theme:M,coordinate:O}=s,P=`default${Jc(t)}Animation`,{[P]:k}=((h=w[_])===null||h===void 0?void 0:h.props)||g(Qnt(i,_)).props,{[t]:D={}}=M,R=((v=i.animate)===null||v===void 0?void 0:v[t])||{},B={coordinate:O};return(z,j,V)=>{const{[`${t}Type`]:G,[`${t}Delay`]:Y,[`${t}Duration`]:Z,[`${t}Easing`]:Q}=z,tt=Object.assign({type:G||k},R);if(!tt.type)return null;const nt=m(tt,B)(j,V,Ft(D,{delay:Y,duration:Z,easing:Q}));return Array.isArray(nt)?nt:[nt]}}function Aat(t,i,a,s){return Oet("enter",t,i,a,s)}function Cat(t){return t.finished.then(()=>{t.cancel()}),t}function Pat(t,i,a,s){return Oet("update",t,i,a,s)}function Eat(t,i,a,s){return Oet("exit",t,i,a,s)}function qnt(t={}){if(typeof t=="string")return{type:t};const{type:i="light"}=t,a=Zy(t,["type"]);return Object.assign(Object.assign({},a),{type:i})}function h9(t){const i={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:a={}}=t;return Object.entries(Ft(i,a)).reverse()}function Znt(t,i){return op(this,void 0,void 0,function*(){const{data:a}=t,s=Zy(t,["data"]);if(a==null)return t;const[,{data:u}]=yield o8([],{data:a},i);return Object.assign({data:u},s)})}function Knt(t){t.style("transform",i=>`translate(${i.paddingLeft+i.marginLeft}, ${i.paddingTop+i.marginTop})`).style("width",i=>i.innerWidth).style("height",i=>i.innerHeight)}function kat(t,i){const[a,s]=i;t.transition(function(u,h,v){const{transform:g,width:m,height:_}=v.style,{paddingLeft:w,paddingTop:M,innerWidth:O,innerHeight:C,marginLeft:P,marginTop:k}=u,D=[{transform:g,width:m,height:_},{transform:`translate(${w+P}, ${M+k})`,width:O,height:C}];return v.animate(D,{delay:a,duration:s,fill:"both"})})}function Qnt(t,i){const{type:a}=t;return typeof i=="string"?`${a}.${i}`:i}function Jnt(t,i){const a=h=>h.class!==void 0?`${h.class}`:"";t.nodes().length===0||(t.selectAll(hd(yF)).data(i,h=>h.key).join(h=>h.append("g").attr("className",yF).attr("id",v=>v.key).style("facet",a).style("fill","transparent").style("zIndex",v=>{var g;return(g=v.zIndex)!==null&&g!==void 0?g:0}),h=>h.style("facet",a).style("fill","transparent").style("zIndex",v=>{var g;return(g=v.zIndex)!==null&&g!==void 0?g:0}),h=>h.remove()),t.select(hd(c2)).node())||t.append("g").attr("className",c2).style("zIndex",0)}function hd(...t){return t.map(i=>`.${i}`).join("")}function tit(t,i){t.node()&&t.style("clipPath",a=>{if(!i)return null;const{paddingTop:s,paddingLeft:u,marginLeft:h,marginTop:v,innerWidth:g,innerHeight:m}=a;return new Rc({style:{x:u+h,y:s+v,width:g,height:m}})})}function Lat(t,i,a){var s;for(const[_]of a.entries())if(_.type==="cell")return t.filter(w=>w.name!=="shape");if(i.length!==1||t.some(_=>_.name==="shape"))return t;const{defaultShape:u}=i[0];if(!["point","line","rect","hollow"].includes(u))return t;const v={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},m={field:((s=t.find(_=>_.name==="color"))===null||s===void 0?void 0:s.field)||null,name:"shape",type:"constant",domain:[],range:[v[u]]};return[...t,m]}function Dat(t,i){for(const[a,s]of Object.entries(i))t.style(a,s)}function Iat(...t){return i=>t.reduce((a,s)=>s(a),i)}function Rat(t){const{style:i,scale:a,type:s}=t,u={},h=fi(i,"columnWidthRatio");return h&&s==="interval"&&(u.x=Object.assign(Object.assign({},a==null?void 0:a.x),{padding:1-h})),Object.assign(Object.assign({},t),{scale:Object.assign(Object.assign({},a),u)})}function eit(t){const i=Nat(t);return i.children&&Array.isArray(i.children)&&(i.children=i.children.map(a=>eit(a))),i}function Nat(t){return Iat(Rat)(t)}function rit(t){const i=Ft({},t),a=new Map([[i,null]]),s=new Map([[null,-1]]),u=[i];for(;u.length;){const h=u.shift();if(h.key===void 0){const g=a.get(h),m=s.get(h),_=g===null?"0":`${g.key}-${m}`;h.key=_}const{children:v=[]}=h;if(Array.isArray(v))for(let g=0;g<v.length;g++){const m=Ft({},v[g]);v[g]=m,a.set(m,h),s.set(m,g),u.push(m)}}return i}function Bat(t,i){const a=new St;return a.registerPlugin(new wa),new Cs({width:t,height:i,container:document.createElement("div"),renderer:a})}function zat(t,i={},a=()=>{},s=u=>{throw u}){const{width:u=640,height:h=480,depth:v=0}=t,g=eit(t),m=rit(g),{canvas:_=Bat(u,h),emitter:w=new fd,library:M}=i;i.canvas=_,i.emitter=w;const{width:O,height:C}=_.getConfig();(O!==u||C!==h)&&_.resize(u,h),w.emit(Pn.BEFORE_RENDER);const P=ir(_.document.documentElement);return _.ready.then(()=>wet(Object.assign(Object.assign({},m),{width:u,height:h,depth:v}),P,i)).then(()=>{if(v){const[k,D]=_.document.documentElement.getPosition();_.document.documentElement.setPosition(k,D,-v/2)}_.requestAnimationFrame(()=>{_.requestAnimationFrame(()=>{w.emit(Pn.AFTER_RENDER),a==null||a()})})}).catch(k=>{s==null||s(k)}),jat(_.getConfig().container)}function Mot(t,i={},a=()=>{},s=u=>{throw u}){var u;const{width:h=640,height:v=480}=t,g=rit(t),{group:m=new Group,emitter:_=new EventEmitter,library:w}=i;m!=null&&m.parentElement||error("renderToMountedElement can't render chart to unmounted group.");const M=select(m);return i.group=m,i.emitter=_,i.canvas=i.canvas||((u=m==null?void 0:m.ownerDocument)===null||u===void 0?void 0:u.defaultView),_.emit(ChartEvent.BEFORE_RENDER),plot(Object.assign(Object.assign({},g),{width:h,height:v}),M,i).then(()=>{var O;(O=i.canvas)===null||O===void 0||O.requestAnimationFrame(()=>{_.emit(ChartEvent.AFTER_RENDER),a==null||a()})}).catch(O=>{s==null||s(O)}),m}function nit(t,i={},a=!1){const{canvas:s,emitter:u}=i;s&&(Fat(s),a?s.destroy():s.destroyChildren()),u.off()}function Fat(t){const i=t.getRoot().querySelectorAll(`.${AE}`);i==null||i.forEach(a=>{const{nameInteraction:s=new Map}=a;(s==null?void 0:s.size)>0&&Array.from(s==null?void 0:s.values()).forEach(u=>{u==null||u.destroy()})})}function jat(t){return typeof t=="string"?document.getElementById(t):t}const PT=t=>t?parseInt(t):0;function Vat(t){const i=getComputedStyle(t),a=t.clientWidth||PT(i.width),s=t.clientHeight||PT(i.height),u=PT(i.paddingLeft)+PT(i.paddingRight),h=PT(i.paddingTop)+PT(i.paddingBottom);return{width:a-u,height:s-h}}function Tot(t){const{height:i,width:a,padding:s=0,paddingLeft:u=s,paddingRight:h=s,paddingTop:v=s,paddingBottom:g=s,margin:m=0,marginLeft:_=m,marginRight:w=m,marginTop:M=m,marginBottom:O=m,inset:C=0,insetLeft:P=C,insetRight:k=C,insetTop:D=C,insetBottom:R=C}=t,B=V=>V==="auto"?20:V,z=a-B(u)-B(h)-_-w-P-k,j=i-B(v)-B(g)-M-O-D-R;return{width:z,height:j}}function Aet(t,i){const a=[t];for(;a.length;){const s=a.shift();i&&i(s);const u=s.children||[];for(const h of u)a.push(h)}}class Cet{constructor(i={},a){this.parentNode=null,this.children=[],this.index=0,this.type=a,this.value=i}map(i=a=>a){const a=i(this.value);return this.value=a,this}attr(i,a){return arguments.length===1?this.value[i]:this.map(s=>(s[i]=a,s))}append(i){const a=new i({});return a.children=[],this.push(a),a}push(i){return i.parentNode=this,i.index=this.children.length,this.children.push(i),this}remove(){const i=this.parentNode;if(i){const{children:a}=i,s=a.findIndex(u=>u===this);a.splice(s,1)}return this}getNodeByKey(i){let a=null;return Aet(this,u=>{i===u.attr("key")&&(a=u)}),a}getNodesByType(i){const a=[];return Aet(this,u=>{i===u.type&&a.push(u)}),a}getNodeByType(i){let a=null;return Aet(this,s=>{a||i===s.type&&(a=s)}),a}call(i,...a){return i(this.map(),...a),this}getRoot(){let i=this;for(;i&&i.parentNode;)i=i.parentNode;return i}}var iit=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const Pet=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],ait="__remove__",oit="__callback__",sit=1,lit=1;function Gat(t){if(t===void 0){const i=document.createElement("div");return i[ait]=!0,i}return typeof t=="string"?document.getElementById(t):t}function Wat(t){const i=t.parentNode;i&&i.removeChild(t)}function Hat(t){if(t.type!==null)return t;const i=t.children[t.children.length-1];for(const a of Pet)i.attr(a,t.attr(a));return i}function uit(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function Eet(t,i){const{width:a,height:s,autoFit:u,depth:h=0}=t;let v=640,g=480;if(u){const{width:m,height:_}=Vat(i);v=m||v,g=_||g}return v=a||v,g=s||g,{width:Math.max(yn(v)?v:sit,sit),height:Math.max(yn(g)?g:lit,lit),depth:h}}function Yat(t){const i=Hat(t),a=[i],s=new Map;for(s.set(i,uit(i));a.length;){const u=a.pop(),h=s.get(u),{children:v=[]}=u;for(const g of v)if(g.type===oit)h.children=g.value;else{const m=uit(g),{children:_=[]}=h;_.push(m),a.push(g),s.set(g,m),h.children=_}}return s.get(i)}function Uat(t,i){return typeof t=="function"?!0:new Set(Object.keys(i)).has(t)}function Xat(t,i){return typeof t!="function"&&new Set(Object.keys(i)).has(t)}function $at(t,i,a,s,u){const{type:h}=t,{type:v=a||h}=i;if(Xat(v,u)){for(const g of Pet)t.attr(g)!==void 0&&i[g]===void 0&&(i[g]=t.attr(g));return i}if(Uat(v,s)){const g={type:"view"},m=Object.assign({},i);for(const _ of Pet)m[_]!==void 0&&(g[_]=m[_],delete m[_]);return Object.assign(Object.assign({},g),{children:[m]})}return i}function qat(t,i,a){if(typeof t=="function")return i.mark;const u=Object.assign(Object.assign({},i),a)[t];if(!u)throw new Error(`Unknown mark: ${t}.`);return u}function Zat(t,i,a){if(typeof t=="function"){const m=new Cet;return m.value=t,m.type=oit,m}const{type:s,children:u}=t,h=iit(t,["type","children"]),v=qat(s,i,a),g=new v;return g.value=h,g.type=s,g}function Kat(t,i){const{type:a,children:s}=i,u=iit(i,["type","children"]);t.type===a||a===void 0?ua(t.value,u):typeof a=="string"&&(t.type=a,t.value=u)}function Qat(t,i,a,s){if(!t)return;const u=[[t,i]];for(;u.length;){const[h,v]=u.shift(),g=Zat(v,a,s);Array.isArray(h.children)&&h.push(g);const{children:m}=v;if(Array.isArray(m))for(const _ of m)u.push([g,_]);else typeof m=="function"&&u.push([g,m])}}function Jat(t,i,a,s,u){const h=$at(t,i,a,s,u),v=[[null,t,h]];for(;v.length;){const[g,m,_]=v.shift();if(!m)Qat(g,_,s,u);else if(!_)m.remove();else{Kat(m,_);const{children:w}=_,{children:M}=m;if(Array.isArray(w)&&Array.isArray(M)){const O=Math.max(w.length,M.length);for(let C=0;C<O;C++){const P=w[C],k=M[C];v.push([m,k,P])}}else typeof w=="function"&&v.push([m,null,w])}}}function tot(){let t,i;return[new Promise((s,u)=>{i=s,t=u}),i,t]}function eot(t,i,{key:a=i}){t.prototype[i]=function(s){return arguments.length===0?this.attr(a):this.attr(a,s)}}function rot(t,i,{key:a=i}){t.prototype[i]=function(s){if(arguments.length===0)return this.attr(a);if(Array.isArray(s))return this.attr(a,s);const u=[...this.attr(a)||[],s];return this.attr(a,u)}}function not(t,i,{key:a=i}){t.prototype[i]=function(s,u){if(arguments.length===0)return this.attr(a);if(arguments.length===1&&typeof s!="string")return this.attr(a,s);const h=this.attr(a)||{};return h[s]=arguments.length===1?!0:u,this.attr(a,h)}}function iot(t,i,a){t.prototype[i]=function(s){if(arguments.length===0)return this.attr(i);if(Array.isArray(s))return this.attr(i,{items:s});if(tg(s)&&(s.title!==void 0||s.items!==void 0))return this.attr(i,s);if(s===null||s===!1)return this.attr(i,s);const u=this.attr(i)||{},{items:h=[]}=u;return h.push(s),u.items=h,this.attr(i,u)}}function aot(t,i,{ctor:a}){t.prototype[i]=function(s){const u=this.append(a);return i==="mark"&&(u.type=s),u}}function oot(t,i,{ctor:a}){t.prototype[i]=function(){return this.type=null,this.append(a)}}function d9(t){return i=>{for(const[a,s]of Object.entries(t)){const{type:u}=s;u==="value"?eot(i,a,s):u==="array"?rot(i,a,s):u==="object"?not(i,a,s):u==="node"?aot(i,a,s):u==="container"?oot(i,a,s):u==="mix"&&iot(i,a,s)}return i}}function cit(t){return Object.fromEntries(Object.entries(t).map(([i,a])=>[i,{type:"node",ctor:a}]))}const fit={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},sot=Object.assign(Object.assign({},fit),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),lot=Object.assign(Object.assign({},fit),{labelTransform:{type:"array"}});var uot=function(t,i,a,s){var u=arguments.length,h=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(t,i,a,s);else for(var g=t.length-1;g>=0;g--)(v=t[g])&&(h=(u<3?v(h):u>3?v(i,a,h):v(i,a))||h);return u>3&&h&&Object.defineProperty(i,a,h),h};let v9=class extends Cet{changeData(i){var a;const s=this.getRoot();if(s)return this.attr("data",i),!((a=this.children)===null||a===void 0)&&a.length&&this.children.forEach(u=>{u.attr("data",i)}),s==null?void 0:s.render()}getView(){const i=this.getRoot(),{views:a}=i.getContext();if(a!=null&&a.length)return a.find(s=>s.key===this._key)}getScale(){var i;return(i=this.getView())===null||i===void 0?void 0:i.scale}getScaleByChannel(i){const a=this.getScale();if(a)return a[i]}getCoordinate(){var i;return(i=this.getView())===null||i===void 0?void 0:i.coordinate}getTheme(){var i;return(i=this.getView())===null||i===void 0?void 0:i.theme}getGroup(){const i=this._key;return i?this.getRoot().getContext().canvas.getRoot().getElementById(i):void 0}show(){const i=this.getGroup();i&&!i.isVisible()&&R1(i)}hide(){const i=this.getGroup();i&&i.isVisible()&&d2(i)}};v9=uot([d9(lot)],v9);var cot=function(t,i,a,s){var u=arguments.length,h=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(t,i,a,s);else for(var g=t.length-1;g>=0;g--)(v=t[g])&&(h=(u<3?v(h):u>3?v(i,a,h):v(i,a))||h);return u>3&&h&&Object.defineProperty(i,a,h),h};let ket=class extends Cet{changeData(i){const a=this.getRoot();if(a)return this.attr("data",i),a==null?void 0:a.render()}getMark(){var i;const a=(i=this.getRoot())===null||i===void 0?void 0:i.getView();if(!a)return;const{markState:s}=a,u=Array.from(s.keys()).find(h=>h.key===this.attr("key"));return s.get(u)}getScale(){var i;const a=(i=this.getRoot())===null||i===void 0?void 0:i.getView();if(a)return a==null?void 0:a.scale}getScaleByChannel(i){var a,s;const u=(a=this.getRoot())===null||a===void 0?void 0:a.getView();if(u)return(s=u==null?void 0:u.scale)===null||s===void 0?void 0:s[i]}getGroup(){const i=this.attr("key");return i?this.getRoot().getContext().canvas.getRoot().getElementById(i):void 0}};ket=cot([d9(sot)],ket);const hit={};function Oot(t,i){t.startsWith("symbol.")?registerSymbol(t.split(".").pop(),i):Object.assign(hit,{[t]:i})}var fot=function(t,i,a,s){var u=arguments.length,h=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(t,i,a,s);else for(var g=t.length-1;g>=0;g--)(v=t[g])&&(h=(u<3?v(h):u>3?v(i,a,h):v(i,a))||h);return u>3&&h&&Object.defineProperty(i,a,h),h},hot=function(t,i){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(t);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(t,s[u])&&(a[s[u]]=t[s[u]]);return a};const dot="G2_CHART_KEY";class vot extends v9{constructor(i){const{container:a,canvas:s,renderer:u,plugins:h,lib:v,createCanvas:g}=i,m=hot(i,["container","canvas","renderer","plugins","lib","createCanvas"]);super(m,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=nE(()=>{this.forceFit()},300),this._renderer=u||new St,this._plugins=h||[],this._container=Gat(a),this._emitter=new fd,this._context={library:Object.assign(Object.assign({},v),hit),emitter:this._emitter,canvas:s,createCanvas:g},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const i=new Promise((h,v)=>zat(this._computedOptions(),this._context,this._createResolve(h),this._createReject(v))),[a,s,u]=tot();return i.then(s).catch(u).then(()=>this._renderTrailing()),a}options(i){if(arguments.length===0)return Yat(this);const{type:a}=i;return a&&(this._previousDefinedType=a),Jat(this,i,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(i,a,s){return this._emitter.on(i,a,s),this}once(i,a){return this._emitter.once(i,a),this}emit(i,...a){return this._emitter.emit(i,...a),this}off(i,a){return this._emitter.off(i,a),this}clear(){const i=this.options();this.emit(Pn.BEFORE_CLEAR),this._reset(),nit(i,this._context,!1),this.emit(Pn.AFTER_CLEAR)}destroy(){const i=this.options();this.emit(Pn.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),nit(i,this._context,!0),this._container[ait]&&Wat(this._container),this.emit(Pn.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:i,height:a}=Eet(this.options(),this._container);if(i===this._width&&a===this._height)return Promise.resolve(this);this.emit(Pn.BEFORE_CHANGE_SIZE);const s=this.render();return s.then(()=>{this.emit(Pn.AFTER_CHANGE_SIZE)}),s}changeSize(i,a){if(i===this._width&&a===this._height)return Promise.resolve(this);this.emit(Pn.BEFORE_CHANGE_SIZE),this.attr("width",i),this.attr("height",a);const s=this.render();return s.then(()=>{this.emit(Pn.AFTER_CHANGE_SIZE)}),s}_create(){const{library:i}=this._context,a=h=>h.startsWith("mark.")||h==="component.axisX"||h==="component.axisY"||h==="component.legends",s=["mark.mark",...Object.keys(i).filter(a)];this._marks={};for(const h of s){const v=h.split(".").pop();class g extends ket{constructor(){super({},v)}}this._marks[v]=g,this[v]=function(m){const _=this.append(g);return v==="mark"&&(_.type=m),_}}const u=["composition.view",...Object.keys(i).filter(h=>h.startsWith("composition.")&&h!=="composition.mark")];this._compositions=Object.fromEntries(u.map(h=>{const v=h.split(".").pop();let g=class extends v9{constructor(){super({},v)}};return g=fot([d9(cit(this._marks))],g),[v,g]}));for(const h of Object.values(this._compositions))d9(cit(this._compositions))(h);for(const h of u){const v=h.split(".").pop();this[v]=function(){const g=this._compositions[v];return this.type=null,this.append(g)}}}_reset(){const i=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([a])=>a.startsWith("margin")||a.startsWith("padding")||a.startsWith("inset")||i.includes(a))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const i=this._trailingResolve.bind(this);this._trailingResolve=null,i(this)}).catch(i=>{const a=this._trailingReject.bind(this);this._trailingReject=null,a(i)}))}_createResolve(i){return()=>{this._rendering=!1,i(this)}}_createReject(i){return a=>{this._rendering=!1,i(a)}}_computedOptions(){const i=this.options(),{key:a=dot}=i,{width:s,height:u,depth:h}=Eet(i,this._container);return this._width=s,this._height=u,this._key=a,Object.assign(Object.assign({key:this._key},i),{width:s,height:u,depth:h})}_createCanvas(){const{width:i,height:a}=Eet(this.options(),this._container);this._plugins.push(new wa),this._plugins.forEach(s=>this._renderer.registerPlugin(s)),this._context.canvas=new Cs({container:this._container,width:i,height:a,renderer:this._renderer})}_addToTrailing(){var i;return(i=this._trailingResolve)===null||i===void 0||i.call(this,this),this._trailing=!0,new Promise((s,u)=>{this._trailingResolve=s,this._trailingReject=u})}_bindAutoFit(){const i=this.options(),{autoFit:a}=i;if(this._hasBindAutoFit){a||this._unbindAutoFit();return}a&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}const pot=Object.assign({},wtt()),got=g7(vot,pot)},4393:function(Rr,dn,Kt){"use strict";Kt.d(dn,{Z:function(){return Ta}});var me=Kt(67294),re=Kt(93967),Ot=Kt.n(re),$r=Kt(98423),sr=Kt(53124),tr=Kt(98675),Ze=Kt(48054),Ie=Kt(48096),$t=function(Vt,Be){var Ft={};for(var be in Vt)Object.prototype.hasOwnProperty.call(Vt,be)&&Be.indexOf(be)<0&&(Ft[be]=Vt[be]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ar=0,be=Object.getOwnPropertySymbols(Vt);ar<be.length;ar++)Be.indexOf(be[ar])<0&&Object.prototype.propertyIsEnumerable.call(Vt,be[ar])&&(Ft[be[ar]]=Vt[be[ar]]);return Ft},Ae=Vt=>{var{prefixCls:Be,className:Ft,hoverable:be=!0}=Vt,ar=$t(Vt,["prefixCls","className","hoverable"]);const{getPrefixCls:$n}=me.useContext(sr.E_),zr=$n("card",Be),qr=Ot()(`${zr}-grid`,Ft,{[`${zr}-grid-hoverable`]:be});return me.createElement("div",Object.assign({},ar,{className:qr}))},ge=Kt(25446),Re=Kt(14747),ie=Kt(83559),te=Kt(83262);const Qt=Vt=>{const{antCls:Be,componentCls:Ft,headerHeight:be,headerPadding:ar,tabsMarginBottom:$n}=Vt;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:be,marginBottom:-1,padding:`0 ${(0,ge.bf)(ar)}`,color:Vt.colorTextHeading,fontWeight:Vt.fontWeightStrong,fontSize:Vt.headerFontSize,background:Vt.headerBg,borderBottom:`${(0,ge.bf)(Vt.lineWidth)} ${Vt.lineType} ${Vt.colorBorderSecondary}`,borderRadius:`${(0,ge.bf)(Vt.borderRadiusLG)} ${(0,ge.bf)(Vt.borderRadiusLG)} 0 0`},(0,Re.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Re.vS),{[`
          > ${Ft}-typography,
          > ${Ft}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${Be}-tabs-top`]:{clear:"both",marginBottom:$n,color:Vt.colorText,fontWeight:"normal",fontSize:Vt.fontSize,"&-bar":{borderBottom:`${(0,ge.bf)(Vt.lineWidth)} ${Vt.lineType} ${Vt.colorBorderSecondary}`}}})},le=Vt=>{const{cardPaddingBase:Be,colorBorderSecondary:Ft,cardShadow:be,lineWidth:ar}=Vt;return{width:"33.33%",padding:Be,border:0,borderRadius:0,boxShadow:`
      ${(0,ge.bf)(ar)} 0 0 0 ${Ft},
      0 ${(0,ge.bf)(ar)} 0 0 ${Ft},
      ${(0,ge.bf)(ar)} ${(0,ge.bf)(ar)} 0 0 ${Ft},
      ${(0,ge.bf)(ar)} 0 0 0 ${Ft} inset,
      0 ${(0,ge.bf)(ar)} 0 0 ${Ft} inset;
    `,transition:`all ${Vt.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:be}}},gr=Vt=>{const{componentCls:Be,iconCls:Ft,actionsLiMargin:be,cardActionsIconSize:ar,colorBorderSecondary:$n,actionsBg:zr}=Vt;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:zr,borderTop:`${(0,ge.bf)(Vt.lineWidth)} ${Vt.lineType} ${$n}`,display:"flex",borderRadius:`0 0 ${(0,ge.bf)(Vt.borderRadiusLG)} ${(0,ge.bf)(Vt.borderRadiusLG)}`},(0,Re.dF)()),{"& > li":{margin:be,color:Vt.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:Vt.calc(Vt.cardActionsIconSize).mul(2).equal(),fontSize:Vt.fontSize,lineHeight:Vt.lineHeight,cursor:"pointer","&:hover":{color:Vt.colorPrimary,transition:`color ${Vt.motionDurationMid}`},[`a:not(${Be}-btn), > ${Ft}`]:{display:"inline-block",width:"100%",color:Vt.colorTextDescription,lineHeight:(0,ge.bf)(Vt.fontHeight),transition:`color ${Vt.motionDurationMid}`,"&:hover":{color:Vt.colorPrimary}},[`> ${Ft}`]:{fontSize:ar,lineHeight:(0,ge.bf)(Vt.calc(ar).mul(Vt.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,ge.bf)(Vt.lineWidth)} ${Vt.lineType} ${$n}`}}})},Vr=Vt=>Object.assign(Object.assign({margin:`${(0,ge.bf)(Vt.calc(Vt.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,Re.dF)()),{"&-avatar":{paddingInlineEnd:Vt.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:Vt.marginXS}},"&-title":Object.assign({color:Vt.colorTextHeading,fontWeight:Vt.fontWeightStrong,fontSize:Vt.fontSizeLG},Re.vS),"&-description":{color:Vt.colorTextDescription}}),Qn=Vt=>{const{componentCls:Be,colorFillAlter:Ft,headerPadding:be,bodyPadding:ar}=Vt;return{[`${Be}-head`]:{padding:`0 ${(0,ge.bf)(be)}`,background:Ft,"&-title":{fontSize:Vt.fontSize}},[`${Be}-body`]:{padding:`${(0,ge.bf)(Vt.padding)} ${(0,ge.bf)(ar)}`}}},Sn=Vt=>{const{componentCls:Be}=Vt;return{overflow:"hidden",[`${Be}-body`]:{userSelect:"none"}}},Mn=Vt=>{const{componentCls:Be,cardShadow:Ft,cardHeadPadding:be,colorBorderSecondary:ar,boxShadowTertiary:$n,bodyPadding:zr,extraColor:qr}=Vt;return{[Be]:Object.assign(Object.assign({},(0,Re.Wf)(Vt)),{position:"relative",background:Vt.colorBgContainer,borderRadius:Vt.borderRadiusLG,[`&:not(${Be}-bordered)`]:{boxShadow:$n},[`${Be}-head`]:Qt(Vt),[`${Be}-extra`]:{marginInlineStart:"auto",color:qr,fontWeight:"normal",fontSize:Vt.fontSize},[`${Be}-body`]:Object.assign({padding:zr,borderRadius:`0 0 ${(0,ge.bf)(Vt.borderRadiusLG)} ${(0,ge.bf)(Vt.borderRadiusLG)}`},(0,Re.dF)()),[`${Be}-grid`]:le(Vt),[`${Be}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,ge.bf)(Vt.borderRadiusLG)} ${(0,ge.bf)(Vt.borderRadiusLG)} 0 0`}},[`${Be}-actions`]:gr(Vt),[`${Be}-meta`]:Vr(Vt)}),[`${Be}-bordered`]:{border:`${(0,ge.bf)(Vt.lineWidth)} ${Vt.lineType} ${ar}`,[`${Be}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${Be}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${Vt.motionDurationMid}, border-color ${Vt.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:Ft}},[`${Be}-contain-grid`]:{borderRadius:`${(0,ge.bf)(Vt.borderRadiusLG)} ${(0,ge.bf)(Vt.borderRadiusLG)} 0 0 `,[`${Be}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${Be}-loading) ${Be}-body`]:{marginBlockStart:Vt.calc(Vt.lineWidth).mul(-1).equal(),marginInlineStart:Vt.calc(Vt.lineWidth).mul(-1).equal(),padding:0}},[`${Be}-contain-tabs`]:{[`> div${Be}-head`]:{minHeight:0,[`${Be}-head-title, ${Be}-extra`]:{paddingTop:be}}},[`${Be}-type-inner`]:Qn(Vt),[`${Be}-loading`]:Sn(Vt),[`${Be}-rtl`]:{direction:"rtl"}}},Jn=Vt=>{const{componentCls:Be,bodyPaddingSM:Ft,headerPaddingSM:be,headerHeightSM:ar,headerFontSizeSM:$n}=Vt;return{[`${Be}-small`]:{[`> ${Be}-head`]:{minHeight:ar,padding:`0 ${(0,ge.bf)(be)}`,fontSize:$n,[`> ${Be}-head-wrapper`]:{[`> ${Be}-extra`]:{fontSize:Vt.fontSize}}},[`> ${Be}-body`]:{padding:Ft}},[`${Be}-small${Be}-contain-tabs`]:{[`> ${Be}-head`]:{[`${Be}-head-title, ${Be}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},gn=Vt=>{var Be,Ft;return{headerBg:"transparent",headerFontSize:Vt.fontSizeLG,headerFontSizeSM:Vt.fontSize,headerHeight:Vt.fontSizeLG*Vt.lineHeightLG+Vt.padding*2,headerHeightSM:Vt.fontSize*Vt.lineHeight+Vt.paddingXS*2,actionsBg:Vt.colorBgContainer,actionsLiMargin:`${Vt.paddingSM}px 0`,tabsMarginBottom:-Vt.padding-Vt.lineWidth,extraColor:Vt.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(Be=Vt.bodyPadding)!==null&&Be!==void 0?Be:Vt.paddingLG,headerPadding:(Ft=Vt.headerPadding)!==null&&Ft!==void 0?Ft:Vt.paddingLG}};var rn=(0,ie.I$)("Card",Vt=>{const Be=(0,te.IX)(Vt,{cardShadow:Vt.boxShadowCard,cardHeadPadding:Vt.padding,cardPaddingBase:Vt.paddingLG,cardActionsIconSize:Vt.fontSize});return[Mn(Be),Jn(Be)]},gn),ti=function(Vt,Be){var Ft={};for(var be in Vt)Object.prototype.hasOwnProperty.call(Vt,be)&&Be.indexOf(be)<0&&(Ft[be]=Vt[be]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ar=0,be=Object.getOwnPropertySymbols(Vt);ar<be.length;ar++)Be.indexOf(be[ar])<0&&Object.prototype.propertyIsEnumerable.call(Vt,be[ar])&&(Ft[be[ar]]=Vt[be[ar]]);return Ft};const Or=Vt=>{const{actionClasses:Be,actions:Ft=[],actionStyle:be}=Vt;return me.createElement("ul",{className:Be,style:be},Ft.map((ar,$n)=>{const zr=`action-${$n}`;return me.createElement("li",{style:{width:`${100/Ft.length}%`},key:zr},me.createElement("span",null,ar))}))};var oa=me.forwardRef((Vt,Be)=>{const{prefixCls:Ft,className:be,rootClassName:ar,style:$n,extra:zr,headStyle:qr={},bodyStyle:xr={},title:Ja,loading:to,bordered:eo=!0,size:Eo,type:ln,cover:gc,actions:Ni,tabList:ro,children:Ml,activeTabKey:Tl,defaultActiveTabKey:ko,tabBarExtraContent:Yo,hoverable:Bi,tabProps:Ne={},classNames:lr,styles:Ol}=Vt,Wt=ti(Vt,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:je,direction:wf,card:Xe}=me.useContext(sr.E_),Al=mn=>{var fe;(fe=Vt.onTabChange)===null||fe===void 0||fe.call(Vt,mn)},Ln=mn=>{var fe;return Ot()((fe=Xe==null?void 0:Xe.classNames)===null||fe===void 0?void 0:fe[mn],lr==null?void 0:lr[mn])},vi=mn=>{var fe;return Object.assign(Object.assign({},(fe=Xe==null?void 0:Xe.styles)===null||fe===void 0?void 0:fe[mn]),Ol==null?void 0:Ol[mn])},it=me.useMemo(()=>{let mn=!1;return me.Children.forEach(Ml,fe=>{(fe==null?void 0:fe.type)===Ae&&(mn=!0)}),mn},[Ml]),Gt=je("card",Ft),[pi,Zr,Oa]=rn(Gt),vr=me.createElement(Ze.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Ml),Sf=Tl!==void 0,ue=Object.assign(Object.assign({},Ne),{[Sf?"activeKey":"defaultActiveKey"]:Sf?Tl:ko,tabBarExtraContent:Yo});let hr;const Ut=(0,tr.Z)(Eo),ze=!Ut||Ut==="default"?"large":Ut,oe=ro?me.createElement(Ie.Z,Object.assign({size:ze},ue,{className:`${Gt}-head-tabs`,onChange:Al,items:ro.map(mn=>{var{tab:fe}=mn,Ui=ti(mn,["tab"]);return Object.assign({label:fe},Ui)})})):null;if(Ja||zr||oe){const mn=Ot()(`${Gt}-head`,Ln("header")),fe=Ot()(`${Gt}-head-title`,Ln("title")),Ui=Ot()(`${Gt}-extra`,Ln("extra")),ds=Object.assign(Object.assign({},qr),vi("header"));hr=me.createElement("div",{className:mn,style:ds},me.createElement("div",{className:`${Gt}-head-wrapper`},Ja&&me.createElement("div",{className:fe,style:vi("title")},Ja),zr&&me.createElement("div",{className:Ui,style:vi("extra")},zr)),oe)}const yc=Ot()(`${Gt}-cover`,Ln("cover")),qe=gc?me.createElement("div",{className:yc,style:vi("cover")},gc):null,ce=Ot()(`${Gt}-body`,Ln("body")),mu=Object.assign(Object.assign({},xr),vi("body")),Aa=me.createElement("div",{className:ce,style:mu},to?vr:Ml),Uo=Ot()(`${Gt}-actions`,Ln("actions")),mc=Ni!=null&&Ni.length?me.createElement(Or,{actionClasses:Uo,actionStyle:vi("actions"),actions:Ni}):null,Ky=(0,$r.Z)(Wt,["onTabChange"]),bu=Ot()(Gt,Xe==null?void 0:Xe.className,{[`${Gt}-loading`]:to,[`${Gt}-bordered`]:eo,[`${Gt}-hoverable`]:Bi,[`${Gt}-contain-grid`]:it,[`${Gt}-contain-tabs`]:ro==null?void 0:ro.length,[`${Gt}-${Ut}`]:Ut,[`${Gt}-type-${ln}`]:!!ln,[`${Gt}-rtl`]:wf==="rtl"},be,ar,Zr,Oa),Pi=Object.assign(Object.assign({},Xe==null?void 0:Xe.style),$n);return pi(me.createElement("div",Object.assign({ref:Be},Ky,{className:bu,style:Pi}),hr,qe,Aa,mc))}),Mi=function(Vt,Be){var Ft={};for(var be in Vt)Object.prototype.hasOwnProperty.call(Vt,be)&&Be.indexOf(be)<0&&(Ft[be]=Vt[be]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ar=0,be=Object.getOwnPropertySymbols(Vt);ar<be.length;ar++)Be.indexOf(be[ar])<0&&Object.prototype.propertyIsEnumerable.call(Vt,be[ar])&&(Ft[be[ar]]=Vt[be[ar]]);return Ft},cr=Vt=>{const{prefixCls:Be,className:Ft,avatar:be,title:ar,description:$n}=Vt,zr=Mi(Vt,["prefixCls","className","avatar","title","description"]),{getPrefixCls:qr}=me.useContext(sr.E_),xr=qr("card",Be),Ja=Ot()(`${xr}-meta`,Ft),to=be?me.createElement("div",{className:`${xr}-meta-avatar`},be):null,eo=ar?me.createElement("div",{className:`${xr}-meta-title`},ar):null,Eo=$n?me.createElement("div",{className:`${xr}-meta-description`},$n):null,ln=eo||Eo?me.createElement("div",{className:`${xr}-meta-detail`},eo,Eo):null;return me.createElement("div",Object.assign({},zr,{className:Ja}),to,ln)};const Ti=oa;Ti.Grid=Ae,Ti.Meta=cr;var Ta=Ti},8874:function(Rr){"use strict";Rr.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(Rr,dn,Kt){var me=Kt(8874),re=Kt(86851),Ot=Object.hasOwnProperty,$r=Object.create(null);for(var sr in me)Ot.call(me,sr)&&($r[me[sr]]=sr);var tr=Rr.exports={to:{},get:{}};tr.get=function($t){var er=$t.substring(0,3).toLowerCase(),Ae,ge;switch(er){case"hsl":Ae=tr.get.hsl($t),ge="hsl";break;case"hwb":Ae=tr.get.hwb($t),ge="hwb";break;default:Ae=tr.get.rgb($t),ge="rgb";break}return Ae?{model:ge,value:Ae}:null},tr.get.rgb=function($t){if(!$t)return null;var er=/^#([a-f0-9]{3,4})$/i,Ae=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,ge=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,Re=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ie=/^(\w+)$/,te=[0,0,0,1],Qt,le,gr;if(Qt=$t.match(Ae)){for(gr=Qt[2],Qt=Qt[1],le=0;le<3;le++){var Vr=le*2;te[le]=parseInt(Qt.slice(Vr,Vr+2),16)}gr&&(te[3]=parseInt(gr,16)/255)}else if(Qt=$t.match(er)){for(Qt=Qt[1],gr=Qt[3],le=0;le<3;le++)te[le]=parseInt(Qt[le]+Qt[le],16);gr&&(te[3]=parseInt(gr+gr,16)/255)}else if(Qt=$t.match(ge)){for(le=0;le<3;le++)te[le]=parseInt(Qt[le+1],0);Qt[4]&&(Qt[5]?te[3]=parseFloat(Qt[4])*.01:te[3]=parseFloat(Qt[4]))}else if(Qt=$t.match(Re)){for(le=0;le<3;le++)te[le]=Math.round(parseFloat(Qt[le+1])*2.55);Qt[4]&&(Qt[5]?te[3]=parseFloat(Qt[4])*.01:te[3]=parseFloat(Qt[4]))}else return(Qt=$t.match(ie))?Qt[1]==="transparent"?[0,0,0,0]:Ot.call(me,Qt[1])?(te=me[Qt[1]],te[3]=1,te):null:null;for(le=0;le<3;le++)te[le]=Ze(te[le],0,255);return te[3]=Ze(te[3],0,1),te},tr.get.hsl=function($t){if(!$t)return null;var er=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,Ae=$t.match(er);if(Ae){var ge=parseFloat(Ae[4]),Re=(parseFloat(Ae[1])%360+360)%360,ie=Ze(parseFloat(Ae[2]),0,100),te=Ze(parseFloat(Ae[3]),0,100),Qt=Ze(isNaN(ge)?1:ge,0,1);return[Re,ie,te,Qt]}return null},tr.get.hwb=function($t){if(!$t)return null;var er=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,Ae=$t.match(er);if(Ae){var ge=parseFloat(Ae[4]),Re=(parseFloat(Ae[1])%360+360)%360,ie=Ze(parseFloat(Ae[2]),0,100),te=Ze(parseFloat(Ae[3]),0,100),Qt=Ze(isNaN(ge)?1:ge,0,1);return[Re,ie,te,Qt]}return null},tr.to.hex=function(){var $t=re(arguments);return"#"+Ie($t[0])+Ie($t[1])+Ie($t[2])+($t[3]<1?Ie(Math.round($t[3]*255)):"")},tr.to.rgb=function(){var $t=re(arguments);return $t.length<4||$t[3]===1?"rgb("+Math.round($t[0])+", "+Math.round($t[1])+", "+Math.round($t[2])+")":"rgba("+Math.round($t[0])+", "+Math.round($t[1])+", "+Math.round($t[2])+", "+$t[3]+")"},tr.to.rgb.percent=function(){var $t=re(arguments),er=Math.round($t[0]/255*100),Ae=Math.round($t[1]/255*100),ge=Math.round($t[2]/255*100);return $t.length<4||$t[3]===1?"rgb("+er+"%, "+Ae+"%, "+ge+"%)":"rgba("+er+"%, "+Ae+"%, "+ge+"%, "+$t[3]+")"},tr.to.hsl=function(){var $t=re(arguments);return $t.length<4||$t[3]===1?"hsl("+$t[0]+", "+$t[1]+"%, "+$t[2]+"%)":"hsla("+$t[0]+", "+$t[1]+"%, "+$t[2]+"%, "+$t[3]+")"},tr.to.hwb=function(){var $t=re(arguments),er="";return $t.length>=4&&$t[3]!==1&&(er=", "+$t[3]),"hwb("+$t[0]+", "+$t[1]+"%, "+$t[2]+"%"+er+")"},tr.to.keyword=function($t){return $r[$t.slice(0,3)]};function Ze($t,er,Ae){return Math.min(Math.max(er,$t),Ae)}function Ie($t){var er=Math.round($t).toString(16).toUpperCase();return er.length<2?"0"+er:er}},69916:function(Rr,dn){(function(Kt,me){me(dn)})(this,function(Kt){"use strict";function me(Re,ie,te,Qt){Qt=Qt||{};var le=Qt.maxIterations||100,gr=Qt.tolerance||1e-10,Vr=Re(ie),Qn=Re(te),Sn=te-ie;if(Vr*Qn>0)throw"Initial bisect points must have opposite signs";if(Vr===0)return ie;if(Qn===0)return te;for(var Mn=0;Mn<le;++Mn){Sn/=2;var Jn=ie+Sn,gn=Re(Jn);if(gn*Vr>=0&&(ie=Jn),Math.abs(Sn)<gr||gn===0)return Jn}return ie+Sn}function re(Re){for(var ie=new Array(Re),te=0;te<Re;++te)ie[te]=0;return ie}function Ot(Re,ie){return re(Re).map(function(){return re(ie)})}function $r(Re,ie){for(var te=0,Qt=0;Qt<Re.length;++Qt)te+=Re[Qt]*ie[Qt];return te}function sr(Re){return Math.sqrt($r(Re,Re))}function tr(Re,ie,te){for(var Qt=0;Qt<ie.length;++Qt)Re[Qt]=ie[Qt]*te}function Ze(Re,ie,te,Qt,le){for(var gr=0;gr<Re.length;++gr)Re[gr]=ie*te[gr]+Qt*le[gr]}function Ie(Re,ie,te){te=te||{};var Qt=te.maxIterations||ie.length*200,le=te.nonZeroDelta||1.05,gr=te.zeroDelta||.001,Vr=te.minErrorDelta||1e-6,Qn=te.minErrorDelta||1e-5,Sn=te.rho!==void 0?te.rho:1,Mn=te.chi!==void 0?te.chi:2,Jn=te.psi!==void 0?te.psi:-.5,gn=te.sigma!==void 0?te.sigma:.5,rn,ti=ie.length,Or=new Array(ti+1);Or[0]=ie,Or[0].fx=Re(ie),Or[0].id=0;for(var Er=0;Er<ti;++Er){var oa=ie.slice();oa[Er]=oa[Er]?oa[Er]*le:gr,Or[Er+1]=oa,Or[Er+1].fx=Re(oa),Or[Er+1].id=Er+1}function Mi(zr){for(var qr=0;qr<zr.length;qr++)Or[ti][qr]=zr[qr];Or[ti].fx=zr.fx}for(var Po=function(zr,qr){return zr.fx-qr.fx},cr=ie.slice(),Ti=ie.slice(),Ta=ie.slice(),Vt=ie.slice(),Be=0;Be<Qt;++Be){if(Or.sort(Po),te.history){var Ft=Or.map(function(zr){var qr=zr.slice();return qr.fx=zr.fx,qr.id=zr.id,qr});Ft.sort(function(zr,qr){return zr.id-qr.id}),te.history.push({x:Or[0].slice(),fx:Or[0].fx,simplex:Ft})}for(rn=0,Er=0;Er<ti;++Er)rn=Math.max(rn,Math.abs(Or[0][Er]-Or[1][Er]));if(Math.abs(Or[0].fx-Or[ti].fx)<Vr&&rn<Qn)break;for(Er=0;Er<ti;++Er){cr[Er]=0;for(var be=0;be<ti;++be)cr[Er]+=Or[be][Er];cr[Er]/=ti}var ar=Or[ti];if(Ze(Ti,1+Sn,cr,-Sn,ar),Ti.fx=Re(Ti),Ti.fx<Or[0].fx)Ze(Vt,1+Mn,cr,-Mn,ar),Vt.fx=Re(Vt),Vt.fx<Ti.fx?Mi(Vt):Mi(Ti);else if(Ti.fx>=Or[ti-1].fx){var $n=!1;if(Ti.fx>ar.fx?(Ze(Ta,1+Jn,cr,-Jn,ar),Ta.fx=Re(Ta),Ta.fx<ar.fx?Mi(Ta):$n=!0):(Ze(Ta,1-Jn*Sn,cr,Jn*Sn,ar),Ta.fx=Re(Ta),Ta.fx<Ti.fx?Mi(Ta):$n=!0),$n){if(gn>=1)break;for(Er=1;Er<Or.length;++Er)Ze(Or[Er],1-gn,Or[0],gn,Or[Er]),Or[Er].fx=Re(Or[Er])}}else Mi(Ti)}return Or.sort(Po),{fx:Or[0].fx,x:Or[0]}}function $t(Re,ie,te,Qt,le,gr,Vr){var Qn=te.fx,Sn=$r(te.fxprime,ie),Mn=Qn,Jn=Qn,gn=Sn,rn=0;le=le||1,gr=gr||1e-6,Vr=Vr||.1;function ti(Er,oa,Mi){for(var Po=0;Po<16;++Po)if(le=(Er+oa)/2,Ze(Qt.x,1,te.x,le,ie),Mn=Qt.fx=Re(Qt.x,Qt.fxprime),gn=$r(Qt.fxprime,ie),Mn>Qn+gr*le*Sn||Mn>=Mi)oa=le;else{if(Math.abs(gn)<=-Vr*Sn)return le;gn*(oa-Er)>=0&&(oa=Er),Er=le,Mi=Mn}return 0}for(var Or=0;Or<10;++Or){if(Ze(Qt.x,1,te.x,le,ie),Mn=Qt.fx=Re(Qt.x,Qt.fxprime),gn=$r(Qt.fxprime,ie),Mn>Qn+gr*le*Sn||Or&&Mn>=Jn)return ti(rn,le,Jn);if(Math.abs(gn)<=-Vr*Sn)return le;if(gn>=0)return ti(le,rn,Mn);Jn=Mn,rn=le,le*=2}return le}function er(Re,ie,te){var Qt={x:ie.slice(),fx:0,fxprime:ie.slice()},le={x:ie.slice(),fx:0,fxprime:ie.slice()},gr=ie.slice(),Vr,Qn,Sn=1,Mn;te=te||{},Mn=te.maxIterations||ie.length*20,Qt.fx=Re(Qt.x,Qt.fxprime),Vr=Qt.fxprime.slice(),tr(Vr,Qt.fxprime,-1);for(var Jn=0;Jn<Mn;++Jn){if(Sn=$t(Re,Vr,Qt,le,Sn),te.history&&te.history.push({x:Qt.x.slice(),fx:Qt.fx,fxprime:Qt.fxprime.slice(),alpha:Sn}),!Sn)tr(Vr,Qt.fxprime,-1);else{Ze(gr,1,le.fxprime,-1,Qt.fxprime);var gn=$r(Qt.fxprime,Qt.fxprime),rn=Math.max(0,$r(gr,le.fxprime)/gn);Ze(Vr,rn,Vr,-1,le.fxprime),Qn=Qt,Qt=le,le=Qn}if(sr(Qt.fxprime)<=1e-5)break}return te.history&&te.history.push({x:Qt.x.slice(),fx:Qt.fx,fxprime:Qt.fxprime.slice(),alpha:Sn}),Qt}function Ae(Re,ie,te){te=te||{};for(var Qt=te.maxIterations||ie.length*100,le=te.learnRate||.001,gr={x:ie.slice(),fx:0,fxprime:ie.slice()},Vr=0;Vr<Qt&&(gr.fx=Re(gr.x,gr.fxprime),te.history&&te.history.push({x:gr.x.slice(),fx:gr.fx,fxprime:gr.fxprime.slice()}),Ze(gr.x,1,gr.x,-le,gr.fxprime),!(sr(gr.fxprime)<=1e-5));++Vr);return gr}function ge(Re,ie,te){te=te||{};var Qt={x:ie.slice(),fx:0,fxprime:ie.slice()},le={x:ie.slice(),fx:0,fxprime:ie.slice()},gr=te.maxIterations||ie.length*100,Vr=te.learnRate||1,Qn=ie.slice(),Sn=te.c1||.001,Mn=te.c2||.1,Jn,gn=[];if(te.history){var rn=Re;Re=function(Or,Er){return gn.push(Or.slice()),rn(Or,Er)}}Qt.fx=Re(Qt.x,Qt.fxprime);for(var ti=0;ti<gr&&(tr(Qn,Qt.fxprime,-1),Vr=$t(Re,Qn,Qt,le,Vr,Sn,Mn),te.history&&(te.history.push({x:Qt.x.slice(),fx:Qt.fx,fxprime:Qt.fxprime.slice(),functionCalls:gn,learnRate:Vr,alpha:Vr}),gn=[]),Jn=Qt,Qt=le,le=Jn,!(Vr===0||sr(Qt.fxprime)<1e-5));++ti);return Qt}Kt.bisect=me,Kt.nelderMead=Ie,Kt.conjugateGradient=er,Kt.gradientDescent=Ae,Kt.gradientDescentLineSearch=ge,Kt.zeros=re,Kt.zerosM=Ot,Kt.norm2=sr,Kt.weightedSum=Ze,Kt.scale=tr})},73807:function(Rr){"use strict";var dn=Rr.exports;Rr.exports.isNumber=function(Kt){return typeof Kt=="number"},Rr.exports.findMin=function(Kt){if(Kt.length===0)return 1/0;for(var me=Kt[0],re=1;re<Kt.length;re++)me=Math.min(me,Kt[re]);return me},Rr.exports.findMax=function(Kt){if(Kt.length===0)return-1/0;for(var me=Kt[0],re=1;re<Kt.length;re++)me=Math.max(me,Kt[re]);return me},Rr.exports.findMinMulti=function(Kt){for(var me=dn.findMin(Kt[0]),re=1;re<Kt.length;re++)me=Math.min(me,dn.findMin(Kt[re]));return me},Rr.exports.findMaxMulti=function(Kt){for(var me=dn.findMax(Kt[0]),re=1;re<Kt.length;re++)me=Math.max(me,dn.findMax(Kt[re]));return me},Rr.exports.inside=function(Kt,me,re){return Kt<=re&&re<=me}},53843:function(Rr,dn,Kt){"use strict";var me=50,re=2,Ot=Math.log(2),$r=Rr.exports,sr=Kt(73807);function tr(Ie){return 1-Math.abs(Ie)}Rr.exports.getUnifiedMinMax=function(Ie,$t){return $r.getUnifiedMinMaxMulti([Ie],$t)},Rr.exports.getUnifiedMinMaxMulti=function(Ie,$t){$t=$t||{};var er=!1,Ae=!1,ge=sr.isNumber($t.width)?$t.width:re,Re=sr.isNumber($t.size)?$t.size:me,ie=sr.isNumber($t.min)?$t.min:(er=!0,sr.findMinMulti(Ie)),te=sr.isNumber($t.max)?$t.max:(Ae=!0,sr.findMaxMulti(Ie)),Qt=te-ie,le=Qt/(Re-1);return er&&(ie=ie-2*ge*le),Ae&&(te=te+2*ge*le),{min:ie,max:te}},Rr.exports.create=function(Ie,$t){if($t=$t||{},!Ie||Ie.length===0)return[];var er=sr.isNumber($t.size)?$t.size:me,Ae=sr.isNumber($t.width)?$t.width:re,ge=$r.getUnifiedMinMax(Ie,{size:er,width:Ae,min:$t.min,max:$t.max}),Re=ge.min,ie=ge.max,te=ie-Re,Qt=te/(er-1);if(te===0)return[{x:Re,y:1}];for(var le=[],gr=0;gr<er;gr++)le.push({x:Re+gr*Qt,y:0});var Vr=function(Or){return Math.floor((Or-Re)/Qt)},Qn=Ze(tr,Ae),Sn=Qn[Ae],Mn=Qn[Ae-1]-Qn[Ae-2],Jn=0;Ie.forEach(function(Or){var Er=Vr(Or);if(!(Er+Ae<0||Er-Ae>=le.length)){var oa=Math.max(Er-Ae,0),Mi=Er,Po=Math.min(Er+Ae,le.length-1),cr=oa-(Er-Ae),Ti=Er+Ae-Po,Ta=Qn[-Ae-1+cr]||0,Vt=Qn[-Ae-1+Ti]||0,Be=Sn/(Sn-Ta-Vt);cr>0&&(Jn+=Be*(cr-1)*Mn);var Ft=Math.max(0,Er-Ae+1);sr.inside(0,le.length-1,Ft)&&(le[Ft].y+=Be*1*Mn),sr.inside(0,le.length-1,Mi+1)&&(le[Mi+1].y-=Be*2*Mn),sr.inside(0,le.length-1,Po+1)&&(le[Po+1].y+=Be*1*Mn)}});var gn=Jn,rn=0,ti=0;return le.forEach(function(Or){rn+=Or.y,gn+=rn,Or.y=gn,ti+=gn}),ti>0&&le.forEach(function(Or){Or.y/=ti}),le};function Ze(Ie,$t){for(var er={},Ae=0,ge=-$t;ge<=$t;ge++)Ae+=Ie(ge/$t),er[ge]=Ae;return er}Rr.exports.getExpectedValueFromPdf=function(Ie){if(!(!Ie||Ie.length===0)){var $t=0;return Ie.forEach(function(er){$t+=er.x*er.y}),$t}},Rr.exports.getXWithLeftTailArea=function(Ie,$t){if(!(!Ie||Ie.length===0)){for(var er=0,Ae=0,ge=0;ge<Ie.length&&(Ae=ge,er+=Ie[ge].y,!(er>=$t));ge++);return Ie[Ae].x}},Rr.exports.getPerplexity=function(Ie){if(!(!Ie||Ie.length===0)){var $t=0;return Ie.forEach(function(er){var Ae=Math.log(er.y);isFinite(Ae)&&($t+=er.y*Ae)}),$t=-$t/Ot,Math.pow(2,$t)}}},86851:function(Rr,dn,Kt){"use strict";var me=Kt(89594),re=Array.prototype.concat,Ot=Array.prototype.slice,$r=Rr.exports=function(tr){for(var Ze=[],Ie=0,$t=tr.length;Ie<$t;Ie++){var er=tr[Ie];me(er)?Ze=re.call(Ze,Ot.call(er)):Ze.push(er)}return Ze};$r.wrap=function(sr){return function(){return sr($r(arguments))}}},89594:function(Rr){Rr.exports=function(Kt){return!Kt||typeof Kt=="string"?!1:Kt instanceof Array||Array.isArray(Kt)||Kt.length>=0&&(Kt.splice instanceof Function||Object.getOwnPropertyDescriptor(Kt,Kt.length-1)&&Kt.constructor.name!=="String")}},64599:function(Rr,dn,Kt){var me=Kt(96263);function re(Ot,$r){var sr=typeof Symbol!="undefined"&&Ot[Symbol.iterator]||Ot["@@iterator"];if(!sr){if(Array.isArray(Ot)||(sr=me(Ot))||$r&&Ot&&typeof Ot.length=="number"){sr&&(Ot=sr);var tr=0,Ze=function(){};return{s:Ze,n:function(){return tr>=Ot.length?{done:!0}:{done:!1,value:Ot[tr++]}},e:function(ge){throw ge},f:Ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ie=!0,$t=!1,er;return{s:function(){sr=sr.call(Ot)},n:function(){var ge=sr.next();return Ie=ge.done,ge},e:function(ge){$t=!0,er=ge},f:function(){try{!Ie&&sr.return!=null&&sr.return()}finally{if($t)throw er}}}}Rr.exports=re,Rr.exports.__esModule=!0,Rr.exports.default=Rr.exports},44013:function(Rr,dn,Kt){"use strict";Kt.d(dn,{S1:function(){return Hw}});var me={};Kt.r(me),Kt.d(me,{Arc:function(){return lw},BezierCurve:function(){return ci},BoundingRect:function(){return Je},Circle:function(){return nh},CompoundPath:function(){return mm},Ellipse:function(){return WA},Group:function(){return Ye},Image:function(){return ka},IncrementalDisplayable:function(){return HH},Line:function(){return ua},LinearGradient:function(){return Vc},OrientedBoundingRect:function(){return e3},Path:function(){return Sr},Point:function(){return Ke},Polygon:function(){return xo},Polyline:function(){return Xa},RadialGradient:function(){return cw},Rect:function(){return kr},Ring:function(){return zn},Sector:function(){return uo},Text:function(){return Hr},WH:function(){return ea},XY:function(){return pr},applyTransform:function(){return Ql},calcZ2Range:function(){return QA},clipPointsByRect:function(){return lh},clipRectByRect:function(){return rnt},createIcon:function(){return ov},ensureCopyRect:function(){return og},ensureCopyTransform:function(){return Hc},expandOrShrinkRect:function(){return Jl},extendPath:function(){return Gc},extendShape:function(){return dw},getShapeClass:function(){return Hu},getTransform:function(){return $e},groupTransition:function(){return sh},initProps:function(){return ni},isBoundingRectAxisAligned:function(){return sv},isElementRemoved:function(){return Np},lineLineIntersect:function(){return yw},linePolygonIntersect:function(){return ig},makeImage:function(){return n3},makePath:function(){return vw},mergePath:function(){return Kl},registerShape:function(){return ma},removeElement:function(){return Vn},removeElementWithFadeOut:function(){return Ki},resizePath:function(){return i3},retrieveZInfo:function(){return ll},setTooltipConfig:function(){return uh},subPixelOptimize:function(){return pw},subPixelOptimizeLine:function(){return av},subPixelOptimizeRect:function(){return a3},transformDirection:function(){return gw},traverseElements:function(){return Wc},traverseUpdateZ:function(){return sg},updateProps:function(){return Qr}});var re=function(n,r){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])},re(n,r)};function Ot(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");re(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var $r=function(){return $r=Object.assign||function(r){for(var e,o=1,l=arguments.length;o<l;o++){e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(r[c]=e[c])}return r},$r.apply(this,arguments)};function sr(n,r){var e={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(e[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(e[o[l]]=n[o[l]]);return e}function tr(n,r,e,o){var l=arguments.length,c=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,e):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,r,e,o);else for(var d=n.length-1;d>=0;d--)(f=n[d])&&(c=(l<3?f(c):l>3?f(r,e,c):f(r,e))||c);return l>3&&c&&Object.defineProperty(r,e,c),c}function Ze(n,r){return function(e,o){r(e,o,n)}}function Ie(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)}function $t(n,r,e,o){function l(c){return c instanceof e?c:new e(function(f){f(c)})}return new(e||(e=Promise))(function(c,f){function d(b){try{y(o.next(b))}catch(x){f(x)}}function p(b){try{y(o.throw(b))}catch(x){f(x)}}function y(b){b.done?c(b.value):l(b.value).then(d,p)}y((o=o.apply(n,r||[])).next())})}function er(n,r){var e={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(b){return p([y,b])}}function p(y){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,l=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(c=e.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){e.label=y[1];break}if(y[0]===6&&e.label<c[1]){e.label=c[1],c=y;break}if(c&&e.label<c[2]){e.label=c[2],e.ops.push(y);break}c[2]&&e.ops.pop(),e.trys.pop();continue}y=r.call(n,e)}catch(b){y=[6,b],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Ae=Object.create?function(n,r,e,o){o===void 0&&(o=e),Object.defineProperty(n,o,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,o){o===void 0&&(o=e),n[o]=r[e]};function ge(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&Ae(r,n,e)}function Re(n){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&n[r],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(n,r){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var o=e.call(n),l,c=[],f;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)c.push(l.value)}catch(d){f={error:d}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(f)throw f.error}}return c}function te(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(ie(arguments[r]));return n}function Qt(){for(var n=0,r=0,e=arguments.length;r<e;r++)n+=arguments[r].length;for(var o=Array(n),l=0,r=0;r<e;r++)for(var c=arguments[r],f=0,d=c.length;f<d;f++,l++)o[l]=c[f];return o}function le(n,r,e){if(e||arguments.length===2)for(var o=0,l=r.length,c;o<l;o++)(c||!(o in r))&&(c||(c=Array.prototype.slice.call(r,0,o)),c[o]=r[o]);return n.concat(c||r)}function gr(n){return this instanceof gr?(this.v=n,this):new gr(n)}function Vr(n,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(n,r||[]),l,c=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(S){o[S]&&(l[S]=function(T){return new Promise(function(A,E){c.push([S,T,A,E])>1||d(S,T)})})}function d(S,T){try{p(o[S](T))}catch(A){x(c[0][3],A)}}function p(S){S.value instanceof gr?Promise.resolve(S.value.v).then(y,b):x(c[0][2],S)}function y(S){d("next",S)}function b(S){d("throw",S)}function x(S,T){S(T),c.shift(),c.length&&d(c[0][0],c[0][1])}}function Qn(n){var r,e;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,c){r[l]=n[l]?function(f){return(e=!e)?{value:gr(n[l](f)),done:l==="return"}:c?c(f):f}:c}}function Sn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],e;return r?r.call(n):(n=typeof Re=="function"?Re(n):n[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(c){e[c]=n[c]&&function(f){return new Promise(function(d,p){f=n[c](f),l(d,p,f.done,f.value)})}}function l(c,f,d,p){Promise.resolve(p).then(function(y){c({value:y,done:d})},f)}}function Mn(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n}var Jn=Object.create?function(n,r){Object.defineProperty(n,"default",{enumerable:!0,value:r})}:function(n,r){n.default=r};function gn(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&Ae(r,n,e);return Jn(r,n),r}function rn(n){return n&&n.__esModule?n:{default:n}}function ti(n,r,e,o){if(e==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?n!==r||!o:!r.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?o:e==="a"?o.call(n):o?o.value:r.get(n)}function Or(n,r,e,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?n!==r||!l:!r.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(n,e):l?l.value=e:r.set(n,e),e}var Er=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),oa=function(){function n(){this.browser=new Er,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return n}(),Mi=new oa;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Mi.wxa=!0,Mi.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?Mi.worker=!0:!Mi.hasGlobalWindow||"Deno"in window||typeof navigator!="undefined"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Mi.node=!0,Mi.svgSupported=!0):Po(navigator.userAgent,Mi);function Po(n,r){var e=r.browser,o=n.match(/Firefox\/([\d.]+)/),l=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),c=n.match(/Edge?\/([\d.]+)/),f=/micromessenger/i.test(n);o&&(e.firefox=!0,e.version=o[1]),l&&(e.ie=!0,e.version=l[1]),c&&(e.edge=!0,e.version=c[1],e.newEdge=+c[1].split(".")[0]>18),f&&(e.weChat=!0),r.svgSupported=typeof SVGRect!="undefined",r.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,r.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11);var d=r.domSupported=typeof document!="undefined";if(d){var p=document.documentElement.style;r.transform3dSupported=(e.ie&&"transition"in p||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in p)&&!("OTransition"in p),r.transformSupported=r.transform3dSupported||e.ie&&+e.version>=9}}var cr=Mi,Ti=12,Ta="sans-serif",Vt=Ti+"px "+Ta,Be=20,Ft=100,be="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function ar(n){var r={};if(typeof JSON=="undefined")return r;for(var e=0;e<n.length;e++){var o=String.fromCharCode(e+32),l=(n.charCodeAt(e)-Be)/Ft;r[o]=l}return r}var $n=ar(be),zr={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var n,r;return function(e,o){if(!n){var l=zr.createCanvas();n=l&&l.getContext("2d")}if(n)return r!==o&&(r=n.font=o||Vt),n.measureText(e);e=e||"",o=o||Vt;var c=/((?:\d+)?\.?\d*)px/.exec(o),f=c&&+c[1]||Ti,d=0;if(o.indexOf("mono")>=0)d=f*e.length;else for(var p=0;p<e.length;p++){var y=$n[e[p]];d+=y==null?f:y*f}return{width:d}}}(),loadImage:function(n,r,e){var o=new Image;return o.onload=r,o.onerror=e,o.src=n,o}};function qr(n){for(var r in zr)n[r]&&(zr[r]=n[r])}var xr=pi(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,r){return n["[object "+r+"]"]=!0,n},{}),Ja=pi(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,r){return n["[object "+r+"Array]"]=!0,n},{}),to=Object.prototype.toString,eo=Array.prototype,Eo=eo.forEach,ln=eo.filter,gc=eo.slice,Ni=eo.map,ro=function(){}.constructor,Ml=ro?ro.prototype:null,Tl="__proto__",ko=2311;function Yo(){return ko++}function Bi(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];typeof console!="undefined"&&console.error.apply(console,n)}function Ne(n){if(n==null||typeof n!="object")return n;var r=n,e=to.call(n);if(e==="[object Array]"){if(!Mf(n)){r=[];for(var o=0,l=n.length;o<l;o++)r[o]=Ne(n[o])}}else if(Ja[e]){if(!Mf(n)){var c=n.constructor;if(c.from)r=c.from(n);else{r=new c(n.length);for(var o=0,l=n.length;o<l;o++)r[o]=n[o]}}}else if(!xr[e]&&!Mf(n)&&!Uo(n)){r={};for(var f in n)n.hasOwnProperty(f)&&f!==Tl&&(r[f]=Ne(n[f]))}return r}function lr(n,r,e){if(!ce(r)||!ce(n))return e?Ne(r):n;for(var o in r)if(r.hasOwnProperty(o)&&o!==Tl){var l=n[o],c=r[o];ce(c)&&ce(l)&&!Ut(c)&&!Ut(l)&&!Uo(c)&&!Uo(l)&&!mu(c)&&!mu(l)&&!Mf(c)&&!Mf(l)?lr(l,c,e):(e||!(o in n))&&(n[o]=Ne(r[o]))}return n}function Ol(n,r){for(var e=n[0],o=1,l=n.length;o<l;o++)e=lr(e,n[o],r);return e}function Wt(n,r){if(Object.assign)Object.assign(n,r);else for(var e in r)r.hasOwnProperty(e)&&e!==Tl&&(n[e]=r[e]);return n}function je(n,r,e){for(var o=vr(r),l=0,c=o.length;l<c;l++){var f=o[l];(e?r[f]!=null:n[f]==null)&&(n[f]=r[f])}return n}var wf=zr.createCanvas;function Xe(n,r){if(n){if(n.indexOf)return n.indexOf(r);for(var e=0,o=n.length;e<o;e++)if(n[e]===r)return e}return-1}function Al(n,r){var e=n.prototype;function o(){}o.prototype=r.prototype,n.prototype=new o;for(var l in e)e.hasOwnProperty(l)&&(n.prototype[l]=e[l]);n.prototype.constructor=n,n.superClass=r}function Ln(n,r,e){if(n="prototype"in n?n.prototype:n,r="prototype"in r?r.prototype:r,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(r),l=0;l<o.length;l++){var c=o[l];c!=="constructor"&&(e?r[c]!=null:n[c]==null)&&(n[c]=r[c])}else je(n,r,e)}function vi(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function it(n,r,e){if(n&&r)if(n.forEach&&n.forEach===Eo)n.forEach(r,e);else if(n.length===+n.length)for(var o=0,l=n.length;o<l;o++)r.call(e,n[o],o,n);else for(var c in n)n.hasOwnProperty(c)&&r.call(e,n[c],c,n)}function Gt(n,r,e){if(!n)return[];if(!r)return ds(n);if(n.map&&n.map===Ni)return n.map(r,e);for(var o=[],l=0,c=n.length;l<c;l++)o.push(r.call(e,n[l],l,n));return o}function pi(n,r,e,o){if(n&&r){for(var l=0,c=n.length;l<c;l++)e=r.call(o,e,n[l],l,n);return e}}function Zr(n,r,e){if(!n)return[];if(!r)return ds(n);if(n.filter&&n.filter===ln)return n.filter(r,e);for(var o=[],l=0,c=n.length;l<c;l++)r.call(e,n[l],l,n)&&o.push(n[l]);return o}function Oa(n,r,e){if(n&&r){for(var o=0,l=n.length;o<l;o++)if(r.call(e,n[o],o,n))return n[o]}}function vr(n){if(!n)return[];if(Object.keys)return Object.keys(n);var r=[];for(var e in n)n.hasOwnProperty(e)&&r.push(e);return r}function Sf(n,r){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return function(){return n.apply(r,e.concat(gc.call(arguments)))}}var ue=Ml&&ze(Ml.bind)?Ml.call.bind(Ml.bind):Sf;function hr(n){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return function(){return n.apply(this,r.concat(gc.call(arguments)))}}function Ut(n){return Array.isArray?Array.isArray(n):to.call(n)==="[object Array]"}function ze(n){return typeof n=="function"}function oe(n){return typeof n=="string"}function yc(n){return to.call(n)==="[object String]"}function qe(n){return typeof n=="number"}function ce(n){var r=typeof n;return r==="function"||!!n&&r==="object"}function mu(n){return!!xr[to.call(n)]}function Aa(n){return!!Ja[to.call(n)]}function Uo(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function mc(n){return n.colorStops!=null}function Ky(n){return n.image!=null}function bu(n){return to.call(n)==="[object RegExp]"}function Pi(n){return n!==n}function mn(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var e=0,o=n.length;e<o;e++)if(n[e]!=null)return n[e]}function fe(n,r){return n!=null?n:r}function Ui(n,r,e){return n!=null?n:r!=null?r:e}function ds(n){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return gc.apply(n,r)}function _u(n){if(typeof n=="number")return[n,n,n,n];var r=n.length;return r===2?[n[0],n[1],n[0],n[1]]:r===3?[n[0],n[1],n[2],n[1]]:n}function ei(n,r){if(!n)throw new Error(r)}function Xo(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Qy="__ec_primitive__";function Gr(n){n[Qy]=!0}function Mf(n){return n[Qy]}var Tn=function(){function n(){this.data={}}return n.prototype.delete=function(r){var e=this.has(r);return e&&delete this.data[r],e},n.prototype.has=function(r){return this.data.hasOwnProperty(r)},n.prototype.get=function(r){return this.data[r]},n.prototype.set=function(r,e){return this.data[r]=e,this},n.prototype.keys=function(){return vr(this.data)},n.prototype.forEach=function(r){var e=this.data;for(var o in e)e.hasOwnProperty(o)&&r(e[o],o)},n}(),ke=typeof Map=="function";function t_(){return ke?new Map:new Tn}var De=function(){function n(r){var e=Ut(r);this.data=t_();var o=this;r instanceof n?r.each(l):r&&it(r,l);function l(c,f){e?o.set(c,f):o.set(f,c)}}return n.prototype.hasKey=function(r){return this.data.has(r)},n.prototype.get=function(r){return this.data.get(r)},n.prototype.set=function(r,e){return this.data.set(r,e),e},n.prototype.each=function(r,e){this.data.forEach(function(o,l){r.call(e,o,l)})},n.prototype.keys=function(){var r=this.data.keys();return ke?Array.from(r):r},n.prototype.removeKey=function(r){this.data.delete(r)},n}();function ve(n){return new De(n)}function ha(n,r){for(var e=new n.constructor(n.length+r.length),o=0;o<n.length;o++)e[o]=n[o];for(var l=n.length,o=0;o<r.length;o++)e[o+l]=r[o];return e}function dt(n,r){var e;if(Object.create)e=Object.create(n);else{var o=function(){};o.prototype=n,e=new o}return r&&Wt(e,r),e}function pt(n){var r=n.style;r.webkitUserSelect="none",r.userSelect="none",r.webkitTapHighlightColor="rgba(0,0,0,0)",r["-webkit-touch-callout"]="none"}function gt(n,r){return n.hasOwnProperty(r)}function _t(){}var Dt=180/Math.PI,Nt=Number.EPSILON||Math.pow(2,-52);var At=function(n,r){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])},At(n,r)};function Tt(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");At(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var It=function(){return It=Object.assign||function(r){for(var e,o=1,l=arguments.length;o<l;o++){e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(r[c]=e[c])}return r},It.apply(this,arguments)};function Yt(n,r){var e={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(e[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(e[o[l]]=n[o[l]]);return e}function Jt(n,r,e,o){var l=arguments.length,c=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,e):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,r,e,o);else for(var d=n.length-1;d>=0;d--)(f=n[d])&&(c=(l<3?f(c):l>3?f(r,e,c):f(r,e))||c);return l>3&&c&&Object.defineProperty(r,e,c),c}function Le(n,r){return function(e,o){r(e,o,n)}}function rr(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)}function Se(n,r,e,o){function l(c){return c instanceof e?c:new e(function(f){f(c)})}return new(e||(e=Promise))(function(c,f){function d(b){try{y(o.next(b))}catch(x){f(x)}}function p(b){try{y(o.throw(b))}catch(x){f(x)}}function y(b){b.done?c(b.value):l(b.value).then(d,p)}y((o=o.apply(n,r||[])).next())})}function ye(n,r){var e={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(y){return function(b){return p([y,b])}}function p(y){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return e.label++,{value:y[1],done:!1};case 5:e.label++,l=y[1],y=[0];continue;case 7:y=e.ops.pop(),e.trys.pop();continue;default:if(c=e.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){e=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){e.label=y[1];break}if(y[0]===6&&e.label<c[1]){e.label=c[1],c=y;break}if(c&&e.label<c[2]){e.label=c[2],e.ops.push(y);break}c[2]&&e.ops.pop(),e.trys.pop();continue}y=r.call(n,e)}catch(b){y=[6,b],l=0}finally{o=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Fe=Object.create?function(n,r,e,o){o===void 0&&(o=e),Object.defineProperty(n,o,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,o){o===void 0&&(o=e),n[o]=r[e]};function pe(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&Fe(r,n,e)}function Ee(n){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&n[r],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(n,r){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var o=e.call(n),l,c=[],f;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)c.push(l.value)}catch(d){f={error:d}}finally{try{l&&!l.done&&(e=o.return)&&e.call(o)}finally{if(f)throw f.error}}return c}function wr(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Me(arguments[r]));return n}function He(){for(var n=0,r=0,e=arguments.length;r<e;r++)n+=arguments[r].length;for(var o=Array(n),l=0,r=0;r<e;r++)for(var c=arguments[r],f=0,d=c.length;f<d;f++,l++)o[l]=c[f];return o}function yr(n,r,e){if(e||arguments.length===2)for(var o=0,l=r.length,c;o<l;o++)(c||!(o in r))&&(c||(c=Array.prototype.slice.call(r,0,o)),c[o]=r[o]);return n.concat(c||r)}function Wr(n){return this instanceof Wr?(this.v=n,this):new Wr(n)}function vs(n,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(n,r||[]),l,c=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(S){o[S]&&(l[S]=function(T){return new Promise(function(A,E){c.push([S,T,A,E])>1||d(S,T)})})}function d(S,T){try{p(o[S](T))}catch(A){x(c[0][3],A)}}function p(S){S.value instanceof Wr?Promise.resolve(S.value.v).then(y,b):x(c[0][2],S)}function y(S){d("next",S)}function b(S){d("throw",S)}function x(S,T){S(T),c.shift(),c.length&&d(c[0][0],c[0][1])}}function Cr(n){var r,e;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,c){r[l]=n[l]?function(f){return(e=!e)?{value:Wr(n[l](f)),done:l==="return"}:c?c(f):f}:c}}function Ei(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],e;return r?r.call(n):(n=typeof Ee=="function"?Ee(n):n[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(c){e[c]=n[c]&&function(f){return new Promise(function(d,p){f=n[c](f),l(d,p,f.done,f.value)})}}function l(c,f,d,p){Promise.resolve(p).then(function(y){c({value:y,done:d})},f)}}function Xi(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n}var Br=Object.create?function(n,r){Object.defineProperty(n,"default",{enumerable:!0,value:r})}:function(n,r){n.default=r};function On(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&Fe(r,n,e);return Br(r,n),r}function nn(n){return n&&n.__esModule?n:{default:n}}function Xs(n,r,e,o){if(e==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?n!==r||!o:!r.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?o:e==="a"?o.call(n):o?o.value:r.get(n)}function e_(n,r,e,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?n!==r||!l:!r.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(n,e):l?l.value=e:r.set(n,e),e}function ps(n,r){return n==null&&(n=0),r==null&&(r=0),[n,r]}function ki(n,r){return n[0]=r[0],n[1]=r[1],n}function gi(n){return[n[0],n[1]]}function Tf(n,r,e){return n[0]=r,n[1]=e,n}function Of(n,r,e){return n[0]=r[0]+e[0],n[1]=r[1]+e[1],n}function bc(n,r,e,o){return n[0]=r[0]+e[0]*o,n[1]=r[1]+e[1]*o,n}function Lo(n,r,e){return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n}function lp(n){return Math.sqrt(y9(n))}var vit=null;function y9(n){return n[0]*n[0]+n[1]*n[1]}var pit=null;function git(n,r,e){return n[0]=r[0]*e[0],n[1]=r[1]*e[1],n}function yit(n,r,e){return n[0]=r[0]/e[0],n[1]=r[1]/e[1],n}function mit(n,r){return n[0]*r[0]+n[1]*r[1]}function xu(n,r,e){return n[0]=r[0]*e,n[1]=r[1]*e,n}function go(n,r){var e=lp(r);return e===0?(n[0]=0,n[1]=0):(n[0]=r[0]/e,n[1]=r[1]/e),n}function up(n,r){return Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))}var wu=up;function Net(n,r){return(n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1])}var cp=Net;function bit(n,r){return n[0]=-r[0],n[1]=-r[1],n}function yi(n,r,e,o){return n[0]=r[0]+o*(e[0]-r[0]),n[1]=r[1]+o*(e[1]-r[1]),n}function $i(n,r,e){var o=r[0],l=r[1];return n[0]=e[0]*o+e[2]*l+e[4],n[1]=e[1]*o+e[3]*l+e[5],n}function Af(n,r,e){return n[0]=Math.min(r[0],e[0]),n[1]=Math.min(r[1],e[1]),n}function dd(n,r,e){return n[0]=Math.max(r[0],e[0]),n[1]=Math.max(r[1],e[1]),n}var Jy=function(){function n(r,e){this.target=r,this.topTarget=e&&e.topTarget}return n}(),Bet=function(){function n(r){this.handler=r,r.on("mousedown",this._dragStart,this),r.on("mousemove",this._drag,this),r.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(r){for(var e=r.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=r.offsetX,this._y=r.offsetY,this.handler.dispatchToElement(new Jy(e,r),"dragstart",r.event))},n.prototype._drag=function(r){var e=this._draggingTarget;if(e){var o=r.offsetX,l=r.offsetY,c=o-this._x,f=l-this._y;this._x=o,this._y=l,e.drift(c,f,r),this.handler.dispatchToElement(new Jy(e,r),"drag",r.event);var d=this.handler.findHover(o,l,e).target,p=this._dropTarget;this._dropTarget=d,e!==d&&(p&&d!==p&&this.handler.dispatchToElement(new Jy(p,r),"dragleave",r.event),d&&d!==p&&this.handler.dispatchToElement(new Jy(d,r),"dragenter",r.event))}},n.prototype._dragEnd=function(r){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Jy(e,r),"dragend",r.event),this._dropTarget&&this.handler.dispatchToElement(new Jy(this._dropTarget,r),"drop",r.event),this._draggingTarget=null,this._dropTarget=null},n}(),zet=Bet,Fet=function(){function n(r){r&&(this._$eventProcessor=r)}return n.prototype.on=function(r,e,o,l){this._$handlers||(this._$handlers={});var c=this._$handlers;if(typeof e=="function"&&(l=o,o=e,e=null),!o||!r)return this;var f=this._$eventProcessor;e!=null&&f&&f.normalizeQuery&&(e=f.normalizeQuery(e)),c[r]||(c[r]=[]);for(var d=0;d<c[r].length;d++)if(c[r][d].h===o)return this;var p={h:o,query:e,ctx:l||this,callAtLast:o.zrEventfulCallAtLast},y=c[r].length-1,b=c[r][y];return b&&b.callAtLast?c[r].splice(y,0,p):c[r].push(p),this},n.prototype.isSilent=function(r){var e=this._$handlers;return!e||!e[r]||!e[r].length},n.prototype.off=function(r,e){var o=this._$handlers;if(!o)return this;if(!r)return this._$handlers={},this;if(e){if(o[r]){for(var l=[],c=0,f=o[r].length;c<f;c++)o[r][c].h!==e&&l.push(o[r][c]);o[r]=l}o[r]&&o[r].length===0&&delete o[r]}else delete o[r];return this},n.prototype.trigger=function(r){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var l=this._$handlers[r],c=this._$eventProcessor;if(l)for(var f=e.length,d=l.length,p=0;p<d;p++){var y=l[p];if(!(c&&c.filter&&y.query!=null&&!c.filter(r,y.query)))switch(f){case 0:y.h.call(y.ctx);break;case 1:y.h.call(y.ctx,e[0]);break;case 2:y.h.call(y.ctx,e[0],e[1]);break;default:y.h.apply(y.ctx,e);break}}return c&&c.afterTrigger&&c.afterTrigger(r),this},n.prototype.triggerWithContext=function(r){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._$handlers)return this;var l=this._$handlers[r],c=this._$eventProcessor;if(l)for(var f=e.length,d=e[f-1],p=l.length,y=0;y<p;y++){var b=l[y];if(!(c&&c.filter&&b.query!=null&&!c.filter(r,b.query)))switch(f){case 0:b.h.call(d);break;case 1:b.h.call(d,e[0]);break;case 2:b.h.call(d,e[0],e[1]);break;default:b.h.apply(d,e.slice(1,f-1));break}}return c&&c.afterTrigger&&c.afterTrigger(r),this},n}(),Cl=Fet,jet=Math.log(2);function vd(n,r,e,o,l,c){var f=o+"-"+l,d=n.length;if(c.hasOwnProperty(f))return c[f];if(r===1){var p=Math.round(Math.log((1<<d)-1&~l)/jet);return n[e][p]}for(var y=o|1<<e,b=e+1;o&1<<b;)b++;for(var x=0,S=0,T=0;S<d;S++){var A=1<<S;A&l||(x+=(T%2?-1:1)*n[e][S]*vd(n,r-1,b,y,l|A,c),T++)}return c[f]=x,x}function RI(n,r){var e=[[n[0],n[1],1,0,0,0,-r[0]*n[0],-r[0]*n[1]],[0,0,0,n[0],n[1],1,-r[1]*n[0],-r[1]*n[1]],[n[2],n[3],1,0,0,0,-r[2]*n[2],-r[2]*n[3]],[0,0,0,n[2],n[3],1,-r[3]*n[2],-r[3]*n[3]],[n[4],n[5],1,0,0,0,-r[4]*n[4],-r[4]*n[5]],[0,0,0,n[4],n[5],1,-r[5]*n[4],-r[5]*n[5]],[n[6],n[7],1,0,0,0,-r[6]*n[6],-r[6]*n[7]],[0,0,0,n[6],n[7],1,-r[7]*n[6],-r[7]*n[7]]],o={},l=vd(e,8,0,0,0,o);if(l!==0){for(var c=[],f=0;f<8;f++)for(var d=0;d<8;d++)c[d]==null&&(c[d]=0),c[d]+=((f+d)%2?-1:1)*vd(e,7,f===0?1:0,1<<f,1<<d,o)/l*r[f];return function(p,y,b){var x=y*c[6]+b*c[7]+1;p[0]=(y*c[0]+b*c[1]+c[2])/x,p[1]=(y*c[3]+b*c[4]+c[5])/x}}}var LT="___zrEVENTSAVED",NI=[];function BI(n,r,e,o,l){return r_(NI,r,o,l,!0)&&r_(n,e,NI[0],NI[1])}function Vet(n,r){n&&e(n),r&&e(r);function e(o){var l=o[LT];l&&(l.clearMarkers&&l.clearMarkers(),delete o[LT])}}function r_(n,r,e,o,l){if(r.getBoundingClientRect&&cr.domSupported&&!Pl(r)){var c=r[LT]||(r[LT]={}),f=Get(r,c),d=Wet(f,c,l);if(d)return d(n,e,o),!0}return!1}function Get(n,r){var e=r.markers;if(e)return e;e=r.markers=[];for(var o=["left","right"],l=["top","bottom"],c=0;c<4;c++){var f=document.createElement("div"),d=f.style,p=c%2,y=(c>>1)%2;d.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[p]+":0",l[y]+":0",o[1-p]+":auto",l[1-y]+":auto",""].join("!important;"),n.appendChild(f),e.push(f)}return r.clearMarkers=function(){it(e,function(b){b.parentNode&&b.parentNode.removeChild(b)})},e}function Wet(n,r,e){for(var o=e?"invTrans":"trans",l=r[o],c=r.srcCoords,f=[],d=[],p=!0,y=0;y<4;y++){var b=n[y].getBoundingClientRect(),x=2*y,S=b.left,T=b.top;f.push(S,T),p=p&&c&&S===c[x]&&T===c[x+1],d.push(n[y].offsetLeft,n[y].offsetTop)}return p&&l?l:(r.srcCoords=f,r[o]=e?RI(d,f):RI(f,d))}function Pl(n){return n.nodeName.toUpperCase()==="CANVAS"}var m9=/([&<>"'])/g,t0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yo(n){return n==null?"":(n+"").replace(m9,function(r,e){return t0[e]})}var b9=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,DT=[],Het=cr.browser.firefox&&+cr.browser.version.split(".")[0]<39;function zI(n,r,e,o){return e=e||{},o?_9(n,r,e):Het&&r.layerX!=null&&r.layerX!==r.offsetX?(e.zrX=r.layerX,e.zrY=r.layerY):r.offsetX!=null?(e.zrX=r.offsetX,e.zrY=r.offsetY):_9(n,r,e),e}function _9(n,r,e){if(cr.domSupported&&n.getBoundingClientRect){var o=r.clientX,l=r.clientY;if(Pl(n)){var c=n.getBoundingClientRect();e.zrX=o-c.left,e.zrY=l-c.top;return}else if(r_(DT,n,o,l)){e.zrX=DT[0],e.zrY=DT[1];return}}e.zrX=e.zrY=0}function FI(n){return n||window.event}function El(n,r,e){if(r=FI(r),r.zrX!=null)return r;var o=r.type,l=o&&o.indexOf("touch")>=0;if(l){var f=o!=="touchend"?r.targetTouches[0]:r.changedTouches[0];f&&zI(n,f,r,e)}else{zI(n,r,r,e);var c=Yet(r);r.zrDelta=c?c/120:-(r.detail||0)/3}var d=r.button;return r.which==null&&d!==void 0&&b9.test(r.type)&&(r.which=d&1?1:d&2?3:d&4?2:0),r}function Yet(n){var r=n.wheelDelta;if(r)return r;var e=n.deltaX,o=n.deltaY;if(e==null||o==null)return r;var l=Math.abs(o!==0?o:e),c=o>0?-1:o<0?1:e>0?-1:1;return 3*l*c}function jI(n,r,e,o){n.addEventListener(r,e,o)}function Uet(n,r,e,o){n.removeEventListener(r,e,o)}var _c=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function x9(n){return n.which===2||n.which===3}var Xet=function(){function n(){this._track=[]}return n.prototype.recognize=function(r,e,o){return this._doTrack(r,e,o),this._recognize(r)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(r,e,o){var l=r.touches;if(l){for(var c={points:[],touches:[],target:e,event:r},f=0,d=l.length;f<d;f++){var p=l[f],y=zI(o,p,{});c.points.push([y.zrX,y.zrY]),c.touches.push(p)}this._track.push(c)}},n.prototype._recognize=function(r){for(var e in IT)if(IT.hasOwnProperty(e)){var o=IT[e](this._track,r);if(o)return o}},n}();function w9(n){var r=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(r*r+e*e)}function S9(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var IT={pinch:function(n,r){var e=n.length;if(e){var o=(n[e-1]||{}).points,l=(n[e-2]||{}).points||o;if(l&&l.length>1&&o&&o.length>1){var c=w9(o)/w9(l);!isFinite(c)&&(c=1),r.pinchScale=c;var f=S9(o);return r.pinchX=f[0],r.pinchY=f[1],{type:"pinch",target:n[0].target,event:r}}}}};function no(){return[1,0,0,1,0,0]}function RT(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function n_(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function Su(n,r,e){var o=r[0]*e[0]+r[2]*e[1],l=r[1]*e[0]+r[3]*e[1],c=r[0]*e[2]+r[2]*e[3],f=r[1]*e[2]+r[3]*e[3],d=r[0]*e[4]+r[2]*e[5]+r[4],p=r[1]*e[4]+r[3]*e[5]+r[5];return n[0]=o,n[1]=l,n[2]=c,n[3]=f,n[4]=d,n[5]=p,n}function xc(n,r,e){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4]+e[0],n[5]=r[5]+e[1],n}function Cf(n,r,e,o){o===void 0&&(o=[0,0]);var l=r[0],c=r[2],f=r[4],d=r[1],p=r[3],y=r[5],b=Math.sin(e),x=Math.cos(e);return n[0]=l*x+d*b,n[1]=-l*b+d*x,n[2]=c*x+p*b,n[3]=-c*b+x*p,n[4]=x*(f-o[0])+b*(y-o[1])+o[0],n[5]=x*(y-o[1])-b*(f-o[0])+o[1],n}function VI(n,r,e){var o=e[0],l=e[1];return n[0]=r[0]*o,n[1]=r[1]*l,n[2]=r[2]*o,n[3]=r[3]*l,n[4]=r[4]*o,n[5]=r[5]*l,n}function Ca(n,r){var e=r[0],o=r[2],l=r[4],c=r[1],f=r[3],d=r[5],p=e*f-c*o;return p?(p=1/p,n[0]=f*p,n[1]=-c*p,n[2]=-o*p,n[3]=e*p,n[4]=(o*d-f*l)*p,n[5]=(c*l-e*d)*p,n):null}function $et(n){var r=no();return n_(r,n),r}var qet=function(){function n(r,e){this.x=r||0,this.y=e||0}return n.prototype.copy=function(r){return this.x=r.x,this.y=r.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(r,e){return this.x=r,this.y=e,this},n.prototype.equal=function(r){return r.x===this.x&&r.y===this.y},n.prototype.add=function(r){return this.x+=r.x,this.y+=r.y,this},n.prototype.scale=function(r){this.x*=r,this.y*=r},n.prototype.scaleAndAdd=function(r,e){this.x+=r.x*e,this.y+=r.y*e},n.prototype.sub=function(r){return this.x-=r.x,this.y-=r.y,this},n.prototype.dot=function(r){return this.x*r.x+this.y*r.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var r=this.len();return this.x/=r,this.y/=r,this},n.prototype.distance=function(r){var e=this.x-r.x,o=this.y-r.y;return Math.sqrt(e*e+o*o)},n.prototype.distanceSquare=function(r){var e=this.x-r.x,o=this.y-r.y;return e*e+o*o},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(r){if(r){var e=this.x,o=this.y;return this.x=r[0]*e+r[2]*o+r[4],this.y=r[1]*e+r[3]*o+r[5],this}},n.prototype.toArray=function(r){return r[0]=this.x,r[1]=this.y,r},n.prototype.fromArray=function(r){this.x=r[0],this.y=r[1]},n.set=function(r,e,o){r.x=e,r.y=o},n.copy=function(r,e){r.x=e.x,r.y=e.y},n.len=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},n.lenSquare=function(r){return r.x*r.x+r.y*r.y},n.dot=function(r,e){return r.x*e.x+r.y*e.y},n.add=function(r,e,o){r.x=e.x+o.x,r.y=e.y+o.y},n.sub=function(r,e,o){r.x=e.x-o.x,r.y=e.y-o.y},n.scale=function(r,e,o){r.x=e.x*o,r.y=e.y*o},n.scaleAndAdd=function(r,e,o,l){r.x=e.x+o.x*l,r.y=e.y+o.y*l},n.lerp=function(r,e,o,l){var c=1-l;r.x=c*e.x+l*o.x,r.y=c*e.y+l*o.y},n}(),Ke=qet,pd=Math.min,fp=Math.max,GI=Math.abs,M9=["x","y"],Zet=["width","height"],hp=new Ke,dp=new Ke,vp=new Ke,pp=new Ke,$s=kl(),Dn=$s.minTv,i_=$s.maxTv,Mu=[0,0],a_=function(){function n(r,e,o,l){n.set(this,r,e,o,l)}return n.set=function(r,e,o,l,c){return l<0&&(e=e+l,l=-l),c<0&&(o=o+c,c=-c),r.x=e,r.y=o,r.width=l,r.height=c,r},n.prototype.union=function(r){var e=pd(r.x,this.x),o=pd(r.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=fp(r.x+r.width,this.x+this.width)-e:this.width=r.width,isFinite(this.y)&&isFinite(this.height)?this.height=fp(r.y+r.height,this.y+this.height)-o:this.height=r.height,this.x=e,this.y=o},n.prototype.applyTransform=function(r){n.applyTransform(this,this,r)},n.prototype.calculateTransform=function(r){var e=this,o=r.width/e.width,l=r.height/e.height,c=no();return xc(c,c,[-e.x,-e.y]),VI(c,c,[o,l]),xc(c,c,[r.x,r.y]),c},n.prototype.intersect=function(r,e,o){return n.intersect(this,r,e,o)},n.intersect=function(r,e,o,l){o&&Ke.set(o,0,0);var c=l&&l.outIntersectRect||null,f=l&&l.clamp;if(c&&(c.x=c.y=c.width=c.height=NaN),!r||!e)return!1;r instanceof n||(r=n.set(NT,r.x,r.y,r.width,r.height)),e instanceof n||(e=n.set(Pf,e.x,e.y,e.width,e.height));var d=!!o;$s.reset(l,d);var p=$s.touchThreshold,y=r.x+p,b=r.x+r.width-p,x=r.y+p,S=r.y+r.height-p,T=e.x+p,A=e.x+e.width-p,E=e.y+p,L=e.y+e.height-p;if(y>b||x>S||T>A||E>L)return!1;var I=!(b<T||A<y||S<E||L<x);return(d||c)&&(Mu[0]=1/0,Mu[1]=0,BT(y,b,T,A,0,d,c,f),BT(x,S,E,L,1,d,c,f),d&&Ke.copy(o,I?$s.useDir?$s.dirMinTv:Dn:i_)),I},n.contain=function(r,e,o){return e>=r.x&&e<=r.x+r.width&&o>=r.y&&o<=r.y+r.height},n.prototype.contain=function(r,e){return n.contain(this,r,e)},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(r){n.copy(this,r)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(r){return new n(r.x,r.y,r.width,r.height)},n.copy=function(r,e){return r.x=e.x,r.y=e.y,r.width=e.width,r.height=e.height,r},n.applyTransform=function(r,e,o){if(!o){r!==e&&n.copy(r,e);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var l=o[0],c=o[3],f=o[4],d=o[5];r.x=e.x*l+f,r.y=e.y*c+d,r.width=e.width*l,r.height=e.height*c,r.width<0&&(r.x+=r.width,r.width=-r.width),r.height<0&&(r.y+=r.height,r.height=-r.height);return}hp.x=vp.x=e.x,hp.y=pp.y=e.y,dp.x=pp.x=e.x+e.width,dp.y=vp.y=e.y+e.height,hp.transform(o),pp.transform(o),dp.transform(o),vp.transform(o),r.x=pd(hp.x,dp.x,vp.x,pp.x),r.y=pd(hp.y,dp.y,vp.y,pp.y);var p=fp(hp.x,dp.x,vp.x,pp.x),y=fp(hp.y,dp.y,vp.y,pp.y);r.width=p-r.x,r.height=y-r.y},n}(),NT=new a_(0,0,0,0),Pf=new a_(0,0,0,0);function BT(n,r,e,o,l,c,f,d){var p=GI(r-e),y=GI(o-n),b=pd(p,y),x=M9[l],S=M9[1-l],T=Zet[l];r<e||o<n?p<y?(c&&(i_[x]=-p),d&&(f[x]=r,f[T]=0)):(c&&(i_[x]=y),d&&(f[x]=n,f[T]=0)):(f&&(f[x]=fp(n,e),f[T]=pd(r,o)-f[x]),c&&(b<Mu[0]||$s.useDir)&&(Mu[0]=pd(b,Mu[0]),(p<y||!$s.bidirectional)&&(Dn[x]=p,Dn[S]=0,$s.useDir&&$s.calcDirMTV()),(p>=y||!$s.bidirectional)&&(Dn[x]=-y,Dn[S]=0,$s.useDir&&$s.calcDirMTV())))}function kl(){var n=0,r=new Ke,e=new Ke,o={minTv:new Ke,maxTv:new Ke,useDir:!1,dirMinTv:new Ke,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(c,f){o.touchThreshold=0,c&&c.touchThreshold!=null&&(o.touchThreshold=fp(0,c.touchThreshold)),o.negativeSize=!1,f&&(o.minTv.set(1/0,1/0),o.maxTv.set(0,0),o.useDir=!1,c&&c.direction!=null&&(o.useDir=!0,o.dirMinTv.copy(o.minTv),e.copy(o.minTv),n=c.direction,o.bidirectional=c.bidirectional==null||!!c.bidirectional,o.bidirectional||r.set(Math.cos(n),Math.sin(n))))},calcDirMTV:function(){var c=o.minTv,f=o.dirMinTv,d=c.y*c.y+c.x*c.x,p=Math.sin(n),y=Math.cos(n),b=p*c.y+y*c.x;if(l(b)){l(c.x)&&l(c.y)&&f.set(0,0);return}if(e.x=d*y/b,e.y=d*p/b,l(e.x)&&l(e.y)){f.set(0,0);return}(o.bidirectional||r.dot(e)>0)&&e.len()<f.len()&&f.copy(e)}};function l(c){return GI(c)<1e-10}return o}var Je=a_,zT="silent";function mo(n,r,e){return{type:n,event:e,target:r.target,topTarget:r.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:gp}}function gp(){_c(this.event)}var WI=function(n){Tt(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.handler=null,e}return r.prototype.dispose=function(){},r.prototype.setCursor=function(){},r}(Cl),e0=function(){function n(r,e){this.x=r,this.y=e}return n}(),HI=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],o_=new Je(0,0,0,0),YI=function(n){Tt(r,n);function r(e,o,l,c,f){var d=n.call(this)||this;return d._hovered=new e0(0,0),d.storage=e,d.painter=o,d.painterRoot=c,d._pointerSize=f,l=l||new WI,d.proxy=null,d.setHandlerProxy(l),d._draggingMgr=new zet(d),d}return r.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(it(HI,function(o){e.on&&e.on(o,this[o],this)},this),e.handler=this),this.proxy=e},r.prototype.mousemove=function(e){var o=e.zrX,l=e.zrY,c=FT(this,o,l),f=this._hovered,d=f.target;d&&!d.__zr&&(f=this.findHover(f.x,f.y),d=f.target);var p=this._hovered=c?new e0(o,l):this.findHover(o,l),y=p.target,b=this.proxy;b.setCursor&&b.setCursor(y?y.cursor:"default"),d&&y!==d&&this.dispatchToElement(f,"mouseout",e),this.dispatchToElement(p,"mousemove",e),y&&y!==d&&this.dispatchToElement(p,"mouseover",e)},r.prototype.mouseout=function(e){var o=e.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},r.prototype.resize=function(){this._hovered=new e0(0,0)},r.prototype.dispatch=function(e,o){var l=this[e];l&&l.call(this,o)},r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},r.prototype.setCursorStyle=function(e){var o=this.proxy;o.setCursor&&o.setCursor(e)},r.prototype.dispatchToElement=function(e,o,l){e=e||{};var c=e.target;if(!(c&&c.silent)){for(var f="on"+o,d=mo(o,e,l);c&&(c[f]&&(d.cancelBubble=!!c[f].call(c,d)),c.trigger(o,d),c=c.__hostTarget?c.__hostTarget:c.parent,!d.cancelBubble););d.cancelBubble||(this.trigger(o,d),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(p){typeof p[f]=="function"&&p[f].call(p,d),p.trigger&&p.trigger(o,d)}))}},r.prototype.findHover=function(e,o,l){var c=this.storage.getDisplayList(),f=new e0(e,o);if(kf(c,f,e,o,l),this._pointerSize&&!f.target){for(var d=[],p=this._pointerSize,y=p/2,b=new Je(e-y,o-y,p,p),x=c.length-1;x>=0;x--){var S=c[x];S!==l&&!S.ignore&&!S.ignoreCoarsePointer&&(!S.parent||!S.parent.ignoreCoarsePointer)&&(o_.copy(S.getBoundingRect()),S.transform&&o_.applyTransform(S.transform),o_.intersect(b)&&d.push(S))}if(d.length)for(var T=4,A=Math.PI/12,E=Math.PI*2,L=0;L<y;L+=T)for(var I=0;I<E;I+=A){var N=e+L*Math.cos(I),F=o+L*Math.sin(I);if(kf(d,f,N,F,l),f.target)return f}}return f},r.prototype.processGesture=function(e,o){this._gestureMgr||(this._gestureMgr=new Xet);var l=this._gestureMgr;o==="start"&&l.clear();var c=l.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(o==="end"&&l.clear(),c){var f=c.type;e.gestureEvent=f;var d=new e0;d.target=c.target,this.dispatchToElement(d,f,c.event)}},r}(Cl);it(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){YI.prototype[n]=function(r){var e=r.zrX,o=r.zrY,l=FT(this,e,o),c,f;if((n!=="mouseup"||!l)&&(c=this.findHover(e,o),f=c.target),n==="mousedown")this._downEl=f,this._downPoint=[r.zrX,r.zrY],this._upEl=f;else if(n==="mouseup")this._upEl=f;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||wu(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,n,r)}});function Ef(n,r,e){if(n[n.rectHover?"rectContain":"contain"](r,e)){for(var o=n,l=void 0,c=!1;o;){if(o.ignoreClip&&(c=!0),!c){var f=o.getClipPath();if(f&&!f.contain(r,e))return!1}o.silent&&(l=!0);var d=o.__hostTarget;o=d?o.ignoreHostSilent?null:d:o.parent}return l?zT:!0}return!1}function kf(n,r,e,o,l){for(var c=n.length-1;c>=0;c--){var f=n[c],d=void 0;if(f!==l&&!f.ignore&&(d=Ef(f,e,o))&&(!r.topTarget&&(r.topTarget=f),d!==zT)){r.target=f;break}}}function FT(n,r,e){var o=n.painter;return r<0||r>o.getWidth()||e<0||e>o.getHeight()}var UI=YI,jT=32,gd=7;function XI(n){for(var r=0;n>=jT;)r|=n&1,n>>=1;return n+r}function $I(n,r,e,o){var l=r+1;if(l===e)return 1;if(o(n[l++],n[r])<0){for(;l<e&&o(n[l],n[l-1])<0;)l++;s_(n,r,l)}else for(;l<e&&o(n[l],n[l-1])>=0;)l++;return l-r}function s_(n,r,e){for(e--;r<e;){var o=n[r];n[r++]=n[e],n[e--]=o}}function yd(n,r,e,o,l){for(o===r&&o++;o<e;o++){for(var c=n[o],f=r,d=o,p;f<d;)p=f+d>>>1,l(c,n[p])<0?d=p:f=p+1;var y=o-f;switch(y){case 3:n[f+3]=n[f+2];case 2:n[f+2]=n[f+1];case 1:n[f+1]=n[f];break;default:for(;y>0;)n[f+y]=n[f+y-1],y--}n[f]=c}}function yp(n,r,e,o,l,c){var f=0,d=0,p=1;if(c(n,r[e+l])>0){for(d=o-l;p<d&&c(n,r[e+l+p])>0;)f=p,p=(p<<1)+1,p<=0&&(p=d);p>d&&(p=d),f+=l,p+=l}else{for(d=l+1;p<d&&c(n,r[e+l-p])<=0;)f=p,p=(p<<1)+1,p<=0&&(p=d);p>d&&(p=d);var y=f;f=l-p,p=l-y}for(f++;f<p;){var b=f+(p-f>>>1);c(n,r[e+b])>0?f=b+1:p=b}return p}function VT(n,r,e,o,l,c){var f=0,d=0,p=1;if(c(n,r[e+l])<0){for(d=l+1;p<d&&c(n,r[e+l-p])<0;)f=p,p=(p<<1)+1,p<=0&&(p=d);p>d&&(p=d);var y=f;f=l-p,p=l-y}else{for(d=o-l;p<d&&c(n,r[e+l+p])>=0;)f=p,p=(p<<1)+1,p<=0&&(p=d);p>d&&(p=d),f+=l,p+=l}for(f++;f<p;){var b=f+(p-f>>>1);c(n,r[e+b])<0?p=b:f=b+1}return p}function r0(n,r){var e=gd,o,l,c=0,f=[];o=[],l=[];function d(T,A){o[c]=T,l[c]=A,c+=1}function p(){for(;c>1;){var T=c-2;if(T>=1&&l[T-1]<=l[T]+l[T+1]||T>=2&&l[T-2]<=l[T]+l[T-1])l[T-1]<l[T+1]&&T--;else if(l[T]>l[T+1])break;b(T)}}function y(){for(;c>1;){var T=c-2;T>0&&l[T-1]<l[T+1]&&T--,b(T)}}function b(T){var A=o[T],E=l[T],L=o[T+1],I=l[T+1];l[T]=E+I,T===c-3&&(o[T+1]=o[T+2],l[T+1]=l[T+2]),c--;var N=VT(n[L],n,A,E,0,r);A+=N,E-=N,E!==0&&(I=yp(n[A+E-1],n,L,I,I-1,r),I!==0&&(E<=I?x(A,E,L,I):S(A,E,L,I)))}function x(T,A,E,L){var I=0;for(I=0;I<A;I++)f[I]=n[T+I];var N=0,F=E,W=T;if(n[W++]=n[F++],--L===0){for(I=0;I<A;I++)n[W+I]=f[N+I];return}if(A===1){for(I=0;I<L;I++)n[W+I]=n[F+I];n[W+L]=f[N];return}for(var X=e,$,K,et;;){$=0,K=0,et=!1;do if(r(n[F],f[N])<0){if(n[W++]=n[F++],K++,$=0,--L===0){et=!0;break}}else if(n[W++]=f[N++],$++,K=0,--A===1){et=!0;break}while(($|K)<X);if(et)break;do{if($=VT(n[F],f,N,A,0,r),$!==0){for(I=0;I<$;I++)n[W+I]=f[N+I];if(W+=$,N+=$,A-=$,A<=1){et=!0;break}}if(n[W++]=n[F++],--L===0){et=!0;break}if(K=yp(f[N],n,F,L,0,r),K!==0){for(I=0;I<K;I++)n[W+I]=n[F+I];if(W+=K,F+=K,L-=K,L===0){et=!0;break}}if(n[W++]=f[N++],--A===1){et=!0;break}X--}while($>=gd||K>=gd);if(et)break;X<0&&(X=0),X+=2}if(e=X,e<1&&(e=1),A===1){for(I=0;I<L;I++)n[W+I]=n[F+I];n[W+L]=f[N]}else{if(A===0)throw new Error;for(I=0;I<A;I++)n[W+I]=f[N+I]}}function S(T,A,E,L){var I=0;for(I=0;I<L;I++)f[I]=n[E+I];var N=T+A-1,F=L-1,W=E+L-1,X=0,$=0;if(n[W--]=n[N--],--A===0){for(X=W-(L-1),I=0;I<L;I++)n[X+I]=f[I];return}if(L===1){for(W-=A,N-=A,$=W+1,X=N+1,I=A-1;I>=0;I--)n[$+I]=n[X+I];n[W]=f[F];return}for(var K=e;;){var et=0,at=0,ot=!1;do if(r(f[F],n[N])<0){if(n[W--]=n[N--],et++,at=0,--A===0){ot=!0;break}}else if(n[W--]=f[F--],at++,et=0,--L===1){ot=!0;break}while((et|at)<K);if(ot)break;do{if(et=A-VT(f[F],n,T,A,A-1,r),et!==0){for(W-=et,N-=et,A-=et,$=W+1,X=N+1,I=et-1;I>=0;I--)n[$+I]=n[X+I];if(A===0){ot=!0;break}}if(n[W--]=f[F--],--L===1){ot=!0;break}if(at=L-yp(n[N],f,0,L,L-1,r),at!==0){for(W-=at,F-=at,L-=at,$=W+1,X=F+1,I=0;I<at;I++)n[$+I]=f[X+I];if(L<=1){ot=!0;break}}if(n[W--]=n[N--],--A===0){ot=!0;break}K--}while(et>=gd||at>=gd);if(ot)break;K<0&&(K=0),K+=2}if(e=K,e<1&&(e=1),L===1){for(W-=A,N-=A,$=W+1,X=N+1,I=A-1;I>=0;I--)n[$+I]=n[X+I];n[W]=f[F]}else{if(L===0)throw new Error;for(X=W-(L-1),I=0;I<L;I++)n[X+I]=f[I]}}return{mergeRuns:p,forceMergeRuns:y,pushRun:d}}function mp(n,r,e,o){e||(e=0),o||(o=n.length);var l=o-e;if(!(l<2)){var c=0;if(l<jT){c=$I(n,e,o,r),yd(n,e,o,e+c,r);return}var f=r0(n,r),d=XI(l);do{if(c=$I(n,e,o,r),c<d){var p=l;p>d&&(p=d),yd(n,e,e+p,e+c,r),c=p}f.pushRun(e,c),f.mergeRuns(),l-=c,e+=c}while(l!==0);f.forceMergeRuns()}}var gs=1,bp=2,_p=4,qI=!1;function GT(){qI||(qI=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function WT(n,r){return n.zlevel===r.zlevel?n.z===r.z?n.z2-r.z2:n.z-r.z:n.zlevel-r.zlevel}var ZI=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=WT}return n.prototype.traverse=function(r,e){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(r,e)},n.prototype.getDisplayList=function(r,e){e=e||!1;var o=this._displayList;return(r||!o.length)&&this.updateDisplayList(e),o},n.prototype.updateDisplayList=function(r){this._displayListLen=0;for(var e=this._roots,o=this._displayList,l=0,c=e.length;l<c;l++)this._updateAndAddDisplayable(e[l],null,r);o.length=this._displayListLen,mp(o,WT)},n.prototype._updateAndAddDisplayable=function(r,e,o){if(!(r.ignore&&!o)){r.beforeUpdate(),r.update(),r.afterUpdate();var l=r.getClipPath(),c=e&&e.length,f=0,d=r.__clipPaths;if(!r.ignoreClip&&(c||l)){if(d||(d=r.__clipPaths=[]),c)for(var p=0;p<e.length;p++)d[f++]=e[p];for(var y=l,b=r;y;)y.parent=b,y.updateTransform(),d[f++]=y,b=y,y=y.getClipPath()}if(d&&(d.length=f),r.childrenRef){for(var x=r.childrenRef(),S=0;S<x.length;S++){var T=x[S];r.__dirty&&(T.__dirty|=gs),this._updateAndAddDisplayable(T,d,o)}r.__dirty=0}else{var A=r;isNaN(A.z)&&(GT(),A.z=0),isNaN(A.z2)&&(GT(),A.z2=0),isNaN(A.zlevel)&&(GT(),A.zlevel=0),this._displayList[this._displayListLen++]=A}var E=r.getDecalElement&&r.getDecalElement();E&&this._updateAndAddDisplayable(E,d,o);var L=r.getTextGuideLine();L&&this._updateAndAddDisplayable(L,d,o);var I=r.getTextContent();I&&this._updateAndAddDisplayable(I,d,o)}},n.prototype.addRoot=function(r){r.__zr&&r.__zr.storage===this||this._roots.push(r)},n.prototype.delRoot=function(r){if(r instanceof Array){for(var e=0,o=r.length;e<o;e++)this.delRoot(r[e]);return}var l=Xe(this._roots,r);l>=0&&this._roots.splice(l,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),KI=ZI,HT;HT=cr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var YT=HT,l_={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var r,e=.1,o=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,r=o/4):r=o*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(n-=1))*Math.sin((n-r)*(2*Math.PI)/o)))},elasticOut:function(n){var r,e=.1,o=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,r=o/4):r=o*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-r)*(2*Math.PI)/o)+1)},elasticInOut:function(n){var r,e=.1,o=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,r=o/4):r=o*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-r)*(2*Math.PI)/o)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*(2*Math.PI)/o)*.5+1)},backIn:function(n){var r=1.70158;return n*n*((r+1)*n-r)},backOut:function(n){var r=1.70158;return--n*n*((r+1)*n+r)+1},backInOut:function(n){var r=2.5949095;return(n*=2)<1?.5*(n*n*((r+1)*n-r)):.5*((n-=2)*n*((r+1)*n+r)+2)},bounceIn:function(n){return 1-l_.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?l_.bounceIn(n*2)*.5:l_.bounceOut(n*2-1)*.5+.5}},QI=l_,u_=Math.pow,wc=Math.sqrt,c_=1e-8,JI=1e-4,f_=wc(3),h_=1/3,Ll=ps(),qs=ps(),md=ps();function Lf(n){return n>-c_&&n<c_}function T9(n){return n>c_||n<-c_}function Wa(n,r,e,o,l){var c=1-l;return c*c*(c*n+3*l*r)+l*l*(l*o+3*c*e)}function tR(n,r,e,o,l){var c=1-l;return 3*(((r-n)*c+2*(e-r)*l)*c+(o-e)*l*l)}function UT(n,r,e,o,l,c){var f=o+3*(r-e)-n,d=3*(e-r*2+n),p=3*(r-n),y=n-l,b=d*d-3*f*p,x=d*p-9*f*y,S=p*p-3*d*y,T=0;if(Lf(b)&&Lf(x))if(Lf(d))c[0]=0;else{var A=-p/d;A>=0&&A<=1&&(c[T++]=A)}else{var E=x*x-4*b*S;if(Lf(E)){var L=x/b,A=-d/f+L,I=-L/2;A>=0&&A<=1&&(c[T++]=A),I>=0&&I<=1&&(c[T++]=I)}else if(E>0){var N=wc(E),F=b*d+1.5*f*(-x+N),W=b*d+1.5*f*(-x-N);F<0?F=-u_(-F,h_):F=u_(F,h_),W<0?W=-u_(-W,h_):W=u_(W,h_);var A=(-d-(F+W))/(3*f);A>=0&&A<=1&&(c[T++]=A)}else{var X=(2*b*d-3*f*x)/(2*wc(b*b*b)),$=Math.acos(X)/3,K=wc(b),et=Math.cos($),A=(-d-2*K*et)/(3*f),I=(-d+K*(et+f_*Math.sin($)))/(3*f),at=(-d+K*(et-f_*Math.sin($)))/(3*f);A>=0&&A<=1&&(c[T++]=A),I>=0&&I<=1&&(c[T++]=I),at>=0&&at<=1&&(c[T++]=at)}}return T}function O9(n,r,e,o,l){var c=6*e-12*r+6*n,f=9*r+3*o-3*n-9*e,d=3*r-3*n,p=0;if(Lf(f)){if(T9(c)){var y=-d/c;y>=0&&y<=1&&(l[p++]=y)}}else{var b=c*c-4*f*d;if(Lf(b))l[0]=-c/(2*f);else if(b>0){var x=wc(b),y=(-c+x)/(2*f),S=(-c-x)/(2*f);y>=0&&y<=1&&(l[p++]=y),S>=0&&S<=1&&(l[p++]=S)}}return p}function bd(n,r,e,o,l,c){var f=(r-n)*l+n,d=(e-r)*l+r,p=(o-e)*l+e,y=(d-f)*l+f,b=(p-d)*l+d,x=(b-y)*l+y;c[0]=n,c[1]=f,c[2]=y,c[3]=x,c[4]=x,c[5]=b,c[6]=p,c[7]=o}function A9(n,r,e,o,l,c,f,d,p,y,b){var x,S=.005,T=1/0,A,E,L,I;Ll[0]=p,Ll[1]=y;for(var N=0;N<1;N+=.05)qs[0]=Wa(n,e,l,f,N),qs[1]=Wa(r,o,c,d,N),L=cp(Ll,qs),L<T&&(x=N,T=L);T=1/0;for(var F=0;F<32&&!(S<JI);F++)A=x-S,E=x+S,qs[0]=Wa(n,e,l,f,A),qs[1]=Wa(r,o,c,d,A),L=cp(qs,Ll),A>=0&&L<T?(x=A,T=L):(md[0]=Wa(n,e,l,f,E),md[1]=Wa(r,o,c,d,E),I=cp(md,Ll),E<=1&&I<T?(x=E,T=I):S*=.5);return b&&(b[0]=Wa(n,e,l,f,x),b[1]=Wa(r,o,c,d,x)),wc(T)}function Ket(n,r,e,o,l,c,f,d,p){for(var y=n,b=r,x=0,S=1/p,T=1;T<=p;T++){var A=T*S,E=Wa(n,e,l,f,A),L=Wa(r,o,c,d,A),I=E-y,N=L-b;x+=Math.sqrt(I*I+N*N),y=E,b=L}return x}function io(n,r,e,o){var l=1-o;return l*(l*n+2*o*r)+o*o*e}function eR(n,r,e,o){return 2*((1-o)*(r-n)+o*(e-r))}function Qet(n,r,e,o,l){var c=n-2*r+e,f=2*(r-n),d=n-o,p=0;if(Lf(c)){if(T9(f)){var y=-d/f;y>=0&&y<=1&&(l[p++]=y)}}else{var b=f*f-4*c*d;if(Lf(b)){var y=-f/(2*c);y>=0&&y<=1&&(l[p++]=y)}else if(b>0){var x=wc(b),y=(-f+x)/(2*c),S=(-f-x)/(2*c);y>=0&&y<=1&&(l[p++]=y),S>=0&&S<=1&&(l[p++]=S)}}return p}function C9(n,r,e){var o=n+e-2*r;return o===0?.5:(n-r)/o}function d_(n,r,e,o,l){var c=(r-n)*o+n,f=(e-r)*o+r,d=(f-c)*o+c;l[0]=n,l[1]=c,l[2]=d,l[3]=d,l[4]=f,l[5]=e}function P9(n,r,e,o,l,c,f,d,p){var y,b=.005,x=1/0;Ll[0]=f,Ll[1]=d;for(var S=0;S<1;S+=.05){qs[0]=io(n,e,l,S),qs[1]=io(r,o,c,S);var T=cp(Ll,qs);T<x&&(y=S,x=T)}x=1/0;for(var A=0;A<32&&!(b<JI);A++){var E=y-b,L=y+b;qs[0]=io(n,e,l,E),qs[1]=io(r,o,c,E);var T=cp(qs,Ll);if(E>=0&&T<x)y=E,x=T;else{md[0]=io(n,e,l,L),md[1]=io(r,o,c,L);var I=cp(md,Ll);L<=1&&I<x?(y=L,x=I):b*=.5}}return p&&(p[0]=io(n,e,l,y),p[1]=io(r,o,c,y)),wc(x)}function Jet(n,r,e,o,l,c,f){for(var d=n,p=r,y=0,b=1/f,x=1;x<=f;x++){var S=x*b,T=io(n,e,l,S),A=io(r,o,c,S),E=T-d,L=A-p;y+=Math.sqrt(E*E+L*L),d=T,p=A}return y}var trt=/cubic-bezier\(([0-9,\.e ]+)\)/;function rR(n){var r=n&&trt.exec(n);if(r){var e=r[1].split(","),o=+Xo(e[0]),l=+Xo(e[1]),c=+Xo(e[2]),f=+Xo(e[3]);if(isNaN(o+l+c+f))return;var d=[];return function(p){return p<=0?0:p>=1?1:UT(0,o,c,1,p,d)&&Wa(0,l,f,1,d[0])}}}var ert=function(){function n(r){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=r.life||1e3,this._delay=r.delay||0,this.loop=r.loop||!1,this.onframe=r.onframe||_t,this.ondestroy=r.ondestroy||_t,this.onrestart=r.onrestart||_t,r.easing&&this.setEasing(r.easing)}return n.prototype.step=function(r,e){if(this._inited||(this._startTime=r+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var o=this._life,l=r-this._startTime-this._pausedTime,c=l/o;c<0&&(c=0),c=Math.min(c,1);var f=this.easingFunc,d=f?f(c):c;if(this.onframe(d),c===1)if(this.loop){var p=l%o;this._startTime=r-p,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(r){this.easing=r,this.easingFunc=ze(r)?r:QI[r]||rR(r)},n}(),rrt=ert,E9=function(){function n(r){this.value=r}return n}(),nrt=function(){function n(){this._len=0}return n.prototype.insert=function(r){var e=new E9(r);return this.insertEntry(e),e},n.prototype.insertEntry=function(r){this.head?(this.tail.next=r,r.prev=this.tail,r.next=null,this.tail=r):this.head=this.tail=r,this._len++},n.prototype.remove=function(r){var e=r.prev,o=r.next;e?e.next=o:this.head=o,o?o.prev=e:this.tail=e,r.next=r.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),irt=function(){function n(r){this._list=new nrt,this._maxSize=10,this._map={},this._maxSize=r}return n.prototype.put=function(r,e){var o=this._list,l=this._map,c=null;if(l[r]==null){var f=o.len(),d=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var p=o.head;o.remove(p),delete l[p.key],c=p.value,this._lastRemovedEntry=p}d?d.value=e:d=new E9(e),d.key=r,o.insertEntry(d),l[r]=d}return c},n.prototype.get=function(r){var e=this._map[r],o=this._list;if(e!=null)return e!==o.tail&&(o.remove(e),o.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),n0=irt,k9={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Tu(n){return n=Math.round(n),n<0?0:n>255?255:n}function art(n){return n=Math.round(n),n<0?0:n>360?360:n}function v_(n){return n<0?0:n>1?1:n}function nR(n){var r=n;return r.length&&r.charAt(r.length-1)==="%"?Tu(parseFloat(r)/100*255):Tu(parseInt(r,10))}function _d(n){var r=n;return r.length&&r.charAt(r.length-1)==="%"?v_(parseFloat(r)/100):v_(parseFloat(r))}function iR(n,r,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?n+(r-n)*e*6:e*2<1?r:e*3<2?n+(r-n)*(2/3-e)*6:n}function mi(n,r,e){return n+(r-n)*e}function Dl(n,r,e,o,l){return n[0]=r,n[1]=e,n[2]=o,n[3]=l,n}function Ou(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}var L9=new n0(20),XT=null;function ys(n,r){XT&&Ou(XT,r),XT=L9.put(n,XT||r.slice())}function $o(n,r){if(n){r=r||[];var e=L9.get(n);if(e)return Ou(r,e);n=n+"";var o=n.replace(/ /g,"").toLowerCase();if(o in k9)return Ou(r,k9[o]),ys(n,r),r;var l=o.length;if(o.charAt(0)==="#"){if(l===4||l===5){var c=parseInt(o.slice(1,4),16);if(!(c>=0&&c<=4095)){Dl(r,0,0,0,1);return}return Dl(r,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,l===5?parseInt(o.slice(4),16)/15:1),ys(n,r),r}else if(l===7||l===9){var c=parseInt(o.slice(1,7),16);if(!(c>=0&&c<=16777215)){Dl(r,0,0,0,1);return}return Dl(r,(c&16711680)>>16,(c&65280)>>8,c&255,l===9?parseInt(o.slice(7),16)/255:1),ys(n,r),r}return}var f=o.indexOf("("),d=o.indexOf(")");if(f!==-1&&d+1===l){var p=o.substr(0,f),y=o.substr(f+1,d-(f+1)).split(","),b=1;switch(p){case"rgba":if(y.length!==4)return y.length===3?Dl(r,+y[0],+y[1],+y[2],1):Dl(r,0,0,0,1);b=_d(y.pop());case"rgb":if(y.length>=3)return Dl(r,nR(y[0]),nR(y[1]),nR(y[2]),y.length===3?b:_d(y[3])),ys(n,r),r;Dl(r,0,0,0,1);return;case"hsla":if(y.length!==4){Dl(r,0,0,0,1);return}return y[3]=_d(y[3]),aR(y,r),ys(n,r),r;case"hsl":if(y.length!==3){Dl(r,0,0,0,1);return}return aR(y,r),ys(n,r),r;default:return}}Dl(r,0,0,0,1)}}function aR(n,r){var e=(parseFloat(n[0])%360+360)%360/360,o=_d(n[1]),l=_d(n[2]),c=l<=.5?l*(o+1):l+o-l*o,f=l*2-c;return r=r||[],Dl(r,Tu(iR(f,c,e+1/3)*255),Tu(iR(f,c,e)*255),Tu(iR(f,c,e-1/3)*255),1),n.length===4&&(r[3]=n[3]),r}function ort(n){if(n){var r=n[0]/255,e=n[1]/255,o=n[2]/255,l=Math.min(r,e,o),c=Math.max(r,e,o),f=c-l,d=(c+l)/2,p,y;if(f===0)p=0,y=0;else{d<.5?y=f/(c+l):y=f/(2-c-l);var b=((c-r)/6+f/2)/f,x=((c-e)/6+f/2)/f,S=((c-o)/6+f/2)/f;r===c?p=S-x:e===c?p=1/3+b-S:o===c&&(p=2/3+x-b),p<0&&(p+=1),p>1&&(p-=1)}var T=[p*360,y,d];return n[3]!=null&&T.push(n[3]),T}}function oR(n,r){var e=$o(n);if(e){for(var o=0;o<3;o++)r<0?e[o]=e[o]*(1-r)|0:e[o]=(255-e[o])*r+e[o]|0,e[o]>255?e[o]=255:e[o]<0&&(e[o]=0);return Il(e,e.length===4?"rgba":"rgb")}}function srt(n){var r=$o(n);if(r)return((1<<24)+(r[0]<<16)+(r[1]<<8)+ +r[2]).toString(16).slice(1)}function $T(n,r,e){if(!(!(r&&r.length)||!(n>=0&&n<=1))){e=e||[];var o=n*(r.length-1),l=Math.floor(o),c=Math.ceil(o),f=r[l],d=r[c],p=o-l;return e[0]=Tu(mi(f[0],d[0],p)),e[1]=Tu(mi(f[1],d[1],p)),e[2]=Tu(mi(f[2],d[2],p)),e[3]=v_(mi(f[3],d[3],p)),e}}var _it=null;function qT(n,r,e){if(!(!(r&&r.length)||!(n>=0&&n<=1))){var o=n*(r.length-1),l=Math.floor(o),c=Math.ceil(o),f=$o(r[l]),d=$o(r[c]),p=o-l,y=Il([Tu(mi(f[0],d[0],p)),Tu(mi(f[1],d[1],p)),Tu(mi(f[2],d[2],p)),v_(mi(f[3],d[3],p))],"rgba");return e?{color:y,leftIndex:l,rightIndex:c,value:o}:y}}var xit=null;function Au(n,r,e,o){var l=$o(n);if(n)return l=ort(l),r!=null&&(l[0]=art(ze(r)?r(l[0]):r)),e!=null&&(l[1]=_d(ze(e)?e(l[1]):e)),o!=null&&(l[2]=_d(ze(o)?o(l[2]):o)),Il(aR(l),"rgba")}function ZT(n,r){var e=$o(n);if(e&&r!=null)return e[3]=v_(r),Il(e,"rgba")}function Il(n,r){if(!(!n||!n.length)){var e=n[0]+","+n[1]+","+n[2];return(r==="rgba"||r==="hsva"||r==="hsla")&&(e+=","+n[3]),r+"("+e+")"}}function xd(n,r){var e=$o(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*r:0}function wit(){return Il([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var D9=new n0(100);function KT(n){if(oe(n)){var r=D9.get(n);return r||(r=oR(n,-.1),D9.put(n,r)),r}else if(mc(n)){var e=Wt({},n);return e.colorStops=Gt(n.colorStops,function(o){return{offset:o.offset,color:oR(o.color,-.1)}}),e}return n}var i0=Kt(48764).lW,xp=Math.round;function p_(n){var r;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var e=$o(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",r=e[3])}return{color:n,opacity:r==null?1:r}}var QT=1e-4;function Df(n){return n<QT&&n>-QT}function g_(n){return xp(n*1e3)/1e3}function sR(n){return xp(n*1e4)/1e4}function Sit(n){return xp(n*10)/10}function lrt(n){return"matrix("+g_(n[0])+","+g_(n[1])+","+g_(n[2])+","+g_(n[3])+","+sR(n[4])+","+sR(n[5])+")"}var urt={left:"start",right:"end",center:"middle",middle:"middle"};function crt(n,r,e){return e==="top"?n+=r/2:e==="bottom"&&(n-=r/2),n}function y_(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function frt(n){var r=n.style,e=n.getGlobalScale();return[r.shadowColor,(r.shadowBlur||0).toFixed(2),(r.shadowOffsetX||0).toFixed(2),(r.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function Mit(n){var r=[];if(n)for(var e=0;e<n.length;e++){var o=n[e];r.push(o.id)}return r.join(",")}function I9(n){return n&&!!n.image}function hrt(n){return n&&!!n.svgElement}function lR(n){return I9(n)||hrt(n)}function m_(n){return n.type==="linear"}function R9(n){return n.type==="radial"}function N9(n){return n&&(n.type==="linear"||n.type==="radial")}function b_(n){return"url(#"+n+")"}function uR(n){var r=n.getGlobalScale(),e=Math.max(r[0],r[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function B9(n){var r=n.x||0,e=n.y||0,o=(n.rotation||0)*Dt,l=fe(n.scaleX,1),c=fe(n.scaleY,1),f=n.skewX||0,d=n.skewY||0,p=[];return(r||e)&&p.push("translate("+r+"px,"+e+"px)"),o&&p.push("rotate("+o+")"),(l!==1||c!==1)&&p.push("scale("+l+","+c+")"),(f||d)&&p.push("skew("+xp(f*Dt)+"deg, "+xp(d*Dt)+"deg)"),p.join(" ")}var drt=function(){return cr.hasGlobalWindow&&ze(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof i0!="undefined"?function(n){return i0.from(n).toString("base64")}:function(n){return null}}(),cR=Array.prototype.slice;function If(n,r,e){return(r-n)*e+n}function fR(n,r,e,o){for(var l=r.length,c=0;c<l;c++)n[c]=If(r[c],e[c],o);return n}function vrt(n,r,e,o){for(var l=r.length,c=l&&r[0].length,f=0;f<l;f++){n[f]||(n[f]=[]);for(var d=0;d<c;d++)n[f][d]=If(r[f][d],e[f][d],o)}return n}function JT(n,r,e,o){for(var l=r.length,c=0;c<l;c++)n[c]=r[c]+e[c]*o;return n}function z9(n,r,e,o){for(var l=r.length,c=l&&r[0].length,f=0;f<l;f++){n[f]||(n[f]=[]);for(var d=0;d<c;d++)n[f][d]=r[f][d]+e[f][d]*o}return n}function prt(n,r){for(var e=n.length,o=r.length,l=e>o?r:n,c=Math.min(e,o),f=l[c-1]||{color:[0,0,0,0],offset:0},d=c;d<Math.max(e,o);d++)l.push({offset:f.offset,color:f.color.slice()})}function grt(n,r,e){var o=n,l=r;if(!(!o.push||!l.push)){var c=o.length,f=l.length;if(c!==f){var d=c>f;if(d)o.length=f;else for(var p=c;p<f;p++)o.push(e===1?l[p]:cR.call(l[p]))}for(var y=o[0]&&o[0].length,p=0;p<o.length;p++)if(e===1)isNaN(o[p])&&(o[p]=l[p]);else for(var b=0;b<y;b++)isNaN(o[p][b])&&(o[p][b]=l[p][b])}}function __(n){if(vi(n)){var r=n.length;if(vi(n[0])){for(var e=[],o=0;o<r;o++)e.push(cR.call(n[o]));return e}return cR.call(n)}return n}function tO(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function yrt(n){return vi(n&&n[0])?2:1}var eO=0,rO=1,F9=2,x_=3,nO=4,iO=5,j9=6;function V9(n){return n===nO||n===iO}function aO(n){return n===rO||n===F9}var w_=[0,0,0,0],mrt=function(){function n(r){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=r}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(r,e,o){this._needsSort=!0;var l=this.keyframes,c=l.length,f=!1,d=j9,p=e;if(vi(e)){var y=yrt(e);d=y,(y===1&&!qe(e[0])||y===2&&!qe(e[0][0]))&&(f=!0)}else if(qe(e)&&!Pi(e))d=eO;else if(oe(e))if(!isNaN(+e))d=eO;else{var b=$o(e);b&&(p=b,d=x_)}else if(mc(e)){var x=Wt({},p);x.colorStops=Gt(e.colorStops,function(T){return{offset:T.offset,color:$o(T.color)}}),m_(e)?d=nO:R9(e)&&(d=iO),p=x}c===0?this.valType=d:(d!==this.valType||d===j9)&&(f=!0),this.discrete=this.discrete||f;var S={time:r,value:p,rawValue:e,percent:0};return o&&(S.easing=o,S.easingFunc=ze(o)?o:QI[o]||rR(o)),l.push(S),S},n.prototype.prepare=function(r,e){var o=this.keyframes;this._needsSort&&o.sort(function(E,L){return E.time-L.time});for(var l=this.valType,c=o.length,f=o[c-1],d=this.discrete,p=aO(l),y=V9(l),b=0;b<c;b++){var x=o[b],S=x.value,T=f.value;x.percent=x.time/r,d||(p&&b!==c-1?grt(S,T,l):y&&prt(S.colorStops,T.colorStops))}if(!d&&l!==iO&&e&&this.needsAnimate()&&e.needsAnimate()&&l===e.valType&&!e._finished){this._additiveTrack=e;for(var A=o[0].value,b=0;b<c;b++)l===eO?o[b].additiveValue=o[b].value-A:l===x_?o[b].additiveValue=JT([],o[b].value,A,-1):aO(l)&&(o[b].additiveValue=l===rO?JT([],o[b].value,A,-1):z9([],o[b].value,A,-1))}},n.prototype.step=function(r,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,l=o?"additiveValue":"value",c=this.valType,f=this.keyframes,d=f.length,p=this.propName,y=c===x_,b,x=this._lastFr,S=Math.min,T,A;if(d===1)T=A=f[0];else{if(e<0)b=0;else if(e<this._lastFrP){var E=S(x+1,d-1);for(b=E;b>=0&&!(f[b].percent<=e);b--);b=S(b,d-2)}else{for(b=x;b<d&&!(f[b].percent>e);b++);b=S(b-1,d-2)}A=f[b+1],T=f[b]}if(T&&A){this._lastFr=b,this._lastFrP=e;var L=A.percent-T.percent,I=L===0?1:S((e-T.percent)/L,1);A.easingFunc&&(I=A.easingFunc(I));var N=o?this._additiveValue:y?w_:r[p];if((aO(c)||y)&&!N&&(N=this._additiveValue=[]),this.discrete)r[p]=I<1?T.rawValue:A.rawValue;else if(aO(c))c===rO?fR(N,T[l],A[l],I):vrt(N,T[l],A[l],I);else if(V9(c)){var F=T[l],W=A[l],X=c===nO;r[p]={type:X?"linear":"radial",x:If(F.x,W.x,I),y:If(F.y,W.y,I),colorStops:Gt(F.colorStops,function(K,et){var at=W.colorStops[et];return{offset:If(K.offset,at.offset,I),color:tO(fR([],K.color,at.color,I))}}),global:W.global},X?(r[p].x2=If(F.x2,W.x2,I),r[p].y2=If(F.y2,W.y2,I)):r[p].r=If(F.r,W.r,I)}else if(y)fR(N,T[l],A[l],I),o||(r[p]=tO(N));else{var $=If(T[l],A[l],I);o?this._additiveValue=$:r[p]=$}o&&this._addToTarget(r)}}},n.prototype._addToTarget=function(r){var e=this.valType,o=this.propName,l=this._additiveValue;e===eO?r[o]=r[o]+l:e===x_?($o(r[o],w_),JT(w_,w_,l,1),r[o]=tO(w_)):e===rO?JT(r[o],r[o],l,1):e===F9&&z9(r[o],r[o],l,1)},n}(),brt=function(){function n(r,e,o,l){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=r,this._loop=e,e&&l){Bi("Can' use additive animation on looped animation.");return}this._additiveAnimators=l,this._allowDiscrete=o}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(r){this._target=r},n.prototype.when=function(r,e,o){return this.whenWithKeys(r,e,vr(e),o)},n.prototype.whenWithKeys=function(r,e,o,l){for(var c=this._tracks,f=0;f<o.length;f++){var d=o[f],p=c[d];if(!p){p=c[d]=new mrt(d);var y=void 0,b=this._getAdditiveTrack(d);if(b){var x=b.keyframes,S=x[x.length-1];y=S&&S.value,b.valType===x_&&y&&(y=tO(y))}else y=this._target[d];if(y==null)continue;r>0&&p.addKeyframe(0,__(y),l),this._trackKeys.push(d)}p.addKeyframe(r,__(e[d]),l)}return this._maxTime=Math.max(this._maxTime,r),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(r){return this._maxTime=r,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var r=this._doneCbs;if(r)for(var e=r.length,o=0;o<e;o++)r[o].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var r=this.animation,e=this._abortedCbs;if(r&&r.removeClip(this._clip),this._clip=null,e)for(var o=0;o<e.length;o++)e[o].call(this)},n.prototype._setTracksFinished=function(){for(var r=this._tracks,e=this._trackKeys,o=0;o<e.length;o++)r[e[o]].setFinished()},n.prototype._getAdditiveTrack=function(r){var e,o=this._additiveAnimators;if(o)for(var l=0;l<o.length;l++){var c=o[l].getTrack(r);c&&(e=c)}return e},n.prototype.start=function(r){if(!(this._started>0)){this._started=1;for(var e=this,o=[],l=this._maxTime||0,c=0;c<this._trackKeys.length;c++){var f=this._trackKeys[c],d=this._tracks[f],p=this._getAdditiveTrack(f),y=d.keyframes,b=y.length;if(d.prepare(l,p),d.needsAnimate())if(!this._allowDiscrete&&d.discrete){var x=y[b-1];x&&(e._target[d.propName]=x.rawValue),d.setFinished()}else o.push(d)}if(o.length||this._force){var S=new rrt({life:l,loop:this._loop,delay:this._delay||0,onframe:function(T){e._started=2;var A=e._additiveAnimators;if(A){for(var E=!1,L=0;L<A.length;L++)if(A[L]._clip){E=!0;break}E||(e._additiveAnimators=null)}for(var L=0;L<o.length;L++)o[L].step(e._target,T);var I=e._onframeCbs;if(I)for(var L=0;L<I.length;L++)I[L](e._target,T)},ondestroy:function(){e._doneCallback()}});this._clip=S,this.animation&&this.animation.addClip(S),r&&S.setEasing(r)}else this._doneCallback();return this}},n.prototype.stop=function(r){if(this._clip){var e=this._clip;r&&e.onframe(1),this._abortedCallback()}},n.prototype.delay=function(r){return this._delay=r,this},n.prototype.during=function(r){return r&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(r)),this},n.prototype.done=function(r){return r&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(r)),this},n.prototype.aborted=function(r){return r&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(r)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(r){return this._tracks[r]},n.prototype.getTracks=function(){var r=this;return Gt(this._trackKeys,function(e){return r._tracks[e]})},n.prototype.stopTracks=function(r,e){if(!r.length||!this._clip)return!0;for(var o=this._tracks,l=this._trackKeys,c=0;c<r.length;c++){var f=o[r[c]];f&&!f.isFinished()&&(e?f.step(this._target,1):this._started===1&&f.step(this._target,0),f.setFinished())}for(var d=!0,c=0;c<l.length;c++)if(!o[l[c]].isFinished()){d=!1;break}return d&&this._abortedCallback(),d},n.prototype.saveTo=function(r,e,o){if(r){e=e||this._trackKeys;for(var l=0;l<e.length;l++){var c=e[l],f=this._tracks[c];if(!(!f||f.isFinished())){var d=f.keyframes,p=d[o?0:d.length-1];p&&(r[c]=__(p.rawValue))}}}},n.prototype.__changeFinalValue=function(r,e){e=e||vr(r);for(var o=0;o<e.length;o++){var l=e[o],c=this._tracks[l];if(c){var f=c.keyframes;if(f.length>1){var d=f.pop();c.addKeyframe(d.time,r[l]),c.prepare(this._maxTime,c.getAdditiveTrack())}}}},n}(),hR=brt;function a0(){return new Date().getTime()}var _rt=function(n){Tt(r,n);function r(e){var o=n.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,e=e||{},o.stage=e.stage||{},o}return r.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},r.prototype.addAnimator=function(e){e.animation=this;var o=e.getClip();o&&this.addClip(o)},r.prototype.removeClip=function(e){if(e.animation){var o=e.prev,l=e.next;o?o.next=l:this._head=l,l?l.prev=o:this._tail=o,e.next=e.prev=e.animation=null}},r.prototype.removeAnimator=function(e){var o=e.getClip();o&&this.removeClip(o),e.animation=null},r.prototype.update=function(e){for(var o=a0()-this._pausedTime,l=o-this._time,c=this._head;c;){var f=c.next,d=c.step(o,l);d&&(c.ondestroy(),this.removeClip(c)),c=f}this._time=o,e||(this.trigger("frame",l),this.stage.update&&this.stage.update())},r.prototype._startLoop=function(){var e=this;this._running=!0;function o(){e._running&&(YT(o),!e._paused&&e.update())}YT(o)},r.prototype.start=function(){this._running||(this._time=a0(),this._pausedTime=0,this._startLoop())},r.prototype.stop=function(){this._running=!1},r.prototype.pause=function(){this._paused||(this._pauseStart=a0(),this._paused=!0)},r.prototype.resume=function(){this._paused&&(this._pausedTime+=a0()-this._pauseStart,this._paused=!1)},r.prototype.clear=function(){for(var e=this._head;e;){var o=e.next;e.prev=e.next=e.animation=null,e=o}this._head=this._tail=null},r.prototype.isFinished=function(){return this._head==null},r.prototype.animate=function(e,o){o=o||{},this.start();var l=new hR(e,o.loop);return this.addAnimator(l),l},r}(Cl),xrt=_rt,wrt=300,oO=cr.domSupported,dR=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=Gt(n,function(l){var c=l.replace("mouse","pointer");return e.hasOwnProperty(c)?c:l});return{mouse:n,touch:r,pointer:o}}(),G9={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},W9=!1;function vR(n){var r=n.pointerType;return r==="pen"||r==="touch"}function Srt(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function pR(n){n&&(n.zrByTouch=!0)}function Mrt(n,r){return El(n.dom,new Trt(n,r),!0)}function H9(n,r){for(var e=r,o=!1;e&&e.nodeType!==9&&!(o=e.domBelongToZr||e!==r&&e===n.painterRoot);)e=e.parentNode;return o}var Trt=function(){function n(r,e){this.stopPropagation=_t,this.stopImmediatePropagation=_t,this.preventDefault=_t,this.type=e.type,this.target=this.currentTarget=r.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return n}(),yn={mousedown:function(n){n=El(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=El(this.dom,n);var r=this.__mayPointerCapture;r&&(n.zrX!==r[0]||n.zrY!==r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=El(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=El(this.dom,n);var r=n.toElement||n.relatedTarget;H9(this,r)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){W9=!0,n=El(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){W9||(n=El(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=El(this.dom,n),pR(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),yn.mousemove.call(this,n),yn.mousedown.call(this,n)},touchmove:function(n){n=El(this.dom,n),pR(n),this.handler.processGesture(n,"change"),yn.mousemove.call(this,n)},touchend:function(n){n=El(this.dom,n),pR(n),this.handler.processGesture(n,"end"),yn.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<wrt&&yn.click.call(this,n)},pointerdown:function(n){yn.mousedown.call(this,n)},pointermove:function(n){vR(n)||yn.mousemove.call(this,n)},pointerup:function(n){yn.mouseup.call(this,n)},pointerout:function(n){vR(n)||yn.mouseout.call(this,n)}};it(["click","dblclick","contextmenu"],function(n){yn[n]=function(r){r=El(this.dom,r),this.trigger(n,r)}});var bo={pointermove:function(n){vR(n)||bo.mousemove.call(this,n)},pointerup:function(n){bo.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),r&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Ar(n,r){var e=r.domHandlers;cr.pointerEventsSupported?it(dR.pointer,function(o){S_(r,o,function(l){e[o].call(n,l)})}):(cr.touchEventsSupported&&it(dR.touch,function(o){S_(r,o,function(l){e[o].call(n,l),Srt(r)})}),it(dR.mouse,function(o){S_(r,o,function(l){l=FI(l),r.touching||e[o].call(n,l)})}))}function zi(n,r){cr.pointerEventsSupported?it(G9.pointer,e):cr.touchEventsSupported||it(G9.mouse,e);function e(o){function l(c){c=FI(c),H9(n,c.target)||(c=Mrt(n,c),r.domHandlers[o].call(n,c))}S_(r,o,l,{capture:!0})}}function S_(n,r,e,o){n.mounted[r]=e,n.listenerOpts[r]=o,jI(n.domTarget,r,e,o)}function Oi(n){var r=n.mounted;for(var e in r)r.hasOwnProperty(e)&&Uet(n.domTarget,e,r[e],n.listenerOpts[e]);n.mounted={}}var M_=function(){function n(r,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=r,this.domHandlers=e}return n}(),Ai=function(n){Tt(r,n);function r(e,o){var l=n.call(this)||this;return l.__pointerCapturing=!1,l.dom=e,l.painterRoot=o,l._localHandlerScope=new M_(e,yn),oO&&(l._globalHandlerScope=new M_(document,bo)),Ar(l,l._localHandlerScope),l}return r.prototype.dispose=function(){Oi(this._localHandlerScope),oO&&Oi(this._globalHandlerScope)},r.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},r.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,oO&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var o=this._globalHandlerScope;e?zi(this,o):Oi(o)}},r}(Cl),ae=Ai,da=1;cr.hasGlobalWindow&&(da=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ort=0,T_=da,sO=.4,lO="#333",uO="#ccc",Y9="#eee",gR=RT,yR=5e-5;function wd(n){return n>yR||n<-yR}var Sc=[],wp=[],Cu=no(),wt=Math.abs,U9=function(){function n(){}return n.prototype.getLocalTransform=function(r){return n.getLocalTransform(this,r)},n.prototype.setPosition=function(r){this.x=r[0],this.y=r[1]},n.prototype.setScale=function(r){this.scaleX=r[0],this.scaleY=r[1]},n.prototype.setSkew=function(r){this.skewX=r[0],this.skewY=r[1]},n.prototype.setOrigin=function(r){this.originX=r[0],this.originY=r[1]},n.prototype.needLocalTransform=function(){return wd(this.rotation)||wd(this.x)||wd(this.y)||wd(this.scaleX-1)||wd(this.scaleY-1)||wd(this.skewX)||wd(this.skewY)},n.prototype.updateTransform=function(){var r=this.parent&&this.parent.transform,e=this.needLocalTransform(),o=this.transform;if(!(e||r)){o&&(gR(o),this.invTransform=null);return}o=o||no(),e?this.getLocalTransform(o):gR(o),r&&(e?Su(o,r,o):n_(o,r)),this.transform=o,this._resolveGlobalScaleRatio(o)},n.prototype._resolveGlobalScaleRatio=function(r){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(Sc);var o=Sc[0]<0?-1:1,l=Sc[1]<0?-1:1,c=((Sc[0]-o)*e+o)/Sc[0]||0,f=((Sc[1]-l)*e+l)/Sc[1]||0;r[0]*=c,r[1]*=c,r[2]*=f,r[3]*=f}this.invTransform=this.invTransform||no(),Ca(this.invTransform,r)},n.prototype.getComputedTransform=function(){for(var r=this,e=[];r;)e.push(r),r=r.parent;for(;r=e.pop();)r.updateTransform();return this.transform},n.prototype.setLocalTransform=function(r){if(r){var e=r[0]*r[0]+r[1]*r[1],o=r[2]*r[2]+r[3]*r[3],l=Math.atan2(r[1],r[0]),c=Math.PI/2+l-Math.atan2(r[3],r[2]);o=Math.sqrt(o)*Math.cos(c),e=Math.sqrt(e),this.skewX=c,this.skewY=0,this.rotation=-l,this.x=+r[4],this.y=+r[5],this.scaleX=e,this.scaleY=o,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var r=this.parent,e=this.transform;r&&r.transform&&(r.invTransform=r.invTransform||no(),Su(wp,r.invTransform,e),e=wp);var o=this.originX,l=this.originY;(o||l)&&(Cu[4]=o,Cu[5]=l,Su(wp,e,Cu),wp[4]-=o,wp[5]-=l,e=wp),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(r){var e=this.transform;return r=r||[],e?(r[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(r[0]=-r[0]),e[3]<0&&(r[1]=-r[1]),r):(r[0]=1,r[1]=1,r)},n.prototype.transformCoordToLocal=function(r,e){var o=[r,e],l=this.invTransform;return l&&$i(o,o,l),o},n.prototype.transformCoordToGlobal=function(r,e){var o=[r,e],l=this.transform;return l&&$i(o,o,l),o},n.prototype.getLineScale=function(){var r=this.transform;return r&&wt(r[0]-1)>1e-10&&wt(r[3]-1)>1e-10?Math.sqrt(wt(r[0]*r[3]-r[2]*r[1])):1},n.prototype.copyTransform=function(r){Ve(this,r)},n.getLocalTransform=function(r,e){e=e||[];var o=r.originX||0,l=r.originY||0,c=r.scaleX,f=r.scaleY,d=r.anchorX,p=r.anchorY,y=r.rotation||0,b=r.x,x=r.y,S=r.skewX?Math.tan(r.skewX):0,T=r.skewY?Math.tan(-r.skewY):0;if(o||l||d||p){var A=o+d,E=l+p;e[4]=-A*c-S*E*f,e[5]=-E*f-T*A*c}else e[4]=e[5]=0;return e[0]=c,e[3]=f,e[1]=T*c,e[2]=S*f,y&&Cf(e,e,y),e[4]+=o+b,e[5]+=l+x,e},n.initDefaultProps=function(){var r=n.prototype;r.scaleX=r.scaleY=r.globalScaleRatio=1,r.x=r.y=r.originX=r.originY=r.skewX=r.skewY=r.rotation=r.anchorX=r.anchorY=0}(),n}(),Pu=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Ve(n,r){for(var e=0;e<Pu.length;e++){var o=Pu[e];n[o]=r[o]}}var ms=U9;function Art(n,r){return Nl(Rl(r),n)}function Rl(n){O_||(O_=new n0(100)),n=n||Vt;var r=O_.get(n);return r||(r={font:n,strWidthCache:new n0(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:zr.measureText("\u56FD",n).width,asciiCharWidth:zr.measureText("a",n).width},O_.put(n,r)),r}var O_;function X9(n){if(!(cO>=A_)){n=n||Vt;for(var r=[],e=+new Date,o=0;o<=127;o++)r[o]=zr.measureText(String.fromCharCode(o),n).width;var l=+new Date-e;return l>16?cO=A_:l>2&&cO++,r}}var cO=0,A_=5;function mR(n,r){return n.asciiWidthMapTried||(n.asciiWidthMap=X9(n.font),n.asciiWidthMapTried=!0),0<=r&&r<=127?n.asciiWidthMap!=null?n.asciiWidthMap[r]:n.asciiCharWidth:n.stWideCharWidth}function Nl(n,r){var e=n.strWidthCache,o=e.get(r);return o==null&&(o=zr.measureText(r,n.font).width,e.put(r,o)),o}function o0(n,r,e,o){var l=Nl(Rl(r),n),c=s0(r),f=Sp(0,l,e),d=Sd(0,c,o),p=new Je(f,d,l,c);return p}function C_(n,r,e,o){var l=((n||"")+"").split(`
`),c=l.length;if(c===1)return o0(l[0],r,e,o);for(var f=new Je(0,0,0,0),d=0;d<l.length;d++){var p=o0(l[d],r,e,o);d===0?f.copy(p):f.union(p)}return f}function Sp(n,r,e,o){return e==="right"?o?n+=r:n-=r:e==="center"&&(o?n+=r/2:n-=r/2),n}function Sd(n,r,e,o){return e==="middle"?o?n+=r/2:n-=r/2:e==="bottom"&&(o?n+=r:n-=r),n}function s0(n){return Rl(n).stWideCharWidth}function Crt(n,r){return platformApi.measureText(n,r)}function Bl(n,r){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*r:parseFloat(n):n}function fO(n,r,e){var o=r.position||"inside",l=r.distance!=null?r.distance:5,c=e.height,f=e.width,d=c/2,p=e.x,y=e.y,b="left",x="top";if(o instanceof Array)p+=Bl(o[0],e.width),y+=Bl(o[1],e.height),b=null,x=null;else switch(o){case"left":p-=l,y+=d,b="right",x="middle";break;case"right":p+=l+f,y+=d,x="middle";break;case"top":p+=f/2,y-=l,b="center",x="bottom";break;case"bottom":p+=f/2,y+=c+l,b="center";break;case"inside":p+=f/2,y+=d,b="center",x="middle";break;case"insideLeft":p+=l,y+=d,x="middle";break;case"insideRight":p+=f-l,y+=d,b="right",x="middle";break;case"insideTop":p+=f/2,y+=l,b="center";break;case"insideBottom":p+=f/2,y+=c-l,b="center",x="bottom";break;case"insideTopLeft":p+=l,y+=l;break;case"insideTopRight":p+=f-l,y+=l,b="right";break;case"insideBottomLeft":p+=l,y+=c-l,x="bottom";break;case"insideBottomRight":p+=f-l,y+=c-l,b="right",x="bottom";break}return n=n||{},n.x=p,n.y=y,n.align=b,n.verticalAlign=x,n}var Md="__zr_normal__",P_=Pu.concat(["ignore"]),bR=pi(Pu,function(n,r){return n[r]=!0,n},{ignore:!1}),Td={},_R=new Je(0,0,0,0),l0=[],hO=function(){function n(r){this.id=Yo(),this.animators=[],this.currentStates=[],this.states={},this._init(r)}return n.prototype._init=function(r){this.attr(r)},n.prototype.drift=function(r,e,o){switch(this.draggable){case"horizontal":e=0;break;case"vertical":r=0;break}var l=this.transform;l||(l=this.transform=[1,0,0,1,0,0]),l[4]+=r,l[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(r){var e=this._textContent;if(e&&(!e.ignore||r)){this.textConfig||(this.textConfig={});var o=this.textConfig,l=o.local,c=e.innerTransformable,f=void 0,d=void 0,p=!1;c.parent=l?this:null;var y=!1;c.copyTransform(e);var b=o.position!=null,x=o.autoOverflowArea,S=void 0;if((x||b)&&(S=_R,o.layoutRect?S.copy(o.layoutRect):S.copy(this.getBoundingRect()),l||S.applyTransform(this.transform)),b){this.calculateTextPosition?this.calculateTextPosition(Td,o,S):fO(Td,o,S),c.x=Td.x,c.y=Td.y,f=Td.align,d=Td.verticalAlign;var T=o.origin;if(T&&o.rotation!=null){var A=void 0,E=void 0;T==="center"?(A=S.width*.5,E=S.height*.5):(A=Bl(T[0],S.width),E=Bl(T[1],S.height)),y=!0,c.originX=-c.x+A+(l?0:S.x),c.originY=-c.y+E+(l?0:S.y)}}o.rotation!=null&&(c.rotation=o.rotation);var L=o.offset;L&&(c.x+=L[0],c.y+=L[1],y||(c.originX=-L[0],c.originY=-L[1]));var I=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(x){var N=I.overflowRect=I.overflowRect||new Je(0,0,0,0);c.getLocalTransform(l0),Ca(l0,l0),Je.copy(N,S),N.applyTransform(l0)}else I.overflowRect=null;var F=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,W=void 0,X=void 0,$=void 0;F&&this.canBeInsideText()?(W=o.insideFill,X=o.insideStroke,(W==null||W==="auto")&&(W=this.getInsideTextFill()),(X==null||X==="auto")&&(X=this.getInsideTextStroke(W),$=!0)):(W=o.outsideFill,X=o.outsideStroke,(W==null||W==="auto")&&(W=this.getOutsideFill()),(X==null||X==="auto")&&(X=this.getOutsideStroke(W),$=!0)),W=W||"#000",(W!==I.fill||X!==I.stroke||$!==I.autoStroke||f!==I.align||d!==I.verticalAlign)&&(p=!0,I.fill=W,I.stroke=X,I.autoStroke=$,I.align=f,I.verticalAlign=d,e.setDefaultTextStyle(I)),e.__dirty|=gs,p&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(r){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?uO:lO},n.prototype.getOutsideStroke=function(r){var e=this.__zr&&this.__zr.getBackgroundColor(),o=typeof e=="string"&&$o(e);o||(o=[255,255,255,1]);for(var l=o[3],c=this.__zr.isDarkMode(),f=0;f<3;f++)o[f]=o[f]*l+(c?0:255)*(1-l);return o[3]=1,Il(o,"rgba")},n.prototype.traverse=function(r,e){},n.prototype.attrKV=function(r,e){r==="textConfig"?this.setTextConfig(e):r==="textContent"?this.setTextContent(e):r==="clipPath"?this.setClipPath(e):r==="extra"?(this.extra=this.extra||{},Wt(this.extra,e)):this[r]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(r,e){if(typeof r=="string")this.attrKV(r,e);else if(ce(r))for(var o=r,l=vr(o),c=0;c<l.length;c++){var f=l[c];this.attrKV(f,r[f])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(r){this._innerSaveToNormal(r);for(var e=this._normalState,o=0;o<this.animators.length;o++){var l=this.animators[o],c=l.__fromStateTransition;if(!(l.getLoop()||c&&c!==Md)){var f=l.targetName,d=f?e[f]:e;l.saveTo(d)}}},n.prototype._innerSaveToNormal=function(r){var e=this._normalState;e||(e=this._normalState={}),r.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(r,e,P_)},n.prototype._savePrimaryToNormal=function(r,e,o){for(var l=0;l<o.length;l++){var c=o[l];r[c]!=null&&!(c in e)&&(e[c]=this[c])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(r){return this.states[r]},n.prototype.ensureState=function(r){var e=this.states;return e[r]||(e[r]={}),e[r]},n.prototype.clearStates=function(r){this.useState(Md,!1,r)},n.prototype.useState=function(r,e,o,l){var c=r===Md,f=this.hasState();if(!(!f&&c)){var d=this.currentStates,p=this.stateTransition;if(!(Xe(d,r)>=0&&(e||d.length===1))){var y;if(this.stateProxy&&!c&&(y=this.stateProxy(r)),y||(y=this.states&&this.states[r]),!y&&!c){Bi("State "+r+" not exists.");return}c||this.saveCurrentToNormalState(y);var b=!!(y&&y.hoverLayer||l);b&&this._toggleHoverLayerFlag(!0),this._applyStateObj(r,y,this._normalState,e,!o&&!this.__inHover&&p&&p.duration>0,p);var x=this._textContent,S=this._textGuide;return x&&x.useState(r,e,o,b),S&&S.useState(r,e,o,b),c?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(r):this.currentStates=[r],this._updateAnimationTargets(),this.markRedraw(),!b&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~gs),y}}},n.prototype.useStates=function(r,e,o){if(!r.length)this.clearStates();else{var l=[],c=this.currentStates,f=r.length,d=f===c.length;if(d){for(var p=0;p<f;p++)if(r[p]!==c[p]){d=!1;break}}if(d)return;for(var p=0;p<f;p++){var y=r[p],b=void 0;this.stateProxy&&(b=this.stateProxy(y,r)),b||(b=this.states[y]),b&&l.push(b)}var x=l[f-1],S=!!(x&&x.hoverLayer||o);S&&this._toggleHoverLayerFlag(!0);var T=this._mergeStates(l),A=this.stateTransition;this.saveCurrentToNormalState(T),this._applyStateObj(r.join(","),T,this._normalState,!1,!e&&!this.__inHover&&A&&A.duration>0,A);var E=this._textContent,L=this._textGuide;E&&E.useStates(r,e,S),L&&L.useStates(r,e,S),this._updateAnimationTargets(),this.currentStates=r.slice(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~gs)}},n.prototype.isSilent=function(){for(var r=this;r;){if(r.silent)return!0;var e=r.__hostTarget;r=e?r.ignoreHostSilent?null:e:r.parent}return!1},n.prototype._updateAnimationTargets=function(){for(var r=0;r<this.animators.length;r++){var e=this.animators[r];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(r){var e=Xe(this.currentStates,r);if(e>=0){var o=this.currentStates.slice();o.splice(e,1),this.useStates(o)}},n.prototype.replaceState=function(r,e,o){var l=this.currentStates.slice(),c=Xe(l,r),f=Xe(l,e)>=0;c>=0?f?l.splice(c,1):l[c]=e:o&&!f&&l.push(e),this.useStates(l)},n.prototype.toggleState=function(r,e){e?this.useState(r,!0):this.removeState(r)},n.prototype._mergeStates=function(r){for(var e={},o,l=0;l<r.length;l++){var c=r[l];Wt(e,c),c.textConfig&&(o=o||{},Wt(o,c.textConfig))}return o&&(e.textConfig=o),e},n.prototype._applyStateObj=function(r,e,o,l,c,f){var d=!(e&&l);e&&e.textConfig?(this.textConfig=Wt({},l?this.textConfig:o.textConfig),Wt(this.textConfig,e.textConfig)):d&&o.textConfig&&(this.textConfig=o.textConfig);for(var p={},y=!1,b=0;b<P_.length;b++){var x=P_[b],S=c&&bR[x];e&&e[x]!=null?S?(y=!0,p[x]=e[x]):this[x]=e[x]:d&&o[x]!=null&&(S?(y=!0,p[x]=o[x]):this[x]=o[x])}if(!c)for(var b=0;b<this.animators.length;b++){var T=this.animators[b],A=T.targetName;T.getLoop()||T.__changeFinalValue(A?(e||o)[A]:e||o)}y&&this._transitionState(r,p,f)},n.prototype._attachComponent=function(r){if(!(r.__zr&&!r.__hostTarget)&&r!==this){var e=this.__zr;e&&r.addSelfToZr(e),r.__zr=e,r.__hostTarget=this}},n.prototype._detachComponent=function(r){r.__zr&&r.removeSelfFromZr(r.__zr),r.__zr=null,r.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(r){this._clipPath&&this._clipPath!==r&&this.removeClipPath(),this._attachComponent(r),this._clipPath=r,this.markRedraw()},n.prototype.removeClipPath=function(){var r=this._clipPath;r&&(this._detachComponent(r),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(r){var e=this._textContent;e!==r&&(e&&e!==r&&this.removeTextContent(),r.innerTransformable=new ms,this._attachComponent(r),this._textContent=r,this.markRedraw())},n.prototype.setTextConfig=function(r){this.textConfig||(this.textConfig={}),Wt(this.textConfig,r),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var r=this._textContent;r&&(r.innerTransformable=null,this._detachComponent(r),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(r){this._textGuide&&this._textGuide!==r&&this.removeTextGuideLine(),this._attachComponent(r),this._textGuide=r,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var r=this._textGuide;r&&(this._detachComponent(r),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=gs;var r=this.__zr;r&&(this.__inHover?r.refreshHover():r.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(r){this.__inHover=r;var e=this._textContent,o=this._textGuide;e&&(e.__inHover=r),o&&(o.__inHover=r)},n.prototype.addSelfToZr=function(r){if(this.__zr!==r){this.__zr=r;var e=this.animators;if(e)for(var o=0;o<e.length;o++)r.animation.addAnimator(e[o]);this._clipPath&&this._clipPath.addSelfToZr(r),this._textContent&&this._textContent.addSelfToZr(r),this._textGuide&&this._textGuide.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var o=0;o<e.length;o++)r.animation.removeAnimator(e[o]);this._clipPath&&this._clipPath.removeSelfFromZr(r),this._textContent&&this._textContent.removeSelfFromZr(r),this._textGuide&&this._textGuide.removeSelfFromZr(r)}},n.prototype.animate=function(r,e,o){var l=r?this[r]:this,c=new hR(l,e,o);return r&&(c.targetName=r),this.addAnimator(c,r),c},n.prototype.addAnimator=function(r,e){var o=this.__zr,l=this;r.during(function(){l.updateDuringAnimation(e)}).done(function(){var c=l.animators,f=Xe(c,r);f>=0&&c.splice(f,1)}),this.animators.push(r),o&&o.animation.addAnimator(r),o&&o.wakeUp()},n.prototype.updateDuringAnimation=function(r){this.markRedraw()},n.prototype.stopAnimation=function(r,e){for(var o=this.animators,l=o.length,c=[],f=0;f<l;f++){var d=o[f];!r||r===d.scope?d.stop(e):c.push(d)}return this.animators=c,this},n.prototype.animateTo=function(r,e,o){dO(this,r,e,o)},n.prototype.animateFrom=function(r,e,o){dO(this,r,e,o,!0)},n.prototype._transitionState=function(r,e,o,l){for(var c=dO(this,e,o,l),f=0;f<c.length;f++)c[f].__fromStateTransition=r},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var r=n.prototype;r.type="element",r.name="",r.ignore=r.silent=r.ignoreHostSilent=r.isGroup=r.draggable=r.dragging=r.ignoreClip=r.__inHover=!1,r.__dirty=gs;var e={};function o(c,f,d){e[c+f+d]||(console.warn("DEPRECATED: '"+c+"' has been deprecated. use '"+f+"', '"+d+"' instead"),e[c+f+d]=!0)}function l(c,f,d,p){Object.defineProperty(r,c,{get:function(){if(!this[f]){var b=this[f]=[];y(this,b)}return this[f]},set:function(b){this[d]=b[0],this[p]=b[1],this[f]=b,y(this,b)}});function y(b,x){Object.defineProperty(x,0,{get:function(){return b[d]},set:function(S){b[d]=S}}),Object.defineProperty(x,1,{get:function(){return b[p]},set:function(S){b[p]=S}})}}Object.defineProperty&&(l("position","_legacyPos","x","y"),l("scale","_legacyScale","scaleX","scaleY"),l("origin","_legacyOrigin","originX","originY"))}(),n}();Ln(hO,Cl),Ln(hO,ms);function dO(n,r,e,o,l){e=e||{};var c=[];xR(n,"",n,r,e,o,c,l);var f=c.length,d=!1,p=e.done,y=e.aborted,b=function(){d=!0,f--,f<=0&&(d?p&&p():y&&y())},x=function(){f--,f<=0&&(d?p&&p():y&&y())};f||p&&p(),c.length>0&&e.during&&c[0].during(function(A,E){e.during(E)});for(var S=0;S<c.length;S++){var T=c[S];b&&T.done(b),x&&T.aborted(x),e.force&&T.duration(e.duration),T.start(e.easing)}return c}function Rf(n,r,e){for(var o=0;o<e;o++)n[o]=r[o]}function $9(n){return vi(n[0])}function q9(n,r,e){if(vi(r[e]))if(vi(n[e])||(n[e]=[]),Aa(r[e])){var o=r[e].length;n[e].length!==o&&(n[e]=new r[e].constructor(o),Rf(n[e],r[e],o))}else{var l=r[e],c=n[e],f=l.length;if($9(l))for(var d=l[0].length,p=0;p<f;p++)c[p]?Rf(c[p],l[p],d):c[p]=Array.prototype.slice.call(l[p]);else Rf(c,l,f);c.length=l.length}else n[e]=r[e]}function E_(n,r){return n===r||vi(n)&&vi(r)&&Z9(n,r)}function Z9(n,r){var e=n.length;if(e!==r.length)return!1;for(var o=0;o<e;o++)if(n[o]!==r[o])return!1;return!0}function xR(n,r,e,o,l,c,f,d){for(var p=vr(o),y=l.duration,b=l.delay,x=l.additive,S=l.setToFinal,T=!ce(c),A=n.animators,E=[],L=0;L<p.length;L++){var I=p[L],N=o[I];if(N!=null&&e[I]!=null&&(T||c[I]))if(ce(N)&&!vi(N)&&!mc(N)){if(r){d||(e[I]=N,n.updateDuringAnimation(r));continue}xR(n,I,e[I],N,l,c&&c[I],f,d)}else E.push(I);else d||(e[I]=N,n.updateDuringAnimation(r),E.push(I))}var F=E.length;if(!x&&F)for(var W=0;W<A.length;W++){var X=A[W];if(X.targetName===r){var $=X.stopTracks(E);if($){var K=Xe(A,X);A.splice(K,1)}}}if(l.force||(E=Zr(E,function(ht){return!E_(o[ht],e[ht])}),F=E.length),F>0||l.force&&!f.length){var et=void 0,at=void 0,ot=void 0;if(d){at={},S&&(et={});for(var W=0;W<F;W++){var I=E[W];at[I]=e[I],S?et[I]=o[I]:e[I]=o[I]}}else if(S){ot={};for(var W=0;W<F;W++){var I=E[W];ot[I]=__(e[I]),q9(e,o,I)}}var X=new hR(e,!1,!1,x?Zr(A,function(yt){return yt.targetName===r}):null);X.targetName=r,l.scope&&(X.scope=l.scope),S&&et&&X.whenWithKeys(0,et,E),ot&&X.whenWithKeys(0,ot,E),X.whenWithKeys(y==null?500:y,d?at:o,E).delay(b||0),n.addAnimator(X,r),f.push(X)}}var wR=hO,SR=function(n){Tt(r,n);function r(e){var o=n.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(e),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(e){return this._children[e]},r.prototype.childOfName=function(e){for(var o=this._children,l=0;l<o.length;l++)if(o[l].name===e)return o[l]},r.prototype.childCount=function(){return this._children.length},r.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},r.prototype.addBefore=function(e,o){if(e&&e!==this&&e.parent!==this&&o&&o.parent===this){var l=this._children,c=l.indexOf(o);c>=0&&(l.splice(c,0,e),this._doAdd(e))}return this},r.prototype.replace=function(e,o){var l=Xe(this._children,e);return l>=0&&this.replaceAt(o,l),this},r.prototype.replaceAt=function(e,o){var l=this._children,c=l[o];if(e&&e!==this&&e.parent!==this&&e!==c){l[o]=e,c.parent=null;var f=this.__zr;f&&c.removeSelfFromZr(f),this._doAdd(e)}return this},r.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var o=this.__zr;o&&o!==e.__zr&&e.addSelfToZr(o),o&&o.refresh()},r.prototype.remove=function(e){var o=this.__zr,l=this._children,c=Xe(l,e);return c<0?this:(l.splice(c,1),e.parent=null,o&&e.removeSelfFromZr(o),o&&o.refresh(),this)},r.prototype.removeAll=function(){for(var e=this._children,o=this.__zr,l=0;l<e.length;l++){var c=e[l];o&&c.removeSelfFromZr(o),c.parent=null}return e.length=0,this},r.prototype.eachChild=function(e,o){for(var l=this._children,c=0;c<l.length;c++){var f=l[c];e.call(o,f,c)}return this},r.prototype.traverse=function(e,o){for(var l=0;l<this._children.length;l++){var c=this._children[l],f=e.call(o,c);c.isGroup&&!f&&c.traverse(e,o)}return this},r.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++){var l=this._children[o];l.addSelfToZr(e)}},r.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++){var l=this._children[o];l.removeSelfFromZr(e)}},r.prototype.getBoundingRect=function(e){for(var o=new Je(0,0,0,0),l=e||this._children,c=[],f=null,d=0;d<l.length;d++){var p=l[d];if(!(p.ignore||p.invisible)){var y=p.getBoundingRect(),b=p.getLocalTransform(c);b?(Je.applyTransform(o,y,b),f=f||o.clone(),f.union(o)):(f=f||y.clone(),f.union(y))}}return f||o},r}(wR);SR.prototype.type="group";var Ye=SR;var k_={},Od={};function L_(n){delete Od[n]}function Nf(n){if(!n)return!1;if(typeof n=="string")return xd(n,1)<sO;if(n.colorStops){for(var r=n.colorStops,e=0,o=r.length,l=0;l<o;l++)e+=xd(r[l].color,1);return e/=o,e<sO}return!1}var vO=function(){function n(r,e,o){var l=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=e,this.id=r;var c=new KI,f=o.renderer||"canvas";k_[f]||(f=vr(k_)[0]),o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var d=new k_[f](e,c,o,r),p=o.ssr||d.ssrOnly;this.storage=c,this.painter=d;var y=!cr.node&&!cr.worker&&!p?new ae(d.getViewportRoot(),d.root):null,b=o.useCoarsePointer,x=b==null||b==="auto"?cr.touchEventsSupported:!!b,S=44,T;x&&(T=fe(o.pointerSize,S)),this.handler=new UI(c,d,y,d.root,T),this.animation=new xrt({stage:{update:p?null:function(){return l._flush(!0)}}}),p||this.animation.start()}return n.prototype.add=function(r){this._disposed||!r||(this.storage.addRoot(r),r.addSelfToZr(this),this.refresh())},n.prototype.remove=function(r){this._disposed||!r||(this.storage.delRoot(r),r.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(r,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(r,e),this.refresh())},n.prototype.setBackgroundColor=function(r){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(r),this.refresh(),this._backgroundColor=r,this._darkMode=Nf(r))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(r){this._darkMode=r},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(r){this._disposed||(r||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(r){var e,o=a0();this._needsRefresh&&(e=!0,this.refreshImmediately(r)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var l=a0();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:l-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(r){this._sleepAfterStill=r},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(r){this._disposed||(r=r||{},this.painter.resize(r.width,r.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(r){this._disposed||this.handler.setCursorStyle(r)},n.prototype.findHover=function(r,e){if(!this._disposed)return this.handler.findHover(r,e)},n.prototype.on=function(r,e,o){return this._disposed||this.handler.on(r,e,o),this},n.prototype.off=function(r,e){this._disposed||this.handler.off(r,e)},n.prototype.trigger=function(r,e){this._disposed||this.handler.trigger(r,e)},n.prototype.clear=function(){if(!this._disposed){for(var r=this.storage.getRoots(),e=0;e<r.length;e++)r[e]instanceof Ye&&r[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,L_(this.id))},n}();function pO(n,r){var e=new vO(Yo(),n,r);return Od[e.id]=e,e}function Prt(n){n.dispose()}function Ert(){for(var n in Od)Od.hasOwnProperty(n)&&Od[n].dispose();Od={}}function krt(n){return Od[n]}function MR(n,r){k_[n]=r}var gO;function K9(n){if(typeof gO=="function")return gO(n)}function TR(n){gO=n}var Lrt="6.0.0",u0=1e-4,c0=20;function Q9(n){return n.replace(/^\s+|\s+$/g,"")}var ao=Math.min,qi=Math.max,zl=Math.abs;function vn(n,r,e,o){var l=r[0],c=r[1],f=e[0],d=e[1],p=c-l,y=d-f;if(p===0)return y===0?f:(f+d)/2;if(o)if(p>0){if(n<=l)return f;if(n>=c)return d}else{if(n>=l)return f;if(n<=c)return d}else{if(n===l)return f;if(n===c)return d}return(n-l)/p*y+f}var de=D_;function D_(n,r,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return Mp(n,r,e)}function Mp(n,r,e){return oe(n)?Q9(n).match(/%$/)?parseFloat(n)/100*r+(e||0):parseFloat(n):n==null?NaN:+n}function sa(n,r,e){return r==null&&(r=10),r=Math.min(Math.max(0,r),c0),n=(+n).toFixed(r),e?n:+n}function bs(n){return n.sort(function(r,e){return r-e}),n}function Eu(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var r=1,e=0;e<15;e++,r*=10)if(Math.round(n*r)/r===n)return e}return yO(n)}function yO(n){var r=n.toString().toLowerCase(),e=r.indexOf("e"),o=e>0?+r.slice(e+1):0,l=e>0?e:r.length,c=r.indexOf("."),f=c<0?0:l-1-c;return Math.max(0,f-o)}function OR(n,r){var e=Math.log,o=Math.LN10,l=Math.floor(e(n[1]-n[0])/o),c=Math.round(e(zl(r[1]-r[0]))/o),f=Math.min(Math.max(-l+c,0),20);return isFinite(f)?f:20}function J9(n,r,e){if(!n[r])return 0;var o=mO(n,e);return o[r]||0}function mO(n,r){var e=pi(n,function(T,A){return T+(isNaN(A)?0:A)},0);if(e===0)return[];for(var o=Math.pow(10,r),l=Gt(n,function(T){return(isNaN(T)?0:T)/e*o*100}),c=o*100,f=Gt(l,function(T){return Math.floor(T)}),d=pi(f,function(T,A){return T+A},0),p=Gt(l,function(T,A){return T-f[A]});d<c;){for(var y=Number.NEGATIVE_INFINITY,b=null,x=0,S=p.length;x<S;++x)p[x]>y&&(y=p[x],b=x);++f[b],p[b]=0,++d}return Gt(f,function(T){return T/o})}function tW(n,r){var e=Math.max(Eu(n),Eu(r)),o=n+r;return e>c0?o:sa(o,e)}var AR=9007199254740991;function bO(n){var r=Math.PI*2;return(n%r+r)%r}function f0(n){return n>-u0&&n<u0}var eW=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ad(n){if(n instanceof Date)return n;if(oe(n)){var r=eW.exec(n);if(!r)return new Date(NaN);if(r[8]){var e=+r[4]||0;return r[8].toUpperCase()!=="Z"&&(e-=+r[8].slice(0,3)),new Date(Date.UTC(+r[1],+(r[2]||1)-1,+r[3]||1,e,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0))}else return new Date(+r[1],+(r[2]||1)-1,+r[3]||1,+r[4]||0,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function rW(n){return Math.pow(10,_O(n))}function _O(n){if(n===0)return 0;var r=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,r)>=10&&r++,r}function qn(n,r){var e=_O(n),o=Math.pow(10,e),l=n/o,c;return r?l<1.5?c=1:l<2.5?c=2:l<4?c=3:l<7?c=5:c=10:l<1?c=1:l<2?c=2:l<3?c=3:l<5?c=5:c=10,n=c*o,e>=-20?+n.toFixed(e<0?-e:0):n}function xO(n,r){var e=(n.length-1)*r+1,o=Math.floor(e),l=+n[o-1],c=e-o;return c?l+c*(n[o]-l):l}function wO(n){n.sort(function(p,y){return d(p,y,0)?-1:1});for(var r=-1/0,e=1,o=0;o<n.length;){for(var l=n[o].interval,c=n[o].close,f=0;f<2;f++)l[f]<=r&&(l[f]=r,c[f]=f?1:1-e),r=l[f],e=c[f];l[0]===l[1]&&c[0]*c[1]!==1?n.splice(o,1):o++}return n;function d(p,y,b){return p.interval[b]<y.interval[b]||p.interval[b]===y.interval[b]&&(p.close[b]-y.close[b]===(b?-1:1)||!b&&d(p,y,1))}}function si(n){var r=parseFloat(n);return r==n&&(r!==0||!oe(n)||n.indexOf("x")<=0)?r:NaN}function h0(n){return!isNaN(si(n))}function CR(){return Math.round(Math.random()*9)}function PR(n,r){return r===0?n:PR(r,n%r)}function I_(n,r){return n==null?r:r==null?n:n*r/PR(n,r)}function SO(n,r,e){return(r-n)*e+n}var oo="series\0",d0="\0_ec_\0";function An(n){return n instanceof Array?n:n==null?[]:[n]}function Bf(n,r,e){if(n){n[r]=n[r]||{},n.emphasis=n.emphasis||{},n.emphasis[r]=n.emphasis[r]||{};for(var o=0,l=e.length;o<l;o++){var c=e[o];!n.emphasis[r].hasOwnProperty(c)&&n[r].hasOwnProperty(c)&&(n.emphasis[r][c]=n[r][c])}}}var ER=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Tp(n){return ce(n)&&!Ut(n)&&!(n instanceof Date)?n.value:n}function nW(n){return ce(n)&&!(n instanceof Array)}function kR(n,r,e){var o=e==="normalMerge",l=e==="replaceMerge",c=e==="replaceAll";n=n||[],r=(r||[]).slice();var f=ve();it(r,function(p,y){if(!ce(p)){r[y]=null;return}});var d=iW(n,f,e);return(o||l)&&aW(d,n,f,r),o&&oW(d,r),o||l?sW(d,r,l):c&&LR(d,r),DR(d),d}function iW(n,r,e){var o=[];if(e==="replaceAll")return o;for(var l=0;l<n.length;l++){var c=n[l];c&&c.id!=null&&r.set(c.id,l),o.push({existing:e==="replaceMerge"||N_(c)?null:c,newOption:null,keyInfo:null,brandNew:null})}return o}function aW(n,r,e,o){it(o,function(l,c){if(!(!l||l.id==null)){var f=R_(l.id),d=e.get(f);if(d!=null){var p=n[d];ei(!p.newOption,'Duplicated option on id "'+f+'".'),p.newOption=l,p.existing=r[d],o[c]=null}}})}function oW(n,r){it(r,function(e,o){if(!(!e||e.name==null))for(var l=0;l<n.length;l++){var c=n[l].existing;if(!n[l].newOption&&c&&(c.id==null||e.id==null)&&!N_(e)&&!N_(c)&&IR("name",c,e)){n[l].newOption=e,r[o]=null;return}}})}function sW(n,r,e){it(r,function(o){if(o){for(var l,c=0;(l=n[c])&&(l.newOption||N_(l.existing)||l.existing&&o.id!=null&&!IR("id",o,l.existing));)c++;l?(l.newOption=o,l.brandNew=e):n.push({newOption:o,brandNew:e,existing:null,keyInfo:null}),c++}})}function LR(n,r){it(r,function(e){n.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function DR(n){var r=ve();it(n,function(e){var o=e.existing;o&&r.set(o.id,e)}),it(n,function(e){var o=e.newOption;ei(!o||o.id==null||!r.get(o.id)||r.get(o.id)===e,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&r.set(o.id,e),!e.keyInfo&&(e.keyInfo={})}),it(n,function(e,o){var l=e.existing,c=e.newOption,f=e.keyInfo;if(ce(c)){if(f.name=c.name!=null?R_(c.name):l?l.name:oo+o,l)f.id=R_(l.id);else if(c.id!=null)f.id=R_(c.id);else{var d=0;do f.id="\0"+f.name+"\0"+d++;while(r.get(f.id))}r.set(f.id,e)}})}function IR(n,r,e){var o=Pa(r[n],null),l=Pa(e[n],null);return o!=null&&l!=null&&o===l}function R_(n){return Pa(n,"")}function Pa(n,r){return n==null?r:oe(n)?n:qe(n)||yc(n)?n+"":r}function Drt(n){}function lW(n){return isStringSafe(n)||isNumeric(n)}function MO(n){var r=n.name;return!!(r&&r.indexOf(oo))}function N_(n){return n&&n.id!=null&&R_(n.id).indexOf(d0)===0}function RR(n){return d0+n}function ku(n,r,e){it(n,function(o){var l=o.newOption;ce(l)&&(o.keyInfo.mainType=r,o.keyInfo.subType=uW(r,l,o.existing,e))})}function uW(n,r,e,o){var l=r.type?r.type:e?e.subType:o.determineSubType(n,r);return l}function NR(n,r){var e={},o={};return l(n||[],e),l(r||[],o,e),[c(e),c(o)];function l(f,d,p){for(var y=0,b=f.length;y<b;y++){var x=Pa(f[y].seriesId,null);if(x==null)return;for(var S=An(f[y].dataIndex),T=p&&p[x],A=0,E=S.length;A<E;A++){var L=S[A];T&&T[L]?T[L]=null:(d[x]||(d[x]={}))[L]=1}}}function c(f,d){var p=[];for(var y in f)if(f.hasOwnProperty(y)&&f[y]!=null)if(d)p.push(+y);else{var b=c(f[y],!0);b.length&&p.push({seriesId:y,dataIndex:b})}return p}}function Op(n,r){if(r.dataIndexInside!=null)return r.dataIndexInside;if(r.dataIndex!=null)return Ut(r.dataIndex)?Gt(r.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(r.dataIndex);if(r.name!=null)return Ut(r.name)?Gt(r.name,function(e){return n.indexOfName(e)}):n.indexOfName(r.name)}function br(){var n="__ec_inner_"+BR++;return function(r){return r[n]||(r[n]={})}}var BR=CR();function Cd(n,r,e){var o=TO(r,e),l=o.mainTypeSpecified,c=o.queryOptionMap,f=o.others,d=f,p=e?e.defaultMainType:null;return!l&&p&&c.set(p,{}),c.each(function(y,b){var x=v0(n,b,y,{useDefault:p===b,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});d[b+"Models"]=x.models,d[b+"Model"]=x.models[0]}),d}function TO(n,r){var e;if(oe(n)){var o={};o[n+"Index"]=0,e=o}else e=n;var l=ve(),c={},f=!1;return it(e,function(d,p){if(p==="dataIndex"||p==="dataIndexInside"){c[p]=d;return}var y=p.match(/^(\w+)(Index|Id|Name)$/)||[],b=y[1],x=(y[2]||"").toLowerCase();if(!(!b||!x||r&&r.includeMainTypes&&Xe(r.includeMainTypes,b)<0)){f=f||!!b;var S=l.get(b)||l.set(b,{});S[x]=d}}),{mainTypeSpecified:f,queryOptionMap:l,others:c}}var bi={useDefault:!0,enableAll:!1,enableNone:!1},cW={useDefault:!1,enableAll:!0,enableNone:!0};function v0(n,r,e,o){o=o||bi;var l=e.index,c=e.id,f=e.name,d={models:null,specified:l!=null||c!=null||f!=null};if(!d.specified){var p=void 0;return d.models=o.useDefault&&(p=n.getComponent(r))?[p]:[],d}if(l==="none"||l===!1){if(o.enableNone)return d.models=[],d;l=-1}return l==="all"&&(o.enableAll?l=c=f=null:l=-1),d.models=n.queryComponents({mainType:r,index:l,id:c,name:f}),d}function zR(n,r,e){n.setAttribute?n.setAttribute(r,e):n[r]=e}function FR(n,r){return n.getAttribute?n.getAttribute(r):n[r]}function Irt(n){return n==="auto"?cr.domSupported?"html":"richText":n||"html"}function jR(n,r){var e=ve(),o=[];return it(n,function(l){var c=r(l);(e.get(c)||(o.push(c),e.set(c,[]))).push(l)}),{keys:o,buckets:e}}function OO(n,r,e,o,l){var c=r==null||r==="auto";if(o==null)return o;if(qe(o)){var f=SO(e||0,o,l);return sa(f,c?Math.max(Eu(e||0),Eu(o)):r)}else{if(oe(o))return l<1?e:o;for(var d=[],p=e,y=o,b=Math.max(p?p.length:0,y.length),x=0;x<b;++x){var S=n.getDimensionInfo(x);if(S&&S.type==="ordinal")d[x]=(l<1&&p?p:y)[x];else{var T=p&&p[x]?p[x]:0,A=y[x],f=SO(T,A,l);d[x]=sa(f,c?Math.max(Eu(T),Eu(A)):r)}}return d}}var Mc=function(){function n(){}return n.prototype.reset=function(r,e,o,l){return this._list=r,this._step=l=l||1,this._idx=e,this._end=o!=null?o:l>0?r.length:0,this.item=null,this.key=NaN,this},n.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},n}();function B_(n){n.option=n.parentModel=n.ecModel=null}var VR=".",zf="___EC__COMPONENT__CONTAINER___",GR="___EC__EXTENDED_CLASS___";function Lu(n){var r={main:"",sub:""};if(n){var e=n.split(VR);r.main=e[0]||"",r.sub=e[1]||""}return r}function Rrt(n){ei(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function Nrt(n){return!!(n&&n[GR])}function WR(n,r){n.$constructor=n,n.extend=function(e){var o=this,l;return z_(o)?l=function(c){Ot(f,c);function f(){return c.apply(this,arguments)||this}return f}(o):(l=function(){(e.$constructor||o).apply(this,arguments)},Al(l,this)),Wt(l.prototype,e),l[GR]=!0,l.extend=this.extend,l.superCall=Frt,l.superApply=jrt,l.superClass=o,l}}function z_(n){return ze(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function fW(n,r){n.extend=r.extend}var Brt=Math.round(Math.random()*10);function zrt(n){var r=["__\0is_clz",Brt++].join("_");n.prototype[r]=!0,n.isInstance=function(e){return!!(e&&e[r])}}function Frt(n,r){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return this.superClass.prototype[r].apply(n,e)}function jrt(n,r,e){return this.superClass.prototype[r].apply(n,e)}function Ff(n){var r={};n.registerClass=function(o){var l=o.type||o.prototype.type;if(l){Rrt(l),o.prototype.type=l;var c=Lu(l);if(!c.sub)r[c.main]=o;else if(c.sub!==zf){var f=e(c);f[c.sub]=o}}return o},n.getClass=function(o,l,c){var f=r[o];if(f&&f[zf]&&(f=l?f[l]:null),c&&!f)throw new Error(l?"Component "+o+"."+(l||"")+" is used but not imported.":o+".type should be specified.");return f},n.getClassesByMainType=function(o){var l=Lu(o),c=[],f=r[l.main];return f&&f[zf]?it(f,function(d,p){p!==zf&&c.push(d)}):c.push(f),c},n.hasClass=function(o){var l=Lu(o);return!!r[l.main]},n.getAllClassMainTypes=function(){var o=[];return it(r,function(l,c){o.push(c)}),o},n.hasSubTypes=function(o){var l=Lu(o),c=r[l.main];return c&&c[zf]};function e(o){var l=r[o.main];return(!l||!l[zf])&&(l=r[o.main]={},l[zf]=!0),l}}function jf(n,r){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return r=r||!1,function(o,l,c){for(var f={},d=0;d<n.length;d++){var p=n[d][1];if(!(l&&Xe(l,p)>=0||c&&Xe(c,p)<0)){var y=o.getShallow(p,r);y!=null&&(f[n[d][0]]=y)}}return f}}var hW=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],AO=jf(hW),dW=function(){function n(){}return n.prototype.getAreaStyle=function(r,e){return AO(this,r,e)},n}(),HR=new n0(50);function vW(n){if(typeof n=="string"){var r=HR.get(n);return r&&r.image}else return n}function CO(n,r,e,o,l){if(n)if(typeof n=="string"){if(r&&r.__zrImageSrc===n||!e)return r;var c=HR.get(n),f={hostEl:e,cb:o,cbPayload:l};return c?(r=c.image,!p0(r)&&c.pending.push(f)):(r=zr.loadImage(n,Vf,Vf),r.__zrImageSrc=n,HR.put(n,r.__cachedImgObj={image:r,pending:[f]})),r}else return n;else return r}function Vf(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var r=0;r<n.pending.length;r++){var e=n.pending[r],o=e.cb;o&&o(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function p0(n){return n&&n.width&&n.height}var g0=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function y0(n,r,e,o,l){var c={};return YR(c,n,r,e,o,l),c.text}function YR(n,r,e,o,l,c){if(!e){n.text="",n.isTruncated=!1;return}var f=(r+"").split(`
`);c=Gf(e,o,l,c);for(var d=!1,p={},y=0,b=f.length;y<b;y++)UR(p,f[y],c),f[y]=p.textLine,d=d||p.isTruncated;n.text=f.join(`
`),n.isTruncated=d}function Gf(n,r,e,o){o=o||{};var l=Wt({},o);e=fe(e,"..."),l.maxIterations=fe(o.maxIterations,2);var c=l.minChar=fe(o.minChar,0),f=l.fontMeasureInfo=Rl(r),d=f.asciiCharWidth;l.placeholder=fe(o.placeholder,"");for(var p=n=Math.max(0,n-1),y=0;y<c&&p>=d;y++)p-=d;var b=Nl(f,e);return b>p&&(e="",b=0),p=n-b,l.ellipsis=e,l.ellipsisWidth=b,l.contentWidth=p,l.containerWidth=n,l}function UR(n,r,e){var o=e.containerWidth,l=e.contentWidth,c=e.fontMeasureInfo;if(!o){n.textLine="",n.isTruncated=!1;return}var f=Nl(c,r);if(f<=o){n.textLine=r,n.isTruncated=!1;return}for(var d=0;;d++){if(f<=l||d>=e.maxIterations){r+=e.ellipsis;break}var p=d===0?XR(r,l,c):f>0?Math.floor(r.length*l/f):0;r=r.substr(0,p),f=Nl(c,r)}r===""&&(r=e.placeholder),n.textLine=r,n.isTruncated=!0}function XR(n,r,e){for(var o=0,l=0,c=n.length;l<c&&o<r;l++)o+=mR(e,n.charCodeAt(l));return l}function pW(n,r,e,o){var l=Hf(n),c=r.overflow,f=r.padding,d=f?f[1]+f[3]:0,p=f?f[0]+f[2]:0,y=r.font,b=c==="truncate",x=s0(y),S=fe(r.lineHeight,x),T=r.lineOverflow==="truncate",A=!1,E=r.width;E==null&&e!=null&&(E=e-d);var L=r.height;L==null&&o!=null&&(L=o-p);var I;E!=null&&(c==="break"||c==="breakAll")?I=l?PO(l,r.font,E,c==="breakAll",0).lines:[]:I=l?l.split(`
`):[];var N=I.length*S;if(L==null&&(L=N),N>L&&T){var F=Math.floor(L/S);A=A||I.length>F,I=I.slice(0,F),N=I.length*S}if(l&&b&&E!=null)for(var W=Gf(E,y,r.ellipsis,{minChar:r.truncateMinChar,placeholder:r.placeholder}),X={},$=0;$<I.length;$++)UR(X,I[$],W),I[$]=X.textLine,A=A||X.isTruncated;for(var K=L,et=0,at=Rl(y),$=0;$<I.length;$++)et=Math.max(Nl(at,I[$]),et);E==null&&(E=et);var ot=E;return K+=p,ot+=d,{lines:I,height:L,outerWidth:ot,outerHeight:K,lineHeight:S,calculatedLineHeight:x,contentWidth:et,contentHeight:N,width:E,isTruncated:A}}var Xt=function(){function n(){}return n}(),m0=function(){function n(r){this.tokens=[],r&&(this.tokens=r)}return n}(),Wf=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n}();function gW(n,r,e,o,l){var c=new Wf,f=Hf(n);if(!f)return c;var d=r.padding,p=d?d[1]+d[3]:0,y=d?d[0]+d[2]:0,b=r.width;b==null&&e!=null&&(b=e-p);var x=r.height;x==null&&o!=null&&(x=o-y);for(var S=r.overflow,T=(S==="break"||S==="breakAll")&&b!=null?{width:b,accumWidth:0,breakAll:S==="breakAll"}:null,A=g0.lastIndex=0,E;(E=g0.exec(f))!=null;){var L=E.index;L>A&&b0(c,f.substring(A,L),r,T),b0(c,E[2],r,T,E[1]),A=g0.lastIndex}A<f.length&&b0(c,f.substring(A,f.length),r,T);var I=[],N=0,F=0,W=S==="truncate",X=r.lineOverflow==="truncate",$={};function K(jr,wn,dr){jr.width=wn,jr.lineHeight=dr,N+=dr,F=Math.max(F,wn)}t:for(var et=0;et<c.lines.length;et++){for(var at=c.lines[et],ot=0,ht=0,yt=0;yt<at.tokens.length;yt++){var vt=at.tokens[yt],bt=vt.styleName&&r.rich[vt.styleName]||{},Mt=vt.textPadding=bt.padding,St=Mt?Mt[1]+Mt[3]:0,Pt=vt.font=bt.font||r.font;vt.contentHeight=s0(Pt);var Et=fe(bt.height,vt.contentHeight);if(vt.innerHeight=Et,Mt&&(Et+=Mt[0]+Mt[2]),vt.height=Et,vt.lineHeight=Ui(bt.lineHeight,r.lineHeight,Et),vt.align=bt&&bt.align||l,vt.verticalAlign=bt&&bt.verticalAlign||"middle",X&&x!=null&&N+vt.lineHeight>x){var Lt=c.lines.length;yt>0?(at.tokens=at.tokens.slice(0,yt),K(at,ht,ot),c.lines=c.lines.slice(0,et+1)):c.lines=c.lines.slice(0,et),c.isTruncated=c.isTruncated||c.lines.length<Lt;break t}var zt=bt.width,Ht=zt==null||zt==="auto";if(typeof zt=="string"&&zt.charAt(zt.length-1)==="%")vt.percentWidth=zt,I.push(vt),vt.contentWidth=Nl(Rl(Pt),vt.text);else{if(Ht){var qt=bt.backgroundColor,ne=qt&&qt.image;ne&&(ne=vW(ne),p0(ne)&&(vt.width=Math.max(vt.width,ne.width*Et/ne.height)))}var Ce=W&&b!=null?b-ht:null;Ce!=null&&Ce<vt.width?!Ht||Ce<St?(vt.text="",vt.width=vt.contentWidth=0):(YR($,vt.text,Ce-St,Pt,r.ellipsis,{minChar:r.truncateMinChar}),vt.text=$.text,c.isTruncated=c.isTruncated||$.isTruncated,vt.width=vt.contentWidth=Nl(Rl(Pt),vt.text)):vt.contentWidth=Nl(Rl(Pt),vt.text)}vt.width+=St,ht+=vt.width,bt&&(ot=Math.max(ot,vt.lineHeight))}K(at,ht,ot)}c.outerWidth=c.width=fe(b,F),c.outerHeight=c.height=fe(x,N),c.contentHeight=N,c.contentWidth=F,c.outerWidth+=p,c.outerHeight+=y;for(var et=0;et<I.length;et++){var vt=I[et],Qe=vt.percentWidth;vt.width=parseInt(Qe,10)/100*c.width}return c}function b0(n,r,e,o,l){var c=r==="",f=l&&e.rich[l]||{},d=n.lines,p=f.font||e.font,y=!1,b,x;if(o){var S=f.padding,T=S?S[1]+S[3]:0;if(f.width!=null&&f.width!=="auto"){var A=Bl(f.width,o.width)+T;d.length>0&&A+o.accumWidth>o.width&&(b=r.split(`
`),y=!0),o.accumWidth=A}else{var E=PO(r,p,o.width,o.breakAll,o.accumWidth);o.accumWidth=E.accumWidth+T,x=E.linesWidths,b=E.lines}}b||(b=r.split(`
`));for(var L=Rl(p),I=0;I<b.length;I++){var N=b[I],F=new Xt;if(F.styleName=l,F.text=N,F.isLineHolder=!N&&!c,typeof f.width=="number"?F.width=f.width:F.width=x?x[I]:Nl(L,N),!I&&!y){var W=(d[d.length-1]||(d[0]=new m0)).tokens,X=W.length;X===1&&W[0].isLineHolder?W[0]=F:(N||!X||c)&&W.push(F)}else d.push(new m0([F]))}}function Ap(n){var r=n.charCodeAt(0);return r>=32&&r<=591||r>=880&&r<=4351||r>=4608&&r<=5119||r>=7680&&r<=8303}var yW=pi(",&?/;] ".split(""),function(n,r){return n[r]=!0,n},{});function mW(n){return Ap(n)?!!yW[n]:!0}function PO(n,r,e,o,l){for(var c=[],f=[],d="",p="",y=0,b=0,x=Rl(r),S=0;S<n.length;S++){var T=n.charAt(S);if(T===`
`){p&&(d+=p,b+=y),c.push(d),f.push(b),d="",p="",y=0,b=0;continue}var A=mR(x,T.charCodeAt(0)),E=o?!1:!mW(T);if(c.length?b+A>e:l+b+A>e){b?(d||p)&&(E?(d||(d=p,p="",y=0,b=y),c.push(d),f.push(b-y),p+=T,y+=A,d="",b=y):(p&&(d+=p,p="",y=0),c.push(d),f.push(b),d=T,b=A)):E?(c.push(p),f.push(y),p=T,y=A):(c.push(T),f.push(A));continue}b+=A,E?(p+=T,y+=A):(p&&(d+=p,p="",y=0),d+=T)}return p&&(d+=p),d&&(c.push(d),f.push(b)),c.length===1&&(b+=l),{accumWidth:b,lines:c,linesWidths:f}}function F_(n,r,e,o,l,c){if(n.baseX=e,n.baseY=o,n.outerWidth=n.outerHeight=null,!!r){var f=r.width*2,d=r.height*2;Je.set(Zi,Sp(e,f,l),Sd(o,d,c),f,d),Je.intersect(r,Zi,null,$R);var p=$R.outIntersectRect;n.outerWidth=p.width,n.outerHeight=p.height,n.baseX=Sp(p.x,p.width,l,!0),n.baseY=Sd(p.y,p.height,c,!0)}}var Zi=new Je(0,0,0,0),$R={outIntersectRect:{},clamp:!0};function Hf(n){return n!=null?n+="":n=""}function bW(n){var r=Hf(n.text),e=n.font,o=Nl(Rl(e),r),l=s0(e);return Ea(n,o,l,null)}function Ea(n,r,e,o){var l=new Je(Sp(n.x||0,r,n.textAlign),Sd(n.y||0,e,n.textBaseline),r,e),c=o!=null?o:Pd(n)?n.lineWidth:0;return c>0&&(l.x-=c/2,l.y-=c/2,l.width+=c,l.height+=c),l}function Pd(n){var r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0}var In="__zr_style_"+Math.round(Math.random()*10),Zs={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},j_={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Zs[In]=!0;var Ed=["z","z2","invisible"],EO=["invisible"],Do=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype._init=function(e){for(var o=vr(e),l=0;l<o.length;l++){var c=o[l];c==="style"?this.useStyle(e[c]):n.prototype.attrKV.call(this,c,e[c])}this.style||this.useStyle({})},r.prototype.beforeBrush=function(){},r.prototype.afterBrush=function(){},r.prototype.innerBeforeBrush=function(){},r.prototype.innerAfterBrush=function(){},r.prototype.shouldBePainted=function(e,o,l,c){var f=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&_W(this,e,o)||f&&!f[0]&&!f[3])return!1;if(l&&this.__clipPaths&&this.__clipPaths.length){for(var d=0;d<this.__clipPaths.length;++d)if(this.__clipPaths[d].isZeroArea())return!1}if(c&&this.parent)for(var p=this.parent;p;){if(p.ignore)return!1;p=p.parent}return!0},r.prototype.contain=function(e,o){return this.rectContain(e,o)},r.prototype.traverse=function(e,o){e.call(o,this)},r.prototype.rectContain=function(e,o){var l=this.transformCoordToLocal(e,o),c=this.getBoundingRect();return c.contain(l[0],l[1])},r.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,l=this.getBoundingRect(),c=this.style,f=c.shadowBlur||0,d=c.shadowOffsetX||0,p=c.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Je(0,0,0,0)),o?Je.applyTransform(e,l,o):e.copy(l),(f||d||p)&&(e.width+=f*2+Math.abs(d),e.height+=f*2+Math.abs(p),e.x=Math.min(e.x,e.x+d-f),e.y=Math.min(e.y,e.y+p-f));var y=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-y),e.y=Math.floor(e.y-y),e.width=Math.ceil(e.width+1+y*2),e.height=Math.ceil(e.height+1+y*2))}return e},r.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Je(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},r.prototype.getPrevPaintRect=function(){return this._prevPaintRect},r.prototype.animateStyle=function(e){return this.animate("style",e)},r.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},r.prototype.attrKV=function(e,o){e!=="style"?n.prototype.attrKV.call(this,e,o):this.style?this.setStyle(o):this.useStyle(o)},r.prototype.setStyle=function(e,o){return typeof e=="string"?this.style[e]=o:Wt(this.style,e),this.dirtyStyle(),this},r.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=bp,this._rect&&(this._rect=null)},r.prototype.dirty=function(){this.dirtyStyle()},r.prototype.styleChanged=function(){return!!(this.__dirty&bp)},r.prototype.styleUpdated=function(){this.__dirty&=~bp},r.prototype.createStyle=function(e){return dt(Zs,e)},r.prototype.useStyle=function(e){e[In]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},r.prototype.isStyleObject=function(e){return e[In]},r.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var o=this._normalState;e.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,o,Ed)},r.prototype._applyStateObj=function(e,o,l,c,f,d){n.prototype._applyStateObj.call(this,e,o,l,c,f,d);var p=!(o&&c),y;if(o&&o.style?f?c?y=o.style:(y=this._mergeStyle(this.createStyle(),l.style),this._mergeStyle(y,o.style)):(y=this._mergeStyle(this.createStyle(),c?this.style:l.style),this._mergeStyle(y,o.style)):p&&(y=l.style),y)if(f){var b=this.style;if(this.style=this.createStyle(p?{}:b),p)for(var x=vr(b),S=0;S<x.length;S++){var T=x[S];T in y&&(y[T]=y[T],this.style[T]=b[T])}for(var A=vr(y),S=0;S<A.length;S++){var T=A[S];this.style[T]=this.style[T]}this._transitionState(e,{style:y},d,this.getAnimationStyleProps())}else this.useStyle(y);for(var E=this.__inHover?EO:Ed,S=0;S<E.length;S++){var T=E[S];o&&o[T]!=null?this[T]=o[T]:p&&l[T]!=null&&(this[T]=l[T])}},r.prototype._mergeStates=function(e){for(var o=n.prototype._mergeStates.call(this,e),l,c=0;c<e.length;c++){var f=e[c];f.style&&(l=l||{},this._mergeStyle(l,f.style))}return l&&(o.style=l),o},r.prototype._mergeStyle=function(e,o){return Wt(e,o),e},r.prototype.getAnimationStyleProps=function(){return j_},r.initDefaultProps=function(){var e=r.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=gs|bp}(),r}(wR),kO=new Je(0,0,0,0),Rn=new Je(0,0,0,0);function _W(n,r,e){return kO.copy(n.getBoundingRect()),n.transform&&kO.applyTransform(n.transform),Rn.width=r,Rn.height=e,!kO.intersect(Rn)}var Fi=Do,qo=Math.min,_s=Math.max,qR=Math.sin,LO=Math.cos,Du=Math.PI*2,V_=ps(),G_=ps(),Cp=ps();function W_(n,r,e){if(n.length!==0){for(var o=n[0],l=o[0],c=o[0],f=o[1],d=o[1],p=1;p<n.length;p++)o=n[p],l=qo(l,o[0]),c=_s(c,o[0]),f=qo(f,o[1]),d=_s(d,o[1]);r[0]=l,r[1]=f,e[0]=c,e[1]=d}}function ZR(n,r,e,o,l,c){l[0]=qo(n,e),l[1]=qo(r,o),c[0]=_s(n,e),c[1]=_s(r,o)}var DO=[],Fl=[];function jl(n,r,e,o,l,c,f,d,p,y){var b=O9,x=Wa,S=b(n,e,l,f,DO);p[0]=1/0,p[1]=1/0,y[0]=-1/0,y[1]=-1/0;for(var T=0;T<S;T++){var A=x(n,e,l,f,DO[T]);p[0]=qo(A,p[0]),y[0]=_s(A,y[0])}S=b(r,o,c,d,Fl);for(var T=0;T<S;T++){var E=x(r,o,c,d,Fl[T]);p[1]=qo(E,p[1]),y[1]=_s(E,y[1])}p[0]=qo(n,p[0]),y[0]=_s(n,y[0]),p[0]=qo(f,p[0]),y[0]=_s(f,y[0]),p[1]=qo(r,p[1]),y[1]=_s(r,y[1]),p[1]=qo(d,p[1]),y[1]=_s(d,y[1])}function _0(n,r,e,o,l,c,f,d){var p=C9,y=io,b=_s(qo(p(n,e,l),1),0),x=_s(qo(p(r,o,c),1),0),S=y(n,e,l,b),T=y(r,o,c,x);f[0]=qo(n,l,S),f[1]=qo(r,c,T),d[0]=_s(n,l,S),d[1]=_s(r,c,T)}function Lr(n,r,e,o,l,c,f,d,p){var y=Af,b=dd,x=Math.abs(l-c);if(x%Du<1e-4&&x>1e-4){d[0]=n-e,d[1]=r-o,p[0]=n+e,p[1]=r+o;return}if(V_[0]=LO(l)*e+n,V_[1]=qR(l)*o+r,G_[0]=LO(c)*e+n,G_[1]=qR(c)*o+r,y(d,V_,G_),b(p,V_,G_),l=l%Du,l<0&&(l=l+Du),c=c%Du,c<0&&(c=c+Du),l>c&&!f?c+=Du:l<c&&f&&(l+=Du),f){var S=c;c=l,l=S}for(var T=0;T<c;T+=Math.PI/2)T>l&&(Cp[0]=LO(T)*e+n,Cp[1]=qR(T)*o+r,y(d,Cp,d),b(p,Cp,p))}var Nn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},kd=[],Ld=[],Iu=[],Ru=[],fn=[],Ks=[],Zo=Math.min,H_=Math.max,Yf=Math.cos,Uf=Math.sin,Tc=Math.abs,Pp=Math.PI,Oc=Pp*2,xe=typeof Float32Array!="undefined",Dd=[];function Y_(n){var r=Math.round(n/Pp*1e8)/1e8;return r%2*Pp}function Xf(n,r){var e=Y_(n[0]);e<0&&(e+=Oc);var o=e-n[0],l=n[1];l+=o,!r&&l-e>=Oc?l=e+Oc:r&&e-l>=Oc?l=e-Oc:!r&&e>l?l=e+(Oc-Y_(e-l)):r&&e<l&&(l=e-(Oc-Y_(l-e))),n[0]=e,n[1]=l}var x0=function(){function n(r){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,r&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(r,e,o){o=o||0,o>0&&(this._ux=Tc(o/T_/r)||0,this._uy=Tc(o/T_/e)||0)},n.prototype.setDPR=function(r){this.dpr=r},n.prototype.setContext=function(r){this._ctx=r},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(r,e){return this._drawPendingPt(),this.addData(Nn.M,r,e),this._ctx&&this._ctx.moveTo(r,e),this._x0=r,this._y0=e,this._xi=r,this._yi=e,this},n.prototype.lineTo=function(r,e){var o=Tc(r-this._xi),l=Tc(e-this._yi),c=o>this._ux||l>this._uy;if(this.addData(Nn.L,r,e),this._ctx&&c&&this._ctx.lineTo(r,e),c)this._xi=r,this._yi=e,this._pendingPtDist=0;else{var f=o*o+l*l;f>this._pendingPtDist&&(this._pendingPtX=r,this._pendingPtY=e,this._pendingPtDist=f)}return this},n.prototype.bezierCurveTo=function(r,e,o,l,c,f){return this._drawPendingPt(),this.addData(Nn.C,r,e,o,l,c,f),this._ctx&&this._ctx.bezierCurveTo(r,e,o,l,c,f),this._xi=c,this._yi=f,this},n.prototype.quadraticCurveTo=function(r,e,o,l){return this._drawPendingPt(),this.addData(Nn.Q,r,e,o,l),this._ctx&&this._ctx.quadraticCurveTo(r,e,o,l),this._xi=o,this._yi=l,this},n.prototype.arc=function(r,e,o,l,c,f){this._drawPendingPt(),Dd[0]=l,Dd[1]=c,Xf(Dd,f),l=Dd[0],c=Dd[1];var d=c-l;return this.addData(Nn.A,r,e,o,o,l,d,0,f?0:1),this._ctx&&this._ctx.arc(r,e,o,l,c,f),this._xi=Yf(c)*o+r,this._yi=Uf(c)*o+e,this},n.prototype.arcTo=function(r,e,o,l,c){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(r,e,o,l,c),this},n.prototype.rect=function(r,e,o,l){return this._drawPendingPt(),this._ctx&&this._ctx.rect(r,e,o,l),this.addData(Nn.R,r,e,o,l),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Nn.Z);var r=this._ctx,e=this._x0,o=this._y0;return r&&r.closePath(),this._xi=e,this._yi=o,this},n.prototype.fill=function(r){r&&r.fill(),this.toStatic()},n.prototype.stroke=function(r){r&&r.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(r){if(this._saveData){var e=r.length;!(this.data&&this.data.length===e)&&xe&&(this.data=new Float32Array(e));for(var o=0;o<e;o++)this.data[o]=r[o];this._len=e}},n.prototype.appendPath=function(r){if(this._saveData){r instanceof Array||(r=[r]);for(var e=r.length,o=0,l=this._len,c=0;c<e;c++)o+=r[c].len();var f=this.data;if(xe&&(f instanceof Float32Array||!f)&&(this.data=new Float32Array(l+o),l>0&&f))for(var d=0;d<l;d++)this.data[d]=f[d];for(var c=0;c<e;c++)for(var p=r[c].data,d=0;d<p.length;d++)this.data[l++]=p[d];this._len=l}},n.prototype.addData=function(r,e,o,l,c,f,d,p,y){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var x=0;x<arguments.length;x++)b[this._len++]=arguments[x]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var r=[],e=0;e<this._len;e++)r[e]=this.data[e];this.data=r}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var r=this.data;r instanceof Array&&(r.length=this._len,xe&&this._len>11&&(this.data=new Float32Array(r)))}},n.prototype.getBoundingRect=function(){Iu[0]=Iu[1]=fn[0]=fn[1]=Number.MAX_VALUE,Ru[0]=Ru[1]=Ks[0]=Ks[1]=-Number.MAX_VALUE;var r=this.data,e=0,o=0,l=0,c=0,f;for(f=0;f<this._len;){var d=r[f++],p=f===1;switch(p&&(e=r[f],o=r[f+1],l=e,c=o),d){case Nn.M:e=l=r[f++],o=c=r[f++],fn[0]=l,fn[1]=c,Ks[0]=l,Ks[1]=c;break;case Nn.L:ZR(e,o,r[f],r[f+1],fn,Ks),e=r[f++],o=r[f++];break;case Nn.C:jl(e,o,r[f++],r[f++],r[f++],r[f++],r[f],r[f+1],fn,Ks),e=r[f++],o=r[f++];break;case Nn.Q:_0(e,o,r[f++],r[f++],r[f],r[f+1],fn,Ks),e=r[f++],o=r[f++];break;case Nn.A:var y=r[f++],b=r[f++],x=r[f++],S=r[f++],T=r[f++],A=r[f++]+T;f+=1;var E=!r[f++];p&&(l=Yf(T)*x+y,c=Uf(T)*S+b),Lr(y,b,x,S,T,A,E,fn,Ks),e=Yf(A)*x+y,o=Uf(A)*S+b;break;case Nn.R:l=e=r[f++],c=o=r[f++];var L=r[f++],I=r[f++];ZR(l,c,l+L,c+I,fn,Ks);break;case Nn.Z:e=l,o=c;break}Af(Iu,Iu,fn),dd(Ru,Ru,Ks)}return f===0&&(Iu[0]=Iu[1]=Ru[0]=Ru[1]=0),new Je(Iu[0],Iu[1],Ru[0]-Iu[0],Ru[1]-Iu[1])},n.prototype._calculateLength=function(){var r=this.data,e=this._len,o=this._ux,l=this._uy,c=0,f=0,d=0,p=0;this._pathSegLen||(this._pathSegLen=[]);for(var y=this._pathSegLen,b=0,x=0,S=0;S<e;){var T=r[S++],A=S===1;A&&(c=r[S],f=r[S+1],d=c,p=f);var E=-1;switch(T){case Nn.M:c=d=r[S++],f=p=r[S++];break;case Nn.L:{var L=r[S++],I=r[S++],N=L-c,F=I-f;(Tc(N)>o||Tc(F)>l||S===e-1)&&(E=Math.sqrt(N*N+F*F),c=L,f=I);break}case Nn.C:{var W=r[S++],X=r[S++],L=r[S++],I=r[S++],$=r[S++],K=r[S++];E=Ket(c,f,W,X,L,I,$,K,10),c=$,f=K;break}case Nn.Q:{var W=r[S++],X=r[S++],L=r[S++],I=r[S++];E=Jet(c,f,W,X,L,I,10),c=L,f=I;break}case Nn.A:var et=r[S++],at=r[S++],ot=r[S++],ht=r[S++],yt=r[S++],vt=r[S++],bt=vt+yt;S+=1,A&&(d=Yf(yt)*ot+et,p=Uf(yt)*ht+at),E=H_(ot,ht)*Zo(Oc,Math.abs(vt)),c=Yf(bt)*ot+et,f=Uf(bt)*ht+at;break;case Nn.R:{d=c=r[S++],p=f=r[S++];var Mt=r[S++],St=r[S++];E=Mt*2+St*2;break}case Nn.Z:{var N=d-c,F=p-f;E=Math.sqrt(N*N+F*F),c=d,f=p;break}}E>=0&&(y[x++]=E,b+=E)}return this._pathLen=b,b},n.prototype.rebuildPath=function(r,e){var o=this.data,l=this._ux,c=this._uy,f=this._len,d,p,y,b,x,S,T=e<1,A,E,L=0,I=0,N,F=0,W,X;if(!(T&&(this._pathSegLen||this._calculateLength(),A=this._pathSegLen,E=this._pathLen,N=e*E,!N)))t:for(var $=0;$<f;){var K=o[$++],et=$===1;switch(et&&(y=o[$],b=o[$+1],d=y,p=b),K!==Nn.L&&F>0&&(r.lineTo(W,X),F=0),K){case Nn.M:d=y=o[$++],p=b=o[$++],r.moveTo(y,b);break;case Nn.L:{x=o[$++],S=o[$++];var at=Tc(x-y),ot=Tc(S-b);if(at>l||ot>c){if(T){var ht=A[I++];if(L+ht>N){var yt=(N-L)/ht;r.lineTo(y*(1-yt)+x*yt,b*(1-yt)+S*yt);break t}L+=ht}r.lineTo(x,S),y=x,b=S,F=0}else{var vt=at*at+ot*ot;vt>F&&(W=x,X=S,F=vt)}break}case Nn.C:{var bt=o[$++],Mt=o[$++],St=o[$++],Pt=o[$++],Et=o[$++],Lt=o[$++];if(T){var ht=A[I++];if(L+ht>N){var yt=(N-L)/ht;bd(y,bt,St,Et,yt,kd),bd(b,Mt,Pt,Lt,yt,Ld),r.bezierCurveTo(kd[1],Ld[1],kd[2],Ld[2],kd[3],Ld[3]);break t}L+=ht}r.bezierCurveTo(bt,Mt,St,Pt,Et,Lt),y=Et,b=Lt;break}case Nn.Q:{var bt=o[$++],Mt=o[$++],St=o[$++],Pt=o[$++];if(T){var ht=A[I++];if(L+ht>N){var yt=(N-L)/ht;d_(y,bt,St,yt,kd),d_(b,Mt,Pt,yt,Ld),r.quadraticCurveTo(kd[1],Ld[1],kd[2],Ld[2]);break t}L+=ht}r.quadraticCurveTo(bt,Mt,St,Pt),y=St,b=Pt;break}case Nn.A:var zt=o[$++],Ht=o[$++],qt=o[$++],ne=o[$++],Ce=o[$++],Qe=o[$++],jr=o[$++],wn=!o[$++],dr=qt>ne?qt:ne,Ge=Tc(qt-ne)>.001,Mr=Ce+Qe,Pe=!1;if(T){var ht=A[I++];L+ht>N&&(Mr=Ce+Qe*(N-L)/ht,Pe=!0),L+=ht}if(Ge&&r.ellipse?r.ellipse(zt,Ht,qt,ne,jr,Ce,Mr,wn):r.arc(zt,Ht,dr,Ce,Mr,wn),Pe)break t;et&&(d=Yf(Ce)*qt+zt,p=Uf(Ce)*ne+Ht),y=Yf(Mr)*qt+zt,b=Uf(Mr)*ne+Ht;break;case Nn.R:d=y=o[$],p=b=o[$+1],x=o[$++],S=o[$++];var fr=o[$++],_n=o[$++];if(T){var ht=A[I++];if(L+ht>N){var Xr=N-L;r.moveTo(x,S),r.lineTo(x+Zo(Xr,fr),S),Xr-=fr,Xr>0&&r.lineTo(x+fr,S+Zo(Xr,_n)),Xr-=_n,Xr>0&&r.lineTo(x+H_(fr-Xr,0),S+_n),Xr-=fr,Xr>0&&r.lineTo(x,S+H_(_n-Xr,0));break t}L+=ht}r.rect(x,S,fr,_n);break;case Nn.Z:if(T){var ht=A[I++];if(L+ht>N){var yt=(N-L)/ht;r.lineTo(y*(1-yt)+d*yt,b*(1-yt)+p*yt);break t}L+=ht}r.closePath(),y=d,b=p}}},n.prototype.clone=function(){var r=new n,e=this.data;return r.data=e.slice?e.slice():Array.prototype.slice.call(e),r._len=this._len,r},n.prototype.canSave=function(){return!!this._saveData},n.CMD=Nn,n.initDefaultProps=function(){var r=n.prototype;r._saveData=!0,r._ux=0,r._uy=0,r._pendingPtDist=0,r._version=0}(),n}(),xs=x0;function ws(n,r,e,o,l,c,f){if(l===0)return!1;var d=l,p=0,y=n;if(f>r+d&&f>o+d||f<r-d&&f<o-d||c>n+d&&c>e+d||c<n-d&&c<e-d)return!1;if(n!==e)p=(r-o)/(n-e),y=(n*o-e*r)/(n-e);else return Math.abs(c-n)<=d/2;var b=p*c-f+y,x=b*b/(p*p+1);return x<=d/2*d/2}function w0(n,r,e,o,l,c,f,d,p,y,b){if(p===0)return!1;var x=p;if(b>r+x&&b>o+x&&b>c+x&&b>d+x||b<r-x&&b<o-x&&b<c-x&&b<d-x||y>n+x&&y>e+x&&y>l+x&&y>f+x||y<n-x&&y<e-x&&y<l-x&&y<f-x)return!1;var S=A9(n,r,e,o,l,c,f,d,y,b,null);return S<=x/2}function Vl(n,r,e,o,l,c,f,d,p){if(f===0)return!1;var y=f;if(p>r+y&&p>o+y&&p>c+y||p<r-y&&p<o-y&&p<c-y||d>n+y&&d>e+y&&d>l+y||d<n-y&&d<e-y&&d<l-y)return!1;var b=P9(n,r,e,o,l,c,d,p,null);return b<=y/2}var KR=Math.PI*2;function Ss(n){return n%=KR,n<0&&(n+=KR),n}var S0=Math.PI*2;function xW(n,r,e,o,l,c,f,d,p){if(f===0)return!1;var y=f;d-=n,p-=r;var b=Math.sqrt(d*d+p*p);if(b-y>e||b+y<e)return!1;if(Math.abs(o-l)%S0<1e-4)return!0;if(c){var x=o;o=Ss(l),l=Ss(x)}else o=Ss(o),l=Ss(l);o>l&&(l+=S0);var S=Math.atan2(p,d);return S<0&&(S+=S0),S>=o&&S<=l||S+S0>=o&&S+S0<=l}function Ac(n,r,e,o,l,c){if(c>r&&c>o||c<r&&c<o||o===r)return 0;var f=(c-r)/(o-r),d=o<r?1:-1;(f===1||f===0)&&(d=o<r?.5:-.5);var p=f*(e-n)+n;return p===l?1/0:p>l?d:0}var $f=xs.CMD,Id=Math.PI*2,QR=1e-4;function JR(n,r){return Math.abs(n-r)<QR}var Io=[-1,-1,-1],Qs=[-1,-1];function tN(){var n=Qs[0];Qs[0]=Qs[1],Qs[1]=n}function U_(n,r,e,o,l,c,f,d,p,y){if(y>r&&y>o&&y>c&&y>d||y<r&&y<o&&y<c&&y<d)return 0;var b=UT(r,o,c,d,y,Io);if(b===0)return 0;for(var x=0,S=-1,T=void 0,A=void 0,E=0;E<b;E++){var L=Io[E],I=L===0||L===1?.5:1,N=Wa(n,e,l,f,L);N<p||(S<0&&(S=O9(r,o,c,d,Qs),Qs[1]<Qs[0]&&S>1&&tN(),T=Wa(r,o,c,d,Qs[0]),S>1&&(A=Wa(r,o,c,d,Qs[1]))),S===2?L<Qs[0]?x+=T<r?I:-I:L<Qs[1]?x+=A<T?I:-I:x+=d<A?I:-I:L<Qs[0]?x+=T<r?I:-I:x+=d<T?I:-I)}return x}function eN(n,r,e,o,l,c,f,d){if(d>r&&d>o&&d>c||d<r&&d<o&&d<c)return 0;var p=Qet(r,o,c,d,Io);if(p===0)return 0;var y=C9(r,o,c);if(y>=0&&y<=1){for(var b=0,x=io(r,o,c,y),S=0;S<p;S++){var T=Io[S]===0||Io[S]===1?.5:1,A=io(n,e,l,Io[S]);A<f||(Io[S]<y?b+=x<r?T:-T:b+=c<x?T:-T)}return b}else{var T=Io[0]===0||Io[0]===1?.5:1,A=io(n,e,l,Io[0]);return A<f?0:c<r?T:-T}}function X_(n,r,e,o,l,c,f,d){if(d-=r,d>e||d<-e)return 0;var p=Math.sqrt(e*e-d*d);Io[0]=-p,Io[1]=p;var y=Math.abs(o-l);if(y<1e-4)return 0;if(y>=Id-1e-4){o=0,l=Id;var b=c?1:-1;return f>=Io[0]+n&&f<=Io[1]+n?b:0}if(o>l){var x=o;o=l,l=x}o<0&&(o+=Id,l+=Id);for(var S=0,T=0;T<2;T++){var A=Io[T];if(A+n>f){var E=Math.atan2(d,A),b=c?1:-1;E<0&&(E=Id+E),(E>=o&&E<=l||E+Id>=o&&E+Id<=l)&&(E>Math.PI/2&&E<Math.PI*1.5&&(b=-b),S+=b)}}return S}function rN(n,r,e,o,l){for(var c=n.data,f=n.len(),d=0,p=0,y=0,b=0,x=0,S,T,A=0;A<f;){var E=c[A++],L=A===1;switch(E===$f.M&&A>1&&(e||(d+=Ac(p,y,b,x,o,l))),L&&(p=c[A],y=c[A+1],b=p,x=y),E){case $f.M:b=c[A++],x=c[A++],p=b,y=x;break;case $f.L:if(e){if(ws(p,y,c[A],c[A+1],r,o,l))return!0}else d+=Ac(p,y,c[A],c[A+1],o,l)||0;p=c[A++],y=c[A++];break;case $f.C:if(e){if(w0(p,y,c[A++],c[A++],c[A++],c[A++],c[A],c[A+1],r,o,l))return!0}else d+=U_(p,y,c[A++],c[A++],c[A++],c[A++],c[A],c[A+1],o,l)||0;p=c[A++],y=c[A++];break;case $f.Q:if(e){if(Vl(p,y,c[A++],c[A++],c[A],c[A+1],r,o,l))return!0}else d+=eN(p,y,c[A++],c[A++],c[A],c[A+1],o,l)||0;p=c[A++],y=c[A++];break;case $f.A:var I=c[A++],N=c[A++],F=c[A++],W=c[A++],X=c[A++],$=c[A++];A+=1;var K=!!(1-c[A++]);S=Math.cos(X)*F+I,T=Math.sin(X)*W+N,L?(b=S,x=T):d+=Ac(p,y,S,T,o,l);var et=(o-I)*W/F+I;if(e){if(xW(I,N,W,X,X+$,K,r,et,l))return!0}else d+=X_(I,N,W,X,X+$,K,et,l);p=Math.cos(X+$)*F+I,y=Math.sin(X+$)*W+N;break;case $f.R:b=p=c[A++],x=y=c[A++];var at=c[A++],ot=c[A++];if(S=b+at,T=x+ot,e){if(ws(b,x,S,x,r,o,l)||ws(S,x,S,T,r,o,l)||ws(S,T,b,T,r,o,l)||ws(b,T,b,x,r,o,l))return!0}else d+=Ac(S,x,S,T,o,l),d+=Ac(b,T,b,x,o,l);break;case $f.Z:if(e){if(ws(p,y,b,x,r,o,l))return!0}else d+=Ac(p,y,b,x,o,l);p=b,y=x;break}}return!e&&!JR(y,x)&&(d+=Ac(p,y,b,x,o,l)||0),d!==0}function wW(n,r,e){return rN(n,0,!1,r,e)}function Ko(n,r,e,o){return rN(n,r,!0,e,o)}var M0=je({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Zs),SW={style:je({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},j_.style)},$_=Pu.concat(["invisible","culling","z","z2","zlevel","parent"]),q_=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.update=function(){var e=this;n.prototype.update.call(this);var o=this.style;if(o.decal){var l=this._decalEl=this._decalEl||new r;l.buildPath===r.prototype.buildPath&&(l.buildPath=function(p){e.buildPath(p,e.shape)}),l.silent=!0;var c=l.style;for(var f in o)c[f]!==o[f]&&(c[f]=o[f]);c.fill=o.fill?o.decal:null,c.decal=null,c.shadowColor=null,o.strokeFirst&&(c.stroke=null);for(var d=0;d<$_.length;++d)l[$_[d]]=this[$_[d]];l.__dirty|=gs}else this._decalEl&&(this._decalEl=null)},r.prototype.getDecalElement=function(){return this._decalEl},r.prototype._init=function(e){var o=vr(e);this.shape=this.getDefaultShape();var l=this.getDefaultStyle();l&&this.useStyle(l);for(var c=0;c<o.length;c++){var f=o[c],d=e[f];f==="style"?this.style?Wt(this.style,d):this.useStyle(d):f==="shape"?Wt(this.shape,d):n.prototype.attrKV.call(this,f,d)}this.style||this.useStyle({})},r.prototype.getDefaultStyle=function(){return null},r.prototype.getDefaultShape=function(){return{}},r.prototype.canBeInsideText=function(){return this.hasFill()},r.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(oe(e)){var o=xd(e,0);return o>.5?lO:o>.2?Y9:uO}else if(e)return uO}return lO},r.prototype.getInsideTextStroke=function(e){var o=this.style.fill;if(oe(o)){var l=this.__zr,c=!!(l&&l.isDarkMode()),f=xd(e,0)<sO;if(c===f)return o}},r.prototype.buildPath=function(e,o,l){},r.prototype.pathUpdated=function(){this.__dirty&=~_p},r.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},r.prototype.createPathProxy=function(){this.path=new xs(!1)},r.prototype.hasStroke=function(){var e=this.style,o=e.stroke;return!(o==null||o==="none"||!(e.lineWidth>0))},r.prototype.hasFill=function(){var e=this.style,o=e.fill;return o!=null&&o!=="none"},r.prototype.getBoundingRect=function(){var e=this._rect,o=this.style,l=!e;if(l){var c=!1;this.path||(c=!0,this.createPathProxy());var f=this.path;(c||this.__dirty&_p)&&(f.beginPath(),this.buildPath(f,this.shape,!1),this.pathUpdated()),e=f.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var d=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||l){d.copy(e);var p=o.strokeNoScale?this.getLineScale():1,y=o.lineWidth;if(!this.hasFill()){var b=this.strokeContainThreshold;y=Math.max(y,b==null?4:b)}p>1e-10&&(d.width+=y/p,d.height+=y/p,d.x-=y/p/2,d.y-=y/p/2)}return d}return e},r.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),c=this.getBoundingRect(),f=this.style;if(e=l[0],o=l[1],c.contain(e,o)){var d=this.path;if(this.hasStroke()){var p=f.lineWidth,y=f.strokeNoScale?this.getLineScale():1;if(y>1e-10&&(this.hasFill()||(p=Math.max(p,this.strokeContainThreshold)),Ko(d,p/y,e,o)))return!0}if(this.hasFill())return wW(d,e,o)}return!1},r.prototype.dirtyShape=function(){this.__dirty|=_p,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},r.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},r.prototype.animateShape=function(e){return this.animate("shape",e)},r.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},r.prototype.attrKV=function(e,o){e==="shape"?this.setShape(o):n.prototype.attrKV.call(this,e,o)},r.prototype.setShape=function(e,o){var l=this.shape;return l||(l=this.shape={}),typeof e=="string"?l[e]=o:Wt(l,e),this.dirtyShape(),this},r.prototype.shapeChanged=function(){return!!(this.__dirty&_p)},r.prototype.createStyle=function(e){return dt(M0,e)},r.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var o=this._normalState;e.shape&&!o.shape&&(o.shape=Wt({},this.shape))},r.prototype._applyStateObj=function(e,o,l,c,f,d){n.prototype._applyStateObj.call(this,e,o,l,c,f,d);var p=!(o&&c),y;if(o&&o.shape?f?c?y=o.shape:(y=Wt({},l.shape),Wt(y,o.shape)):(y=Wt({},c?this.shape:l.shape),Wt(y,o.shape)):p&&(y=l.shape),y)if(f){this.shape=Wt({},this.shape);for(var b={},x=vr(y),S=0;S<x.length;S++){var T=x[S];typeof y[T]=="object"?this.shape[T]=y[T]:b[T]=y[T]}this._transitionState(e,{shape:b},d)}else this.shape=y,this.dirtyShape()},r.prototype._mergeStates=function(e){for(var o=n.prototype._mergeStates.call(this,e),l,c=0;c<e.length;c++){var f=e[c];f.shape&&(l=l||{},this._mergeStyle(l,f.shape))}return l&&(o.shape=l),o},r.prototype.getAnimationStyleProps=function(){return SW},r.prototype.isZeroArea=function(){return!1},r.extend=function(e){var o=function(c){Tt(f,c);function f(d){var p=c.call(this,d)||this;return e.init&&e.init.call(p,d),p}return f.prototype.getDefaultStyle=function(){return Ne(e.style)},f.prototype.getDefaultShape=function(){return Ne(e.shape)},f}(r);for(var l in e)typeof e[l]=="function"&&(o.prototype[l]=e[l]);return o},r.initDefaultProps=function(){var e=r.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=gs|bp|_p}(),r}(Fi),Sr=q_,Rd=je({strokeFirst:!0,font:Vt,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},M0),IO=function(n){Tt(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.hasStroke=function(){return Pd(this.style)},r.prototype.hasFill=function(){var e=this.style,o=e.fill;return o!=null&&o!=="none"},r.prototype.createStyle=function(e){return dt(Rd,e)},r.prototype.setBoundingRect=function(e){this._rect=e},r.prototype.getBoundingRect=function(){return this._rect||(this._rect=bW(this.style)),this._rect},r.initDefaultProps=function(){var e=r.prototype;e.dirtyRectTolerance=10}(),r}(Fi);IO.prototype.type="tspan";var Ep=IO,MW=je({x:0,y:0},Zs),Gl={style:je({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},j_.style)};function nN(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var T0=function(n){Tt(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.createStyle=function(e){return dt(MW,e)},r.prototype._getSize=function(e){var o=this.style,l=o[e];if(l!=null)return l;var c=nN(o.image)?o.image:this.__image;if(!c)return 0;var f=e==="width"?"height":"width",d=o[f];return d==null?c[e]:c[e]/c[f]*d},r.prototype.getWidth=function(){return this._getSize("width")},r.prototype.getHeight=function(){return this._getSize("height")},r.prototype.getAnimationStyleProps=function(){return Gl},r.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Je(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},r}(Fi);T0.prototype.type="image";var ka=T0;function va(n,r){var e=r.x,o=r.y,l=r.width,c=r.height,f=r.r,d,p,y,b;l<0&&(e=e+l,l=-l),c<0&&(o=o+c,c=-c),typeof f=="number"?d=p=y=b=f:f instanceof Array?f.length===1?d=p=y=b=f[0]:f.length===2?(d=y=f[0],p=b=f[1]):f.length===3?(d=f[0],p=b=f[1],y=f[2]):(d=f[0],p=f[1],y=f[2],b=f[3]):d=p=y=b=0;var x;d+p>l&&(x=d+p,d*=l/x,p*=l/x),y+b>l&&(x=y+b,y*=l/x,b*=l/x),p+y>c&&(x=p+y,p*=c/x,y*=c/x),d+b>c&&(x=d+b,d*=c/x,b*=c/x),n.moveTo(e+d,o),n.lineTo(e+l-p,o),p!==0&&n.arc(e+l-p,o+p,p,-Math.PI/2,0),n.lineTo(e+l,o+c-y),y!==0&&n.arc(e+l-y,o+c-y,y,0,Math.PI/2),n.lineTo(e+b,o+c),b!==0&&n.arc(e+b,o+c-b,b,Math.PI/2,Math.PI),n.lineTo(e,o+d),d!==0&&n.arc(e+d,o+d,d,Math.PI,Math.PI*1.5)}var we=Math.round;function Qo(n,r,e){if(r){var o=r.x1,l=r.x2,c=r.y1,f=r.y2;n.x1=o,n.x2=l,n.y1=c,n.y2=f;var d=e&&e.lineWidth;return d&&(we(o*2)===we(l*2)&&(n.x1=n.x2=Ms(o,d,!0)),we(c*2)===we(f*2)&&(n.y1=n.y2=Ms(c,d,!0))),n}}function iN(n,r,e){if(r){var o=r.x,l=r.y,c=r.width,f=r.height;n.x=o,n.y=l,n.width=c,n.height=f;var d=e&&e.lineWidth;return d&&(n.x=Ms(o,d,!0),n.y=Ms(l,d,!0),n.width=Math.max(Ms(o+c,d,!1)-n.x,c===0?0:1),n.height=Math.max(Ms(l+f,d,!1)-n.y,f===0?0:1)),n}}function Ms(n,r,e){if(!r)return n;var o=we(n*2);return(o+we(r))%2===0?o/2:(o+(e?1:-1))/2}var TW=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),kp={},aN=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new TW},r.prototype.buildPath=function(e,o){var l,c,f,d;if(this.subPixelOptimize){var p=iN(kp,o,this.style);l=p.x,c=p.y,f=p.width,d=p.height,p.r=o.r,o=p}else l=o.x,c=o.y,f=o.width,d=o.height;o.r?va(e,o):e.rect(l,c,f,d)},r.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},r}(Sr);aN.prototype.type="rect";var kr=aN,oN={fill:"#000"},sN=2,Wl={},RO={style:je({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},j_.style)},O0=function(n){Tt(r,n);function r(e){var o=n.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=oN,o.attr(e),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var o=this._children[e];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},r.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},r.prototype.getLocalTransform=function(e){var o=this.innerTransformable;return o?o.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},r.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},r.prototype._updateSubTexts=function(){this._childCursor=0,Zn(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},r.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=e},r.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},r.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Je(0,0,0,0),o=this._children,l=[],c=null,f=0;f<o.length;f++){var d=o[f],p=d.getBoundingRect(),y=d.getLocalTransform(l);y?(e.copy(p),e.applyTransform(y),c=c||e.clone(),c.union(e)):(c=c||p.clone(),c.union(p))}this._rect=c||e}return this._rect},r.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||oN},r.prototype.setTextContent=function(e){},r.prototype._mergeStyle=function(e,o){if(!o)return e;var l=o.rich,c=e.rich||l&&{};return Wt(e,o),l&&c?(this._mergeRich(c,l),e.rich=c):c&&(e.rich=c),e},r.prototype._mergeRich=function(e,o){for(var l=vr(o),c=0;c<l.length;c++){var f=l[c];e[f]=e[f]||{},Wt(e[f],o[f])}},r.prototype.getAnimationStyleProps=function(){return RO},r.prototype._getOrCreateChild=function(e){var o=this._children[this._childCursor];return(!o||!(o instanceof e))&&(o=new e),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},r.prototype._updatePlainTexts=function(){var e=this.style,o=e.font||Vt,l=e.padding,c=this._defaultStyle,f=e.x||0,d=e.y||0,p=e.align||c.align||"left",y=e.verticalAlign||c.verticalAlign||"top";F_(Wl,c.overflowRect,f,d,p,y),f=Wl.baseX,d=Wl.baseY;var b=uN(e),x=pW(b,e,Wl.outerWidth,Wl.outerHeight),S=BO(e),T=!!e.backgroundColor,A=x.outerHeight,E=x.outerWidth,L=x.lines,I=x.lineHeight;this.isTruncated=!!x.isTruncated;var N=f,F=Sd(d,x.contentHeight,y);if(S||l){var W=Sp(f,E,p),X=Sd(d,A,y);S&&this._renderBackground(e,e,W,X,E,A)}F+=I/2,l&&(N=NO(f,p,l),y==="top"?F+=l[0]:y==="bottom"&&(F-=l[2]));for(var $=0,K=!1,et=!1,at=K_("fill"in e?e.fill:(et=!0,c.fill)),ot=Zf("stroke"in e?e.stroke:!T&&(!c.autoStroke||et)?($=sN,K=!0,c.stroke):null),ht=e.textShadowBlur>0,yt=0;yt<L.length;yt++){var vt=this._getOrCreateChild(Ep),bt=vt.createStyle();vt.useStyle(bt),bt.text=L[yt],bt.x=N,bt.y=F,p&&(bt.textAlign=p),bt.textBaseline="middle",bt.opacity=e.opacity,bt.strokeFirst=!0,ht&&(bt.shadowBlur=e.textShadowBlur||0,bt.shadowColor=e.textShadowColor||"transparent",bt.shadowOffsetX=e.textShadowOffsetX||0,bt.shadowOffsetY=e.textShadowOffsetY||0),bt.stroke=ot,bt.fill=at,ot&&(bt.lineWidth=e.lineWidth||$,bt.lineDash=e.lineDash,bt.lineDashOffset=e.lineDashOffset||0),bt.font=o,lN(bt,e),F+=I,vt.setBoundingRect(Ea(bt,x.contentWidth,x.calculatedLineHeight,K?0:null))}},r.prototype._updateRichTexts=function(){var e=this.style,o=this._defaultStyle,l=e.align||o.align,c=e.verticalAlign||o.verticalAlign,f=e.x||0,d=e.y||0;F_(Wl,o.overflowRect,f,d,l,c),f=Wl.baseX,d=Wl.baseY;var p=uN(e),y=gW(p,e,Wl.outerWidth,Wl.outerHeight,l),b=y.width,x=y.outerWidth,S=y.outerHeight,T=e.padding;this.isTruncated=!!y.isTruncated;var A=Sp(f,x,l),E=Sd(d,S,c),L=A,I=E;T&&(L+=T[3],I+=T[0]);var N=L+b;BO(e)&&this._renderBackground(e,e,A,E,x,S);for(var F=!!e.backgroundColor,W=0;W<y.lines.length;W++){for(var X=y.lines[W],$=X.tokens,K=$.length,et=X.lineHeight,at=X.width,ot=0,ht=L,yt=N,vt=K-1,bt=void 0;ot<K&&(bt=$[ot],!bt.align||bt.align==="left");)this._placeToken(bt,e,et,I,ht,"left",F),at-=bt.width,ht+=bt.width,ot++;for(;vt>=0&&(bt=$[vt],bt.align==="right");)this._placeToken(bt,e,et,I,yt,"right",F),at-=bt.width,yt-=bt.width,vt--;for(ht+=(b-(ht-L)-(N-yt)-at)/2;ot<=vt;)bt=$[ot],this._placeToken(bt,e,et,I,ht+bt.width/2,"center",F),ht+=bt.width,ot++;I+=et}},r.prototype._placeToken=function(e,o,l,c,f,d,p){var y=o.rich[e.styleName]||{};y.text=e.text;var b=e.verticalAlign,x=c+l/2;b==="top"?x=c+e.height/2:b==="bottom"&&(x=c+l-e.height/2);var S=!e.isLineHolder&&BO(y);S&&this._renderBackground(y,o,d==="right"?f-e.width:d==="center"?f-e.width/2:f,x-e.height/2,e.width,e.height);var T=!!y.backgroundColor,A=e.textPadding;A&&(f=NO(f,d,A),x-=e.height/2-A[0]-e.innerHeight/2);var E=this._getOrCreateChild(Ep),L=E.createStyle();E.useStyle(L);var I=this._defaultStyle,N=!1,F=0,W=!1,X=K_("fill"in y?y.fill:"fill"in o?o.fill:(N=!0,I.fill)),$=Zf("stroke"in y?y.stroke:"stroke"in o?o.stroke:!T&&!p&&(!I.autoStroke||N)?(F=sN,W=!0,I.stroke):null),K=y.textShadowBlur>0||o.textShadowBlur>0;L.text=e.text,L.x=f,L.y=x,K&&(L.shadowBlur=y.textShadowBlur||o.textShadowBlur||0,L.shadowColor=y.textShadowColor||o.textShadowColor||"transparent",L.shadowOffsetX=y.textShadowOffsetX||o.textShadowOffsetX||0,L.shadowOffsetY=y.textShadowOffsetY||o.textShadowOffsetY||0),L.textAlign=d,L.textBaseline="middle",L.font=e.font||Vt,L.opacity=Ui(y.opacity,o.opacity,1),lN(L,y),$&&(L.lineWidth=Ui(y.lineWidth,o.lineWidth,F),L.lineDash=fe(y.lineDash,o.lineDash),L.lineDashOffset=o.lineDashOffset||0,L.stroke=$),X&&(L.fill=X),E.setBoundingRect(Ea(L,e.contentWidth,e.contentHeight,W?0:null))},r.prototype._renderBackground=function(e,o,l,c,f,d){var p=e.backgroundColor,y=e.borderWidth,b=e.borderColor,x=p&&p.image,S=p&&!x,T=e.borderRadius,A=this,E,L;if(S||e.lineHeight||y&&b){E=this._getOrCreateChild(kr),E.useStyle(E.createStyle()),E.style.fill=null;var I=E.shape;I.x=l,I.y=c,I.width=f,I.height=d,I.r=T,E.dirtyShape()}if(S){var N=E.style;N.fill=p||null,N.fillOpacity=fe(e.fillOpacity,1)}else if(x){L=this._getOrCreateChild(ka),L.onload=function(){A.dirtyStyle()};var F=L.style;F.image=p.image,F.x=l,F.y=c,F.width=f,F.height=d}if(y&&b){var N=E.style;N.lineWidth=y,N.stroke=b,N.strokeOpacity=fe(e.strokeOpacity,1),N.lineDash=e.borderDash,N.lineDashOffset=e.borderDashOffset||0,E.strokeContainThreshold=0,E.hasFill()&&E.hasStroke()&&(N.strokeFirst=!0,N.lineWidth*=2)}var W=(E||L).style;W.shadowBlur=e.shadowBlur||0,W.shadowColor=e.shadowColor||"transparent",W.shadowOffsetX=e.shadowOffsetX||0,W.shadowOffsetY=e.shadowOffsetY||0,W.opacity=Ui(e.opacity,o.opacity,1)},r.makeFont=function(e){var o="";return Z_(e)&&(o=[e.fontStyle,e.fontWeight,Ts(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),o&&Xo(o)||e.textFont||e.font},r}(Fi),OW={left:!0,right:1,center:1},qf={top:1,bottom:1,middle:1},A0=["fontStyle","fontWeight","fontSize","fontFamily"];function Ts(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?Ti+"px":n+"px"}function lN(n,r){for(var e=0;e<A0.length;e++){var o=A0[e],l=r[o];l!=null&&(n[o]=l)}}function Z_(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function Zn(n){return Js(n),it(n.rich,Js),n}function Js(n){if(n){n.font=O0.makeFont(n);var r=n.align;r==="middle"&&(r="center"),n.align=r==null||OW[r]?r:"left";var e=n.verticalAlign;e==="center"&&(e="middle"),n.verticalAlign=e==null||qf[e]?e:"top";var o=n.padding;o&&(n.padding=_u(n.padding))}}function Zf(n,r){return n==null||r<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function K_(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function NO(n,r,e){return r==="right"?n-e[1]:r==="center"?n+e[3]/2-e[1]/2:n+e[3]}function uN(n){var r=n.text;return r!=null&&(r+=""),r}function BO(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Hr=O0,nr=br(),Q_=function(n,r,e,o){if(o){var l=nr(o);l.dataIndex=e,l.dataType=r,l.seriesIndex=n,l.ssrType="chart",o.type==="group"&&o.traverse(function(c){var f=nr(c);f.seriesIndex=n,f.dataIndex=e,f.dataType=r,f.ssrType="chart"})}},zO=1,cN={},_i=br(),FO=br(),jO=0,C0=1,J_=2,Ro=["emphasis","blur","select"],P0=["normal","emphasis","blur","select"],Lp=10,fN=9,Nd="highlight",tx="downplay",ex="select",VO="unselect",rx="toggleSelect",GO="selectchanged";function Dp(n){return n!=null&&n!=="none"}function WO(n,r,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(r),n.hoverState=e}function Kf(n){WO(n,"emphasis",J_)}function E0(n){n.hoverState===J_&&WO(n,"normal",jO)}function Nu(n){WO(n,"blur",C0)}function hN(n){n.hoverState===C0&&WO(n,"normal",jO)}function k0(n){n.selected=!0}function dN(n){n.selected=!1}function vN(n,r,e){r(n,e)}function Cc(n,r,e){vN(n,r,e),n.isGroup&&n.traverse(function(o){vN(o,r,e)})}function L0(n,r){switch(r){case"emphasis":n.hoverState=J_;break;case"normal":n.hoverState=jO;break;case"blur":n.hoverState=C0;break;case"select":n.selected=!0}}function pN(n){n.isGroup?n.traverse(function(r){r.clearStates()}):n.clearStates()}function gN(n,r,e,o){for(var l=n.style,c={},f=0;f<r.length;f++){var d=r[f],p=l[d];c[d]=p==null?o&&o[d]:p}for(var f=0;f<n.animators.length;f++){var y=n.animators[f];y.__fromStateTransition&&y.__fromStateTransition.indexOf(e)<0&&y.targetName==="style"&&y.saveTo(c,r)}return c}function AW(n,r,e,o){var l=e&&Xe(e,"select")>=0,c=!1;if(n instanceof Sr){var f=_i(n),d=l&&f.selectFill||f.normalFill,p=l&&f.selectStroke||f.normalStroke;if(Dp(d)||Dp(p)){o=o||{};var y=o.style||{};y.fill==="inherit"?(c=!0,o=Wt({},o),y=Wt({},y),y.fill=d):!Dp(y.fill)&&Dp(d)?(c=!0,o=Wt({},o),y=Wt({},y),y.fill=KT(d)):!Dp(y.stroke)&&Dp(p)&&(c||(o=Wt({},o),y=Wt({},y)),y.stroke=KT(p)),o.style=y}}if(o&&o.z2==null){c||(o=Wt({},o));var b=n.z2EmphasisLift;o.z2=n.z2+(b!=null?b:Lp)}return o}function CW(n,r,e){if(e&&e.z2==null){e=Wt({},e);var o=n.z2SelectLift;e.z2=n.z2+(o!=null?o:fN)}return e}function Jo(n,r,e){var o=Xe(n.currentStates,r)>=0,l=n.style.opacity,c=o?null:gN(n,["opacity"],r,{opacity:1});e=e||{};var f=e.style||{};return f.opacity==null&&(e=Wt({},e),f=Wt({opacity:o?l:c.opacity*.1},f),e.style=f),e}function nx(n,r){var e=this.states[n];if(this.style){if(n==="emphasis")return AW(this,n,r,e);if(n==="blur")return Jo(this,n,e);if(n==="select")return CW(this,n,e)}return e}function La(n){n.stateProxy=nx;var r=n.getTextContent(),e=n.getTextGuideLine();r&&(r.stateProxy=nx),e&&(e.stateProxy=nx)}function yN(n,r){!YO(n,r)&&!n.__highByOuter&&Cc(n,Kf)}function mN(n,r){!YO(n,r)&&!n.__highByOuter&&Cc(n,E0)}function Pc(n,r){n.__highByOuter|=1<<(r||0),Cc(n,Kf)}function Bu(n,r){!(n.__highByOuter&=~(1<<(r||0)))&&Cc(n,E0)}function HO(n){Cc(n,Nu)}function D0(n){Cc(n,hN)}function ix(n){Cc(n,k0)}function ax(n){Cc(n,dN)}function YO(n,r){return n.__highDownSilentOnTouch&&r.zrByTouch}function ox(n){var r=n.getModel(),e=[],o=[];r.eachComponent(function(l,c){var f=FO(c),d=l==="series",p=d?n.getViewOfSeriesModel(c):n.getViewOfComponentModel(c);!d&&o.push(p),f.isBlured&&(p.group.traverse(function(y){hN(y)}),d&&e.push(c)),f.isBlured=!1}),it(o,function(l){l&&l.toggleBlurSeries&&l.toggleBlurSeries(e,!1,r)})}function UO(n,r,e,o){var l=o.getModel();e=e||"coordinateSystem";function c(y,b){for(var x=0;x<b.length;x++){var S=y.getItemGraphicEl(b[x]);S&&D0(S)}}if(n!=null&&!(!r||r==="none")){var f=l.getSeriesByIndex(n),d=f.coordinateSystem;d&&d.master&&(d=d.master);var p=[];l.eachSeries(function(y){var b=f===y,x=y.coordinateSystem;x&&x.master&&(x=x.master);var S=x&&d?x===d:b;if(!(e==="series"&&!b||e==="coordinateSystem"&&!S||r==="series"&&b)){var T=o.getViewOfSeriesModel(y);if(T.group.traverse(function(L){L.__highByOuter&&b&&r==="self"||Nu(L)}),vi(r))c(y.getData(),r);else if(ce(r))for(var A=vr(r),E=0;E<A.length;E++)c(y.getData(A[E]),r[A[E]]);p.push(y),FO(y).isBlured=!0}}),l.eachComponent(function(y,b){if(y!=="series"){var x=o.getViewOfComponentModel(b);x&&x.toggleBlurSeries&&x.toggleBlurSeries(p,!0,l)}})}}function XO(n,r,e){if(!(n==null||r==null)){var o=e.getModel().getComponent(n,r);if(o){FO(o).isBlured=!0;var l=e.getViewOfComponentModel(o);!l||!l.focusBlurEnabled||l.group.traverse(function(c){Nu(c)})}}}function PW(n,r,e){var o=n.seriesIndex,l=n.getData(r.dataType);if(l){var c=Op(l,r);c=(Ut(c)?c[0]:c)||0;var f=l.getItemGraphicEl(c);if(!f)for(var d=l.count(),p=0;!f&&p<d;)f=l.getItemGraphicEl(p++);if(f){var y=nr(f);UO(o,y.focus,y.blurScope,e)}else{var b=n.get(["emphasis","focus"]),x=n.get(["emphasis","blurScope"]);b!=null&&UO(o,b,x,e)}}}function $O(n,r,e,o){var l={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||r==null||e==null)return l;var c=o.getModel().getComponent(n,r);if(!c)return l;var f=o.getViewOfComponentModel(c);if(!f||!f.findHighDownDispatchers)return l;for(var d=f.findHighDownDispatchers(e),p,y=0;y<d.length;y++)if(nr(d[y]).focus==="self"){p=!0;break}return{focusSelf:p,dispatchers:d}}function sx(n,r,e){var o=nr(n),l=$O(o.componentMainType,o.componentIndex,o.componentHighDownName,e),c=l.dispatchers,f=l.focusSelf;c?(f&&XO(o.componentMainType,o.componentIndex,e),it(c,function(d){return yN(d,r)})):(UO(o.seriesIndex,o.focus,o.blurScope,e),o.focus==="self"&&XO(o.componentMainType,o.componentIndex,e),yN(n,r))}function EW(n,r,e){ox(e);var o=nr(n),l=$O(o.componentMainType,o.componentIndex,o.componentHighDownName,e).dispatchers;l?it(l,function(c){return mN(c,r)}):mN(n,r)}function lx(n,r,e){if(ZO(r)){var o=r.dataType,l=n.getData(o),c=Op(l,r);Ut(c)||(c=[c]),n[r.type===rx?"toggleSelect":r.type===ex?"select":"unselect"](c,o)}}function qO(n){var r=n.getAllData();it(r,function(e){var o=e.data,l=e.type;o.eachItemGraphicEl(function(c,f){n.isSelected(f,l)?ix(c):ax(c)})})}function bN(n){var r=[];return n.eachSeries(function(e){var o=e.getAllData();it(o,function(l){var c=l.data,f=l.type,d=e.getSelectedDataIndices();if(d.length>0){var p={dataIndex:d,seriesIndex:e.seriesIndex};f!=null&&(p.dataType=f),r.push(p)}})}),r}function Qf(n,r,e){Bd(n,!0),Cc(n,La),Ip(n,r,e)}function kW(n){Bd(n,!1)}function ri(n,r,e,o){o?kW(n):Qf(n,r,e)}function Ip(n,r,e){var o=nr(n);r!=null?(o.focus=r,o.blurScope=e):o.focus&&(o.focus=null)}var ux=["emphasis","blur","select"],_N={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function pa(n,r,e,o){e=e||"itemStyle";for(var l=0;l<ux.length;l++){var c=ux[l],f=r.getModel([c,e]),d=n.ensureState(c);d.style=o?o(f):f[_N[e]]()}}function Bd(n,r){var e=r===!1,o=n;n.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!e||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!e)}function I0(n){return!!(n&&n.__highDownDispatcher)}function xN(n,r,e){var o=nr(n);o.componentMainType=r.mainType,o.componentIndex=r.componentIndex,o.componentHighDownName=e}function LW(n){var r=cN[n];return r==null&&zO<=32&&(r=cN[n]=zO++),r}function ZO(n){var r=n.type;return r===ex||r===VO||r===rx}function wN(n){var r=n.type;return r===Nd||r===tx}function Vrt(n){var r=_i(n);r.normalFill=n.style.fill,r.normalStroke=n.style.stroke;var e=n.states.select||{};r.selectFill=e.style&&e.style.fill||null,r.selectStroke=e.style&&e.style.stroke||null}var KO=br();function Rp(n,r,e,o,l){var c;if(r&&r.ecModel){var f=r.ecModel.getUpdatePayload();c=f&&f.animation}var d=r&&r.isAnimationEnabled(),p=n==="update";if(d){var y=void 0,b=void 0,x=void 0;o?(y=fe(o.duration,200),b=fe(o.easing,"cubicOut"),x=0):(y=r.getShallow(p?"animationDurationUpdate":"animationDuration"),b=r.getShallow(p?"animationEasingUpdate":"animationEasing"),x=r.getShallow(p?"animationDelayUpdate":"animationDelay")),c&&(c.duration!=null&&(y=c.duration),c.easing!=null&&(b=c.easing),c.delay!=null&&(x=c.delay)),ze(x)&&(x=x(e,l)),ze(y)&&(y=y(e));var S={duration:y||0,delay:x,easing:b};return S}else return null}function cx(n,r,e,o,l,c,f){var d=!1,p;ze(l)?(f=c,c=l,l=null):ce(l)&&(c=l.cb,f=l.during,d=l.isFrom,p=l.removeOpt,l=l.dataIndex);var y=n==="leave";y||r.stopAnimation("leave");var b=Rp(n,o,l,y?p||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(r,l):null);if(b&&b.duration>0){var x=b.duration,S=b.delay,T=b.easing,A={duration:x,delay:S||0,easing:T,done:c,force:!!c||!!f,setToFinal:!y,scope:n,during:f};d?r.animateFrom(e,A):r.animateTo(e,A)}else r.stopAnimation(),!d&&r.attr(e),f&&f(1),c&&c()}function Qr(n,r,e,o,l,c){cx("update",n,r,e,o,l,c)}function ni(n,r,e,o,l,c){cx("enter",n,r,e,o,l,c)}function Np(n){if(!n.__zr)return!0;for(var r=0;r<n.animators.length;r++){var e=n.animators[r];if(e.scope==="leave")return!0}return!1}function Vn(n,r,e,o,l,c){Np(n)||cx("leave",n,r,e,o,l,c)}function zd(n,r,e,o){n.removeTextContent(),n.removeTextGuideLine(),Vn(n,{style:{opacity:0}},r,e,o)}function Ki(n,r,e){function o(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(l){l.isGroup||zd(l,r,e,o)}):zd(n,r,e,o)}function Ha(n){KO(n).oldStyle=n.style}function R0(n){return KO(n).oldStyle}var N0={};function QO(n,r){for(var e=0;e<Ro.length;e++){var o=Ro[e],l=r[o],c=n.ensureState(o);c.style=c.style||{},c.style.text=l}var f=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:r.normal}),n.useStates(f,!0)}function JO(n,r,e){var o=n.labelFetcher,l=n.labelDataIndex,c=n.labelDimIndex,f=r.normal,d;o&&(d=o.getFormattedLabel(l,"normal",null,c,f&&f.get("formatter"),e!=null?{interpolatedValue:e}:null)),d==null&&(d=ze(n.defaultText)?n.defaultText(l,n,e):n.defaultText);for(var p={normal:d},y=0;y<Ro.length;y++){var b=Ro[y],x=r[b];p[b]=fe(o?o.getFormattedLabel(l,b,null,c,x&&x.get("formatter")):null,d)}return p}function Da(n,r,e,o){e=e||N0;for(var l=n instanceof Hr,c=!1,f=0;f<P0.length;f++){var d=r[P0[f]];if(d&&d.getShallow("show")){c=!0;break}}var p=l?n:n.getTextContent();if(c){l||(p||(p=new Hr,n.setTextContent(p)),n.stateProxy&&(p.stateProxy=n.stateProxy));var y=JO(e,r),b=r.normal,x=!!b.getShallow("show"),S=Gn(b,o&&o.normal,e,!1,!l);S.text=y.normal,l||n.setTextConfig(B0(b,e,!1));for(var f=0;f<Ro.length;f++){var T=Ro[f],d=r[T];if(d){var A=p.ensureState(T),E=!!fe(d.getShallow("show"),x);if(E!==x&&(A.ignore=!E),A.style=Gn(d,o&&o[T],e,!0,!l),A.style.text=y[T],!l){var L=n.ensureState(T);L.textConfig=B0(d,e,!0)}}}p.silent=!!b.getShallow("silent"),p.style.x!=null&&(S.x=p.style.x),p.style.y!=null&&(S.y=p.style.y),p.ignore=!x,p.useStyle(S),p.dirty(),e.enableTextSetter&&(Bp(p).setLabelText=function(I){var N=JO(e,r,I);QO(p,N)})}else p&&(p.ignore=!0);n.dirty()}function ga(n,r){r=r||"label";for(var e={normal:n.getModel(r)},o=0;o<Ro.length;o++){var l=Ro[o];e[l]=n.getModel([l,r])}return e}function Gn(n,r,e,o,l){var c={};return DW(c,n,e,o,l),r&&Wt(c,r),c}function B0(n,r,e){r=r||{};var o={},l,c=n.getShallow("rotate"),f=fe(n.getShallow("distance"),e?null:5),d=n.getShallow("offset");return l=n.getShallow("position")||(e?null:"inside"),l==="outside"&&(l=r.defaultOutsidePosition||"top"),l!=null&&(o.position=l),d!=null&&(o.offset=d),c!=null&&(c*=Math.PI/180,o.rotation=c),f!=null&&(o.distance=f),o.outsideFill=n.get("color")==="inherit"?r.inheritColor||null:"auto",r.autoOverflowArea!=null&&(o.autoOverflowArea=r.autoOverflowArea),r.layoutRect!=null&&(o.layoutRect=r.layoutRect),o}function DW(n,r,e,o,l){e=e||N0;var c=r.ecModel,f=c&&c.option.textStyle,d=IW(r),p;if(d){p={};var y="richInheritPlainLabel",b=fe(r.get(y),c?c.get(y):void 0);for(var x in d)if(d.hasOwnProperty(x)){var S=r.getModel(["rich",x]);hx(p[x]={},S,f,r,b,e,o,l,!1,!0)}}p&&(n.rich=p);var T=r.get("overflow");T&&(n.overflow=T);var A=r.get("lineOverflow");A&&(n.lineOverflow=A);var E=n,L=r.get("minMargin");if(L!=null)L=qe(L)?L/2:0,E.margin=[L,L,L,L],E.__marginType=Fd.minMargin;else{var I=r.get("textMargin");I!=null&&(E.margin=_u(I),E.__marginType=Fd.textMargin)}hx(n,r,f,null,null,e,o,l,!0,!1)}function IW(n){for(var r;n&&n!==n.ecModel;){var e=(n.option||N0).rich;if(e){r=r||{};for(var o=vr(e),l=0;l<o.length;l++){var c=o[l];r[c]=1}}n=n.parentModel}return r}var fx=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],SN=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],MN=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function hx(n,r,e,o,l,c,f,d,p,y){e=!f&&e||N0;var b=c&&c.inheritColor,x=r.getShallow("color"),S=r.getShallow("textBorderColor"),T=fe(r.getShallow("opacity"),e.opacity);(x==="inherit"||x==="auto")&&(b?x=b:x=null),(S==="inherit"||S==="auto")&&(b?S=b:S=null),d||(x=x||e.color,S=S||e.textBorderColor),x!=null&&(n.fill=x),S!=null&&(n.stroke=S);var A=fe(r.getShallow("textBorderWidth"),e.textBorderWidth);A!=null&&(n.lineWidth=A);var E=fe(r.getShallow("textBorderType"),e.textBorderType);E!=null&&(n.lineDash=E);var L=fe(r.getShallow("textBorderDashOffset"),e.textBorderDashOffset);L!=null&&(n.lineDashOffset=L),!f&&T==null&&!y&&(T=c&&c.defaultOpacity),T!=null&&(n.opacity=T),!f&&!d&&n.fill==null&&c.inheritColor&&(n.fill=c.inheritColor);for(var I=0;I<fx.length;I++){var N=fx[I],F=l!==!1&&o?Ui(r.getShallow(N),o.getShallow(N),e[N]):fe(r.getShallow(N),e[N]);F!=null&&(n[N]=F)}for(var I=0;I<SN.length;I++){var N=SN[I],F=r.getShallow(N);F!=null&&(n[N]=F)}if(n.verticalAlign==null){var W=r.getShallow("baseline");W!=null&&(n.verticalAlign=W)}if(!p||!c.disableBox){for(var I=0;I<MN.length;I++){var N=MN[I],F=r.getShallow(N);F!=null&&(n[N]=F)}var X=r.getShallow("borderType");X!=null&&(n.borderDash=X),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&b&&(n.backgroundColor=b),(n.borderColor==="auto"||n.borderColor==="inherit")&&b&&(n.borderColor=b)}}function z0(n,r){var e=r&&r.getModel("textStyle");return Xo([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Bp=br();function TN(n,r,e,o){if(n){var l=Bp(n);l.prevValue=l.value,l.value=e;var c=r.normal;l.valueAnimation=c.get("valueAnimation"),l.valueAnimation&&(l.precision=c.get("precision"),l.defaultInterpolatedText=o,l.statesModels=r)}}function ON(n,r,e,o,l){var c=Bp(n);if(!c.valueAnimation||c.prevValue===c.value)return;var f=c.defaultInterpolatedText,d=fe(c.interpolatedValue,c.prevValue),p=c.value;function y(b){var x=OO(e,c.precision,d,p,b);c.interpolatedValue=b===1?null:x;var S=JO({labelDataIndex:r,labelFetcher:l,defaultText:f?f(x):x+""},c.statesModels,x);QO(n,S)}n.percent=0,(c.prevValue==null?ni:Qr)(n,{percent:1},o,r,null,y)}var Fd={minMargin:1,textMargin:2},tA=["textStyle","color"],eA=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],dx=new Hr,RW=function(){function n(){}return n.prototype.getTextColor=function(r){var e=this.ecModel;return this.getShallow("color")||(!r&&e?e.get(tA):null)},n.prototype.getFont=function(){return z0({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(r){for(var e={text:r,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<eA.length;o++)e[eA[o]]=this.getShallow(eA[o]);return dx.useStyle(e),dx.update(),dx.getBoundingRect()},n}(),NW=RW,rA=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],BW=jf(rA),zW=function(){function n(){}return n.prototype.getLineStyle=function(r){return BW(this,r)},n}(),AN=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],FW=jf(AN),CN=function(){function n(){}return n.prototype.getItemStyle=function(r,e){return FW(this,r,e)},n}(),Ec=function(){function n(r,e,o){this.parentModel=e,this.ecModel=o,this.option=r}return n.prototype.init=function(r,e,o){for(var l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c]},n.prototype.mergeOption=function(r,e){lr(this.option,r,!0)},n.prototype.get=function(r,e){return r==null?this.option:this._doGet(this.parsePath(r),!e&&this.parentModel)},n.prototype.getShallow=function(r,e){var o=this.option,l=o==null?o:o[r];if(l==null&&!e){var c=this.parentModel;c&&(l=c.getShallow(r))}return l},n.prototype.getModel=function(r,e){var o=r!=null,l=o?this.parsePath(r):null,c=o?this._doGet(l):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(l)),new n(c,e,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var r=this.constructor;return new r(Ne(this.option))},n.prototype.parsePath=function(r){return typeof r=="string"?r.split("."):r},n.prototype.resolveParentPath=function(r){return r},n.prototype.isAnimationEnabled=function(){if(!cr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(r,e){var o=this.option;if(!r)return o;for(var l=0;l<r.length&&!(r[l]&&(o=o&&typeof o=="object"?o[r[l]]:null,o==null));l++);return o==null&&e&&(o=e._doGet(this.resolveParentPath(r),e.parentModel)),o},n}();WR(Ec),zrt(Ec),Ln(Ec,zW),Ln(Ec,CN),Ln(Ec,dW),Ln(Ec,NW);var an=Ec,jW=Math.round(Math.random()*10);function zp(n){return[n||"",jW++].join("_")}function VW(n){var r={};n.registerSubTypeDefaulter=function(e,o){var l=Lu(e);r[l.main]=o},n.determineSubType=function(e,o){var l=o.type;if(!l){var c=Lu(e).main;n.hasSubTypes(e)&&r[c]&&(l=r[c](o))}return l}}function GW(n,r){n.topologicalTravel=function(c,f,d,p){if(!c.length)return;var y=e(f),b=y.graph,x=y.noEntryList,S={};for(it(c,function(N){S[N]=!0});x.length;){var T=x.pop(),A=b[T],E=!!S[T];E&&(d.call(p,T,A.originalDeps.slice()),delete S[T]),it(A.successor,E?I:L)}it(S,function(){var N="";throw new Error(N)});function L(N){b[N].entryCount--,b[N].entryCount===0&&x.push(N)}function I(N){S[N]=!0,L(N)}};function e(c){var f={},d=[];return it(c,function(p){var y=o(f,p),b=y.originalDeps=r(p),x=l(b,c);y.entryCount=x.length,y.entryCount===0&&d.push(p),it(x,function(S){Xe(y.predecessor,S)<0&&y.predecessor.push(S);var T=o(f,S);Xe(T.successor,S)<0&&T.successor.push(p)})}),{graph:f,noEntryList:d}}function o(c,f){return c[f]||(c[f]={predecessor:[],successor:[]}),c[f]}function l(c,f){var d=[];return it(c,function(p){Xe(f,p)>=0&&d.push(p)}),d}}function Jf(n,r){return lr(lr({},n,!0),r,!0)}var WW={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},HW={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE",custom:"\u81EA\u5B9A\u4E49\u56FE\u8868",chart:"\u56FE\u8868"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},vx="ZH",nA="EN",Fp=nA,iA={},F0={},PN=cr.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Fp).toUpperCase();return n.indexOf(vx)>-1?vx:Fp}():Fp;function px(n,r){n=n.toUpperCase(),F0[n]=new an(r),iA[n]=r}function YW(n){if(oe(n)){var r=iA[n.toUpperCase()]||{};return n===vx||n===nA?Ne(r):lr(Ne(r),Ne(iA[Fp]),!1)}else return lr(Ne(n),Ne(iA[Fp]),!1)}function aA(n){return F0[n]}function EN(){return F0[Fp]}px(nA,WW),px(vx,HW);var gx=null;function kN(n){gx||(gx=n)}function la(){return gx}var yx=1e3,oA=yx*60,j0=oA*60,tl=j0*24,LN=tl*365,sA={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},jd={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},Vd="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",mx="{yyyy}-{MM}-{dd}",DN={year:"{yyyy}",month:"{yyyy}-{MM}",day:mx,hour:mx+" "+jd.hour,minute:mx+" "+jd.minute,second:mx+" "+jd.second,millisecond:Vd},Qi=["year","month","day","hour","minute","second","millisecond"],UW=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function XW(n){return!oe(n)&&!ze(n)?V0(n):n}function V0(n){n=n||{};var r={},e=!0;return it(Qi,function(o){e&&(e=n[o]==null)}),it(Qi,function(o,l){var c=n[o];r[o]={};for(var f=null,d=l;d>=0;d--){var p=Qi[d],y=ce(c)&&!Ut(c)?c[p]:c,b=void 0;Ut(y)?(b=y.slice(),f=b[0]||""):oe(y)?(f=y,b=[f]):(f==null?f=jd[o]:sA[p].test(f)||(f=r[p][p][0]+" "+f),b=[f],e&&(b[1]="{primary|"+f+"}")),r[o][p]=b}}),r}function kc(n,r){return n+="","0000".substr(0,r-n.length)+n}function G0(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function $W(n){return n===G0(n)}function qW(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function W0(n,r,e,o){var l=Ad(n),c=l[_x(e)](),f=l[xx(e)]()+1,d=Math.floor((f-1)/3)+1,p=l[lA(e)](),y=l["get"+(e?"UTC":"")+"Day"](),b=l[uA(e)](),x=(b-1)%12+1,S=l[so(e)](),T=l[H0(e)](),A=l[cA(e)](),E=b>=12?"pm":"am",L=E.toUpperCase(),I=o instanceof an?o:aA(o||PN)||EN(),N=I.getModel("time"),F=N.get("month"),W=N.get("monthAbbr"),X=N.get("dayOfWeek"),$=N.get("dayOfWeekAbbr");return(r||"").replace(/{a}/g,E+"").replace(/{A}/g,L+"").replace(/{yyyy}/g,c+"").replace(/{yy}/g,kc(c%100+"",2)).replace(/{Q}/g,d+"").replace(/{MMMM}/g,F[f-1]).replace(/{MMM}/g,W[f-1]).replace(/{MM}/g,kc(f,2)).replace(/{M}/g,f+"").replace(/{dd}/g,kc(p,2)).replace(/{d}/g,p+"").replace(/{eeee}/g,X[y]).replace(/{ee}/g,$[y]).replace(/{e}/g,y+"").replace(/{HH}/g,kc(b,2)).replace(/{H}/g,b+"").replace(/{hh}/g,kc(x+"",2)).replace(/{h}/g,x+"").replace(/{mm}/g,kc(S,2)).replace(/{m}/g,S+"").replace(/{ss}/g,kc(T,2)).replace(/{s}/g,T+"").replace(/{SSS}/g,kc(A,3)).replace(/{S}/g,A+"")}function ZW(n,r,e,o,l){var c=null;if(oe(e))c=e;else if(ze(e)){var f={time:n.time,level:n.time.level},d=la();d&&d.makeAxisLabelFormatterParamBreak(f,n.break),c=e(n.value,r,f)}else{var p=n.time;if(p){var y=e[p.lowerTimeUnit][p.upperTimeUnit];c=y[Math.min(p.level,y.length-1)]||""}else{var b=jp(n.value,l);c=e[b][b][0]}}return W0(new Date(n.value),c,l,o)}function jp(n,r){var e=Ad(n),o=e[xx(r)]()+1,l=e[lA(r)](),c=e[uA(r)](),f=e[so(r)](),d=e[H0(r)](),p=e[cA(r)](),y=p===0,b=y&&d===0,x=b&&f===0,S=x&&c===0,T=S&&l===1,A=T&&o===1;return A?"year":T?"month":S?"day":x?"hour":b?"minute":y?"second":"millisecond"}function bx(n,r,e){switch(r){case"year":n[IN(e)](0);case"month":n[Sx(e)](1);case"day":n[Ji(e)](0);case"hour":n[RN(e)](0);case"minute":n[NN(e)](0);case"second":n[BN(e)](0)}return n}function _x(n){return n?"getUTCFullYear":"getFullYear"}function xx(n){return n?"getUTCMonth":"getMonth"}function lA(n){return n?"getUTCDate":"getDate"}function uA(n){return n?"getUTCHours":"getHours"}function so(n){return n?"getUTCMinutes":"getMinutes"}function H0(n){return n?"getUTCSeconds":"getSeconds"}function cA(n){return n?"getUTCMilliseconds":"getMilliseconds"}function KW(n){return n?"setUTCFullYear":"setFullYear"}function IN(n){return n?"setUTCMonth":"setMonth"}function Sx(n){return n?"setUTCDate":"setDate"}function Ji(n){return n?"setUTCHours":"setHours"}function RN(n){return n?"setUTCMinutes":"setMinutes"}function NN(n){return n?"setUTCSeconds":"setSeconds"}function BN(n){return n?"setUTCMilliseconds":"setMilliseconds"}function zN(n){if(!h0(n))return oe(n)?n:"-";var r=(n+"").split(".");return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}function fA(n,r){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,o){return o.toUpperCase()}),r&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Vp=_u;function hA(n,r,e){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function l(b){return b&&Xo(b)?b:"-"}function c(b){return!!(b!=null&&!isNaN(b)&&isFinite(b))}var f=r==="time",d=n instanceof Date;if(f||d){var p=f?Ad(n):n;if(isNaN(+p)){if(d)return"-"}else return W0(p,o,e)}if(r==="ordinal")return yc(n)?l(n):qe(n)&&c(n)?n+"":"-";var y=si(n);return c(y)?zN(y):yc(n)?l(n):typeof n=="boolean"?n+"":"-"}var FN=["a","b","c","d","e","f","g"],dA=function(n,r){return"{"+n+(r==null?"":r)+"}"};function jN(n,r,e){Ut(r)||(r=[r]);var o=r.length;if(!o)return"";for(var l=r[0].$vars||[],c=0;c<l.length;c++){var f=FN[c];n=n.replace(dA(f),dA(f,0))}for(var d=0;d<o;d++)for(var p=0;p<l.length;p++){var y=r[d][l[p]];n=n.replace(dA(FN[p],d),e?yo(y):y)}return n}function QW(n,r,e){return it(r,function(o,l){n=n.replace("{"+l+"}",e?yo(o):o)}),n}function JW(n,r){var e=oe(n)?{color:n,extraCssText:r}:n||{},o=e.color,l=e.type;r=e.extraCssText;var c=e.renderMode||"html";if(!o)return"";if(c==="html")return l==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+yo(o)+";"+(r||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+yo(o)+";"+(r||"")+'"></span>';var f=e.markerId||"markerX";return{renderMode:c,content:"{"+f+"|}  ",style:l==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function Grt(n,r,e){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var o=parseDate(r),l=e?"getUTC":"get",c=o[l+"FullYear"](),f=o[l+"Month"]()+1,d=o[l+"Date"](),p=o[l+"Hours"](),y=o[l+"Minutes"](),b=o[l+"Seconds"](),x=o[l+"Milliseconds"]();return n=n.replace("MM",pad(f,2)).replace("M",f).replace("yyyy",c).replace("yy",pad(c%100+"",2)).replace("dd",pad(d,2)).replace("d",d).replace("hh",pad(p,2)).replace("h",p).replace("mm",pad(y,2)).replace("m",y).replace("ss",pad(b,2)).replace("s",b).replace("SSS",pad(x,3)),n}function Wrt(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function Gd(n,r){return r=r||"transparent",oe(n)?n:ce(n)&&n.colorStops&&(n.colorStops[0]||{}).color||r}function Mx(n,r){if(r==="_blank"||r==="blank"){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,r)}var Tx={},vA={},Hrt=function(){function n(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return n.prototype.create=function(r,e){this._nonSeriesBoxMasterList=o(Tx,!0),this._normalMasterList=o(vA,!1);function o(l,c){var f=[];return it(l,function(d,p){var y=d.create(r,e);f=f.concat(y||[])}),f}},n.prototype.update=function(r,e){it(this._normalMasterList,function(o){o.update&&o.update(r,e)})},n.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},n.register=function(r,e){if(r==="matrix"||r==="calendar"){Tx[r]=e;return}vA[r]=e},n.get=function(r){return vA[r]||Tx[r]},n}();function Ox(n){return!!Tx[n]}var Ax={coord:1,coord2:2};function pA(n){Cx.set(n.fullType,{getCoord2:void 0}).getCoord2=n.getCoord2}var Cx=ve();function Kn(n){var r=n.getShallow("coord",!0),e=Ax.coord;if(r==null){var o=Cx.get(n.type);o&&o.getCoord2&&(e=Ax.coord2,r=o.getCoord2(n))}return{coord:r,from:e}}var Hl={none:0,dataCoordSys:1,boxCoordSys:2};function gA(n,r){var e=n.getShallow("coordinateSystem"),o=n.getShallow("coordinateSystemUsage",!0),l=o!=null,c=Hl.none;if(e){var f=n.mainType==="series";o==null&&(o=f?"data":"box"),o==="data"?(c=Hl.dataCoordSys,f||(c=Hl.none)):o==="box"&&(c=Hl.boxCoordSys,!f&&!Ox(e)&&(c=Hl.none))}return{coordSysType:e,kind:c}}function ii(n){var r=n.targetModel,e=n.coordSysType,o=n.coordSysProvider,l=n.isDefaultDataCoordSys,c=n.allowNotFound,f=gA(r,!0),d=f.kind,p=f.coordSysType;if(l&&d!==Hl.dataCoordSys&&(d=Hl.dataCoordSys,p=e),d===Hl.none||p!==e)return!1;var y=o(e,r);return y?(d===Hl.dataCoordSys?r.coordinateSystem=y:r.boxCoordinateSystem=y,!0):!1}var VN=function(n,r){var e=r.getReferringComponents(n,bi).models[0];return e&&e.coordinateSystem},Y0=Hrt,Gp=it,Wd=["left","right","top","bottom","width","height"],Hd=[["width","left","right"],["height","top","bottom"]];function yA(n,r,e,o,l){var c=0,f=0;o==null&&(o=1/0),l==null&&(l=1/0);var d=0;r.eachChild(function(p,y){var b=p.getBoundingRect(),x=r.childAt(y+1),S=x&&x.getBoundingRect(),T,A;if(n==="horizontal"){var E=b.width+(S?-S.x+b.x:0);T=c+E,T>o||p.newline?(c=0,T=E,f+=d+e,d=b.height):d=Math.max(d,b.height)}else{var L=b.height+(S?-S.y+b.y:0);A=f+L,A>l||p.newline?(c+=d+e,f=0,A=L,d=b.width):d=Math.max(d,b.width)}p.newline||(p.x=c,p.y=f,p.markRedraw(),n==="horizontal"?c=T+e:f=A+e)})}var Yd=yA,Jr=hr(yA,"vertical"),Lc=hr(yA,"horizontal");function mA(n,r){return{left:n.getShallow("left",r),top:n.getShallow("top",r),right:n.getShallow("right",r),bottom:n.getShallow("bottom",r),width:n.getShallow("width",r),height:n.getShallow("height",r)}}function tH(n,r){var e=ya(n,r,{enableLayoutOnlyByCenter:!0}),o=n.getBoxLayoutParams(),l,c;if(e.type===U0.point)c=e.refPoint,l=Wn(o,{width:r.getWidth(),height:r.getHeight()});else{var f=n.get("center"),d=Ut(f)?f:[f,f];l=Wn(o,e.refContainer),c=e.boxCoordFrom===Ax.coord2?e.refPoint:[de(d[0],l.width)+l.x,de(d[1],l.height)+l.y]}return{viewRect:l,center:c}}function GN(n,r){var e=tH(n,r),o=e.viewRect,l=e.center,c=n.get("radius");Ut(c)||(c=[0,c]);var f=de(o.width,r.getWidth()),d=de(o.height,r.getHeight()),p=Math.min(f,d),y=de(c[0],p/2),b=de(c[1],p/2);return{cx:l[0],cy:l[1],r0:y,r:b,viewRect:o}}function Wn(n,r,e){e=Vp(e||0);var o=r.width,l=r.height,c=de(n.left,o),f=de(n.top,l),d=de(n.right,o),p=de(n.bottom,l),y=de(n.width,o),b=de(n.height,l),x=e[2]+e[0],S=e[1]+e[3],T=n.aspect;switch(isNaN(y)&&(y=o-d-S-c),isNaN(b)&&(b=l-p-x-f),T!=null&&(isNaN(y)&&isNaN(b)&&(T>o/l?y=o*.8:b=l*.8),isNaN(y)&&(y=T*b),isNaN(b)&&(b=y/T)),isNaN(c)&&(c=o-d-y-S),isNaN(f)&&(f=l-p-b-x),n.left||n.right){case"center":c=o/2-y/2-e[3];break;case"right":c=o-y-S;break}switch(n.top||n.bottom){case"middle":case"center":f=l/2-b/2-e[0];break;case"bottom":f=l-b-x;break}c=c||0,f=f||0,isNaN(y)&&(y=o-S-c-(d||0)),isNaN(b)&&(b=l-x-f-(p||0));var A=new Je((r.x||0)+c+e[3],(r.y||0)+f+e[0],y,b);return A.margin=e,A}function WN(n,r,e){var o=n.getShallow("preserveAspect",!0);if(!o)return r;var l=r.width/r.height;if(Math.abs(Math.atan(e)-Math.atan(l))<1e-9)return r;var c=n.getShallow("preserveAspectAlign",!0),f=n.getShallow("preserveAspectVerticalAlign",!0),d={width:r.width,height:r.height},p=o==="cover";return l>e&&!p||l<e&&p?(d.width=r.height*e,c==="left"?d.left=0:c==="right"?d.right=0:d.left="center"):(d.height=r.width/e,f==="top"?d.top=0:f==="bottom"?d.bottom=0:d.top="middle"),Wn(d,r)}var U0={rect:1,point:2};function ya(n,r,e){var o,l,c,f=n.boxCoordinateSystem,d;if(f){var p=Kn(n),y=p.coord,b=p.from;if(f.dataToLayout){c=U0.rect,d=b;var x=f.dataToLayout(y);o=x.contentRect||x.rect}else e&&e.enableLayoutOnlyByCenter&&f.dataToPoint&&(c=U0.point,d=b,l=f.dataToPoint(y))}return c==null&&(c=U0.rect),c===U0.rect&&(o||(o={x:0,y:0,width:r.getWidth(),height:r.getHeight()}),l=[o.x+o.width/2,o.y+o.height/2]),{type:c,refContainer:o,refPoint:l,boxCoordFrom:d}}function Yl(n,r,e,o,l,c){var f=!l||!l.hv||l.hv[0],d=!l||!l.hv||l.hv[1],p=l&&l.boundingMode||"all";if(c=c||n,c.x=n.x,c.y=n.y,!f&&!d)return!1;var y;if(p==="raw")y=n.type==="group"?new Je(0,0,+r.width||0,+r.height||0):n.getBoundingRect();else if(y=n.getBoundingRect(),n.needLocalTransform()){var b=n.getLocalTransform();y=y.clone(),y.applyTransform(b)}var x=Wn(je({width:y.width,height:y.height},r),e,o),S=f?x.x-y.x:0,T=d?x.y-y.y:0;return p==="raw"?(c.x=S,c.y=T):(c.x+=S,c.y+=T),c===n&&n.markRedraw(),!0}function Wp(n,r){return n[Hd[r][0]]!=null||n[Hd[r][1]]!=null&&n[Hd[r][2]]!=null}function el(n){var r=n.layoutMode||n.constructor.layoutMode;return ce(r)?r:r?{type:r}:null}function zu(n,r,e){var o=e&&e.ignoreSize;!Ut(o)&&(o=[o,o]);var l=f(Hd[0],0),c=f(Hd[1],1);p(Hd[0],n,l),p(Hd[1],n,c);function f(y,b){var x={},S=0,T={},A=0,E=2;if(Gp(y,function(N){T[N]=n[N]}),Gp(y,function(N){gt(r,N)&&(x[N]=T[N]=r[N]),d(x,N)&&S++,d(T,N)&&A++}),o[b])return d(r,y[1])?T[y[2]]=null:d(r,y[2])&&(T[y[1]]=null),T;if(A===E||!S)return T;if(S>=E)return x;for(var L=0;L<y.length;L++){var I=y[L];if(!gt(x,I)&&gt(n,I)){x[I]=n[I];break}}return x}function d(y,b){return y[b]!=null&&y[b]!=="auto"}function p(y,b,x){Gp(y,function(S){b[S]=x[S]})}}function Ud(n){return HN({},n)}function HN(n,r){return r&&n&&Gp(Wd,function(e){gt(r,e)&&(n[e]=r[e])}),n}var X0=br(),rl=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this,e,o,l)||this;return c.uid=zp("ec_cpt_model"),c}return r.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l)},r.prototype.mergeDefaultAndTheme=function(e,o){var l=el(this),c=l?Ud(e):{},f=o.getTheme();lr(e,f.get(this.mainType)),lr(e,this.getDefaultOption()),l&&zu(e,c,l)},r.prototype.mergeOption=function(e,o){lr(this.option,e,!0);var l=el(this);l&&zu(this.option,e,l)},r.prototype.optionUpdated=function(e,o){},r.prototype.getDefaultOption=function(){var e=this.constructor;if(!Nrt(e))return e.defaultOption;var o=X0(this);if(!o.defaultOption){for(var l=[],c=e;c;){var f=c.prototype.defaultOption;f&&l.push(f),c=c.superClass}for(var d={},p=l.length-1;p>=0;p--)d=lr(d,l[p],!0);o.defaultOption=d}return o.defaultOption},r.prototype.getReferringComponents=function(e,o){var l=e+"Index",c=e+"Id";return v0(this.ecModel,e,{index:this.get(l,!0),id:this.get(c,!0)},o)},r.prototype.getBoxLayoutParams=function(){return mA(this,!1)},r.prototype.getZLevelKey=function(){return""},r.prototype.setZLevel=function(e){this.option.zlevel=e},r.protoInitialize=function(){var e=r.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),r}(an);fW(rl,an),Ff(rl),VW(rl),GW(rl,Px);function Px(n){var r=[];return it(rl.getClassesByMainType(n),function(e){r=r.concat(e.dependencies||e.prototype.dependencies||[])}),r=Gt(r,function(e){return Lu(e).main}),n!=="dataset"&&Xe(r,"dataset")<=0&&r.unshift("dataset"),r}var Yr=rl,th={color:{},darkColor:{},size:{}},Ci=th.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Wt(Ci,{primary:Ci.neutral80,secondary:Ci.neutral70,tertiary:Ci.neutral60,quaternary:Ci.neutral50,disabled:Ci.neutral20,border:Ci.neutral30,borderTint:Ci.neutral20,borderShade:Ci.neutral40,background:Ci.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:Ci.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:Ci.neutral70,axisLineTint:Ci.neutral40,axisTick:Ci.neutral70,axisTickMinor:Ci.neutral60,axisLabel:Ci.neutral70,axisSplitLine:Ci.neutral15,axisMinorSplitLine:Ci.neutral05});for(var Dc in Ci)if(Ci.hasOwnProperty(Dc)){var YN=Ci[Dc];Dc==="theme"?th.darkColor.theme=Ci.theme.slice():Dc==="highlight"?th.darkColor.highlight="rgba(255,231,130,0.4)":Dc.indexOf("accent")===0?th.darkColor[Dc]=Au(YN,null,function(n){return n*.5},function(n){return Math.min(1,1.3-n)}):th.darkColor[Dc]=Au(YN,null,function(n){return n*.9},function(n){return 1-Math.pow(n,1.5)})}th.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var Rt=th,bA="";typeof navigator!="undefined"&&(bA=navigator.platform||"");var Hp="rgba(0, 0, 0, 0.2)",UN=Rt.color.theme[0],eH=Au(UN,null,null,.9),rH={darkMode:"auto",colorBy:"series",color:Rt.color.theme,gradientColor:[eH,UN],aria:{decal:{decals:[{color:Hp,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Hp,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Hp,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Hp,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Hp,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Hp,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:bA.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},XN=ve(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Os="original",Ya="arrayRows",As="objectRows",Ul="keyedColumns",Ic="typedArray",$N="unknown",ee="column",Xd="row",lo={Must:1,Might:2,Not:3},qN=br();function ZN(n){qN(n).datasetMap=ve()}function nH(n,r,e){var o={},l=q0(r);if(!l||!n)return o;var c=[],f=[],d=r.ecModel,p=qN(d).datasetMap,y=l.uid+"_"+e.seriesLayoutBy,b,x;n=n.slice(),it(n,function(E,L){var I=ce(E)?E:n[L]={name:E};I.type==="ordinal"&&b==null&&(b=L,x=A(I)),o[I.name]=[]});var S=p.get(y)||p.set(y,{categoryWayDim:x,valueWayDim:0});it(n,function(E,L){var I=E.name,N=A(E);if(b==null){var F=S.valueWayDim;T(o[I],F,N),T(f,F,N),S.valueWayDim+=N}else if(b===L)T(o[I],0,N),T(c,0,N);else{var F=S.categoryWayDim;T(o[I],F,N),T(f,F,N),S.categoryWayDim+=N}});function T(E,L,I){for(var N=0;N<I;N++)E.push(L+N)}function A(E){var L=E.dimsDef;return L?L.length:1}return c.length&&(o.itemName=c),f.length&&(o.seriesName=f),o}function $0(n,r,e){var o={},l=q0(n);if(!l)return o;var c=r.sourceFormat,f=r.dimensionsDefine,d;(c===As||c===Ul)&&it(f,function(b,x){(ce(b)?b.name:b)==="name"&&(d=x)});var p=function(){for(var b={},x={},S=[],T=0,A=Math.min(5,e);T<A;T++){var E=bn(r.data,c,r.seriesLayoutBy,f,r.startIndex,T);S.push(E);var L=E===lo.Not;if(L&&b.v==null&&T!==d&&(b.v=T),(b.n==null||b.n===b.v||!L&&S[b.n]===lo.Not)&&(b.n=T),I(b)&&S[b.n]!==lo.Not)return b;L||(E===lo.Might&&x.v==null&&T!==d&&(x.v=T),(x.n==null||x.n===x.v)&&(x.n=T))}function I(N){return N.v!=null&&N.n!=null}return I(b)?b:I(x)?x:null}();if(p){o.value=[p.v];var y=d!=null?d:p.n;o.itemName=[y],o.seriesName=[y]}return o}function q0(n){var r=n.get("data",!0);if(!r)return v0(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},bi).models[0]}function KN(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:v0(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},bi).models}function QN(n,r){return bn(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,r)}function bn(n,r,e,o,l,c){var f,d=5;if(Aa(n))return lo.Not;var p,y;if(o){var b=o[c];ce(b)?(p=b.name,y=b.type):oe(b)&&(p=b)}if(y!=null)return y==="ordinal"?lo.Must:lo.Not;if(r===Ya){var x=n;if(e===Xd){for(var S=x[c],T=0;T<(S||[]).length&&T<d;T++)if((f=W(S[l+T]))!=null)return f}else for(var T=0;T<x.length&&T<d;T++){var A=x[l+T];if(A&&(f=W(A[c]))!=null)return f}}else if(r===As){var E=n;if(!p)return lo.Not;for(var T=0;T<E.length&&T<d;T++){var L=E[T];if(L&&(f=W(L[p]))!=null)return f}}else if(r===Ul){var I=n;if(!p)return lo.Not;var S=I[p];if(!S||Aa(S))return lo.Not;for(var T=0;T<S.length&&T<d;T++)if((f=W(S[T]))!=null)return f}else if(r===Os)for(var N=n,T=0;T<N.length&&T<d;T++){var L=N[T],F=Tp(L);if(!Ut(F))return lo.Not;if((f=W(F[c]))!=null)return f}function W(X){var $=oe(X);if(X!=null&&Number.isFinite(Number(X))&&X!=="")return $?lo.Might:lo.Not;if($&&X!=="-")return lo.Must}return lo.Not}var _A=ve();function Fu(n,r){ei(_A.get(n)==null&&r),_A.set(n,r)}function Z0(n,r,e){var o=_A.get(r);if(!o)return e;var l=o(n);if(!l)return e;if(0)var c;return e.concat(l)}var JN=br(),li=br(),Xl=function(){function n(){}return n.prototype.getColorFromPalette=function(r,e,o){var l=An(this.get("color",!0)),c=this.get("colorLayer",!0);return K0(this,JN,l,c,r,e,o)},n.prototype.clearColorPalette=function(){iH(this,JN)},n}();function xA(n,r,e,o){var l=An(n.get(["aria","decal","decals"]));return K0(n,li,l,null,r,e,o)}function Ex(n,r){for(var e=n.length,o=0;o<e;o++)if(n[o].length>r)return n[o];return n[e-1]}function K0(n,r,e,o,l,c,f){c=c||n;var d=r(c),p=d.paletteIdx||0,y=d.paletteNameMap=d.paletteNameMap||{};if(y.hasOwnProperty(l))return y[l];var b=f==null||!o?e:Ex(o,f);if(b=b||e,!(!b||!b.length)){var x=b[p];return l&&(y[l]=x),d.paletteIdx=(p+1)%b.length,x}}function iH(n,r){r(n).paletteIdx=0,r(n).paletteNameMap={}}var ta,Q0,Yp,J0="\0_ec_inner",aH=1,$d={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",matrix:"MatrixComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},Yrt={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",chord:"ChordChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},_o={};function Urt(n){each(n,function(r,e){if(!ComponentModel.hasClass(e)){var o=$d[e];o&&!_o[o]&&(error("Component "+e+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),_o[o]=!0)}})}var qd=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(e,o,l,c,f,d){c=c||{},this.option=null,this._theme=new an(c),this._locale=new an(f),this._optionManager=d},r.prototype.setOption=function(e,o,l){var c=nl(o);this._optionManager.setOption(e,l,c),this._resetOption(null,c)},r.prototype.resetOption=function(e,o){return this._resetOption(e,nl(o))},r.prototype._resetOption=function(e,o){var l=!1,c=this._optionManager;if(!e||e==="recreate"){var f=c.mountOption(e==="recreate");!this.option||e==="recreate"?Yp(this,f):(this.restoreData(),this._mergeOption(f,o)),l=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var d=c.getTimelineOption(this);d&&(l=!0,this._mergeOption(d,o))}if(!e||e==="recreate"||e==="media"){var p=c.getMediaOption(this);p.length&&it(p,function(y){l=!0,this._mergeOption(y,o)},this)}return l},r.prototype.mergeOption=function(e){this._mergeOption(e,null)},r.prototype._mergeOption=function(e,o){var l=this.option,c=this._componentsMap,f=this._componentsCount,d=[],p=ve(),y=o&&o.replaceMergeMainTypeMap;ZN(this),it(e,function(x,S){x!=null&&(Yr.hasClass(S)?S&&(d.push(S),p.set(S,!0)):l[S]=l[S]==null?Ne(x):lr(l[S],x,!0))}),y&&y.each(function(x,S){Yr.hasClass(S)&&!p.get(S)&&(d.push(S),p.set(S,!0))}),Yr.topologicalTravel(d,Yr.getAllClassMainTypes(),b,this);function b(x){var S=Z0(this,x,An(e[x])),T=c.get(x),A=T?y&&y.get(x)?"replaceMerge":"normalMerge":"replaceAll",E=kR(T,S,A);ku(E,x,Yr),l[x]=null,c.set(x,null),f.set(x,0);var L=[],I=[],N=0,F,W;it(E,function(X,$){var K=X.existing,et=X.newOption;if(!et)K&&(K.mergeOption({},this),K.optionUpdated({},!1));else{var at=x==="series",ot=Yr.getClass(x,X.keyInfo.subType,!at);if(!ot){if(0)var ht,yt;return}if(x==="tooltip"){if(F)return;F=!0}if(K&&K.constructor===ot)K.name=X.keyInfo.name,K.mergeOption(et,this),K.optionUpdated(et,!1);else{var vt=Wt({componentIndex:$},X.keyInfo);K=new ot(et,this,this,vt),Wt(K,vt),X.brandNew&&(K.__requireNewView=!0),K.init(et,this,this),K.optionUpdated(null,!0)}}K?(L.push(K.option),I.push(K),N++):(L.push(void 0),I.push(void 0))},this),l[x]=L,c.set(x,I),f.set(x,N),x==="series"&&ta(this)}this._seriesIndices||ta(this)},r.prototype.getOption=function(){var e=Ne(this.option);return it(e,function(o,l){if(Yr.hasClass(l)){for(var c=An(o),f=c.length,d=!1,p=f-1;p>=0;p--)c[p]&&!N_(c[p])?d=!0:(c[p]=null,!d&&f--);c.length=f,e[l]=c}}),delete e[J0],e},r.prototype.setTheme=function(e){this._theme=new an(e),this._resetOption("recreate",null)},r.prototype.getTheme=function(){return this._theme},r.prototype.getLocaleModel=function(){return this._locale},r.prototype.setUpdatePayload=function(e){this._payload=e},r.prototype.getUpdatePayload=function(){return this._payload},r.prototype.getComponent=function(e,o){var l=this._componentsMap.get(e);if(l){var c=l[o||0];if(c)return c;if(o==null){for(var f=0;f<l.length;f++)if(l[f])return l[f]}}},r.prototype.queryComponents=function(e){var o=e.mainType;if(!o)return[];var l=e.index,c=e.id,f=e.name,d=this._componentsMap.get(o);if(!d||!d.length)return[];var p;return l!=null?(p=[],it(An(l),function(y){d[y]&&p.push(d[y])})):c!=null?p=Rc("id",c,d):f!=null?p=Rc("name",f,d):p=Zr(d,function(y){return!!y}),t5(p,e)},r.prototype.findComponents=function(e){var o=e.query,l=e.mainType,c=d(o),f=c?this.queryComponents(c):Zr(this._componentsMap.get(l),function(y){return!!y});return p(t5(f,e));function d(y){var b=l+"Index",x=l+"Id",S=l+"Name";return y&&(y[b]!=null||y[x]!=null||y[S]!=null)?{mainType:l,index:y[b],id:y[x],name:y[S]}:null}function p(y){return e.filter?Zr(y,e.filter):y}},r.prototype.eachComponent=function(e,o,l){var c=this._componentsMap;if(ze(e)){var f=o,d=e;c.each(function(x,S){for(var T=0;x&&T<x.length;T++){var A=x[T];A&&d.call(f,S,A,A.componentIndex)}})}else for(var p=oe(e)?c.get(e):ce(e)?this.findComponents(e):null,y=0;p&&y<p.length;y++){var b=p[y];b&&o.call(l,b,b.componentIndex)}},r.prototype.getSeriesByName=function(e){var o=Pa(e,null);return Zr(this._componentsMap.get("series"),function(l){return!!l&&o!=null&&l.name===o})},r.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},r.prototype.getSeriesByType=function(e){return Zr(this._componentsMap.get("series"),function(o){return!!o&&o.subType===e})},r.prototype.getSeries=function(){return Zr(this._componentsMap.get("series"),function(e){return!!e})},r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},r.prototype.eachSeries=function(e,o){Q0(this),it(this._seriesIndices,function(l){var c=this._componentsMap.get("series")[l];e.call(o,c,l)},this)},r.prototype.eachRawSeries=function(e,o){it(this._componentsMap.get("series"),function(l){l&&e.call(o,l,l.componentIndex)})},r.prototype.eachSeriesByType=function(e,o,l){Q0(this),it(this._seriesIndices,function(c){var f=this._componentsMap.get("series")[c];f.subType===e&&o.call(l,f,c)},this)},r.prototype.eachRawSeriesByType=function(e,o,l){return it(this.getSeriesByType(e),o,l)},r.prototype.isSeriesFiltered=function(e){return Q0(this),this._seriesIndicesMap.get(e.componentIndex)==null},r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},r.prototype.filterSeries=function(e,o){Q0(this);var l=[];it(this._seriesIndices,function(c){var f=this._componentsMap.get("series")[c];e.call(o,f,c)&&l.push(c)},this),this._seriesIndices=l,this._seriesIndicesMap=ve(l)},r.prototype.restoreData=function(e){ta(this);var o=this._componentsMap,l=[];o.each(function(c,f){Yr.hasClass(f)&&l.push(f)}),Yr.topologicalTravel(l,Yr.getAllClassMainTypes(),function(c){it(o.get(c),function(f){f&&(c!=="series"||!oH(f,e))&&f.restoreData()})})},r.internalField=function(){ta=function(e){var o=e._seriesIndices=[];it(e._componentsMap.get("series"),function(l){l&&o.push(l.componentIndex)}),e._seriesIndicesMap=ve(o)},Q0=function(e){},Yp=function(e,o){e.option={},e.option[J0]=aH,e._componentsMap=ve({series:[]}),e._componentsCount=ve();var l=o.aria;ce(l)&&l.enabled==null&&(l.enabled=!0),kx(o,e._theme.option),lr(o,rH,!1),e._mergeOption(o,null)}}(),r}(an);function oH(n,r){if(r){var e=r.seriesIndex,o=r.seriesId,l=r.seriesName;return e!=null&&n.componentIndex!==e||o!=null&&n.id!==o||l!=null&&n.name!==l}}function kx(n,r){var e=n.color&&!n.colorLayer;it(r,function(o,l){l==="colorLayer"&&e||l==="color"&&n.color||Yr.hasClass(l)||(typeof o=="object"?n[l]=n[l]?lr(n[l],o,!1):Ne(o):n[l]==null&&(n[l]=o))})}function Rc(n,r,e){if(Ut(r)){var o=ve();return it(r,function(c){if(c!=null){var f=Pa(c,null);f!=null&&o.set(c,!0)}}),Zr(e,function(c){return c&&o.get(c[n])})}else{var l=Pa(r,null);return Zr(e,function(c){return c&&l!=null&&c[n]===l})}}function t5(n,r){return r.hasOwnProperty("subType")?Zr(n,function(e){return e&&e.subType===r.subType}):n}function nl(n){var r=ve();return n&&it(An(n.replaceMerge),function(e){r.set(e,!0)}),{replaceMergeMainTypeMap:r}}Ln(qd,Xl);var e5=qd,r5=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],sH=function(){function n(r){it(r5,function(e){this[e]=ue(r[e],r)},this)}return n}(),wA=sH,n5=/^(min|max)?(.+)$/,lH=function(){function n(r){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=r}return n.prototype.setOption=function(r,e,o){r&&(it(An(r.series),function(f){f&&f.data&&Aa(f.data)&&Gr(f.data)}),it(An(r.dataset),function(f){f&&f.source&&Aa(f.source)&&Gr(f.source)})),r=Ne(r);var l=this._optionBackup,c=uH(r,e,!l);this._newBaseOption=c.baseOption,l?(c.timelineOptions.length&&(l.timelineOptions=c.timelineOptions),c.mediaList.length&&(l.mediaList=c.mediaList),c.mediaDefault&&(l.mediaDefault=c.mediaDefault)):this._optionBackup=c},n.prototype.mountOption=function(r){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Ne(r?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(r){var e,o=this._timelineOptions;if(o.length){var l=r.getComponent("timeline");l&&(e=Ne(o[l.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(r){var e=this._api.getWidth(),o=this._api.getHeight(),l=this._mediaList,c=this._mediaDefault,f=[],d=[];if(!l.length&&!c)return d;for(var p=0,y=l.length;p<y;p++)i5(l[p].query,e,o)&&f.push(p);return!f.length&&c&&(f=[-1]),f.length&&!il(f,this._currentMediaIndices)&&(d=Gt(f,function(b){return Ne(b===-1?c.option:l[b].option)})),this._currentMediaIndices=f,d},n}();function uH(n,r,e){var o=[],l,c,f=n.baseOption,d=n.timeline,p=n.options,y=n.media,b=!!n.media,x=!!(p||d||f&&f.timeline);f?(c=f,c.timeline||(c.timeline=d)):((x||b)&&(n.options=n.media=null),c=n),b&&Ut(y)&&it(y,function(T){T&&T.option&&(T.query?o.push(T):l||(l=T))}),S(c),it(p,function(T){return S(T)}),it(o,function(T){return S(T.option)});function S(T){it(r,function(A){A(T,e)})}return{baseOption:c,timelineOptions:p||[],mediaDefault:l,mediaList:o}}function i5(n,r,e){var o={width:r,height:e,aspectratio:r/e},l=!0;return it(n,function(c,f){var d=f.match(n5);if(!(!d||!d[1]||!d[2])){var p=d[1],y=d[2].toLowerCase();Xrt(o[y],c,p)||(l=!1)}}),l}function Xrt(n,r,e){return e==="min"?n>=r:e==="max"?n<=r:n===r}function il(n,r){return n.join(",")===r.join(",")}var a5=lH,$l=it,tm=ce,em=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Up(n){var r=n&&n.itemStyle;if(r)for(var e=0,o=em.length;e<o;e++){var l=em[e],c=r.normal,f=r.emphasis;c&&c[l]&&(n[l]=n[l]||{},n[l].normal?lr(n[l].normal,c[l]):n[l].normal=c[l],c[l]=null),f&&f[l]&&(n[l]=n[l]||{},n[l].emphasis?lr(n[l].emphasis,f[l]):n[l].emphasis=f[l],f[l]=null)}}function Ua(n,r,e){if(n&&n[r]&&(n[r].normal||n[r].emphasis)){var o=n[r].normal,l=n[r].emphasis;o&&(e?(n[r].normal=n[r].emphasis=null,je(n[r],o)):n[r]=o),l&&(n.emphasis=n.emphasis||{},n.emphasis[r]=l,l.focus&&(n.emphasis.focus=l.focus),l.blurScope&&(n.emphasis.blurScope=l.blurScope))}}function Xp(n){Ua(n,"itemStyle"),Ua(n,"lineStyle"),Ua(n,"areaStyle"),Ua(n,"label"),Ua(n,"labelLine"),Ua(n,"upperLabel"),Ua(n,"edgeLabel")}function ji(n,r){var e=tm(n)&&n[r],o=tm(e)&&e.textStyle;if(o)for(var l=0,c=ER.length;l<c;l++){var f=ER[l];o.hasOwnProperty(f)&&(e[f]=o[f])}}function Cs(n){n&&(Xp(n),ji(n,"label"),n.emphasis&&ji(n.emphasis,"label"))}function cH(n){if(tm(n)){Up(n),Xp(n),ji(n,"label"),ji(n,"upperLabel"),ji(n,"edgeLabel"),n.emphasis&&(ji(n.emphasis,"label"),ji(n.emphasis,"upperLabel"),ji(n.emphasis,"edgeLabel"));var r=n.markPoint;r&&(Up(r),Cs(r));var e=n.markLine;e&&(Up(e),Cs(e));var o=n.markArea;o&&Cs(o);var l=n.data;if(n.type==="graph"){l=l||n.nodes;var c=n.links||n.edges;if(c&&!Aa(c))for(var f=0;f<c.length;f++)Cs(c[f]);it(n.categories,function(y){Xp(y)})}if(l&&!Aa(l))for(var f=0;f<l.length;f++)Cs(l[f]);if(r=n.markPoint,r&&r.data)for(var d=r.data,f=0;f<d.length;f++)Cs(d[f]);if(e=n.markLine,e&&e.data)for(var p=e.data,f=0;f<p.length;f++)Ut(p[f])?(Cs(p[f][0]),Cs(p[f][1])):Cs(p[f]);n.type==="gauge"?(ji(n,"axisLabel"),ji(n,"title"),ji(n,"detail")):n.type==="treemap"?(Ua(n.breadcrumb,"itemStyle"),it(n.levels,function(y){Xp(y)})):n.type==="tree"&&Xp(n.leaves)}}function ts(n){return Ut(n)?n:n?[n]:[]}function o5(n){return(Ut(n)?n[0]:n)||{}}function fH(n,r){$l(ts(n.series),function(o){tm(o)&&cH(o)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];r&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),$l(e,function(o){$l(ts(n[o]),function(l){l&&(ji(l,"axisLabel"),ji(l.axisPointer,"label"))})}),$l(ts(n.parallel),function(o){var l=o&&o.parallelAxisDefault;ji(l,"axisLabel"),ji(l&&l.axisPointer,"label")}),$l(ts(n.calendar),function(o){Ua(o,"itemStyle"),ji(o,"dayLabel"),ji(o,"monthLabel"),ji(o,"yearLabel")}),$l(ts(n.radar),function(o){ji(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap)}),$l(ts(n.geo),function(o){tm(o)&&(Cs(o),$l(ts(o.regions),function(l){Cs(l)}))}),$l(ts(n.timeline),function(o){Cs(o),Ua(o,"label"),Ua(o,"itemStyle"),Ua(o,"controlStyle",!0);var l=o.data;Ut(l)&&it(l,function(c){ce(c)&&(Ua(c,"label"),Ua(c,"itemStyle"))})}),$l(ts(n.toolbox),function(o){Ua(o,"iconStyle"),$l(o.feature,function(l){Ua(l,"iconStyle")})}),ji(o5(n.axisPointer),"label"),ji(o5(n.tooltip).axisPointer,"label")}function s5(n,r){for(var e=r.split(","),o=n,l=0;l<e.length&&(o=o&&o[e[l]],o!=null);l++);return o}function hH(n,r,e,o){for(var l=r.split(","),c=n,f,d=0;d<l.length-1;d++)f=l[d],c[f]==null&&(c[f]={}),c=c[f];(o||c[l[d]]==null)&&(c[l[d]]=e)}function rm(n){n&&it(l5,function(r){r[0]in n&&!(r[1]in n)&&(n[r[1]]=n[r[0]])})}var l5=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],dH=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],SA=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function nm(n){var r=n&&n.itemStyle;if(r)for(var e=0;e<SA.length;e++){var o=SA[e][1],l=SA[e][0];r[o]!=null&&(r[l]=r[o])}}function Lx(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function u5(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function vH(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function MA(n,r){if(n)for(var e=0;e<n.length;e++)r(n[e]),n[e]&&MA(n[e].children,r)}function pH(n,r){fH(n,r),n.series=An(n.series),it(n.series,function(e){if(ce(e)){var o=e.type;if(o==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(o==="pie"||o==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),Lx(e.label);var l=e.data;if(l&&!Aa(l))for(var c=0;c<l.length;c++)Lx(l[c]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(o==="gauge"){var f=s5(e,"pointer.color");f!=null&&hH(e,"itemStyle.color",f)}else if(o==="bar"){nm(e),nm(e.backgroundStyle),nm(e.emphasis);var l=e.data;if(l&&!Aa(l))for(var c=0;c<l.length;c++)typeof l[c]=="object"&&(nm(l[c]),nm(l[c]&&l[c].emphasis))}else if(o==="sunburst"){var d=e.highlightPolicy;d&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=d)),u5(e),MA(e.data,u5)}else o==="graph"||o==="sankey"?vH(e):o==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&je(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),rm(e)}}),n.dataRange&&(n.visualMap=n.dataRange),it(dH,function(e){var o=n[e];o&&(Ut(o)||(o=[o]),it(o,function(l){rm(l)}))})}function c5(n){var r=ve();n.eachSeries(function(e){var o=e.get("stack");if(o){var l=r.get(o)||r.set(o,[]),c=e.getData(),f={stackResultDimension:c.getCalculationInfo("stackResultDimension"),stackedOverDimension:c.getCalculationInfo("stackedOverDimension"),stackedDimension:c.getCalculationInfo("stackedDimension"),stackedByDimension:c.getCalculationInfo("stackedByDimension"),isStackedByIndex:c.getCalculationInfo("isStackedByIndex"),data:c,seriesModel:e};if(!f.stackedDimension||!(f.isStackedByIndex||f.stackedByDimension))return;l.push(f)}}),r.each(function(e){if(e.length!==0){var o=e[0].seriesModel,l=o.get("stackOrder")||"seriesAsc";l==="seriesDesc"&&e.reverse(),it(e,function(c,f){c.data.setCalculationInfo("stackedOnSeries",f>0?e[f-1].seriesModel:null)}),$rt(e)}})}function $rt(n){it(n,function(r,e){var o=[],l=[NaN,NaN],c=[r.stackResultDimension,r.stackedOverDimension],f=r.data,d=r.isStackedByIndex,p=r.seriesModel.get("stackStrategy")||"samesign";f.modify(c,function(y,b,x){var S=f.get(r.stackedDimension,x);if(isNaN(S))return l;var T,A;d?A=f.getRawIndex(x):T=f.get(r.stackedByDimension,x);for(var E=NaN,L=e-1;L>=0;L--){var I=n[L];if(d||(A=I.data.rawIndexOf(I.stackedByDimension,T)),A>=0){var N=I.data.getByRawIndex(I.stackResultDimension,A);if(p==="all"||p==="positive"&&N>0||p==="negative"&&N<0||p==="samesign"&&S>=0&&N>0||p==="samesign"&&S<=0&&N<0){S=tW(S,N),E=N;break}}}return o[0]=S,o[1]=E,o})})}var TA=function(){function n(r){this.data=r.data||(r.sourceFormat===Ul?{}:[]),this.sourceFormat=r.sourceFormat||$N,this.seriesLayoutBy=r.seriesLayoutBy||ee,this.startIndex=r.startIndex||0,this.dimensionsDetectedCount=r.dimensionsDetectedCount,this.metaRawOption=r.metaRawOption;var e=this.dimensionsDefine=r.dimensionsDefine;if(e)for(var o=0;o<e.length;o++){var l=e[o];l.type==null&&QN(this,o)===lo.Must&&(l.type="ordinal")}}return n}();function $p(n){return n instanceof TA}function ql(n,r,e){e=e||gH(n);var o=r.seriesLayoutBy,l=yH(n,e,o,r.sourceHeader,r.dimensions),c=new TA({data:n,sourceFormat:e,seriesLayoutBy:o,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount,metaRawOption:Ne(r)});return c}function f5(n){return new TA({data:n,sourceFormat:Aa(n)?Ic:Os})}function qrt(n){return new TA({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Ne(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function gH(n){var r=$N;if(Aa(n))r=Ic;else if(Ut(n)){n.length===0&&(r=Ya);for(var e=0,o=n.length;e<o;e++){var l=n[e];if(l!=null){if(Ut(l)||Aa(l)){r=Ya;break}else if(ce(l)){r=As;break}}}}else if(ce(n)){for(var c in n)if(gt(n,c)&&vi(n[c])){r=Ul;break}}return r}function yH(n,r,e,o,l){var c,f;if(!n)return{dimensionsDefine:h5(l),startIndex:f,dimensionsDetectedCount:c};if(r===Ya){var d=n;o==="auto"||o==null?mH(function(y){y!=null&&y!=="-"&&(oe(y)?f==null&&(f=1):f=0)},e,d,10):f=qe(o)?o:o?1:0,!l&&f===1&&(l=[],mH(function(y,b){l[b]=y!=null?y+"":""},e,d,1/0)),c=l?l.length:e===Xd?d.length:d[0]?d[0].length:null}else if(r===As)l||(l=Zrt(n));else if(r===Ul)l||(l=[],it(n,function(y,b){l.push(b)}));else if(r===Os){var p=Tp(n[0]);c=Ut(p)&&p.length||1}return{startIndex:f,dimensionsDefine:h5(l),dimensionsDetectedCount:c}}function Zrt(n){for(var r=0,e;r<n.length&&!(e=n[r++]););if(e)return vr(e)}function h5(n){if(n){var r=ve();return Gt(n,function(e,o){e=ce(e)?e:{name:e};var l={name:e.name,displayName:e.displayName,type:e.type};if(l.name==null)return l;l.name+="",l.displayName==null&&(l.displayName=l.name);var c=r.get(l.name);return c?l.name+="-"+c.count++:r.set(l.name,{count:1}),l})}}function mH(n,r,e,o){if(r===Xd)for(var l=0;l<e.length&&l<o;l++)n(e[l]?e[l][0]:null,l);else for(var c=e[0]||[],l=0;l<c.length&&l<o;l++)n(c[l],l)}function Dx(n){var r=n.sourceFormat;return r===As||r===Ul}var OA="[ECharts] ",bH={},AA=typeof console!="undefined"&&console.warn&&console.log;function Zd(n,r,e){if(AA){if(e){if(bH[r])return;bH[r]=!0}console[n](OA+r)}}function im(n,r){Zd("log",n,r)}function _H(n,r){Zd("warn",n,r)}function d5(n,r){Zd("error",n,r)}function xH(n){}function Ix(n,r,e){}function CA(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var e="";if(0)var o;return e}function un(n){throw new Error(n)}var Kd,Qd,Jd,Nc,v5,Rx,p5=function(){function n(r,e){var o=$p(r)?r:f5(r);this._source=o;var l=this._data=o.data,c=o.sourceFormat,f=o.seriesLayoutBy;if(c===Ic&&(this._offset=0,this._dimSize=e,this._data=l),0)var d;Rx(this,l,o)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(r,e){},n.prototype.appendData=function(r){},n.prototype.clean=function(){},n.protoInitialize=function(){var r=n.prototype;r.pure=!1,r.persistent=!0}(),n.internalField=function(){var r;Rx=function(f,d,p){var y=p.sourceFormat,b=p.seriesLayoutBy,x=p.startIndex,S=p.dimensionsDefine,T=v5[PA(y,b)];if(Wt(f,T),y===Ic)f.getItem=e,f.count=l,f.fillStorage=o;else{var A=m5(y,b);f.getItem=ue(A,null,d,x,S);var E=am(y,b);f.count=ue(E,null,d,x,S)}};var e=function(f,d){f=f-this._offset,d=d||[];for(var p=this._data,y=this._dimSize,b=y*f,x=0;x<y;x++)d[x]=p[b+x];return d},o=function(f,d,p,y){for(var b=this._data,x=this._dimSize,S=0;S<x;S++){for(var T=y[S],A=T[0]==null?1/0:T[0],E=T[1]==null?-1/0:T[1],L=d-f,I=p[S],N=0;N<L;N++){var F=b[N*x+S];I[f+N]=F,F<A&&(A=F),F>E&&(E=F)}T[0]=A,T[1]=E}},l=function(){return this._data?this._data.length/this._dimSize:0};v5=(r={},r[Ya+"_"+ee]={pure:!0,appendData:c},r[Ya+"_"+Xd]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},r[As]={pure:!0,appendData:c},r[Ul]={pure:!0,appendData:function(f){var d=this._data;it(f,function(p,y){for(var b=d[y]||(d[y]=[]),x=0;x<(p||[]).length;x++)b.push(p[x])})}},r[Os]={appendData:c},r[Ic]={persistent:!1,pure:!0,appendData:function(f){this._data=f},clean:function(){this._offset+=this.count(),this._data=null}},r);function c(f){for(var d=0;d<f.length;d++)this._data.push(f[d])}}(),n}(),Nx=function(n){Ut(n)||d5("series.data or dataset.source must be an array.")},wH=(Kd={},Kd[Ya+"_"+ee]=Nx,Kd[Ya+"_"+Xd]=Nx,Kd[As]=Nx,Kd[Ul]=function(n,r){for(var e=0;e<r.length;e++){var o=r[e].name;o==null&&d5("dimension name must not be null/undefined.")}},Kd[Os]=Nx,Kd),g5=function(n,r,e,o){return n[o]},y5=(Qd={},Qd[Ya+"_"+ee]=function(n,r,e,o){return n[o+r]},Qd[Ya+"_"+Xd]=function(n,r,e,o,l){o+=r;for(var c=l||[],f=n,d=0;d<f.length;d++){var p=f[d];c[d]=p?p[o]:null}return c},Qd[As]=g5,Qd[Ul]=function(n,r,e,o,l){for(var c=l||[],f=0;f<e.length;f++){var d=e[f].name,p=d!=null?n[d]:null;c[f]=p?p[o]:null}return c},Qd[Os]=g5,Qd);function m5(n,r){var e=y5[PA(n,r)];return e}var b5=function(n,r,e){return n.length},SH=(Jd={},Jd[Ya+"_"+ee]=function(n,r,e){return Math.max(0,n.length-r)},Jd[Ya+"_"+Xd]=function(n,r,e){var o=n[0];return o?Math.max(0,o.length-r):0},Jd[As]=b5,Jd[Ul]=function(n,r,e){var o=e[0].name,l=o!=null?n[o]:null;return l?l.length:0},Jd[Os]=b5,Jd);function am(n,r){var e=SH[PA(n,r)];return e}var om=function(n,r,e){return n[r]},MH=(Nc={},Nc[Ya]=om,Nc[As]=function(n,r,e){return n[e]},Nc[Ul]=om,Nc[Os]=function(n,r,e){var o=Tp(n);return o instanceof Array?o[r]:o},Nc[Ic]=om,Nc);function _5(n){var r=MH[n];return r}function PA(n,r){return n===Ya?n+"_"+r:n}function qp(n,r,e){if(n){var o=n.getRawDataItem(r);if(o!=null){var l=n.getStore(),c=l.getSource().sourceFormat;if(e!=null){var f=n.getDimensionIndex(e),d=l.getDimensionProperty(f);return _5(c)(o,f,d)}else{var p=o;return c===Os&&(p=Tp(o)),p}}}}function Krt(n,r,e){if(n){var o=n.getStore().getSource().sourceFormat;if(!(o!==SOURCE_FORMAT_ORIGINAL&&o!==SOURCE_FORMAT_OBJECT_ROWS)){var l=n.getRawDataItem(r);if(o===SOURCE_FORMAT_ORIGINAL&&!isObject(l)&&(l=null),l)return l[e]}}}var TH=/\{@(.+?)\}/g,eh=function(){function n(){}return n.prototype.getDataParams=function(r,e){var o=this.getData(e),l=this.getRawValue(r,e),c=o.getRawIndex(r),f=o.getName(r),d=o.getRawDataItem(r),p=o.getItemVisual(r,"style"),y=p&&p[o.getItemVisual(r,"drawType")||"fill"],b=p&&p.stroke,x=this.mainType,S=x==="series",T=o.userOutput&&o.userOutput.get();return{componentType:x,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:f,dataIndex:c,data:d,dataType:e,value:l,color:y,borderColor:b,dimensionNames:T?T.fullDimensions:null,encode:T?T.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(r,e,o,l,c,f){e=e||"normal";var d=this.getData(o),p=this.getDataParams(r,o);if(f&&(p.value=f.interpolatedValue),l!=null&&Ut(p.value)&&(p.value=p.value[l]),!c){var y=d.getItemModel(r);c=y.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(ze(c))return p.status=e,p.dimensionIndex=l,c(p);if(oe(c)){var b=jN(c,p);return b.replace(TH,function(x,S){var T=S.length,A=S;A.charAt(0)==="["&&A.charAt(T-1)==="]"&&(A=+A.slice(1,T-1));var E=qp(d,r,A);if(f&&Ut(f.interpolatedValue)){var L=d.getDimensionIndex(A);L>=0&&(E=f.interpolatedValue[L])}return E!=null?E+"":""})}},n.prototype.getRawValue=function(r,e){return qp(this.getData(e),r)},n.prototype.formatTooltip=function(r,e,o){},n}();function sm(n){var r,e;return ce(n)?n.type&&(e=n):r=n,{text:r,frag:e}}function lm(n){return new x5(n)}var x5=function(){function n(r){r=r||{},this._reset=r.reset,this._plan=r.plan,this._count=r.count,this._onDirty=r.onDirty,this._dirty=!0}return n.prototype.perform=function(r){var e=this._upstream,o=r&&r.skip;if(this._dirty&&e){var l=this.context;l.data=l.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var c;this._plan&&!o&&(c=this._plan(this.context));var f=b(this._modBy),d=this._modDataCount||0,p=b(r&&r.modBy),y=r&&r.modDataCount||0;(f!==p||d!==y)&&(c="reset");function b(N){return!(N>=1)&&(N=1),N}var x;(this._dirty||c==="reset")&&(this._dirty=!1,x=this._doReset(o)),this._modBy=p,this._modDataCount=y;var S=r&&r.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var T=this._dueIndex,A=Math.min(S!=null?this._dueIndex+S:1/0,this._dueEnd);if(!o&&(x||T<A)){var E=this._progress;if(Ut(E))for(var L=0;L<E.length;L++)this._doProgress(E[L],T,A,p,y);else this._doProgress(E,T,A,p,y)}this._dueIndex=A;var I=this._settedOutputEnd!=null?this._settedOutputEnd:A;this._outputDueEnd=I}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(r,e,o,l,c){EA.reset(e,o,l,c),this._callingProgress=r,this._callingProgress({start:e,end:o,count:o-e,next:EA.next},this.context)},n.prototype._doReset=function(r){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,o;!r&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(o=e.forceFirstProgress,e=e.progress),Ut(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var l=this._downstream;return l&&l.dirty(),o},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(r){(this._downstream!==r||this._dirty)&&(this._downstream=r,r._upstream=this,r.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(r){this._outputDueEnd=this._settedOutputEnd=r},n}(),EA=function(){var n,r,e,o,l,c={reset:function(p,y,b,x){r=p,n=y,e=b,o=x,l=Math.ceil(o/e),c.next=e>1&&o>0?d:f}};return c;function f(){return r<n?r++:null}function d(){var p=r%l*e+Math.ceil(r/l),y=r>=n?null:p<o?p:r;return r++,y}}();function Bc(n,r){var e=r&&r.type;return e==="ordinal"?n:(e==="time"&&!qe(n)&&n!=null&&n!=="-"&&(n=+Ad(n)),n==null||n===""?NaN:Number(n))}var Bx=ve({number:function(n){return parseFloat(n)},time:function(n){return+Ad(n)},trim:function(n){return oe(n)?Xo(n):n}});function kA(n){return Bx.get(n)}var w5={lt:function(n,r){return n<r},lte:function(n,r){return n<=r},gt:function(n,r){return n>r},gte:function(n,r){return n>=r}},OH=function(){function n(r,e){if(!qe(e)){var o="";un(o)}this._opFn=w5[r],this._rvalFloat=si(e)}return n.prototype.evaluate=function(r){return qe(r)?this._opFn(r,this._rvalFloat):this._opFn(si(r),this._rvalFloat)},n}(),zx=function(){function n(r,e){var o=r==="desc";this._resultLT=o?1:-1,e==null&&(e=o?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return n.prototype.evaluate=function(r,e){var o=qe(r)?r:si(r),l=qe(e)?e:si(e),c=isNaN(o),f=isNaN(l);if(c&&(o=this._incomparable),f&&(l=this._incomparable),c&&f){var d=oe(r),p=oe(e);d&&(o=p?r:0),p&&(l=d?e:0)}return o<l?this._resultLT:o>l?-this._resultLT:0},n}(),AH=function(){function n(r,e){this._rval=e,this._isEQ=r,this._rvalTypeof=typeof e,this._rvalFloat=si(e)}return n.prototype.evaluate=function(r){var e=r===this._rval;if(!e){var o=typeof r;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(e=si(r)===this._rvalFloat)}return this._isEQ?e:!e},n}();function Fx(n,r){return n==="eq"||n==="ne"?new AH(n==="eq",r):gt(w5,n)?new OH(n,r):null}var jx=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(r){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(r){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(r,e){},n.prototype.retrieveValueFromItem=function(r,e){},n.prototype.convertValue=function(r,e){return Bc(r,e)},n}();function Vx(n,r){var e=new jx,o=n.data,l=e.sourceFormat=n.sourceFormat,c=n.startIndex,f="";n.seriesLayoutBy!==ee&&un(f);var d=[],p={},y=n.dimensionsDefine;if(y)it(y,function(E,L){var I=E.name,N={index:L,name:I,displayName:E.displayName};if(d.push(N),I!=null){var F="";gt(p,I)&&un(F),p[I]=N}});else for(var b=0;b<n.dimensionsDetectedCount;b++)d.push({index:b});var x=m5(l,ee);r.__isBuiltIn&&(e.getRawDataItem=function(E){return x(o,c,d,E)},e.getRawData=ue(Gx,null,n)),e.cloneRawData=ue(Wx,null,n);var S=am(l,ee);e.count=ue(S,null,o,c,d);var T=_5(l);e.retrieveValue=function(E,L){var I=x(o,c,d,E);return A(I,L)};var A=e.retrieveValueFromItem=function(E,L){if(E!=null){var I=d[L];if(I)return T(E,L,I.name)}};return e.getDimensionInfo=ue(Hx,null,d,p),e.cloneAllDimensionInfo=ue(Yx,null,d),e}function Gx(n){var r=n.sourceFormat;if(!fm(r)){var e="";un(e)}return n.data}function Wx(n){var r=n.sourceFormat,e=n.data;if(!fm(r)){var o="";un(o)}if(r===Ya){for(var l=[],c=0,f=e.length;c<f;c++)l.push(e[c].slice());return l}else if(r===As){for(var l=[],c=0,f=e.length;c<f;c++)l.push(Wt({},e[c]));return l}}function Hx(n,r,e){if(e!=null){if(qe(e)||!isNaN(e)&&!gt(r,e))return n[e];if(gt(r,e))return r[e]}}function Yx(n){return Ne(n)}var um=ve();function Ux(n){n=Ne(n);var r=n.type,e="";r||un(e);var o=r.split(":");o.length!==2&&un(e);var l=!1;o[0]==="echarts"&&(r=o[1],l=!0),n.__isBuiltIn=l,um.set(r,n)}function Xx(n,r,e){var o=An(n),l=o.length,c="";l||un(c);for(var f=0,d=l;f<d;f++){var p=o[f];r=cm(p,r,e,l===1?null:f),f!==d-1&&(r.length=Math.max(r.length,1))}return r}function cm(n,r,e,o){var l="";r.length||un(l),ce(n)||un(l);var c=n.type,f=um.get(c);f||un(l);var d=Gt(r,function(b){return Vx(b,f)}),p=An(f.transform({upstream:d[0],upstreamList:d,config:Ne(n.config)}));if(0)var y;return Gt(p,function(b,x){var S="";ce(b)||un(S),b.data||un(S);var T=gH(b.data);fm(T)||un(S);var A,E=r[0];if(E&&x===0&&!b.dimensions){var L=E.startIndex;L&&(b.data=E.data.slice(0,L).concat(b.data)),A={seriesLayoutBy:ee,sourceHeader:L,dimensions:E.metaRawOption.dimensions}}else A={seriesLayoutBy:ee,sourceHeader:0,dimensions:b.dimensions};return ql(b.data,A,null)})}function fm(n){return n===Ya||n===As}var hm="undefined",$x=typeof Uint32Array===hm?Array:Uint32Array,al=typeof Uint16Array===hm?Array:Uint16Array,Ps=typeof Int32Array===hm?Array:Int32Array,Es=typeof Float64Array===hm?Array:Float64Array,LA={float:Es,int:Ps,ordinal:Array,number:Array,time:Es},DA;function Zp(n){return n>65535?$x:al}function Kp(){return[1/0,-1/0]}function CH(n){var r=n.constructor;return r===Array?n.slice():new r(n)}function S5(n,r,e,o,l){var c=LA[e||"float"];if(l){var f=n[r],d=f&&f.length;if(d!==o){for(var p=new c(o),y=0;y<d;y++)p[y]=f[y];n[r]=p}}else n[r]=new c(o)}var M5=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ve()}return n.prototype.initData=function(r,e,o){this._provider=r,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var l=r.getSource(),c=this.defaultDimValueGetter=DA[l.sourceFormat];this._dimValueGetter=o||c,this._rawExtent=[];var f=Dx(l);this._dimensions=Gt(e,function(d){return{type:d.type,property:d.property}}),this._initDataFromProvider(0,r.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(r,e){var o=this._calcDimNameToIdx,l=this._dimensions,c=o.get(r);if(c!=null){if(l[c].type===e)return c}else c=l.length;return l[c]={type:e},o.set(r,c),this._chunks[c]=new LA[e||"float"](this._rawCount),this._rawExtent[c]=Kp(),c},n.prototype.collectOrdinalMeta=function(r,e){var o=this._chunks[r],l=this._dimensions[r],c=this._rawExtent,f=l.ordinalOffset||0,d=o.length;f===0&&(c[r]=Kp());for(var p=c[r],y=f;y<d;y++){var b=o[y]=e.parseAndCollect(o[y]);isNaN(b)||(p[0]=Math.min(b,p[0]),p[1]=Math.max(b,p[1]))}l.ordinalMeta=e,l.ordinalOffset=d,l.type="ordinal"},n.prototype.getOrdinalMeta=function(r){var e=this._dimensions[r],o=e.ordinalMeta;return o},n.prototype.getDimensionProperty=function(r){var e=this._dimensions[r];return e&&e.property},n.prototype.appendData=function(r){var e=this._provider,o=this.count();e.appendData(r);var l=e.count();return e.persistent||(l+=o),o<l&&this._initDataFromProvider(o,l,!0),[o,l]},n.prototype.appendValues=function(r,e){for(var o=this._chunks,l=this._dimensions,c=l.length,f=this._rawExtent,d=this.count(),p=d+Math.max(r.length,e||0),y=0;y<c;y++){var b=l[y];S5(o,y,b.type,p,!0)}for(var x=[],S=d;S<p;S++)for(var T=S-d,A=0;A<c;A++){var b=l[A],E=DA.arrayRows.call(this,r[T]||x,b.property,T,A);o[A][S]=E;var L=f[A];E<L[0]&&(L[0]=E),E>L[1]&&(L[1]=E)}return this._rawCount=this._count=p,{start:d,end:p}},n.prototype._initDataFromProvider=function(r,e,o){for(var l=this._provider,c=this._chunks,f=this._dimensions,d=f.length,p=this._rawExtent,y=Gt(f,function(N){return N.property}),b=0;b<d;b++){var x=f[b];p[b]||(p[b]=Kp()),S5(c,b,x.type,e,o)}if(l.fillStorage)l.fillStorage(r,e,c,p);else for(var S=[],T=r;T<e;T++){S=l.getItem(T,S);for(var A=0;A<d;A++){var E=c[A],L=this._dimValueGetter(S,y[A],T,A);E[T]=L;var I=p[A];L<I[0]&&(I[0]=L),L>I[1]&&(I[1]=L)}}!l.persistent&&l.clean&&l.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(r,e){if(!(e>=0&&e<this._count))return NaN;var o=this._chunks[r];return o?o[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(r,e){var o=[],l=[];if(e==null){e=r,r=[];for(var c=0;c<this._dimensions.length;c++)l.push(c)}else l=r;for(var c=0,f=l.length;c<f;c++)o.push(this.get(l[c],e));return o},n.prototype.getByRawIndex=function(r,e){if(!(e>=0&&e<this._rawCount))return NaN;var o=this._chunks[r];return o?o[e]:NaN},n.prototype.getSum=function(r){var e=this._chunks[r],o=0;if(e)for(var l=0,c=this.count();l<c;l++){var f=this.get(r,l);isNaN(f)||(o+=f)}return o},n.prototype.getMedian=function(r){var e=[];this.each([r],function(c){isNaN(c)||e.push(c)});var o=e.sort(function(c,f){return c-f}),l=this.count();return l===0?0:l%2===1?o[(l-1)/2]:(o[l/2]+o[l/2-1])/2},n.prototype.indexOfRawIndex=function(r){if(r>=this._rawCount||r<0)return-1;if(!this._indices)return r;var e=this._indices,o=e[r];if(o!=null&&o<this._count&&o===r)return r;for(var l=0,c=this._count-1;l<=c;){var f=(l+c)/2|0;if(e[f]<r)l=f+1;else if(e[f]>r)c=f-1;else return f}return-1},n.prototype.getIndices=function(){var r,e=this._indices;if(e){var o=e.constructor,l=this._count;if(o===Array){r=new o(l);for(var c=0;c<l;c++)r[c]=e[c]}else r=new o(e.buffer,0,l)}else{var o=Zp(this._rawCount);r=new o(this.count());for(var c=0;c<r.length;c++)r[c]=c}return r},n.prototype.filter=function(r,e){if(!this._count)return this;for(var o=this.clone(),l=o.count(),c=Zp(o._rawCount),f=new c(l),d=[],p=r.length,y=0,b=r[0],x=o._chunks,S=0;S<l;S++){var T=void 0,A=o.getRawIndex(S);if(p===0)T=e(S);else if(p===1){var E=x[b][A];T=e(E,S)}else{for(var L=0;L<p;L++)d[L]=x[r[L]][A];d[L]=S,T=e.apply(null,d)}T&&(f[y++]=A)}return y<l&&(o._indices=f),o._count=y,o._extent=[],o._updateGetRawIdx(),o},n.prototype.selectRange=function(r){var e=this.clone(),o=e._count;if(!o)return this;var l=vr(r),c=l.length;if(!c)return this;var f=e.count(),d=Zp(e._rawCount),p=new d(f),y=0,b=l[0],x=r[b][0],S=r[b][1],T=e._chunks,A=!1;if(!e._indices){var E=0;if(c===1){for(var L=T[l[0]],I=0;I<o;I++){var N=L[I];(N>=x&&N<=S||isNaN(N))&&(p[y++]=E),E++}A=!0}else if(c===2){for(var L=T[l[0]],F=T[l[1]],W=r[l[1]][0],X=r[l[1]][1],I=0;I<o;I++){var N=L[I],$=F[I];(N>=x&&N<=S||isNaN(N))&&($>=W&&$<=X||isNaN($))&&(p[y++]=E),E++}A=!0}}if(!A)if(c===1)for(var I=0;I<f;I++){var K=e.getRawIndex(I),N=T[l[0]][K];(N>=x&&N<=S||isNaN(N))&&(p[y++]=K)}else for(var I=0;I<f;I++){for(var et=!0,K=e.getRawIndex(I),at=0;at<c;at++){var ot=l[at],N=T[ot][K];(N<r[ot][0]||N>r[ot][1])&&(et=!1)}et&&(p[y++]=e.getRawIndex(I))}return y<f&&(e._indices=p),e._count=y,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(r,e){var o=this.clone(r);return this._updateDims(o,r,e),o},n.prototype.modify=function(r,e){this._updateDims(this,r,e)},n.prototype._updateDims=function(r,e,o){for(var l=r._chunks,c=[],f=e.length,d=r.count(),p=[],y=r._rawExtent,b=0;b<e.length;b++)y[e[b]]=Kp();for(var x=0;x<d;x++){for(var S=r.getRawIndex(x),T=0;T<f;T++)p[T]=l[e[T]][S];p[f]=x;var A=o&&o.apply(null,p);if(A!=null){typeof A!="object"&&(c[0]=A,A=c);for(var b=0;b<A.length;b++){var E=e[b],L=A[b],I=y[E],N=l[E];N&&(N[S]=L),L<I[0]&&(I[0]=L),L>I[1]&&(I[1]=L)}}}},n.prototype.lttbDownSample=function(r,e){var o=this.clone([r],!0),l=o._chunks,c=l[r],f=this.count(),d=0,p=Math.floor(1/e),y=this.getRawIndex(0),b,x,S,T=new(Zp(this._rawCount))(Math.min((Math.ceil(f/p)+2)*2,f));T[d++]=y;for(var A=1;A<f-1;A+=p){for(var E=Math.min(A+p,f-1),L=Math.min(A+p*2,f),I=(L+E)/2,N=0,F=E;F<L;F++){var W=this.getRawIndex(F),X=c[W];isNaN(X)||(N+=X)}N/=L-E;var $=A,K=Math.min(A+p,f),et=A-1,at=c[y];b=-1,S=$;for(var ot=-1,ht=0,F=$;F<K;F++){var W=this.getRawIndex(F),X=c[W];if(isNaN(X)){ht++,ot<0&&(ot=W);continue}x=Math.abs((et-I)*(X-at)-(et-F)*(N-at)),x>b&&(b=x,S=W)}ht>0&&ht<K-$&&(T[d++]=Math.min(ot,S),S=Math.max(ot,S)),T[d++]=S,y=S}return T[d++]=this.getRawIndex(f-1),o._count=d,o._indices=T,o.getRawIndex=this._getRawIdx,o},n.prototype.minmaxDownSample=function(r,e){for(var o=this.clone([r],!0),l=o._chunks,c=Math.floor(1/e),f=l[r],d=this.count(),p=new(Zp(this._rawCount))(Math.ceil(d/c)*2),y=0,b=0;b<d;b+=c){var x=b,S=f[this.getRawIndex(x)],T=b,A=f[this.getRawIndex(T)],E=c;b+c>d&&(E=d-b);for(var L=0;L<E;L++){var I=this.getRawIndex(b+L),N=f[I];N<S&&(S=N,x=b+L),N>A&&(A=N,T=b+L)}var F=this.getRawIndex(x),W=this.getRawIndex(T);x<T?(p[y++]=F,p[y++]=W):(p[y++]=W,p[y++]=F)}return o._count=y,o._indices=p,o._updateGetRawIdx(),o},n.prototype.downSample=function(r,e,o,l){for(var c=this.clone([r],!0),f=c._chunks,d=[],p=Math.floor(1/e),y=f[r],b=this.count(),x=c._rawExtent[r]=Kp(),S=new(Zp(this._rawCount))(Math.ceil(b/p)),T=0,A=0;A<b;A+=p){p>b-A&&(p=b-A,d.length=p);for(var E=0;E<p;E++){var L=this.getRawIndex(A+E);d[E]=y[L]}var I=o(d),N=this.getRawIndex(Math.min(A+l(d,I)||0,b-1));y[N]=I,I<x[0]&&(x[0]=I),I>x[1]&&(x[1]=I),S[T++]=N}return c._count=T,c._indices=S,c._updateGetRawIdx(),c},n.prototype.each=function(r,e){if(this._count)for(var o=r.length,l=this._chunks,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c);switch(o){case 0:e(c);break;case 1:e(l[r[0]][d],c);break;case 2:e(l[r[0]][d],l[r[1]][d],c);break;default:for(var p=0,y=[];p<o;p++)y[p]=l[r[p]][d];y[p]=c,e.apply(null,y)}}},n.prototype.getDataExtent=function(r){var e=this._chunks[r],o=Kp();if(!e)return o;var l=this.count(),c=!this._indices,f;if(c)return this._rawExtent[r].slice();if(f=this._extent[r],f)return f.slice();f=o;for(var d=f[0],p=f[1],y=0;y<l;y++){var b=this.getRawIndex(y),x=e[b];x<d&&(d=x),x>p&&(p=x)}return f=[d,p],this._extent[r]=f,f},n.prototype.getRawDataItem=function(r){var e=this.getRawIndex(r);if(this._provider.persistent)return this._provider.getItem(e);for(var o=[],l=this._chunks,c=0;c<l.length;c++)o.push(l[c][e]);return o},n.prototype.clone=function(r,e){var o=new n,l=this._chunks,c=r&&pi(r,function(d,p){return d[p]=!0,d},{});if(c)for(var f=0;f<l.length;f++)o._chunks[f]=c[f]?CH(l[f]):l[f];else o._chunks=l;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(r){r._count=this._count,r._rawCount=this._rawCount,r._provider=this._provider,r._dimensions=this._dimensions,r._extent=Ne(this._extent),r._rawExtent=Ne(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var r=this._indices.constructor,e=void 0;if(r===Array){var o=this._indices.length;e=new r(o);for(var l=0;l<o;l++)e[l]=this._indices[l]}else e=new r(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(r){return r},n.prototype._getRawIdx=function(r){return r<this._count&&r>=0?this._indices[r]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function r(e,o,l,c){return Bc(e[c],this._dimensions[c])}DA={arrayRows:r,objectRows:function(e,o,l,c){return Bc(e[o],this._dimensions[c])},keyedColumns:r,original:function(e,o,l,c){var f=e&&(e.value==null?e:e.value);return Bc(f instanceof Array?f[c]:f,this._dimensions[c])},typedArray:function(e,o,l,c){return e[c]}}}(),n}(),qx=M5,dm=function(){function n(r){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=r}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(r,e){this._sourceList=r,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var r=this._sourceHost,e=this._getUpstreamSourceManagers(),o=!!e.length,l,c;if(Zx(r)){var f=r,d=void 0,p=void 0,y=void 0;if(o){var b=e[0];b.prepareSource(),y=b.getSource(),d=y.data,p=y.sourceFormat,c=[b._getVersionSign()]}else d=f.get("data",!0),p=Aa(d)?Ic:Os,c=[];var x=this._getSourceMetaRawOption()||{},S=y&&y.metaRawOption||{},T=fe(x.seriesLayoutBy,S.seriesLayoutBy)||null,A=fe(x.sourceHeader,S.sourceHeader),E=fe(x.dimensions,S.dimensions),L=T!==S.seriesLayoutBy||!!A!=!!S.sourceHeader||E;l=L?[ql(d,{seriesLayoutBy:T,sourceHeader:A,dimensions:E},p)]:[]}else{var I=r;if(o){var N=this._applyTransform(e);l=N.sourceList,c=N.upstreamSignList}else{var F=I.get("source",!0);l=[ql(F,this._getSourceMetaRawOption(),null)],c=[]}}this._setLocalSource(l,c)},n.prototype._applyTransform=function(r){var e=this._sourceHost,o=e.get("transform",!0),l=e.get("fromTransformResult",!0);if(l!=null){var c="";r.length!==1&&O5(c)}var f,d=[],p=[];return it(r,function(y){y.prepareSource();var b=y.getSource(l||0),x="";l!=null&&!b&&O5(x),d.push(b),p.push(y._getVersionSign())}),o?f=Xx(o,d,{datasetIndex:e.componentIndex}):l!=null&&(f=[qrt(d[0])]),{sourceList:f,upstreamSignList:p}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var r=this._getUpstreamSourceManagers(),e=0;e<r.length;e++){var o=r[e];if(o._isDirty()||this._upstreamSignList[e]!==o._getVersionSign())return!0}},n.prototype.getSource=function(r){r=r||0;var e=this._sourceList[r];if(!e){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(r)}return e},n.prototype.getSharedDataStore=function(r){var e=r.makeStoreSchema();return this._innerGetDataStore(e.dimensions,r.source,e.hash)},n.prototype._innerGetDataStore=function(r,e,o){var l=0,c=this._storeList,f=c[l];f||(f=c[l]={});var d=f[o];if(!d){var p=this._getUpstreamSourceManagers()[0];Zx(this._sourceHost)&&p?d=p._innerGetDataStore(r,e,o):(d=new qx,d.initData(new p5(e,r.length),r)),f[o]=d}return d},n.prototype._getUpstreamSourceManagers=function(){var r=this._sourceHost;if(Zx(r)){var e=q0(r);return e?[e.getSourceManager()]:[]}else return Gt(KN(r),function(o){return o.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var r=this._sourceHost,e,o,l;if(Zx(r))e=r.get("seriesLayoutBy",!0),o=r.get("sourceHeader",!0),l=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var c=r;e=c.get("seriesLayoutBy",!0),o=c.get("sourceHeader",!0),l=c.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:o,dimensions:l}},n}();function T5(n){var r=n.option.transform;r&&Gr(n.option.transform)}function Zx(n){return n.mainType==="series"}function O5(n){throw new Error(n)}var IA="line-height:1";function A5(n){var r=n.lineHeight;return r==null?IA:"line-height:"+yo(r+"")+"px"}function C5(n,r){var e=n.color||Rt.color.tertiary,o=n.fontSize||12,l=n.fontWeight||"400",c=n.color||Rt.color.secondary,f=n.fontSize||14,d=n.fontWeight||"900";return r==="html"?{nameStyle:"font-size:"+yo(o+"")+"px;color:"+yo(e)+";font-weight:"+yo(l+""),valueStyle:"font-size:"+yo(f+"")+"px;color:"+yo(c)+";font-weight:"+yo(d+"")}:{nameStyle:{fontSize:o,fill:e,fontWeight:l},valueStyle:{fontSize:f,fill:c,fontWeight:d}}}var P5=[0,10,20,30],RA=["",`
`,`

`,`


`];function Li(n,r){return r.type=n,r}function Kx(n){return n.type==="section"}function E5(n){return Kx(n)?PH:EH}function k5(n){if(Kx(n)){var r=0,e=n.blocks.length,o=e>1||e>0&&!n.noHeader;return it(n.blocks,function(l){var c=k5(l);c>=r&&(r=c+ +(o&&(!c||Kx(l)&&!l.noHeader)))}),r}return 0}function PH(n,r,e,o){var l=r.noHeader,c=kH(k5(r)),f=[],d=r.blocks||[];ei(!d||Ut(d)),d=d||[];var p=n.orderMode;if(r.sortBlocks&&p){d=d.slice();var y={valueAsc:"asc",valueDesc:"desc"};if(gt(y,p)){var b=new zx(y[p],null);d.sort(function(E,L){return b.evaluate(E.sortParam,L.sortParam)})}else p==="seriesDesc"&&d.reverse()}it(d,function(E,L){var I=r.valueFormatter,N=E5(E)(I?Wt(Wt({},n),{valueFormatter:I}):n,E,L>0?c.html:0,o);N!=null&&f.push(N)});var x=n.renderMode==="richText"?f.join(c.richText):NA(o,f.join(""),l?e:c.html);if(l)return x;var S=hA(r.header,"ordinal",n.useUTC),T=C5(o,n.renderMode).nameStyle,A=A5(o);return n.renderMode==="richText"?I5(n,S,T)+c.richText+x:NA(o,'<div style="'+T+";"+A+';">'+yo(S)+"</div>"+x,e)}function EH(n,r,e,o){var l=n.renderMode,c=r.noName,f=r.noValue,d=!r.markerType,p=r.name,y=n.useUTC,b=r.valueFormatter||n.valueFormatter||function(W){return W=Ut(W)?W:[W],Gt(W,function(X,$){return hA(X,Ut(T)?T[$]:T,y)})};if(!(c&&f)){var x=d?"":n.markupStyleCreator.makeTooltipMarker(r.markerType,r.markerColor||Rt.color.secondary,l),S=c?"":hA(p,"ordinal",y),T=r.valueType,A=f?[]:b(r.value,r.dataIndex),E=!d||!c,L=!d&&c,I=C5(o,l),N=I.nameStyle,F=I.valueStyle;return l==="richText"?(d?"":x)+(c?"":I5(n,S,N))+(f?"":DH(n,A,E,L,F)):NA(o,(d?"":x)+(c?"":LH(S,!d,N))+(f?"":D5(A,E,L,F)),e)}}function L5(n,r,e,o,l,c){if(n){var f=E5(n),d={useUTC:l,renderMode:e,orderMode:o,markupStyleCreator:r,valueFormatter:n.valueFormatter};return f(d,n,0,c)}}function kH(n){return{html:P5[n],richText:RA[n]}}function NA(n,r,e){var o='<div style="clear:both"></div>',l="margin: "+e+"px 0 0",c=A5(n);return'<div style="'+l+";"+c+';">'+r+o+"</div>"}function LH(n,r,e){var o=r?"margin-left:2px":"";return'<span style="'+e+";"+o+'">'+yo(n)+"</span>"}function D5(n,r,e,o){var l=e?"10px":"20px",c=r?"float:right;margin-left:"+l:"";return n=Ut(n)?n:[n],'<span style="'+c+";"+o+'">'+Gt(n,function(f){return yo(f)}).join("&nbsp;&nbsp;")+"</span>"}function I5(n,r,e){return n.markupStyleCreator.wrapRichTextStyle(r,e)}function DH(n,r,e,o,l){var c=[l],f=o?10:20;return e&&c.push({padding:[0,0,0,f],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Ut(r)?r.join("  "):r,c)}function BA(n,r){var e=n.getData().getItemVisual(r,"style"),o=e[n.visualDrawType];return Gd(o)}function R5(n,r){var e=n.get("padding");return e!=null?e:r==="richText"?[8,10]:10}var Qx=function(){function n(){this.richTextStyles={},this._nextStyleNameId=CR()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(r,e,o){var l=o==="richText"?this._generateStyleName():null,c=JW({color:e,type:r,renderMode:o,markerId:l});return oe(c)?c:(this.richTextStyles[l]=c.style,c.content)},n.prototype.wrapRichTextStyle=function(r,e){var o={};Ut(e)?it(e,function(c){return Wt(o,c)}):Wt(o,e);var l=this._generateStyleName();return this.richTextStyles[l]=o,"{"+l+"|"+r+"}"},n}();function N5(n){var r=n.series,e=n.dataIndex,o=n.multipleSeries,l=r.getData(),c=l.mapDimensionsAll("defaultedTooltip"),f=c.length,d=r.getRawValue(e),p=Ut(d),y=BA(r,e),b,x,S,T;if(f>1||p&&!f){var A=IH(d,r,e,c,y);b=A.inlineValues,x=A.inlineValueTypes,S=A.blocks,T=A.inlineValues[0]}else if(f){var E=l.getDimensionInfo(c[0]);T=b=qp(l,e,c[0]),x=E.type}else T=b=p?d[0]:d;var L=MO(r),I=L&&r.name||"",N=l.getName(e),F=o?I:N;return Li("section",{header:I,noHeader:o||!L,sortParam:T,blocks:[Li("nameValue",{markerType:"item",markerColor:y,name:F,noName:!Xo(F),value:b,valueType:x,dataIndex:e})].concat(S||[])})}function IH(n,r,e,o,l){var c=r.getData(),f=pi(n,function(x,S,T){var A=c.getDimensionInfo(T);return x=x||A&&A.tooltip!==!1&&A.displayName!=null},!1),d=[],p=[],y=[];o.length?it(o,function(x){b(qp(c,e,x),x)}):it(n,b);function b(x,S){var T=c.getDimensionInfo(S);!T||T.otherDims.tooltip===!1||(f?y.push(Li("nameValue",{markerType:"subItem",markerColor:l,name:T.displayName,value:x,valueType:T.type})):(d.push(x),p.push(T.type)))}return{inlineValues:d,inlineValueTypes:p,blocks:y}}var zc=br();function Jx(n,r){return n.getName(r)||n.getId(r)}var tw="__universalTransitionEnabled",ew=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return r.prototype.init=function(e,o,l){this.seriesIndex=this.componentIndex,this.dataTask=lm({count:NH,reset:z5}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,l);var c=zc(this).sourceManager=new dm(this);c.prepareSource();var f=this.getInitialData(e,l);F5(f,this),this.dataTask.context.data=f,zc(this).dataBeforeProcessed=f,B5(this),this._initSelectedMapFromData(f)},r.prototype.mergeDefaultAndTheme=function(e,o){var l=el(this),c=l?Ud(e):{},f=this.subType;Yr.hasClass(f)&&(f+="Series"),lr(e,o.getTheme().get(this.subType)),lr(e,this.getDefaultOption()),Bf(e,"label",["show"]),this.fillDataTextStyle(e.data),l&&zu(e,c,l)},r.prototype.mergeOption=function(e,o){e=lr(this.option,e,!0),this.fillDataTextStyle(e.data);var l=el(this);l&&zu(this.option,e,l);var c=zc(this).sourceManager;c.dirty(),c.prepareSource();var f=this.getInitialData(e,o);F5(f,this),this.dataTask.dirty(),this.dataTask.context.data=f,zc(this).dataBeforeProcessed=f,B5(this),this._initSelectedMapFromData(f)},r.prototype.fillDataTextStyle=function(e){if(e&&!Aa(e))for(var o=["show"],l=0;l<e.length;l++)e[l]&&e[l].label&&Bf(e[l],"label",o)},r.prototype.getInitialData=function(e,o){},r.prototype.appendData=function(e){var o=this.getRawData();o.appendData(e.data)},r.prototype.getData=function(e){var o=vm(this);if(o){var l=o.context.data;return e==null||!l.getLinkedData?l:l.getLinkedData(e)}else return zc(this).data},r.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},r.prototype.setData=function(e){var o=vm(this);if(o){var l=o.context;l.outputData=e,o!==this.dataTask&&(l.data=e)}zc(this).data=e},r.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return ve(e)},r.prototype.getSourceManager=function(){return zc(this).sourceManager},r.prototype.getSource=function(){return this.getSourceManager().getSource()},r.prototype.getRawData=function(){return zc(this).dataBeforeProcessed},r.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},r.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},r.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},r.prototype.indicesOfNearest=function(e,o,l,c){var f=this.getData(),d=this.coordinateSystem,p=d&&d.getAxis(e);if(!d||!p)return[];var y=p.dataToCoord(l);c==null&&(c=1/0);var b=[],x=1/0,S=-1,T=0;return f.each(o,function(A,E){var L=p.dataToCoord(A),I=y-L,N=Math.abs(I);N<=c&&((N<x||N===x&&I>=0&&S<0)&&(x=N,S=I,T=0),I===S&&(b[T++]=E))}),b.length=T,b},r.prototype.formatTooltip=function(e,o,l){return N5({series:this,dataIndex:e,multipleSeries:o})},r.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(cr.node&&!(e&&e.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},r.prototype.restoreData=function(){this.dataTask.dirty()},r.prototype.getColorFromPalette=function(e,o,l){var c=this.ecModel,f=Xl.prototype.getColorFromPalette.call(this,e,o,l);return f||(f=c.getColorFromPalette(e,o,l)),f},r.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},r.prototype.getProgressive=function(){return this.get("progressive")},r.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},r.prototype.select=function(e,o){this._innerSelect(this.getData(o),e)},r.prototype.unselect=function(e,o){var l=this.option.selectedMap;if(l){var c=this.option.selectedMode,f=this.getData(o);if(c==="series"||l==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var d=0;d<e.length;d++){var p=e[d],y=Jx(f,p);l[y]=!1,this._selectedDataIndicesMap[y]=-1}}},r.prototype.toggleSelect=function(e,o){for(var l=[],c=0;c<e.length;c++)l[0]=e[c],this.isSelected(e[c],o)?this.unselect(l,o):this.select(l,o)},r.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,o=vr(e),l=[],c=0;c<o.length;c++){var f=e[o[c]];f>=0&&l.push(f)}return l},r.prototype.isSelected=function(e,o){var l=this.option.selectedMap;if(!l)return!1;var c=this.getData(o);return(l==="all"||l[Jx(c,e)])&&!c.getItemModel(e).get(["select","disabled"])},r.prototype.isUniversalTransitionEnabled=function(){if(this[tw])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},r.prototype._innerSelect=function(e,o){var l,c,f=this.option,d=f.selectedMode,p=o.length;if(!(!d||!p)){if(d==="series")f.selectedMap="all";else if(d==="multiple"){ce(f.selectedMap)||(f.selectedMap={});for(var y=f.selectedMap,b=0;b<p;b++){var x=o[b],S=Jx(e,x);y[S]=!0,this._selectedDataIndicesMap[S]=e.getRawIndex(x)}}else if(d==="single"||d===!0){var T=o[p-1],S=Jx(e,T);f.selectedMap=(l={},l[S]=!0,l),this._selectedDataIndicesMap=(c={},c[S]=e.getRawIndex(T),c)}}},r.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var o=[];e.hasItemOption&&e.each(function(l){var c=e.getRawDataItem(l);c&&c.selected&&o.push(l)}),o.length>0&&this._innerSelect(e,o)}},r.registerClass=function(e){return Yr.registerClass(e)},r.protoInitialize=function(){var e=r.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),r}(Yr);Ln(ew,eh),Ln(ew,Xl),fW(ew,Yr);function B5(n){var r=n.name;MO(n)||(n.name=RH(n)||r)}function RH(n){var r=n.getRawData(),e=r.mapDimensionsAll("seriesName"),o=[];return it(e,function(l){var c=r.getDimensionInfo(l);c.displayName&&o.push(c.displayName)}),o.join(" ")}function NH(n){return n.model.getRawData().count()}function z5(n){var r=n.model;return r.setData(r.getRawData().cloneShallow()),BH}function BH(n,r){r.outputData&&n.end>r.outputData.count()&&r.model.getRawData().cloneShallow(r.outputData)}function F5(n,r){it(ha(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,hr(Qrt,r))})}function Qrt(n,r){var e=vm(n);return e&&e.setOutputEnd((r||this).count()),r}function vm(n){var r=(n.ecModel||{}).scheduler,e=r&&r.getPipeline(n.uid);if(e){var o=e.currentTask;if(o){var l=o.agentStubMap;l&&(o=l.get(n.uid))}return o}}var ai=ew,rw=function(){function n(){this.group=new Ye,this.uid=zp("viewComponent")}return n.prototype.init=function(r,e){},n.prototype.render=function(r,e,o,l){},n.prototype.dispose=function(r,e){},n.prototype.updateView=function(r,e,o,l){},n.prototype.updateLayout=function(r,e,o,l){},n.prototype.updateVisual=function(r,e,o,l){},n.prototype.toggleBlurSeries=function(r,e,o){},n.prototype.eachRendered=function(r){var e=this.group;e&&e.traverse(r)},n}();WR(rw),Ff(rw);var ui=rw;function ju(){var n=br();return function(r){var e=n(r),o=r.pipelineContext,l=!!e.large,c=!!e.progressiveRender,f=e.large=!!(o&&o.large),d=e.progressiveRender=!!(o&&o.progressiveRender);return(l!==f||c!==d)&&"reset"}}var Bn=xs.CMD,nw=[[],[],[]],zA=Math.sqrt,Jrt=Math.atan2;function zH(n,r){if(r){var e=n.data,o=n.len(),l,c,f,d,p,y,b=Bn.M,x=Bn.C,S=Bn.L,T=Bn.R,A=Bn.A,E=Bn.Q;for(f=0,d=0;f<o;){switch(l=e[f++],d=f,c=0,l){case b:c=1;break;case S:c=1;break;case x:c=3;break;case E:c=2;break;case A:var L=r[4],I=r[5],N=zA(r[0]*r[0]+r[1]*r[1]),F=zA(r[2]*r[2]+r[3]*r[3]),W=Jrt(-r[1]/F,r[0]/N);e[f]*=N,e[f++]+=L,e[f]*=F,e[f++]+=I,e[f++]*=N,e[f++]*=F,e[f++]+=W,e[f++]+=W,f+=2,d=f;break;case T:y[0]=e[f++],y[1]=e[f++],$i(y,y,r),e[d++]=y[0],e[d++]=y[1],y[0]+=e[f++],y[1]+=e[f++],$i(y,y,r),e[d++]=y[0],e[d++]=y[1]}for(p=0;p<c;p++){var X=nw[p];X[0]=e[f++],X[1]=e[f++],$i(X,X,r),e[d++]=X[0],e[d++]=X[1]}}n.increaseVersion()}}var pm=Math.sqrt,tv=Math.sin,FA=Math.cos,iw=Math.PI;function jA(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function rh(n,r){return(n[0]*r[0]+n[1]*r[1])/(jA(n)*jA(r))}function VA(n,r){return(n[0]*r[1]<n[1]*r[0]?-1:1)*Math.acos(rh(n,r))}function j5(n,r,e,o,l,c,f,d,p,y,b){var x=p*(iw/180),S=FA(x)*(n-e)/2+tv(x)*(r-o)/2,T=-1*tv(x)*(n-e)/2+FA(x)*(r-o)/2,A=S*S/(f*f)+T*T/(d*d);A>1&&(f*=pm(A),d*=pm(A));var E=(l===c?-1:1)*pm((f*f*(d*d)-f*f*(T*T)-d*d*(S*S))/(f*f*(T*T)+d*d*(S*S)))||0,L=E*f*T/d,I=E*-d*S/f,N=(n+e)/2+FA(x)*L-tv(x)*I,F=(r+o)/2+tv(x)*L+FA(x)*I,W=VA([1,0],[(S-L)/f,(T-I)/d]),X=[(S-L)/f,(T-I)/d],$=[(-1*S-L)/f,(-1*T-I)/d],K=VA(X,$);if(rh(X,$)<=-1&&(K=iw),rh(X,$)>=1&&(K=0),K<0){var et=Math.round(K/iw*1e6)/1e6;K=iw*2+et%2*iw}b.addData(y,N,F,f,d,W,K,x,c)}var V5=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,G5=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function FH(n){var r=new xs;if(!n)return r;var e=0,o=0,l=e,c=o,f,d=xs.CMD,p=n.match(V5);if(!p)return r;for(var y=0;y<p.length;y++){for(var b=p[y],x=b.charAt(0),S=void 0,T=b.match(G5)||[],A=T.length,E=0;E<A;E++)T[E]=parseFloat(T[E]);for(var L=0;L<A;){var I=void 0,N=void 0,F=void 0,W=void 0,X=void 0,$=void 0,K=void 0,et=e,at=o,ot=void 0,ht=void 0;switch(x){case"l":e+=T[L++],o+=T[L++],S=d.L,r.addData(S,e,o);break;case"L":e=T[L++],o=T[L++],S=d.L,r.addData(S,e,o);break;case"m":e+=T[L++],o+=T[L++],S=d.M,r.addData(S,e,o),l=e,c=o,x="l";break;case"M":e=T[L++],o=T[L++],S=d.M,r.addData(S,e,o),l=e,c=o,x="L";break;case"h":e+=T[L++],S=d.L,r.addData(S,e,o);break;case"H":e=T[L++],S=d.L,r.addData(S,e,o);break;case"v":o+=T[L++],S=d.L,r.addData(S,e,o);break;case"V":o=T[L++],S=d.L,r.addData(S,e,o);break;case"C":S=d.C,r.addData(S,T[L++],T[L++],T[L++],T[L++],T[L++],T[L++]),e=T[L-2],o=T[L-1];break;case"c":S=d.C,r.addData(S,T[L++]+e,T[L++]+o,T[L++]+e,T[L++]+o,T[L++]+e,T[L++]+o),e+=T[L-2],o+=T[L-1];break;case"S":I=e,N=o,ot=r.len(),ht=r.data,f===d.C&&(I+=e-ht[ot-4],N+=o-ht[ot-3]),S=d.C,et=T[L++],at=T[L++],e=T[L++],o=T[L++],r.addData(S,I,N,et,at,e,o);break;case"s":I=e,N=o,ot=r.len(),ht=r.data,f===d.C&&(I+=e-ht[ot-4],N+=o-ht[ot-3]),S=d.C,et=e+T[L++],at=o+T[L++],e+=T[L++],o+=T[L++],r.addData(S,I,N,et,at,e,o);break;case"Q":et=T[L++],at=T[L++],e=T[L++],o=T[L++],S=d.Q,r.addData(S,et,at,e,o);break;case"q":et=T[L++]+e,at=T[L++]+o,e+=T[L++],o+=T[L++],S=d.Q,r.addData(S,et,at,e,o);break;case"T":I=e,N=o,ot=r.len(),ht=r.data,f===d.Q&&(I+=e-ht[ot-4],N+=o-ht[ot-3]),e=T[L++],o=T[L++],S=d.Q,r.addData(S,I,N,e,o);break;case"t":I=e,N=o,ot=r.len(),ht=r.data,f===d.Q&&(I+=e-ht[ot-4],N+=o-ht[ot-3]),e+=T[L++],o+=T[L++],S=d.Q,r.addData(S,I,N,e,o);break;case"A":F=T[L++],W=T[L++],X=T[L++],$=T[L++],K=T[L++],et=e,at=o,e=T[L++],o=T[L++],S=d.A,j5(et,at,e,o,$,K,F,W,X,S,r);break;case"a":F=T[L++],W=T[L++],X=T[L++],$=T[L++],K=T[L++],et=e,at=o,e+=T[L++],o+=T[L++],S=d.A,j5(et,at,e,o,$,K,F,W,X,S,r);break}}(x==="z"||x==="Z")&&(S=d.Z,r.addData(S),e=l,o=c),f=S}return r.toStatic(),r}var W5=function(n){Tt(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.applyTransform=function(e){},r}(Sr);function H5(n){return n.setData!=null}function GA(n,r){var e=FH(n),o=Wt({},r);return o.buildPath=function(l){var c=H5(l);if(c&&l.canSave()){l.appendPath(e);var f=l.getContext();f&&l.rebuildPath(f,1)}else{var f=c?l.getContext():l;f&&e.rebuildPath(f,1)}},o.applyTransform=function(l){zH(e,l),this.dirtyShape()},o}function Qp(n,r){return new W5(GA(n,r))}function aw(n,r){var e=GA(n,r),o=function(l){Tt(c,l);function c(f){var d=l.call(this,f)||this;return d.applyTransform=e.applyTransform,d.buildPath=e.buildPath,d}return c}(W5);return o}function Y5(n,r){for(var e=[],o=n.length,l=0;l<o;l++){var c=n[l];e.push(c.getUpdatedPathProxy(!0))}var f=new Sr(r);return f.createPathProxy(),f.buildPath=function(d){if(H5(d)){d.appendPath(e);var p=d.getContext();p&&d.rebuildPath(p,1)}},f}function ow(n,r){r=r||{};var e=new Sr;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),r.bakeTransform?zH(e.path,n.getComputedTransform()):r.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var U5=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),gm=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new U5},r.prototype.buildPath=function(e,o){e.moveTo(o.cx+o.r,o.cy),e.arc(o.cx,o.cy,o.r,0,Math.PI*2)},r}(Sr);gm.prototype.type="circle";var nh=gm,jH=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),X5=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new jH},r.prototype.buildPath=function(e,o){var l=.5522848,c=o.cx,f=o.cy,d=o.rx,p=o.ry,y=d*l,b=p*l;e.moveTo(c-d,f),e.bezierCurveTo(c-d,f-b,c-y,f-p,c,f-p),e.bezierCurveTo(c+y,f-p,c+d,f-b,c+d,f),e.bezierCurveTo(c+d,f+b,c+y,f+p,c,f+p),e.bezierCurveTo(c-y,f+p,c-d,f+b,c-d,f),e.closePath()},r}(Sr);X5.prototype.type="ellipse";var WA=X5,$5=Math.PI,Vu=$5*2,Fc=Math.sin,ih=Math.cos,HA=Math.acos,Ia=Math.atan2,YA=Math.abs,Zl=Math.sqrt,jc=Math.max,Gu=Math.min,ol=1e-4;function q5(n,r,e,o,l,c,f,d){var p=e-n,y=o-r,b=f-l,x=d-c,S=x*p-b*y;if(!(S*S<ol))return S=(b*(r-c)-x*(n-l))/S,[n+S*p,r+S*y]}function UA(n,r,e,o,l,c,f){var d=n-e,p=r-o,y=(f?c:-c)/Zl(d*d+p*p),b=y*p,x=-y*d,S=n+b,T=r+x,A=e+b,E=o+x,L=(S+A)/2,I=(T+E)/2,N=A-S,F=E-T,W=N*N+F*F,X=l-c,$=S*E-A*T,K=(F<0?-1:1)*Zl(jc(0,X*X*W-$*$)),et=($*F-N*K)/W,at=(-$*N-F*K)/W,ot=($*F+N*K)/W,ht=(-$*N+F*K)/W,yt=et-L,vt=at-I,bt=ot-L,Mt=ht-I;return yt*yt+vt*vt>bt*bt+Mt*Mt&&(et=ot,at=ht),{cx:et,cy:at,x0:-b,y0:-x,x1:et*(l/X-1),y1:at*(l/X-1)}}function Z5(n){var r;if(Ut(n)){var e=n.length;if(!e)return n;e===1?r=[n[0],n[0],0,0]:e===2?r=[n[0],n[0],n[1],n[1]]:e===3?r=n.concat(n[2]):r=n}else r=[n,n,n,n];return r}function ev(n,r){var e,o=jc(r.r,0),l=jc(r.r0||0,0),c=o>0,f=l>0;if(!(!c&&!f)){if(c||(o=l,l=0),l>o){var d=o;o=l,l=d}var p=r.startAngle,y=r.endAngle;if(!(isNaN(p)||isNaN(y))){var b=r.cx,x=r.cy,S=!!r.clockwise,T=YA(y-p),A=T>Vu&&T%Vu;if(A>ol&&(T=A),!(o>ol))n.moveTo(b,x);else if(T>Vu-ol)n.moveTo(b+o*ih(p),x+o*Fc(p)),n.arc(b,x,o,p,y,!S),l>ol&&(n.moveTo(b+l*ih(y),x+l*Fc(y)),n.arc(b,x,l,y,p,S));else{var E=void 0,L=void 0,I=void 0,N=void 0,F=void 0,W=void 0,X=void 0,$=void 0,K=void 0,et=void 0,at=void 0,ot=void 0,ht=void 0,yt=void 0,vt=void 0,bt=void 0,Mt=o*ih(p),St=o*Fc(p),Pt=l*ih(y),Et=l*Fc(y),Lt=T>ol;if(Lt){var zt=r.cornerRadius;zt&&(e=Z5(zt),E=e[0],L=e[1],I=e[2],N=e[3]);var Ht=YA(o-l)/2;if(F=Gu(Ht,I),W=Gu(Ht,N),X=Gu(Ht,E),$=Gu(Ht,L),at=K=jc(F,W),ot=et=jc(X,$),(K>ol||et>ol)&&(ht=o*ih(y),yt=o*Fc(y),vt=l*ih(p),bt=l*Fc(p),T<$5)){var qt=q5(Mt,St,vt,bt,ht,yt,Pt,Et);if(qt){var ne=Mt-qt[0],Ce=St-qt[1],Qe=ht-qt[0],jr=yt-qt[1],wn=1/Fc(HA((ne*Qe+Ce*jr)/(Zl(ne*ne+Ce*Ce)*Zl(Qe*Qe+jr*jr)))/2),dr=Zl(qt[0]*qt[0]+qt[1]*qt[1]);at=Gu(K,(o-dr)/(wn+1)),ot=Gu(et,(l-dr)/(wn-1))}}}if(!Lt)n.moveTo(b+Mt,x+St);else if(at>ol){var Ge=Gu(I,at),Mr=Gu(N,at),Pe=UA(vt,bt,Mt,St,o,Ge,S),fr=UA(ht,yt,Pt,Et,o,Mr,S);n.moveTo(b+Pe.cx+Pe.x0,x+Pe.cy+Pe.y0),at<K&&Ge===Mr?n.arc(b+Pe.cx,x+Pe.cy,at,Ia(Pe.y0,Pe.x0),Ia(fr.y0,fr.x0),!S):(Ge>0&&n.arc(b+Pe.cx,x+Pe.cy,Ge,Ia(Pe.y0,Pe.x0),Ia(Pe.y1,Pe.x1),!S),n.arc(b,x,o,Ia(Pe.cy+Pe.y1,Pe.cx+Pe.x1),Ia(fr.cy+fr.y1,fr.cx+fr.x1),!S),Mr>0&&n.arc(b+fr.cx,x+fr.cy,Mr,Ia(fr.y1,fr.x1),Ia(fr.y0,fr.x0),!S))}else n.moveTo(b+Mt,x+St),n.arc(b,x,o,p,y,!S);if(!(l>ol)||!Lt)n.lineTo(b+Pt,x+Et);else if(ot>ol){var Ge=Gu(E,ot),Mr=Gu(L,ot),Pe=UA(Pt,Et,ht,yt,l,-Mr,S),fr=UA(Mt,St,vt,bt,l,-Ge,S);n.lineTo(b+Pe.cx+Pe.x0,x+Pe.cy+Pe.y0),ot<et&&Ge===Mr?n.arc(b+Pe.cx,x+Pe.cy,ot,Ia(Pe.y0,Pe.x0),Ia(fr.y0,fr.x0),!S):(Mr>0&&n.arc(b+Pe.cx,x+Pe.cy,Mr,Ia(Pe.y0,Pe.x0),Ia(Pe.y1,Pe.x1),!S),n.arc(b,x,l,Ia(Pe.cy+Pe.y1,Pe.cx+Pe.x1),Ia(fr.cy+fr.y1,fr.cx+fr.x1),S),Ge>0&&n.arc(b+fr.cx,x+fr.cy,Ge,Ia(fr.y1,fr.x1),Ia(fr.y0,fr.x0),!S))}else n.lineTo(b+Pt,x+Et),n.arc(b,x,l,y,p,S)}n.closePath()}}}var XA=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),K5=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new XA},r.prototype.buildPath=function(e,o){ev(e,o)},r.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},r}(Sr);K5.prototype.type="sector";var uo=K5,Jp=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),sw=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new Jp},r.prototype.buildPath=function(e,o){var l=o.cx,c=o.cy,f=Math.PI*2;e.moveTo(l+o.r,c),e.arc(l,c,o.r,0,f,!1),e.moveTo(l+o.r0,c),e.arc(l,c,o.r0,0,f,!0)},r}(Sr);sw.prototype.type="ring";var zn=sw;function tnt(n,r,e,o){var l=[],c=[],f=[],d=[],p,y,b,x;if(o){b=[1/0,1/0],x=[-1/0,-1/0];for(var S=0,T=n.length;S<T;S++)Af(b,b,n[S]),dd(x,x,n[S]);Af(b,b,o[0]),dd(x,x,o[1])}for(var S=0,T=n.length;S<T;S++){var A=n[S];if(e)p=n[S?S-1:T-1],y=n[(S+1)%T];else if(S===0||S===T-1){l.push(gi(n[S]));continue}else p=n[S-1],y=n[S+1];Lo(c,y,p),xu(c,c,r);var E=up(A,p),L=up(A,y),I=E+L;I!==0&&(E/=I,L/=I),xu(f,c,-E),xu(d,c,L);var N=Of([],A,f),F=Of([],A,d);o&&(dd(N,N,b),Af(N,N,x),dd(F,F,b),Af(F,F,x)),l.push(N),l.push(F)}return e&&l.push(l.shift()),l}function Q5(n,r,e){var o=r.smooth,l=r.points;if(l&&l.length>=2){if(o){var c=tnt(l,o,e,r.smoothConstraint);n.moveTo(l[0][0],l[0][1]);for(var f=l.length,d=0;d<(e?f:f-1);d++){var p=c[d*2],y=c[d*2+1],b=l[(d+1)%f];n.bezierCurveTo(p[0],p[1],y[0],y[1],b[0],b[1])}}else{n.moveTo(l[0][0],l[0][1]);for(var d=1,x=l.length;d<x;d++)n.lineTo(l[d][0],l[d][1])}e&&n.closePath()}}var VH=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Te=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new VH},r.prototype.buildPath=function(e,o){Q5(e,o,!0)},r}(Sr);Te.prototype.type="polygon";var xo=Te,ent=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),J5=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ent},r.prototype.buildPath=function(e,o){Q5(e,o,!1)},r}(Sr);J5.prototype.type="polyline";var Xa=J5,t3={},tg=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Wu=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new tg},r.prototype.buildPath=function(e,o){var l,c,f,d;if(this.subPixelOptimize){var p=Qo(t3,o,this.style);l=p.x1,c=p.y1,f=p.x2,d=p.y2}else l=o.x1,c=o.y1,f=o.x2,d=o.y2;var y=o.percent;y!==0&&(e.moveTo(l,c),y<1&&(f=l*(1-y)+f*y,d=c*(1-y)+d*y),e.lineTo(f,d))},r.prototype.pointAt=function(e){var o=this.shape;return[o.x1*(1-e)+o.x2*e,o.y1*(1-e)+o.y2*e]},r}(Sr);Wu.prototype.type="line";var ua=Wu,ir=[],ca=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function Di(n,r,e){var o=n.cpx2,l=n.cpy2;return o!=null||l!=null?[(e?tR:Wa)(n.x1,n.cpx1,n.cpx2,n.x2,r),(e?tR:Wa)(n.y1,n.cpy1,n.cpy2,n.y2,r)]:[(e?eR:io)(n.x1,n.cpx1,n.x2,r),(e?eR:io)(n.y1,n.cpy1,n.y2,r)]}var ym=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ca},r.prototype.buildPath=function(e,o){var l=o.x1,c=o.y1,f=o.x2,d=o.y2,p=o.cpx1,y=o.cpy1,b=o.cpx2,x=o.cpy2,S=o.percent;S!==0&&(e.moveTo(l,c),b==null||x==null?(S<1&&(d_(l,p,f,S,ir),p=ir[1],f=ir[2],d_(c,y,d,S,ir),y=ir[1],d=ir[2]),e.quadraticCurveTo(p,y,f,d)):(S<1&&(bd(l,p,b,f,S,ir),p=ir[1],b=ir[2],f=ir[3],bd(c,y,x,d,S,ir),y=ir[1],x=ir[2],d=ir[3]),e.bezierCurveTo(p,y,b,x,f,d)))},r.prototype.pointAt=function(e){return Di(this.shape,e,!1)},r.prototype.tangentAt=function(e){var o=Di(this.shape,e,!0);return go(o,o)},r}(Sr);ym.prototype.type="bezier-curve";var ci=ym,sl=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),rv=function(n){Tt(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new sl},r.prototype.buildPath=function(e,o){var l=o.cx,c=o.cy,f=Math.max(o.r,0),d=o.startAngle,p=o.endAngle,y=o.clockwise,b=Math.cos(d),x=Math.sin(d);e.moveTo(b*f+l,x*f+c),e.arc(l,c,f,d,p,!y)},r}(Sr);rv.prototype.type="arc";var lw=rv,$A=function(n){Tt(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="compound",e}return r.prototype._updatePathDirty=function(){for(var e=this.shape.paths,o=this.shapeChanged(),l=0;l<e.length;l++)o=o||e[l].shapeChanged();o&&this.dirtyShape()},r.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],o=this.getGlobalScale(),l=0;l<e.length;l++)e[l].path||e[l].createPathProxy(),e[l].path.setScale(o[0],o[1],e[l].segmentIgnoreThreshold)},r.prototype.buildPath=function(e,o){for(var l=o.paths||[],c=0;c<l.length;c++)l[c].buildPath(e,l[c].shape,!0)},r.prototype.afterBrush=function(){for(var e=this.shape.paths||[],o=0;o<e.length;o++)e[o].pathUpdated()},r.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Sr.prototype.getBoundingRect.call(this)},r}(Sr),mm=$A,uw=function(){function n(r){this.colorStops=r||[]}return n.prototype.addColorStop=function(r,e){this.colorStops.push({offset:r,color:e})},n}(),bm=uw,nv=function(n){Tt(r,n);function r(e,o,l,c,f,d){var p=n.call(this,f)||this;return p.x=e==null?0:e,p.y=o==null?0:o,p.x2=l==null?1:l,p.y2=c==null?0:c,p.type="linear",p.global=d||!1,p}return r}(bm),Vc=nv,eg=function(n){Tt(r,n);function r(e,o,l,c,f){var d=n.call(this,c)||this;return d.x=e==null?.5:e,d.y=o==null?.5:o,d.r=l==null?.5:l,d.type="radial",d.global=f||!1,d}return r}(bm),cw=eg,qA=Math.min,GH=Math.max,rg=Math.abs,iv=[0,0],ah=[0,0],Vi=kl(),fw=Vi.minTv,oh=Vi.maxTv,WH=function(){function n(r,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Ke;for(var o=0;o<2;o++)this._axes[o]=new Ke;r&&this.fromBoundingRect(r,e)}return n.prototype.fromBoundingRect=function(r,e){var o=this._corners,l=this._axes,c=r.x,f=r.y,d=c+r.width,p=f+r.height;if(o[0].set(c,f),o[1].set(d,f),o[2].set(d,p),o[3].set(c,p),e)for(var y=0;y<4;y++)o[y].transform(e);Ke.sub(l[0],o[1],o[0]),Ke.sub(l[1],o[3],o[0]),l[0].normalize(),l[1].normalize();for(var y=0;y<2;y++)this._origin[y]=l[y].dot(o[0])},n.prototype.intersect=function(r,e,o){var l=!0,c=!e;return e&&Ke.set(e,0,0),Vi.reset(o,!c),!this._intersectCheckOneSide(this,r,c,1)&&(l=!1,c)||!this._intersectCheckOneSide(r,this,c,-1)&&(l=!1,c)||!c&&!Vi.negativeSize&&Ke.copy(e,l?Vi.useDir?Vi.dirMinTv:fw:oh),l},n.prototype._intersectCheckOneSide=function(r,e,o,l){for(var c=!0,f=0;f<2;f++){var d=r._axes[f];if(r._getProjMinMaxOnAxis(f,r._corners,iv),r._getProjMinMaxOnAxis(f,e._corners,ah),Vi.negativeSize||iv[1]<ah[0]||iv[0]>ah[1]){if(c=!1,Vi.negativeSize||o)return c;var p=rg(ah[0]-iv[1]),y=rg(iv[0]-ah[1]);qA(p,y)>oh.len()&&(p<y?Ke.scale(oh,d,-p*l):Ke.scale(oh,d,y*l))}else if(!o){var p=rg(ah[0]-iv[1]),y=rg(iv[0]-ah[1]);(Vi.useDir||qA(p,y)<fw.len())&&((p<y||!Vi.bidirectional)&&(Ke.scale(fw,d,p*l),Vi.useDir&&Vi.calcDirMTV()),(p>=y||!Vi.bidirectional)&&(Ke.scale(fw,d,-y*l),Vi.useDir&&Vi.calcDirMTV()))}}return c},n.prototype._getProjMinMaxOnAxis=function(r,e,o){for(var l=this._axes[r],c=this._origin,f=e[0].dot(l)+c[r],d=f,p=f,y=1;y<e.length;y++){var b=e[y].dot(l)+c[r];d=qA(b,d),p=GH(b,p)}o[0]=d+Vi.touchThreshold,o[1]=p-Vi.touchThreshold,Vi.negativeSize=o[1]<o[0]},n}(),e3=WH,hw=[],r3=function(n){Tt(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return r.prototype.traverse=function(e,o){e.call(o,this)},r.prototype.useStyle=function(){this.style={}},r.prototype.getCursor=function(){return this._cursor},r.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},r.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},r.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},r.prototype.addDisplayable=function(e,o){o?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},r.prototype.addDisplayables=function(e,o){o=o||!1;for(var l=0;l<e.length;l++)this.addDisplayable(e[l],o)},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},r.prototype.eachPendingDisplayable=function(e){for(var o=this._cursor;o<this._displayables.length;o++)e&&e(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)e&&e(this._temporaryDisplayables[o])},r.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var o=this._displayables[e];o.parent=this,o.update(),o.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var o=this._temporaryDisplayables[e];o.parent=this,o.update(),o.parent=null}},r.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Je(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var l=this._displayables[o],c=l.getBoundingRect().clone();l.needLocalTransform()&&c.applyTransform(l.getLocalTransform(hw)),e.union(c)}this._rect=e}return this._rect},r.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),c=this.getBoundingRect();if(c.contain(l[0],l[1]))for(var f=0;f<this._displayables.length;f++){var d=this._displayables[f];if(d.contain(e,o))return!0}return!1},r}(Fi),HH=r3,ZA={},pr=["x","y"],ea=["width","height"];function dw(n){return Sr.extend(n)}var wo=aw;function Gc(n,r){return wo(n,r)}function ma(n,r){ZA[n]=r}function Hu(n){if(ZA.hasOwnProperty(n))return ZA[n]}function vw(n,r,e,o){var l=Qp(n,r);return e&&(o==="center"&&(e=KA(e,l.getBoundingRect())),i3(l,e)),l}function n3(n,r,e){var o=new ka({style:{image:n,x:r.x,y:r.y,width:r.width,height:r.height},onload:function(l){if(e==="center"){var c={width:l.width,height:l.height};o.setStyle(KA(r,c))}}});return o}function KA(n,r){var e=r.width/r.height,o=n.height*e,l;o<=n.width?l=n.height:(o=n.width,l=o/e);var c=n.x+n.width/2,f=n.y+n.height/2;return{x:c-o/2,y:f-l/2,width:o,height:l}}var Kl=Y5;function i3(n,r){if(n.applyTransform){var e=n.getBoundingRect(),o=e.calculateTransform(r);n.applyTransform(o)}}function av(n,r){return Qo(n,n,{lineWidth:r}),n}function a3(n,r){return iN(n,n,r),n}var pw=Ms;function $e(n,r){for(var e=RT([]);n&&n!==r;)Su(e,n.getLocalTransform(),e),n=n.parent;return e}function Ql(n,r,e){return r&&!vi(r)&&(r=ms.getLocalTransform(r)),e&&(r=Ca([],r)),$i([],n,r)}function gw(n,r,e){var o=r[4]===0||r[5]===0||r[0]===0?1:zl(2*r[4]/r[0]),l=r[4]===0||r[5]===0||r[2]===0?1:zl(2*r[4]/r[2]),c=[n==="left"?-o:n==="right"?o:0,n==="top"?-l:n==="bottom"?l:0];return c=Ql(c,r,e),zl(c[0])>zl(c[1])?c[0]>0?"right":"left":c[1]>0?"bottom":"top"}function ng(n){return!n.isGroup}function o3(n){return n.shape!=null}function sh(n,r,e){if(!n||!r)return;function o(f){var d={};return f.traverse(function(p){ng(p)&&p.anid&&(d[p.anid]=p)}),d}function l(f){var d={x:f.x,y:f.y,rotation:f.rotation};return o3(f)&&(d.shape=Ne(f.shape)),d}var c=o(n);r.traverse(function(f){if(ng(f)&&f.anid){var d=c[f.anid];if(d){var p=l(f);f.attr(l(d)),Qr(f,p,e,nr(f).dataIndex)}}})}function lh(n,r){return Gt(n,function(e){var o=e[0];o=qi(o,r.x),o=ao(o,r.x+r.width);var l=e[1];return l=qi(l,r.y),l=ao(l,r.y+r.height),[o,l]})}function rnt(n,r){var e=qi(n.x,r.x),o=ao(n.x+n.width,r.x+r.width),l=qi(n.y,r.y),c=ao(n.y+n.height,r.y+r.height);if(o>=e&&c>=l)return{x:e,y:l,width:o-e,height:c-l}}function ov(n,r,e){var o=Wt({rectHover:!0},r),l=o.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(l.image=n.slice(8),je(l,e),new ka(o)):vw(n.replace("path://",""),o,e,"center")}function ig(n,r,e,o,l){for(var c=0,f=l[l.length-1];c<l.length;c++){var d=l[c];if(yw(n,r,e,o,d[0],d[1],f[0],f[1]))return!0;f=d}}function yw(n,r,e,o,l,c,f,d){var p=e-n,y=o-r,b=f-l,x=d-c,S=ag(b,x,p,y);if(s3(S))return!1;var T=n-l,A=r-c,E=ag(T,A,p,y)/S;if(E<0||E>1)return!1;var L=ag(T,A,b,x)/S;return!(L<0||L>1)}function ag(n,r,e,o){return n*o-e*r}function s3(n){return n<=1e-6&&n>=-1e-6}function Jl(n,r,e,o,l){return r==null||(qe(r)?Cn[0]=Cn[1]=Cn[2]=Cn[3]=r:(Cn[0]=r[0],Cn[1]=r[1],Cn[2]=r[2],Cn[3]=r[3]),o&&(Cn[0]=qi(0,Cn[0]),Cn[1]=qi(0,Cn[1]),Cn[2]=qi(0,Cn[2]),Cn[3]=qi(0,Cn[3])),e&&(Cn[0]=-Cn[0],Cn[1]=-Cn[1],Cn[2]=-Cn[2],Cn[3]=-Cn[3]),_m(n,Cn,"x","width",3,1,l&&l[0]||0),_m(n,Cn,"y","height",0,2,l&&l[1]||0)),n}var Cn=[0,0,0,0];function _m(n,r,e,o,l,c,f){var d=r[c]+r[l],p=n[o];n[o]+=d,f=qi(0,ao(f,p)),n[o]<f?(n[o]=f,n[e]+=r[l]>=0?-r[l]:r[c]>=0?p+r[c]:zl(d)>1e-8?(p-f)*r[l]/d:0):n[e]-=r[l]}function uh(n){var r=n.itemTooltipOption,e=n.componentModel,o=n.itemName,l=oe(r)?{formatter:r}:r,c=e.mainType,f=e.componentIndex,d={componentType:c,name:o,$vars:["name"]};d[c+"Index"]=f;var p=n.formatterParamsExtra;p&&it(vr(p),function(b){gt(d,b)||(d[b]=p[b],d.$vars.push(b))});var y=nr(n.el);y.componentMainType=c,y.componentIndex=f,y.tooltipConfig={name:o,option:je({content:o,encodeHTMLContent:!0,formatterParams:d},l)}}function mw(n,r){var e;n.isGroup&&(e=r(n)),e||n.traverse(r)}function Wc(n,r){if(n)if(Ut(n))for(var e=0;e<n.length;e++)mw(n[e],r);else mw(n,r)}function sv(n){return!n||zl(n[1])<xm&&zl(n[2])<xm||zl(n[0])<xm&&zl(n[3])<xm}var xm=1e-5;function og(n,r){return n?Je.copy(n,r):r.clone()}function Hc(n,r){return r?n_(n||no(),r):void 0}function ll(n){return{z:n.get("z")||0,zlevel:n.get("zlevel")||0}}function QA(n){var r=-1/0,e=1/0;mw(n,function(c){o(c),o(c.getTextContent()),o(c.getTextGuideLine())});function o(c){if(!(!c||c.isGroup)){var f=c.currentStates;if(f.length)for(var d=0;d<f.length;d++)l(c.states[f[d]]);l(c)}}function l(c){if(c){var f=c.z2;f>r&&(r=f),f<e&&(e=f)}}return e>r&&(e=r=0),{min:e,max:r}}function sg(n,r,e){JA(n,r,e,-1/0)}function JA(n,r,e,o){if(n.ignoreModelZ)return o;var l=n.getTextContent(),c=n.getTextGuideLine(),f=n.isGroup;if(f)for(var d=n.childrenRef(),p=0;p<d.length;p++)o=qi(JA(d[p],r,e,o),o);else n.z=r,n.zlevel=e,o=qi(n.z2||0,o);if(l&&(l.z=r,l.zlevel=e,isFinite(o)&&(l.z2=o+2)),c){var y=n.textGuideLineConfig;c.z=r,c.zlevel=e,isFinite(o)&&(c.z2=o+(y&&y.showAbove?1:-1))}return o}ma("circle",nh),ma("ellipse",WA),ma("sector",uo),ma("ring",zn),ma("polygon",xo),ma("polyline",Xa),ma("rect",kr),ma("line",ua),ma("bezierCurve",ci),ma("arc",lw);var l3=br(),tC=ju(),eC=function(){function n(){this.group=new Ye,this.uid=zp("viewChart"),this.renderTask=lm({plan:YH,reset:bw}),this.renderTask.context={view:this}}return n.prototype.init=function(r,e){},n.prototype.render=function(r,e,o,l){},n.prototype.highlight=function(r,e,o,l){var c=r.getData(l&&l.dataType);c&&lg(c,l,"emphasis")},n.prototype.downplay=function(r,e,o,l){var c=r.getData(l&&l.dataType);c&&lg(c,l,"normal")},n.prototype.remove=function(r,e){this.group.removeAll()},n.prototype.dispose=function(r,e){},n.prototype.updateView=function(r,e,o,l){this.render(r,e,o,l)},n.prototype.updateLayout=function(r,e,o,l){this.render(r,e,o,l)},n.prototype.updateVisual=function(r,e,o,l){this.render(r,e,o,l)},n.prototype.eachRendered=function(r){Wc(this.group,r)},n.markUpdateMethod=function(r,e){l3(r).updateMethod=e},n.protoInitialize=function(){var r=n.prototype;r.type="chart"}(),n}();function rC(n,r,e){n&&I0(n)&&(r==="emphasis"?Pc:Bu)(n,e)}function lg(n,r,e){var o=Op(n,r),l=r&&r.highlightKey!=null?LW(r.highlightKey):null;o!=null?it(An(o),function(c){rC(n.getItemGraphicEl(c),e,l)}):n.eachItemGraphicEl(function(c){rC(c,e,l)})}WR(eC,["dispose"]),Ff(eC);function YH(n){return tC(n.model)}function bw(n){var r=n.model,e=n.ecModel,o=n.api,l=n.payload,c=r.pipelineContext.progressiveRender,f=n.view,d=l&&l3(l).updateMethod,p=c?"incrementalPrepareRender":d&&f[d]?d:"render";return p!=="render"&&f[p](r,e,o,l),_w[p]}var _w={incrementalPrepareRender:{progress:function(n,r){r.view.incrementalRender(n,r.model,r.ecModel,r.api,r.payload)}},render:{forceFirstProgress:!0,progress:function(n,r){r.view.render(r.model,r.ecModel,r.api,r.payload)}}},Hn=eC,wm="\0__throttleOriginMethod",nC="\0__throttleRate",So="\0__throttleType";function u3(n,r,e){var o,l=0,c=0,f=null,d,p,y,b;r=r||0;function x(){c=new Date().getTime(),f=null,n.apply(p,y||[])}var S=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];o=new Date().getTime(),p=this,y=T;var E=b||r,L=b||e;b=null,d=o-(L?l:c)-E,clearTimeout(f),L?f=setTimeout(x,E):d>=0?x():f=setTimeout(x,-d),l=o};return S.clear=function(){f&&(clearTimeout(f),f=null)},S.debounceNextCall=function(T){b=T},S}function ks(n,r,e,o){var l=n[r];if(l){var c=l[wm]||l,f=l[So],d=l[nC];if(d!==e||f!==o){if(e==null||!o)return n[r]=c;l=n[r]=u3(c,e,o==="debounce"),l[wm]=c,l[So]=o,l[nC]=e}return l}}function Yu(n,r){var e=n[r];e&&e[wm]&&(e.clear&&e.clear(),n[r]=e[wm])}var c3=br(),lv={itemStyle:jf(AN,!0),lineStyle:jf(rA,!0)},ra={lineStyle:"stroke",itemStyle:"fill"};function na(n,r){var e=n.visualStyleMapper||lv[r];return e||(console.warn("Unknown style type '"+r+"'."),lv.itemStyle)}function xw(n,r){var e=n.visualDrawType||ra[r];return e||(console.warn("Unknown style type '"+r+"'."),"fill")}var uv={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){var e=n.getData(),o=n.visualStyleAccessPath||"itemStyle",l=n.getModel(o),c=na(n,o),f=c(l),d=l.getShallow("decal");d&&(e.setVisual("decal",d),d.dirty=!0);var p=xw(n,o),y=f[p],b=ze(y)?y:null,x=f.fill==="auto"||f.stroke==="auto";if(!f[p]||b||x){var S=n.getColorFromPalette(n.name,null,r.getSeriesCount());f[p]||(f[p]=S,e.setVisual("colorFromPalette",!0)),f.fill=f.fill==="auto"||ze(f.fill)?S:f.fill,f.stroke=f.stroke==="auto"||ze(f.stroke)?S:f.stroke}if(e.setVisual("style",f),e.setVisual("drawType",p),!r.isSeriesFiltered(n)&&b)return e.setVisual("colorFromPalette",!1),{dataEach:function(T,A){var E=n.getDataParams(A),L=Wt({},f);L[p]=b(E),T.setItemVisual(A,"style",L)}}}},ch=new an,iC={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){if(!(n.ignoreStyleOnData||r.isSeriesFiltered(n))){var e=n.getData(),o=n.visualStyleAccessPath||"itemStyle",l=na(n,o),c=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(f,d){var p=f.getRawDataItem(d);if(p&&p[o]){ch.option=p[o];var y=l(ch),b=f.ensureUniqueItemVisual(d,"style");Wt(b,y),ch.option.decal&&(f.setItemVisual(d,"decal",ch.option.decal),ch.option.decal.dirty=!0),c in y&&f.setItemVisual(d,"colorFromPalette",!1)}}:null}}}},Uu={performRawSeries:!0,overallReset:function(n){var r=ve();n.eachSeries(function(e){var o=e.getColorBy();if(!e.isColorBySeries()){var l=e.type+"-"+o,c=r.get(l);c||(c={},r.set(l,c)),c3(e).scope=c}}),n.eachSeries(function(e){if(!(e.isColorBySeries()||n.isSeriesFiltered(e))){var o=e.getRawData(),l={},c=e.getData(),f=c3(e).scope,d=e.visualStyleAccessPath||"itemStyle",p=xw(e,d);c.each(function(y){var b=c.getRawIndex(y);l[b]=y}),o.each(function(y){var b=l[y],x=c.getItemVisual(b,"colorFromPalette");if(x){var S=c.ensureUniqueItemVisual(b,"style"),T=o.getName(y)||y+"",A=o.count();S[p]=e.getColorFromPalette(T,f,A)}})}})}},ug=Math.PI;function aC(n,r){r=r||{},je(r,{text:"loading",textColor:Rt.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:Rt.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ye,o=new kr({style:{fill:r.maskColor},zlevel:r.zlevel,z:1e4});e.add(o);var l=new Hr({style:{text:r.text,fill:r.textColor,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:r.fontFamily},zlevel:r.zlevel,z:10001}),c=new kr({style:{fill:"none"},textContent:l,textConfig:{position:"right",distance:10},zlevel:r.zlevel,z:10001});e.add(c);var f;return r.showSpinner&&(f=new lw({shape:{startAngle:-ug/2,endAngle:-ug/2+.1,r:r.spinnerRadius},style:{stroke:r.color,lineCap:"round",lineWidth:r.lineWidth},zlevel:r.zlevel,z:10001}),f.animateShape(!0).when(1e3,{endAngle:ug*3/2}).start("circularInOut"),f.animateShape(!0).when(1e3,{startAngle:ug*3/2}).delay(300).start("circularInOut"),e.add(f)),e.resize=function(){var d=l.getBoundingRect().width,p=r.showSpinner?r.spinnerRadius:0,y=(n.getWidth()-p*2-(r.showSpinner&&d?10:0)-d)/2-(r.showSpinner&&d?0:5+d/2)+(r.showSpinner?0:d/2)+(d?0:p),b=n.getHeight()/2;r.showSpinner&&f.setShape({cx:y,cy:b}),c.setShape({x:y-p,y:b-p,width:p*2,height:p*2}),o.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}var f3=function(){function n(r,e,o,l){this._stageTaskMap=ve(),this.ecInstance=r,this.api=e,o=this._dataProcessorHandlers=o.slice(),l=this._visualHandlers=l.slice(),this._allHandlers=o.concat(l)}return n.prototype.restoreData=function(r,e){r.restoreData(e),this._stageTaskMap.each(function(o){var l=o.overallTask;l&&l.dirty()})},n.prototype.getPerformArgs=function(r,e){if(r.__pipeline){var o=this._pipelineMap.get(r.__pipeline.id),l=o.context,c=!e&&o.progressiveEnabled&&(!l||l.progressiveRender)&&r.__idxInPipeline>o.blockIndex,f=c?o.step:null,d=l&&l.modDataCount,p=d!=null?Math.ceil(d/f):null;return{step:f,modBy:p,modDataCount:d}}},n.prototype.getPipeline=function(r){return this._pipelineMap.get(r)},n.prototype.updateStreamModes=function(r,e){var o=this._pipelineMap.get(r.uid),l=r.getData(),c=l.count(),f=o.progressiveEnabled&&e.incrementalPrepareRender&&c>=o.threshold,d=r.get("large")&&c>=r.get("largeThreshold"),p=r.get("progressiveChunkMode")==="mod"?c:null;r.pipelineContext=o.context={progressiveRender:f,modDataCount:p,large:d}},n.prototype.restorePipelines=function(r){var e=this,o=e._pipelineMap=ve();r.eachSeries(function(l){var c=l.getProgressive(),f=l.uid;o.set(f,{id:f,head:null,tail:null,threshold:l.getProgressiveThreshold(),progressiveEnabled:c&&!(l.preventIncremental&&l.preventIncremental()),blockIndex:-1,step:Math.round(c||700),count:0}),e._pipe(l,l.dataTask)})},n.prototype.prepareStageTasks=function(){var r=this._stageTaskMap,e=this.api.getModel(),o=this.api;it(this._allHandlers,function(l){var c=r.get(l.uid)||r.set(l.uid,{}),f="";ei(!(l.reset&&l.overallReset),f),l.reset&&this._createSeriesStageTask(l,c,e,o),l.overallReset&&this._createOverallStageTask(l,c,e,o)},this)},n.prototype.prepareView=function(r,e,o,l){var c=r.renderTask,f=c.context;f.model=e,f.ecModel=o,f.api=l,c.__block=!r.incrementalPrepareRender,this._pipe(e,c)},n.prototype.performDataProcessorTasks=function(r,e){this._performStageTasks(this._dataProcessorHandlers,r,e,{block:!0})},n.prototype.performVisualTasks=function(r,e,o){this._performStageTasks(this._visualHandlers,r,e,o)},n.prototype._performStageTasks=function(r,e,o,l){l=l||{};var c=!1,f=this;it(r,function(p,y){if(!(l.visualType&&l.visualType!==p.visualType)){var b=f._stageTaskMap.get(p.uid),x=b.seriesTaskMap,S=b.overallTask;if(S){var T,A=S.agentStubMap;A.each(function(L){d(l,L)&&(L.dirty(),T=!0)}),T&&S.dirty(),f.updatePayload(S,o);var E=f.getPerformArgs(S,l.block);A.each(function(L){L.perform(E)}),S.perform(E)&&(c=!0)}else x&&x.each(function(L,I){d(l,L)&&L.dirty();var N=f.getPerformArgs(L,l.block);N.skip=!p.performRawSeries&&e.isSeriesFiltered(L.context.model),f.updatePayload(L,o),L.perform(N)&&(c=!0)})}});function d(p,y){return p.setDirty&&(!p.dirtyMap||p.dirtyMap.get(y.__pipeline.id))}this.unfinished=c||this.unfinished},n.prototype.performSeriesTasks=function(r){var e;r.eachSeries(function(o){e=o.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(r){var e=r.tail;do{if(e.__block){r.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(r,e){e!=="remain"&&(r.context.payload=e)},n.prototype._createSeriesStageTask=function(r,e,o,l){var c=this,f=e.seriesTaskMap,d=e.seriesTaskMap=ve(),p=r.seriesType,y=r.getTargetSeries;r.createOnAllSeries?o.eachRawSeries(b):p?o.eachRawSeriesByType(p,b):y&&y(o,l).each(b);function b(x){var S=x.uid,T=d.set(S,f&&f.get(S)||lm({plan:g3,reset:y3,count:UH}));T.context={model:x,ecModel:o,api:l,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:c},c._pipe(x,T)}},n.prototype._createOverallStageTask=function(r,e,o,l){var c=this,f=e.overallTask=e.overallTask||lm({reset:h3});f.context={ecModel:o,api:l,overallReset:r.overallReset,scheduler:c};var d=f.agentStubMap,p=f.agentStubMap=ve(),y=r.seriesType,b=r.getTargetSeries,x=!0,S=!1,T="";ei(!r.createOnAllSeries,T),y?o.eachRawSeriesByType(y,A):b?b(o,l).each(A):(x=!1,it(o.getSeries(),A));function A(E){var L=E.uid,I=p.set(L,d&&d.get(L)||(S=!0,lm({reset:d3,onDirty:p3})));I.context={model:E,overallProgress:x},I.agent=f,I.__block=x,c._pipe(E,I)}S&&f.dirty()},n.prototype._pipe=function(r,e){var o=r.uid,l=this._pipelineMap.get(o);!l.head&&(l.head=e),l.tail&&l.tail.pipe(e),l.tail=e,e.__idxInPipeline=l.count++,e.__pipeline=l},n.wrapStageHandler=function(r,e){return ze(r)&&(r={overallReset:r,seriesType:fg(r)}),r.uid=zp("stageHandler"),e&&(r.visualType=e),r},n}();function h3(n){n.overallReset(n.ecModel,n.api,n.payload)}function d3(n){return n.overallProgress&&v3}function v3(){this.agent.dirty(),this.getDownstream().dirty()}function p3(){this.agent&&this.agent.dirty()}function g3(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function y3(n){n.useClearVisual&&n.data.clearAllVisual();var r=n.resetDefines=An(n.reset(n.model,n.ecModel,n.api,n.payload));return r.length>1?Gt(r,function(e,o){return cg(o)}):oC}var oC=cg(0);function cg(n){return function(r,e){var o=e.data,l=e.resetDefines[n];if(l&&l.dataEach)for(var c=r.start;c<r.end;c++)l.dataEach(o,c);else l&&l.progress&&l.progress(r,o)}}function UH(n){return n.data.count()}function fg(n){ww=null;try{n(hg,m3)}catch(r){}return ww}var hg={},m3={},ww;Ls(hg,e5),Ls(m3,wA),hg.eachSeriesByType=hg.eachRawSeriesByType=function(n){ww=n},hg.eachComponent=function(n){n.mainType==="series"&&n.subType&&(ww=n.subType)};function Ls(n,r){for(var e in r.prototype)n[e]=_t}var sC=f3,Ue=Rt.darkColor,lC=Ue.background,Sw=function(){return{axisLine:{lineStyle:{color:Ue.axisLine}},splitLine:{lineStyle:{color:Ue.axisSplitLine}},splitArea:{areaStyle:{color:[Ue.backgroundTint,Ue.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Ue.axisMinorSplitLine}},axisLabel:{color:Ue.axisLabel},axisName:{}}},Mw={label:{color:Ue.secondary},itemStyle:{borderColor:Ue.borderTint},dividerLineStyle:{color:Ue.border}},XH={darkMode:!0,color:Ue.theme,backgroundColor:lC,axisPointer:{lineStyle:{color:Ue.border},crossStyle:{color:Ue.borderShade},label:{color:Ue.tertiary}},legend:{textStyle:{color:Ue.secondary},pageTextStyle:{color:Ue.tertiary}},textStyle:{color:Ue.secondary},title:{textStyle:{color:Ue.primary},subtextStyle:{color:Ue.quaternary}},toolbox:{iconStyle:{borderColor:Ue.accent50}},tooltip:{backgroundColor:Ue.neutral20,defaultBorderColor:Ue.border,textStyle:{color:Ue.tertiary}},dataZoom:{borderColor:Ue.accent10,textStyle:{color:Ue.tertiary},brushStyle:{color:Ue.backgroundTint},handleStyle:{color:Ue.neutral00,borderColor:Ue.accent20},moveHandleStyle:{color:Ue.accent40},emphasis:{handleStyle:{borderColor:Ue.accent50}},dataBackground:{lineStyle:{color:Ue.accent30},areaStyle:{color:Ue.accent20}},selectedDataBackground:{lineStyle:{color:Ue.accent50},areaStyle:{color:Ue.accent30}}},visualMap:{textStyle:{color:Ue.secondary},handleStyle:{borderColor:Ue.neutral30}},timeline:{lineStyle:{color:Ue.accent10},label:{color:Ue.tertiary},controlStyle:{color:Ue.accent30,borderColor:Ue.accent30}},calendar:{itemStyle:{color:Ue.neutral00,borderColor:Ue.neutral20},dayLabel:{color:Ue.tertiary},monthLabel:{color:Ue.secondary},yearLabel:{color:Ue.secondary}},matrix:{x:Mw,y:Mw,backgroundColor:{borderColor:Ue.axisLine},body:{itemStyle:{borderColor:Ue.borderTint}}},timeAxis:Sw(),logAxis:Sw(),valueAxis:Sw(),categoryAxis:Sw(),line:{symbol:"circle"},graph:{color:Ue.theme},gauge:{title:{color:Ue.secondary},axisLine:{lineStyle:{color:[[1,Ue.neutral05]]}},axisLabel:{color:Ue.axisLabel},detail:{color:Ue.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Ue.background}},radar:function(){var n=Sw();return n.axisName={color:Ue.axisLabel},n.axisLine.lineStyle.color=Ue.neutral20,n}(),treemap:{breadcrumb:{itemStyle:{color:Ue.neutral20,textStyle:{color:Ue.secondary}},emphasis:{itemStyle:{color:Ue.neutral30}}}},sunburst:{itemStyle:{borderColor:Ue.background}},map:{itemStyle:{borderColor:Ue.border,areaColor:Ue.neutral10},label:{color:Ue.tertiary},emphasis:{label:{color:Ue.primary},itemStyle:{areaColor:Ue.highlight}},select:{label:{color:Ue.primary},itemStyle:{areaColor:Ue.highlight}}},geo:{itemStyle:{borderColor:Ue.border,areaColor:Ue.neutral10},emphasis:{label:{color:Ue.primary},itemStyle:{areaColor:Ue.highlight}},select:{label:{color:Ue.primary},itemStyle:{color:Ue.highlight}}}};XH.categoryAxis.splitLine.show=!1;var b3=XH,_3=function(){function n(){}return n.prototype.normalizeQuery=function(r){var e={},o={},l={};if(oe(r)){var c=Lu(r);e.mainType=c.main||null,e.subType=c.sub||null}else{var f=["Index","Name","Id"],d={name:1,dataIndex:1,dataType:1};it(r,function(p,y){for(var b=!1,x=0;x<f.length;x++){var S=f[x],T=y.lastIndexOf(S);if(T>0&&T===y.length-S.length){var A=y.slice(0,T);A!=="data"&&(e.mainType=A,e[S.toLowerCase()]=p,b=!0)}}d.hasOwnProperty(y)&&(o[y]=p,b=!0),b||(l[y]=p)})}return{cptQuery:e,dataQuery:o,otherQuery:l}},n.prototype.filter=function(r,e){var o=this.eventInfo;if(!o)return!0;var l=o.targetEl,c=o.packedEvent,f=o.model,d=o.view;if(!f||!d)return!0;var p=e.cptQuery,y=e.dataQuery;return b(p,f,"mainType")&&b(p,f,"subType")&&b(p,f,"index","componentIndex")&&b(p,f,"name")&&b(p,f,"id")&&b(y,c,"name")&&b(y,c,"dataIndex")&&b(y,c,"dataType")&&(!d.filterForExposedEvent||d.filterForExposedEvent(r,e.otherQuery,l,c));function b(x,S,T,A){return x[T]==null||S[A||T]===x[T]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),x3=["symbol","symbolSize","symbolRotate","symbolOffset"],uC=x3.concat(["symbolKeepAspect"]),w3={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var o={},l={},c=!1,f=0;f<x3.length;f++){var d=x3[f],p=n.get(d);ze(p)?(c=!0,l[d]=p):o[d]=p}if(o.symbol=o.symbol||n.defaultSymbol,e.setVisual(Wt({legendIcon:n.legendIcon||o.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},o)),r.isSeriesFiltered(n))return;var y=vr(l);function b(x,S){for(var T=n.getRawValue(S),A=n.getDataParams(S),E=0;E<y.length;E++){var L=y[E];x.setItemVisual(S,L,l[L](T,A))}}return{dataEach:c?b:null}}},S3={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){if(!n.hasSymbolVisual||r.isSeriesFiltered(n))return;var e=n.getData();function o(l,c){for(var f=l.getItemModel(c),d=0;d<uC.length;d++){var p=uC[d],y=f.getShallow(p,!0);y!=null&&l.setItemVisual(c,p,y)}}return{dataEach:e.hasItemOption?o:null}}};function Tw(n,r,e){switch(e){case"color":var o=n.getItemVisual(r,"style");return o[n.getVisual("drawType")];case"opacity":return n.getItemVisual(r,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(r,e);default:}}function dg(n,r){switch(r){case"color":var e=n.getVisual("style");return e[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(r);default:}}function Ow(n,r,e,o){switch(e){case"color":var l=n.ensureUniqueItemVisual(r,"style");l[n.getVisual("drawType")]=o,n.setItemVisual(r,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(r,"style").opacity=o;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(r,e,o);break;default:}}function Sm(n,r){function e(o,l){var c=[];return o.eachComponent({mainType:"series",subType:n,query:l},function(f){c.push(f.seriesIndex)}),c}it([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(o){r(o[0],function(l,c,f){l=Wt({},l),f.dispatchAction(Wt(l,{type:o[1],seriesIndex:e(c,l)}))})})}function cv(n,r,e,o,l){var c=n+r;e.isSilent(c)||o.eachComponent({mainType:"series",subType:"pie"},function(f){for(var d=f.seriesIndex,p=f.option.selectedMap,y=l.selected,b=0;b<y.length;b++)if(y[b].seriesIndex===d){var x=f.getData(),S=Op(x,l.fromActionPayload);e.trigger(c,{type:c,seriesId:f.id,name:Ut(S)?x.getName(S[0]):x.getName(S),selected:oe(p)?p:Wt({},p)})}})}function M3(n,r,e){n.on("selectchanged",function(o){var l=e.getModel();o.isFromClick?(cv("map","selectchanged",r,l,o),cv("pie","selectchanged",r,l,o)):o.fromAction==="select"?(cv("map","selected",r,l,o),cv("pie","selected",r,l,o)):o.fromAction==="unselect"&&(cv("map","unselected",r,l,o),cv("pie","unselected",r,l,o))})}function fh(n,r,e){for(var o;n&&!(r(n)&&(o=n,e));)n=n.__hostTarget||n.parent;return o}var T3=Math.round(Math.random()*9),$H=typeof Object.defineProperty=="function",O3=function(){function n(){this._id="__ec_inner_"+T3++}return n.prototype.get=function(r){return this._guard(r)[this._id]},n.prototype.set=function(r,e){var o=this._guard(r);return $H?Object.defineProperty(o,this._id,{value:e,enumerable:!1,configurable:!0}):o[this._id]=e,this},n.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},n.prototype.has=function(r){return!!this._guard(r)[this._id]},n.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},n}(),Aw=O3,A3=Sr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,r){var e=r.cx,o=r.cy,l=r.width/2,c=r.height/2;n.moveTo(e,o-c),n.lineTo(e+l,o+c),n.lineTo(e-l,o+c),n.closePath()}}),C3=Sr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,r){var e=r.cx,o=r.cy,l=r.width/2,c=r.height/2;n.moveTo(e,o-c),n.lineTo(e+l,o),n.lineTo(e,o+c),n.lineTo(e-l,o),n.closePath()}}),P3=Sr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,r){var e=r.x,o=r.y,l=r.width/5*3,c=Math.max(l,r.height),f=l/2,d=f*f/(c-f),p=o-c+f+d,y=Math.asin(d/f),b=Math.cos(y)*f,x=Math.sin(y),S=Math.cos(y),T=f*.6,A=f*.7;n.moveTo(e-b,p+d),n.arc(e,p,f,Math.PI-y,Math.PI*2+y),n.bezierCurveTo(e+b-x*T,p+d+S*T,e,o-A,e,o),n.bezierCurveTo(e,o-A,e-b+x*T,p+d+S*T,e-b,p+d),n.closePath()}}),E3=Sr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,r){var e=r.height,o=r.width,l=r.x,c=r.y,f=o/3*2;n.moveTo(l,c),n.lineTo(l+f,c+e),n.lineTo(l,c+e/4*3),n.lineTo(l-f,c+e),n.lineTo(l,c),n.closePath()}}),k3={line:ua,rect:kr,roundRect:kr,square:kr,circle:nh,diamond:C3,pin:P3,arrow:E3,triangle:A3},L3={line:function(n,r,e,o,l){l.x1=n,l.y1=r+o/2,l.x2=n+e,l.y2=r+o/2},rect:function(n,r,e,o,l){l.x=n,l.y=r,l.width=e,l.height=o},roundRect:function(n,r,e,o,l){l.x=n,l.y=r,l.width=e,l.height=o,l.r=Math.min(e,o)/4},square:function(n,r,e,o,l){var c=Math.min(e,o);l.x=n,l.y=r,l.width=c,l.height=c},circle:function(n,r,e,o,l){l.cx=n+e/2,l.cy=r+o/2,l.r=Math.min(e,o)/2},diamond:function(n,r,e,o,l){l.cx=n+e/2,l.cy=r+o/2,l.width=e,l.height=o},pin:function(n,r,e,o,l){l.x=n+e/2,l.y=r+o/2,l.width=e,l.height=o},arrow:function(n,r,e,o,l){l.x=n+e/2,l.y=r+o/2,l.width=e,l.height=o},triangle:function(n,r,e,o,l){l.cx=n+e/2,l.cy=r+o/2,l.width=e,l.height=o}},Cw={};it(k3,function(n,r){Cw[r]=new n});var qH=Sr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,r,e){var o=fO(n,r,e),l=this.shape;return l&&l.symbolType==="pin"&&r.position==="inside"&&(o.y=e.y+e.height*.4),o},buildPath:function(n,r,e){var o=r.symbolType;if(o!=="none"){var l=Cw[o];l||(o="rect",l=Cw[o]),L3[o](r.x,r.y,r.width,r.height,l.shape),l.buildPath(n,l.shape,e)}}});function D3(n,r){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=r||Rt.color.neutral00,e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=n:e.fill=n,this.markRedraw()}}function ia(n,r,e,o,l,c,f){var d=n.indexOf("empty")===0;d&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var p;return n.indexOf("image://")===0?p=n3(n.slice(8),new Je(r,e,o,l),f?"center":"cover"):n.indexOf("path://")===0?p=vw(n.slice(7),{},new Je(r,e,o,l),f?"center":"cover"):p=new qH({shape:{symbolType:n,x:r,y:e,width:o,height:l}}),p.__isEmptyBrush=d,p.setColor=D3,c&&p.setColor(c),p}function hh(n){return Ut(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function dh(n,r){if(n!=null)return Ut(n)||(n=[n,n]),[de(n[0],r[0])||0,de(fe(n[1],n[0]),r[1])||0]}function fv(n){return isFinite(n)}function ZH(n,r,e){var o=r.x==null?0:r.x,l=r.x2==null?1:r.x2,c=r.y==null?0:r.y,f=r.y2==null?0:r.y2;r.global||(o=o*e.width+e.x,l=l*e.width+e.x,c=c*e.height+e.y,f=f*e.height+e.y),o=fv(o)?o:0,l=fv(l)?l:1,c=fv(c)?c:0,f=fv(f)?f:0;var d=n.createLinearGradient(o,c,l,f);return d}function I3(n,r,e){var o=e.width,l=e.height,c=Math.min(o,l),f=r.x==null?.5:r.x,d=r.y==null?.5:r.y,p=r.r==null?.5:r.r;r.global||(f=f*o+e.x,d=d*l+e.y,p=p*c),f=fv(f)?f:.5,d=fv(d)?d:.5,p=p>=0&&fv(p)?p:.5;var y=n.createRadialGradient(f,d,0,f,d,p);return y}function cC(n,r,e){for(var o=r.type==="radial"?I3(n,r,e):ZH(n,r,e),l=r.colorStops,c=0;c<l.length;c++)o.addColorStop(l[c].offset,l[c].color);return o}function fC(n,r){if(n===r||!n&&!r)return!1;if(!n||!r||n.length!==r.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==r[e])return!0;return!1}function Mm(n){return parseInt(n,10)}function Yc(n,r,e){var o=["width","height"][r],l=["clientWidth","clientHeight"][r],c=["paddingLeft","paddingTop"][r],f=["paddingRight","paddingBottom"][r];if(e[o]!=null&&e[o]!=="auto")return parseFloat(e[o]);var d=document.defaultView.getComputedStyle(n);return(n[l]||Mm(d[o])||Mm(n.style[o]))-(Mm(d[c])||0)-(Mm(d[f])||0)|0}function R3(n,r){return!n||n==="solid"||!(r>0)?null:n==="dashed"?[4*r,2*r]:n==="dotted"?[r]:qe(n)?[n]:Ut(n)?n:null}function Pw(n){var r=n.style,e=r.lineDash&&r.lineWidth>0&&R3(r.lineDash,r.lineWidth),o=r.lineDashOffset;if(e){var l=r.strokeNoScale&&n.getLineScale?n.getLineScale():1;l&&l!==1&&(e=Gt(e,function(c){return c/l}),o/=l)}return[e,o]}var hC=new xs(!0);function Tm(n){var r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))}function Ew(n){return typeof n=="string"&&n!=="none"}function Om(n){var r=n.fill;return r!=null&&r!=="none"}function kw(n,r){if(r.fillOpacity!=null&&r.fillOpacity!==1){var e=n.globalAlpha;n.globalAlpha=r.fillOpacity*r.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function dC(n,r){if(r.strokeOpacity!=null&&r.strokeOpacity!==1){var e=n.globalAlpha;n.globalAlpha=r.strokeOpacity*r.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function Am(n,r,e){var o=CO(r.image,r.__image,e);if(p0(o)){var l=n.createPattern(o,r.repeat||"repeat");if(typeof DOMMatrix=="function"&&l&&l.setTransform){var c=new DOMMatrix;c.translateSelf(r.x||0,r.y||0),c.rotateSelf(0,0,(r.rotation||0)*Dt),c.scaleSelf(r.scaleX||1,r.scaleY||1),l.setTransform(c)}return l}}function N3(n,r,e,o){var l,c=Tm(e),f=Om(e),d=e.strokePercent,p=d<1,y=!r.path;(!r.silent||p)&&y&&r.createPathProxy();var b=r.path||hC,x=r.__dirty;if(!o){var S=e.fill,T=e.stroke,A=f&&!!S.colorStops,E=c&&!!T.colorStops,L=f&&!!S.image,I=c&&!!T.image,N=void 0,F=void 0,W=void 0,X=void 0,$=void 0;(A||E)&&($=r.getBoundingRect()),A&&(N=x?cC(n,S,$):r.__canvasFillGradient,r.__canvasFillGradient=N),E&&(F=x?cC(n,T,$):r.__canvasStrokeGradient,r.__canvasStrokeGradient=F),L&&(W=x||!r.__canvasFillPattern?Am(n,S,r):r.__canvasFillPattern,r.__canvasFillPattern=W),I&&(X=x||!r.__canvasStrokePattern?Am(n,T,r):r.__canvasStrokePattern,r.__canvasStrokePattern=X),A?n.fillStyle=N:L&&(W?n.fillStyle=W:f=!1),E?n.strokeStyle=F:I&&(X?n.strokeStyle=X:c=!1)}var K=r.getGlobalScale();b.setScale(K[0],K[1],r.segmentIgnoreThreshold);var et,at;n.setLineDash&&e.lineDash&&(l=Pw(r),et=l[0],at=l[1]);var ot=!0;(y||x&_p)&&(b.setDPR(n.dpr),p?b.setContext(null):(b.setContext(n),ot=!1),b.reset(),r.buildPath(b,r.shape,o),b.toStatic(),r.pathUpdated()),ot&&b.rebuildPath(n,p?d:1),et&&(n.setLineDash(et),n.lineDashOffset=at),o||(e.strokeFirst?(c&&dC(n,e),f&&kw(n,e)):(f&&kw(n,e),c&&dC(n,e))),et&&n.setLineDash([])}function vC(n,r,e){var o=r.__image=CO(e.image,r.__image,r,r.onload);if(!(!o||!p0(o))){var l=e.x||0,c=e.y||0,f=r.getWidth(),d=r.getHeight(),p=o.width/o.height;if(f==null&&d!=null?f=d*p:d==null&&f!=null?d=f/p:f==null&&d==null&&(f=o.width,d=o.height),e.sWidth&&e.sHeight){var y=e.sx||0,b=e.sy||0;n.drawImage(o,y,b,e.sWidth,e.sHeight,l,c,f,d)}else if(e.sx&&e.sy){var y=e.sx,b=e.sy,x=f-y,S=d-b;n.drawImage(o,y,b,x,S,l,c,f,d)}else n.drawImage(o,l,c,f,d)}}function B3(n,r,e){var o,l=e.text;if(l!=null&&(l+=""),l){n.font=e.font||Vt,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline;var c=void 0,f=void 0;n.setLineDash&&e.lineDash&&(o=Pw(r),c=o[0],f=o[1]),c&&(n.setLineDash(c),n.lineDashOffset=f),e.strokeFirst?(Tm(e)&&n.strokeText(l,e.x,e.y),Om(e)&&n.fillText(l,e.x,e.y)):(Om(e)&&n.fillText(l,e.x,e.y),Tm(e)&&n.strokeText(l,e.x,e.y)),c&&n.setLineDash([])}}var pC=["shadowBlur","shadowOffsetX","shadowOffsetY"],gC=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function yC(n,r,e,o,l){var c=!1;if(!o&&(e=e||{},r===e))return!1;if(o||r.opacity!==e.opacity){es(n,l),c=!0;var f=Math.max(Math.min(r.opacity,1),0);n.globalAlpha=isNaN(f)?Zs.opacity:f}(o||r.blend!==e.blend)&&(c||(es(n,l),c=!0),n.globalCompositeOperation=r.blend||Zs.blend);for(var d=0;d<pC.length;d++){var p=pC[d];(o||r[p]!==e[p])&&(c||(es(n,l),c=!0),n[p]=n.dpr*(r[p]||0))}return(o||r.shadowColor!==e.shadowColor)&&(c||(es(n,l),c=!0),n.shadowColor=r.shadowColor||Zs.shadowColor),c}function mC(n,r,e,o,l){var c=Dw(r,l.inHover),f=o?null:e&&Dw(e,l.inHover)||{};if(c===f)return!1;var d=yC(n,c,f,o,l);if((o||c.fill!==f.fill)&&(d||(es(n,l),d=!0),Ew(c.fill)&&(n.fillStyle=c.fill)),(o||c.stroke!==f.stroke)&&(d||(es(n,l),d=!0),Ew(c.stroke)&&(n.strokeStyle=c.stroke)),(o||c.opacity!==f.opacity)&&(d||(es(n,l),d=!0),n.globalAlpha=c.opacity==null?1:c.opacity),r.hasStroke()){var p=c.lineWidth,y=p/(c.strokeNoScale&&r.getLineScale?r.getLineScale():1);n.lineWidth!==y&&(d||(es(n,l),d=!0),n.lineWidth=y)}for(var b=0;b<gC.length;b++){var x=gC[b],S=x[0];(o||c[S]!==f[S])&&(d||(es(n,l),d=!0),n[S]=c[S]||x[1])}return d}function z3(n,r,e,o,l){return yC(n,Dw(r,l.inHover),e&&Dw(e,l.inHover),o,l)}function Lw(n,r){var e=r.transform,o=n.dpr||1;e?n.setTransform(o*e[0],o*e[1],o*e[2],o*e[3],o*e[4],o*e[5]):n.setTransform(o,0,0,o,0,0)}function F3(n,r,e){for(var o=!1,l=0;l<n.length;l++){var c=n[l];o=o||c.isZeroArea(),Lw(r,c),r.beginPath(),c.buildPath(r,c.shape),r.clip()}e.allClipped=o}function j3(n,r){return n&&r?n[0]!==r[0]||n[1]!==r[1]||n[2]!==r[2]||n[3]!==r[3]||n[4]!==r[4]||n[5]!==r[5]:!(!n&&!r)}var bC=1,_C=2,xC=3,wC=4;function vg(n){var r=Om(n),e=Tm(n);return!(n.lineDash||!(+r^+e)||r&&typeof n.fill!="string"||e&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function es(n,r){r.batchFill&&n.fill(),r.batchStroke&&n.stroke(),r.batchFill="",r.batchStroke=""}function Dw(n,r){return r&&n.__hoverStyle||n.style}function KH(n,r){hv(n,r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function hv(n,r,e,o){var l=r.transform;if(!r.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){r.__dirty&=~gs,r.__isRendered=!1;return}var c=r.__clipPaths,f=e.prevElClipPaths,d=!1,p=!1;if((!f||fC(c,f))&&(f&&f.length&&(es(n,e),n.restore(),p=d=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),c&&c.length&&(es(n,e),n.save(),F3(c,n,e),d=!0),e.prevElClipPaths=c),e.allClipped){r.__isRendered=!1;return}r.beforeBrush&&r.beforeBrush(),r.innerBeforeBrush();var y=e.prevEl;y||(p=d=!0);var b=r instanceof Sr&&r.autoBatch&&vg(r.style);d||j3(l,y.transform)?(es(n,e),Lw(n,r)):b||es(n,e);var x=Dw(r,e.inHover);r instanceof Sr?(e.lastDrawType!==bC&&(p=!0,e.lastDrawType=bC),mC(n,r,y,p,e),(!b||!e.batchFill&&!e.batchStroke)&&n.beginPath(),N3(n,r,x,b),b&&(e.batchFill=x.fill||"",e.batchStroke=x.stroke||"")):r instanceof Ep?(e.lastDrawType!==xC&&(p=!0,e.lastDrawType=xC),mC(n,r,y,p,e),B3(n,r,x)):r instanceof ka?(e.lastDrawType!==_C&&(p=!0,e.lastDrawType=_C),z3(n,r,y,p,e),vC(n,r,x)):r.getTemporalDisplayables&&(e.lastDrawType!==wC&&(p=!0,e.lastDrawType=wC),V3(n,r,e)),b&&o&&es(n,e),r.innerAfterBrush(),r.afterBrush&&r.afterBrush(),e.prevEl=r,r.__dirty=0,r.__isRendered=!0}function V3(n,r,e){var o=r.getDisplayables(),l=r.getTemporalDisplayables();n.save();var c={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},f,d;for(f=r.getCursor(),d=o.length;f<d;f++){var p=o[f];p.beforeBrush&&p.beforeBrush(),p.innerBeforeBrush(),hv(n,p,c,f===d-1),p.innerAfterBrush(),p.afterBrush&&p.afterBrush(),c.prevEl=p}for(var y=0,b=l.length;y<b;y++){var p=l[y];p.beforeBrush&&p.beforeBrush(),p.innerBeforeBrush(),hv(n,p,c,y===b-1),p.innerAfterBrush(),p.afterBrush&&p.afterBrush(),c.prevEl=p}r.clearTemporalDisplayables(),r.notClear=!0,n.restore()}var tn=new Aw,SC=new n0(100),MC=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function dv(n,r){if(n==="none")return null;var e=r.getDevicePixelRatio(),o=r.getZr(),l=o.painter.type==="svg";n.dirty&&tn.delete(n);var c=tn.get(n);if(c)return c;var f=je(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});f.backgroundColor==="none"&&(f.backgroundColor=null);var d={repeat:"repeat"};return p(d),d.rotation=f.rotation,d.scaleX=d.scaleY=l?1:1/e,tn.set(n,d),n.dirty=!1,d;function p(y){for(var b=[e],x=!0,S=0;S<MC.length;++S){var T=f[MC[S]];if(T!=null&&!Ut(T)&&!oe(T)&&!qe(T)&&typeof T!="boolean"){x=!1;break}b.push(T)}var A;if(x){A=b.join(",")+(l?"-svg":"");var E=SC.get(A);E&&(l?y.svgElement=E:y.image=E)}var L=OC(f.dashArrayX),I=G3(f.dashArrayY),N=TC(f.symbol),F=W3(L),W=H3(I),X=!l&&zr.createCanvas(),$=l&&{tag:"g",attrs:{},key:"dcl",children:[]},K=at(),et;X&&(X.width=K.width*e,X.height=K.height*e,et=X.getContext("2d")),ot(),x&&SC.put(A,X||$),y.image=X,y.svgElement=$,y.svgWidth=K.width,y.svgHeight=K.height;function at(){for(var ht=1,yt=0,vt=F.length;yt<vt;++yt)ht=I_(ht,F[yt]);for(var bt=1,yt=0,vt=N.length;yt<vt;++yt)bt=I_(bt,N[yt].length);ht*=bt;var Mt=W*F.length*N.length;if(0)var St;return{width:Math.max(1,Math.min(ht,f.maxTileWidth)),height:Math.max(1,Math.min(Mt,f.maxTileHeight))}}function ot(){et&&(et.clearRect(0,0,X.width,X.height),f.backgroundColor&&(et.fillStyle=f.backgroundColor,et.fillRect(0,0,X.width,X.height)));for(var ht=0,yt=0;yt<I.length;++yt)ht+=I[yt];if(ht<=0)return;for(var vt=-W,bt=0,Mt=0,St=0;vt<K.height;){if(bt%2===0){for(var Pt=Mt/2%N.length,Et=0,Lt=0,zt=0;Et<K.width*2;){for(var Ht=0,yt=0;yt<L[St].length;++yt)Ht+=L[St][yt];if(Ht<=0)break;if(Lt%2===0){var qt=(1-f.symbolSize)*.5,ne=Et+L[St][Lt]*qt,Ce=vt+I[bt]*qt,Qe=L[St][Lt]*f.symbolSize,jr=I[bt]*f.symbolSize,wn=zt/2%N[Pt].length;dr(ne,Ce,Qe,jr,N[Pt][wn])}Et+=L[St][Lt],++zt,++Lt,Lt===L[St].length&&(Lt=0)}++St,St===L.length&&(St=0)}vt+=I[bt],++Mt,++bt,bt===I.length&&(bt=0)}function dr(Ge,Mr,Pe,fr,_n){var Xr=l?1:e,xn=ia(_n,Ge*Xr,Mr*Xr,Pe*Xr,fr*Xr,f.color,f.symbolKeepAspect);if(l){var kn=o.painter.renderOneToVNode(xn);kn&&$.children.push(kn)}else KH(et,xn)}}}}function TC(n){if(!n||n.length===0)return[["rect"]];if(oe(n))return[[n]];for(var r=!0,e=0;e<n.length;++e)if(!oe(n[e])){r=!1;break}if(r)return TC([n]);for(var o=[],e=0;e<n.length;++e)oe(n[e])?o.push([n[e]]):o.push(n[e]);return o}function OC(n){if(!n||n.length===0)return[[0,0]];if(qe(n)){var r=Math.ceil(n);return[[r,r]]}for(var e=!0,o=0;o<n.length;++o)if(!qe(n[o])){e=!1;break}if(e)return OC([n]);for(var l=[],o=0;o<n.length;++o)if(qe(n[o])){var r=Math.ceil(n[o]);l.push([r,r])}else{var r=Gt(n[o],function(d){return Math.ceil(d)});r.length%2===1?l.push(r.concat(r)):l.push(r)}return l}function G3(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(qe(n)){var r=Math.ceil(n);return[r,r]}var e=Gt(n,function(o){return Math.ceil(o)});return n.length%2?e.concat(e):e}function W3(n){return Gt(n,function(r){return H3(r)})}function H3(n){for(var r=0,e=0;e<n.length;++e)r+=n[e];return n.length%2===1?r*2:r}function Y3(n,r){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var o=e.getData();o.hasItemVisual()&&o.each(function(f){var d=o.getItemVisual(f,"decal");if(d){var p=o.ensureUniqueItemVisual(f,"style");p.decal=dv(d,r)}});var l=o.getVisual("decal");if(l){var c=o.getVisual("style");c.decal=dv(l,r)}}})}var AC=new Cl,ul=AC,CC={};function U3(n,r){CC[n]=r}function X3(n){return CC[n]}var QH="6.0.0",JH={zrender:"6.0.0"},$3=1,q3=800,Z3=900,K3=1e3,Q3=2e3,J3=5e3,PC=1e3,Iw=1100,Rw=2e3,EC=3e3,tB=4e3,Cm=4500,Pm=4600,vh=5e3,Nw=6e3,eB=7e3,rB={PROCESSOR:{FILTER:K3,SERIES_FILTER:q3,STATISTIC:J3},VISUAL:{LAYOUT:PC,PROGRESSIVE_LAYOUT:Iw,GLOBAL:Rw,CHART:EC,POST_CHART_LAYOUT:Pm,COMPONENT:tB,BRUSH:vh,CHART_ITEM:Cm,ARIA:Nw,DECAL:eB}},oi="__flagInMainProcess",Bw="__mainProcessVersion",Ra="__pendingUpdate",kC="__needsUpdateStatus",nB=/^[a-zA-Z0-9_]+$/,ba="__connectUpdateStatus",No=0,LC=1,tY=2;function iB(n){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(this.isDisposed()){this.id;return}return Dr(this,n,r)}}function aB(n){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Dr(this,n,r)}}function Dr(n,r,e){return e[0]=e[0]&&e[0].toLowerCase(),Cl.prototype[r].apply(n,e)}var oB=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Cl),DC=oB.prototype;DC.on=aB("on"),DC.off=aB("off");var vv,IC,zw,Uc,Fw,RC,NC,pv,pg,sB,lB,BC,zC,jw,uB,cB,cl,fB,gg,Vw=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this,new _3)||this;c._chartsViews=[],c._chartsMap={},c._componentsViews=[],c._componentsMap={},c._pendingActions=[],l=l||{},c._dom=e;var f="canvas",d="auto",p=!1;if(c[Bw]=1,0)var y;l.ssr&&TR(function(T){var A=nr(T),E=A.dataIndex;if(E!=null){var L=ve();return L.set("series_index",A.seriesIndex),L.set("data_index",E),A.ssrType&&L.set("ssr_type",A.ssrType),L}});var b=c._zr=pO(e,{renderer:l.renderer||f,devicePixelRatio:l.devicePixelRatio,width:l.width,height:l.height,ssr:l.ssr,useDirtyRect:fe(l.useDirtyRect,p),useCoarsePointer:fe(l.useCoarsePointer,d),pointerSize:l.pointerSize});c._ssr=l.ssr,c._throttledZrFlush=u3(ue(b.flush,b),17),c._updateTheme(o),c._locale=YW(l.locale||PN),c._coordSysMgr=new Y0;var x=c._api=uB(c);function S(T,A){return T.__prio-A.__prio}return mp(Em,S),mp(hB,S),c._scheduler=new sC(c,x,hB,Em),c._messageCenter=new oB,c._initEvents(),c.resize=ue(c.resize,c),b.animation.on("frame",c._onframe,c),sB(b,c),lB(b,c),Gr(c),c}return r.prototype._onframe=function(){if(!this._disposed){fB(this);var e=this._scheduler;if(this[Ra]){var o=this[Ra].silent;this[oi]=!0,gg(this);try{vv(this),Uc.update.call(this,null,this[Ra].updateParams)}catch(p){throw this[oi]=!1,this[Ra]=null,p}this._zr.flush(),this[oi]=!1,this[Ra]=null,pv.call(this,o),pg.call(this,o)}else if(e.unfinished){var l=$3,c=this._model,f=this._api;e.unfinished=!1;do{var d=+new Date;e.performSeriesTasks(c),e.performDataProcessorTasks(c),RC(this,c),e.performVisualTasks(c),jw(this,this._model,f,"remain",{}),l-=+new Date-d}while(l>0&&e.unfinished);e.unfinished||this._zr.flush()}}},r.prototype.getDom=function(){return this._dom},r.prototype.getId=function(){return this.id},r.prototype.getZr=function(){return this._zr},r.prototype.isSSR=function(){return this._ssr},r.prototype.setOption=function(e,o,l){if(!this[oi]){if(this._disposed){this.id;return}var c,f,d;if(ce(o)&&(l=o.lazyUpdate,c=o.silent,f=o.replaceMerge,d=o.transition,o=o.notMerge),this[oi]=!0,gg(this),!this._model||o){var p=new a5(this._api),y=this._theme,b=this._model=new e5;b.scheduler=this._scheduler,b.ssr=this._ssr,b.init(null,null,null,y,this._locale,p)}this._model.setOption(e,{replaceMerge:f},GC);var x={seriesTransition:d,optionChanged:!0};if(l)this[Ra]={silent:c,updateParams:x},this[oi]=!1,this.getZr().wakeUp();else{try{vv(this),Uc.update.call(this,null,x)}catch(S){throw this[Ra]=null,this[oi]=!1,S}this._ssr||this._zr.flush(),this[Ra]=null,this[oi]=!1,pv.call(this,c),pg.call(this,c)}}},r.prototype.setTheme=function(e,o){if(!this[oi]){if(this._disposed){this.id;return}var l=this._model;if(l){var c=o&&o.silent,f=null;this[Ra]&&(c==null&&(c=this[Ra].silent),f=this[Ra].updateParams,this[Ra]=null),this[oi]=!0,gg(this);try{this._updateTheme(e),l.setTheme(this._theme),vv(this),Uc.update.call(this,{type:"setTheme"},f)}catch(d){throw this[oi]=!1,d}this[oi]=!1,pv.call(this,c),pg.call(this,c)}}},r.prototype._updateTheme=function(e){oe(e)&&(e=WC[e]),e&&(e=Ne(e),e&&pH(e,!0),this._theme=e)},r.prototype.getModel=function(){return this._model},r.prototype.getOption=function(){return this._model&&this._model.getOption()},r.prototype.getWidth=function(){return this._zr.getWidth()},r.prototype.getHeight=function(){return this._zr.getHeight()},r.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||cr.hasGlobalWindow&&window.devicePixelRatio||1},r.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},r.prototype.renderToCanvas=function(e){e=e||{};var o=this._zr.painter;return o.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},r.prototype.renderToSVGString=function(e){e=e||{};var o=this._zr.painter;return o.renderToString({useViewBox:e.useViewBox})},r.prototype.getSvgDataURL=function(){var e=this._zr,o=e.storage.getDisplayList();return it(o,function(l){l.stopAnimation(null,!0)}),e.painter.toDataURL()},r.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var o=e.excludeComponents,l=this._model,c=[],f=this;it(o,function(p){l.eachComponent({mainType:p},function(y){var b=f._componentsMap[y.__viewId];b.group.ignore||(c.push(b),b.group.ignore=!0)})});var d=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return it(c,function(p){p.group.ignore=!1}),d},r.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var o=e.type==="svg",l=this.group,c=Math.min,f=Math.max,d=1/0;if(Gw[l]){var p=d,y=d,b=-d,x=-d,S=[],T=e&&e.pixelRatio||this.getDevicePixelRatio();it(gv,function(F,W){if(F.group===l){var X=o?F.getZr().painter.getSvgDom().innerHTML:F.renderToCanvas(Ne(e)),$=F.getDom().getBoundingClientRect();p=c($.left,p),y=c($.top,y),b=f($.right,b),x=f($.bottom,x),S.push({dom:X,left:$.left,top:$.top})}}),p*=T,y*=T,b*=T,x*=T;var A=b-p,E=x-y,L=zr.createCanvas(),I=pO(L,{renderer:o?"svg":"canvas"});if(I.resize({width:A,height:E}),o){var N="";return it(S,function(F){var W=F.left-p,X=F.top-y;N+='<g transform="translate('+W+","+X+')">'+F.dom+"</g>"}),I.painter.getSvgRoot().innerHTML=N,e.connectedBackgroundColor&&I.painter.setBackgroundColor(e.connectedBackgroundColor),I.refreshImmediately(),I.painter.toDataURL()}else return e.connectedBackgroundColor&&I.add(new kr({shape:{x:0,y:0,width:A,height:E},style:{fill:e.connectedBackgroundColor}})),it(S,function(F){var W=new ka({style:{x:F.left*T-p,y:F.top*T-y,image:F.dom}});I.add(W)}),I.refreshImmediately(),L.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},r.prototype.convertToPixel=function(e,o,l){return Fw(this,"convertToPixel",e,o,l)},r.prototype.convertToLayout=function(e,o,l){return Fw(this,"convertToLayout",e,o,l)},r.prototype.convertFromPixel=function(e,o,l){return Fw(this,"convertFromPixel",e,o,l)},r.prototype.containPixel=function(e,o){if(this._disposed){this.id;return}var l=this._model,c,f=Cd(l,e);return it(f,function(d,p){p.indexOf("Models")>=0&&it(d,function(y){var b=y.coordinateSystem;if(b&&b.containPoint)c=c||!!b.containPoint(o);else if(p==="seriesModels"){var x=this._chartsMap[y.__viewId];x&&x.containPoint&&(c=c||x.containPoint(o,y))}},this)},this),!!c},r.prototype.getVisual=function(e,o){var l=this._model,c=Cd(l,e,{defaultMainType:"series"}),f=c.seriesModel,d=f.getData(),p=c.hasOwnProperty("dataIndexInside")?c.dataIndexInside:c.hasOwnProperty("dataIndex")?d.indexOfRawIndex(c.dataIndex):null;return p!=null?Tw(d,p,o):dg(d,o)},r.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},r.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},r.prototype._initEvents=function(){var e=this;it(eY,function(l){var c=function(f){var d=e.getModel(),p=f.target,y,b=l==="globalout";if(b?y={}:p&&fh(p,function(E){var L=nr(E);if(L&&L.dataIndex!=null){var I=L.dataModel||d.getSeriesByIndex(L.seriesIndex);return y=I&&I.getDataParams(L.dataIndex,L.dataType,p)||{},!0}else if(L.eventData)return y=Wt({},L.eventData),!0},!0),y){var x=y.componentType,S=y.componentIndex;(x==="markLine"||x==="markPoint"||x==="markArea")&&(x="series",S=y.seriesIndex);var T=x&&S!=null&&d.getComponent(x,S),A=T&&e[T.mainType==="series"?"_chartsMap":"_componentsMap"][T.__viewId];y.event=f,y.type=l,e._$eventProcessor.eventInfo={targetEl:p,packedEvent:y,model:T,view:A},e.trigger(l,y)}};c.zrEventfulCallAtLast=!0,e._zr.on(l,c,e)});var o=this._messageCenter;it(VC,function(l,c){o.on(c,function(f){e.trigger(c,f)})}),M3(o,this,this._api)},r.prototype.isDisposed=function(){return this._disposed},r.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},r.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&zR(this.getDom(),Ww,"");var o=this,l=o._api,c=o._model;it(o._componentsViews,function(f){f.dispose(c,l)}),it(o._chartsViews,function(f){f.dispose(c,l)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete gv[o.id]},r.prototype.resize=function(e){if(!this[oi]){if(this._disposed){this.id;return}this._zr.resize(e);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var l=o.resetOption("media"),c=e&&e.silent;this[Ra]&&(c==null&&(c=this[Ra].silent),l=!0,this[Ra]=null),this[oi]=!0,gg(this);try{l&&vv(this),Uc.update.call(this,{type:"resize",animation:Wt({duration:0},e&&e.animation)})}catch(f){throw this[oi]=!1,f}this[oi]=!1,pv.call(this,c),pg.call(this,c)}}},r.prototype.showLoading=function(e,o){if(this._disposed){this.id;return}if(ce(e)&&(o=e,e=""),e=e||"default",this.hideLoading(),!!km[e]){var l=km[e](this._api,o),c=this._zr;this._loadingFX=l,c.add(l)}},r.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},r.prototype.makeActionFromEvent=function(e){var o=Wt({},e);return o.type=jC[e.type],o},r.prototype.dispatchAction=function(e,o){if(this._disposed){this.id;return}if(ce(o)||(o={silent:!!o}),!!yg[e.type]&&this._model){if(this[oi]){this._pendingActions.push(e);return}var l=o.silent;NC.call(this,e,l);var c=o.flush;c?this._zr.flush():c!==!1&&cr.browser.weChat&&this._throttledZrFlush(),pv.call(this,l),pg.call(this,l)}},r.prototype.updateLabelLayout=function(){ul.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},r.prototype.appendData=function(e){if(this._disposed){this.id;return}var o=e.seriesIndex,l=this.getModel(),c=l.getSeriesByIndex(o);c.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},r.internalField=function(){vv=function(x){var S=x._scheduler;S.restorePipelines(x._model),S.prepareStageTasks(),IC(x,!0),IC(x,!1),S.plan()},IC=function(x,S){for(var T=x._model,A=x._scheduler,E=S?x._componentsViews:x._chartsViews,L=S?x._componentsMap:x._chartsMap,I=x._zr,N=x._api,F=0;F<E.length;F++)E[F].__alive=!1;S?T.eachComponent(function($,K){$!=="series"&&W(K)}):T.eachSeries(W);function W($){var K=$.__requireNewView;$.__requireNewView=!1;var et="_ec_"+$.id+"_"+$.type,at=!K&&L[et];if(!at){var ot=Lu($.type),ht=S?ui.getClass(ot.main,ot.sub):Hn.getClass(ot.sub);at=new ht,at.init(T,N),L[et]=at,E.push(at),I.add(at.group)}$.__viewId=at.__id=et,at.__alive=!0,at.__model=$,at.group.__ecComponentInfo={mainType:$.mainType,index:$.componentIndex},!S&&A.prepareView(at,$,T,N)}for(var F=0;F<E.length;){var X=E[F];X.__alive?F++:(!S&&X.renderTask.dispose(),I.remove(X.group),X.dispose(T,N),E.splice(F,1),L[X.__id]===X&&delete L[X.__id],X.__id=X.group.__ecComponentInfo=null)}},zw=function(x,S,T,A,E){var L=x._model;if(L.setUpdatePayload(T),!A){it([].concat(x._componentsViews).concat(x._chartsViews),X);return}var I={};I[A+"Id"]=T[A+"Id"],I[A+"Index"]=T[A+"Index"],I[A+"Name"]=T[A+"Name"];var N={mainType:A,query:I};E&&(N.subType=E);var F=T.excludeSeriesId,W;F!=null&&(W=ve(),it(An(F),function($){var K=Pa($,null);K!=null&&W.set(K,!0)})),L&&L.eachComponent(N,function($){var K=W&&W.get($.id)!=null;if(!K)if(wN(T))if($ instanceof ai)T.type===Nd&&!T.notBlur&&!$.get(["emphasis","disabled"])&&PW($,T,x._api);else{var et=$O($.mainType,$.componentIndex,T.name,x._api),at=et.focusSelf,ot=et.dispatchers;T.type===Nd&&at&&!T.notBlur&&XO($.mainType,$.componentIndex,x._api),ot&&it(ot,function(ht){T.type===Nd?Pc(ht):Bu(ht)})}else ZO(T)&&$ instanceof ai&&(lx($,T,x._api),qO($),cl(x))},x),L&&L.eachComponent(N,function($){var K=W&&W.get($.id)!=null;K||X(x[A==="series"?"_chartsMap":"_componentsMap"][$.__viewId])},x);function X($){$&&$.__alive&&$[S]&&$[S]($.__model,L,x._api,T)}},Uc={prepareAndUpdate:function(x){vv(this),Uc.update.call(this,x,x&&{optionChanged:x.newOption!=null})},update:function(x,S){var T=this._model,A=this._api,E=this._zr,L=this._coordSysMgr,I=this._scheduler;if(T){T.setUpdatePayload(x),I.restoreData(T,x),I.performSeriesTasks(T),L.create(T,A),I.performDataProcessorTasks(T,x),RC(this,T),L.update(T,A),o(T),I.performVisualTasks(T,x);var N=T.get("backgroundColor")||"transparent";E.setBackgroundColor(N);var F=T.get("darkMode");F!=null&&F!=="auto"&&E.setDarkMode(F),BC(this,T,A,x,S),ul.trigger("afterupdate",T,A)}},updateTransform:function(x){var S=this,T=this._model,A=this._api;if(T){T.setUpdatePayload(x);var E=[];T.eachComponent(function(I,N){if(I!=="series"){var F=S.getViewOfComponentModel(N);if(F&&F.__alive)if(F.updateTransform){var W=F.updateTransform(N,T,A,x);W&&W.update&&E.push(F)}else E.push(F)}});var L=ve();T.eachSeries(function(I){var N=S._chartsMap[I.__viewId];if(N.updateTransform){var F=N.updateTransform(I,T,A,x);F&&F.update&&L.set(I.uid,1)}else L.set(I.uid,1)}),o(T),this._scheduler.performVisualTasks(T,x,{setDirty:!0,dirtyMap:L}),jw(this,T,A,x,{},L),ul.trigger("afterupdate",T,A)}},updateView:function(x){var S=this._model;S&&(S.setUpdatePayload(x),Hn.markUpdateMethod(x,"updateView"),o(S),this._scheduler.performVisualTasks(S,x,{setDirty:!0}),BC(this,S,this._api,x,{}),ul.trigger("afterupdate",S,this._api))},updateVisual:function(x){var S=this,T=this._model;T&&(T.setUpdatePayload(x),T.eachSeries(function(A){A.getData().clearAllVisual()}),Hn.markUpdateMethod(x,"updateVisual"),o(T),this._scheduler.performVisualTasks(T,x,{visualType:"visual",setDirty:!0}),T.eachComponent(function(A,E){if(A!=="series"){var L=S.getViewOfComponentModel(E);L&&L.__alive&&L.updateVisual(E,T,S._api,x)}}),T.eachSeries(function(A){var E=S._chartsMap[A.__viewId];E.updateVisual(A,T,S._api,x)}),ul.trigger("afterupdate",T,this._api))},updateLayout:function(x){Uc.update.call(this,x)}};function e(x,S,T,A,E){if(x._disposed){x.id;return}for(var L=x._model,I=x._coordSysMgr.getCoordinateSystems(),N,F=Cd(L,T),W=0;W<I.length;W++){var X=I[W];if(X[S]&&(N=X[S](L,F,A,E))!=null)return N}}Fw=e,RC=function(x,S){var T=x._chartsMap,A=x._scheduler;S.eachSeries(function(E){A.updateStreamModes(E,T[E.__viewId])})},NC=function(x,S){var T=this,A=this.getModel(),E=x.type,L=x.escapeConnect,I=yg[E],N=(I.update||"update").split(":"),F=N.pop(),W=N[0]!=null&&Lu(N[0]);this[oi]=!0,gg(this);var X=[x],$=!1;x.batch&&($=!0,X=Gt(x.batch,function(St){return St=je(Wt({},St),x),St.batch=null,St}));var K=[],et,at=[],ot=I.nonRefinedEventType,ht=ZO(x),yt=wN(x);if(yt&&ox(this._api),it(X,function(St){var Pt=I.action(St,A,T._api);if(I.refineEvent?at.push(Pt):et=Pt,et=et||Wt({},St),et.type=ot,K.push(et),yt){var Et=TO(x),Lt=Et.queryOptionMap,zt=Et.mainTypeSpecified,Ht=zt?Lt.keys()[0]:"series";zw(T,F,St,Ht),cl(T)}else ht?(zw(T,F,St,"series"),cl(T)):W&&zw(T,F,St,W.main,W.sub)}),F!=="none"&&!yt&&!ht&&!W)try{this[Ra]?(vv(this),Uc.update.call(this,x),this[Ra]=null):Uc[F].call(this,x)}catch(St){throw this[oi]=!1,St}if($?et={type:ot,escapeConnect:L,batch:K}:et=K[0],this[oi]=!1,!S){var vt=void 0;if(I.refineEvent){var bt=I.refineEvent(at,x,A,this._api).eventContent;ei(ce(bt)),vt=je({type:I.refinedEventType},bt),vt.fromAction=x.type,vt.fromActionPayload=x,vt.escapeConnect=!0}var Mt=this._messageCenter;Mt.trigger(et.type,et),vt&&Mt.trigger(vt.type,vt)}},pv=function(x){for(var S=this._pendingActions;S.length;){var T=S.shift();NC.call(this,T,x)}},pg=function(x){!x&&this.trigger("updated")},sB=function(x,S){x.on("rendered",function(T){S.trigger("rendered",T),x.animation.isFinished()&&!S[Ra]&&!S._scheduler.unfinished&&!S._pendingActions.length&&S.trigger("finished")})},lB=function(x,S){x.on("mouseover",function(T){var A=T.target,E=fh(A,I0);E&&(sx(E,T,S._api),cl(S))}).on("mouseout",function(T){var A=T.target,E=fh(A,I0);E&&(EW(E,T,S._api),cl(S))}).on("click",function(T){var A=T.target,E=fh(A,function(N){return nr(N).dataIndex!=null},!0);if(E){var L=E.selected?"unselect":"select",I=nr(E);S._api.dispatchAction({type:L,dataType:I.dataType,dataIndexInside:I.dataIndex,seriesIndex:I.seriesIndex,isFromClick:!0})}})};function o(x){x.clearColorPalette(),x.eachSeries(function(S){S.clearColorPalette()})}function l(x){var S=[],T=[],A=!1;if(x.eachComponent(function(N,F){var W=F.get("zlevel")||0,X=F.get("z")||0,$=F.getZLevelKey();A=A||!!$,(N==="series"?T:S).push({zlevel:W,z:X,idx:F.componentIndex,type:N,key:$})}),A){var E=S.concat(T),L,I;mp(E,function(N,F){return N.zlevel===F.zlevel?N.z-F.z:N.zlevel-F.zlevel}),it(E,function(N){var F=x.getComponent(N.type,N.idx),W=N.zlevel,X=N.key;L!=null&&(W=Math.max(L,W)),X?(W===L&&X!==I&&W++,I=X):I&&(W===L&&W++,I=""),L=W,F.setZLevel(W)})}}BC=function(x,S,T,A,E){l(S),zC(x,S,T,A,E),it(x._chartsViews,function(L){L.__alive=!1}),jw(x,S,T,A,E),it(x._chartsViews,function(L){L.__alive||L.remove(S,T)})},zC=function(x,S,T,A,E,L){it(L||x._componentsViews,function(I){var N=I.__model;y(N,I),I.render(N,S,T,A),p(N,I),b(N,I)})},jw=function(x,S,T,A,E,L){var I=x._scheduler;E=Wt(E||{},{updatedSeries:S.getSeries()}),ul.trigger("series:beforeupdate",S,T,E);var N=!1;S.eachSeries(function(F){var W=x._chartsMap[F.__viewId];W.__alive=!0;var X=W.renderTask;I.updatePayload(X,A),y(F,W),L&&L.get(F.uid)&&X.dirty(),X.perform(I.getPerformArgs(X))&&(N=!0),W.group.silent=!!F.get("silent"),d(F,W),qO(F)}),I.unfinished=N||I.unfinished,ul.trigger("series:layoutlabels",S,T,E),ul.trigger("series:transition",S,T,E),S.eachSeries(function(F){var W=x._chartsMap[F.__viewId];p(F,W),b(F,W)}),f(x,S),ul.trigger("series:afterupdate",S,T,E)},cl=function(x){x[kC]=!0,x.getZr().wakeUp()},gg=function(x){x[Bw]=(x[Bw]+1)%1e3},fB=function(x){x[kC]&&(x.getZr().storage.traverse(function(S){Np(S)||c(S)}),x[kC]=!1)};function c(x){for(var S=[],T=x.currentStates,A=0;A<T.length;A++){var E=T[A];E==="emphasis"||E==="blur"||E==="select"||S.push(E)}x.selected&&x.states.select&&S.push("select"),x.hoverState===J_&&x.states.emphasis?S.push("emphasis"):x.hoverState===C0&&x.states.blur&&S.push("blur"),x.useStates(S)}function f(x,S){var T=x._zr,A=T.storage,E=0;A.traverse(function(L){L.isGroup||E++}),E>S.get("hoverLayerThreshold")&&!cr.node&&!cr.worker&&S.eachSeries(function(L){if(!L.preventUsingHoverLayer){var I=x._chartsMap[L.__viewId];I.__alive&&I.eachRendered(function(N){N.states.emphasis&&(N.states.emphasis.hoverLayer=!0)})}})}function d(x,S){var T=x.get("blendMode")||null;S.eachRendered(function(A){A.isGroup||(A.style.blend=T)})}function p(x,S){if(!x.preventAutoZ){var T=ll(x);S.eachRendered(function(A){return sg(A,T.z,T.zlevel),!0})}}function y(x,S){S.eachRendered(function(T){if(!Np(T)){var A=T.getTextContent(),E=T.getTextGuideLine();T.stateTransition&&(T.stateTransition=null),A&&A.stateTransition&&(A.stateTransition=null),E&&E.stateTransition&&(E.stateTransition=null),T.hasState()?(T.prevStates=T.currentStates,T.clearStates()):T.prevStates&&(T.prevStates=null)}})}function b(x,S){var T=x.getModel("stateAnimation"),A=x.isAnimationEnabled(),E=T.get("duration"),L=E>0?{duration:E,delay:T.get("delay"),easing:T.get("easing")}:null;S.eachRendered(function(I){if(I.states&&I.states.emphasis){if(Np(I))return;if(I instanceof Sr&&Vrt(I),I.__dirty){var N=I.prevStates;N&&I.useStates(N)}if(A){I.stateTransition=L;var F=I.getTextContent(),W=I.getTextGuideLine();F&&(F.stateTransition=L),W&&(W.stateTransition=L)}I.__dirty&&c(I)}})}uB=function(x){return new(function(S){Ot(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.getCoordinateSystems=function(){return x._coordSysMgr.getCoordinateSystems()},T.prototype.getComponentByElement=function(A){for(;A;){var E=A.__ecComponentInfo;if(E!=null)return x._model.getComponent(E.mainType,E.index);A=A.parent}},T.prototype.enterEmphasis=function(A,E){Pc(A,E),cl(x)},T.prototype.leaveEmphasis=function(A,E){Bu(A,E),cl(x)},T.prototype.enterBlur=function(A){HO(A),cl(x)},T.prototype.leaveBlur=function(A){D0(A),cl(x)},T.prototype.enterSelect=function(A){ix(A),cl(x)},T.prototype.leaveSelect=function(A){ax(A),cl(x)},T.prototype.getModel=function(){return x.getModel()},T.prototype.getViewOfComponentModel=function(A){return x.getViewOfComponentModel(A)},T.prototype.getViewOfSeriesModel=function(A){return x.getViewOfSeriesModel(A)},T.prototype.getMainProcessVersion=function(){return x[Bw]},T}(wA))(x)},cB=function(x){function S(T,A){for(var E=0;E<T.length;E++){var L=T[E];L[ba]=A}}it(jC,function(T,A){x._messageCenter.on(A,function(E){if(Gw[x.group]&&x[ba]!==No){if(E&&E.escapeConnect)return;var L=x.makeActionFromEvent(E),I=[];it(gv,function(N){N!==x&&N.group===x.group&&I.push(N)}),S(I,No),it(I,function(N){N[ba]!==LC&&N.dispatchAction(L)}),S(I,tY)}})})}}(),r}(Cl),FC=Vw.prototype;FC.on=iB("on"),FC.off=iB("off"),FC.one=function(n,r,e){var o=this;function l(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];r&&r.apply&&r.apply(this,c),o.off(n,l)}this.on.call(this,n,l,e)};var eY=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Fn(n){}var yg={},jC={},VC={},hB=[],GC=[],Em=[],WC={},km={},gv={},Gw={},rY=+new Date-0,dB=+new Date-0,Ww="_echarts_instance_";function Hw(n,r,e){var o=!(e&&e.ssr);if(o){var l=Yw(n);if(l)return l}var c=new Vw(n,r,e);return c.id="ec_"+rY++,gv[c.id]=c,o&&zR(n,Ww,c.id),cB(c),ul.trigger("afterinit",c),c}function nY(n){if(isArray(n)){var r=n;n=null,each(r,function(e){e.group!=null&&(n=e.group)}),n=n||"g_"+dB++,each(r,function(e){e.group=n})}return Gw[n]=!0,n}function HC(n){Gw[n]=!1}var iY=null;function aY(n){isString(n)?n=gv[n]:n instanceof Vw||(n=Yw(n)),n instanceof Vw&&!n.isDisposed()&&n.dispose()}function Yw(n){return gv[FR(n,Ww)]}function oY(n){return gv[n]}function YC(n,r){WC[n]=r}function Uw(n){Xe(GC,n)<0&&GC.push(n)}function vB(n,r){$w(hB,n,r,Q3)}function sY(n){Xw("afterinit",n)}function lY(n){Xw("afterupdate",n)}function Xw(n,r){ul.on(n,r)}function _a(n,r,e){var o,l,c,f,d;ze(r)&&(e=r,r=""),ce(n)?(o=n.type,l=n.event,f=n.update,d=n.publishNonRefinedEvent,e||(e=n.action),c=n.refineEvent):(o=n,l=r);function p(b){return b.toLowerCase()}l=p(l||o);var y=c?p(o):l;yg[o]||(ei(nB.test(o)&&nB.test(l)),c&&ei(l!==o),yg[o]={actionType:o,refinedEventType:l,nonRefinedEventType:y,update:f,action:e,refineEvent:c},VC[l]=1,c&&d&&(VC[y]=1),jC[y]=o)}function pB(n,r){Y0.register(n,r)}function nnt(n){var r=CoordinateSystemManager.get(n);if(r)return r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice()}function uY(n,r){registerCustom(n,r)}function gB(n,r){$w(Em,n,r,PC,"layout")}function ph(n,r){$w(Em,n,r,EC,"visual")}var UC=[];function $w(n,r,e,o,l){if((ze(r)||ce(r))&&(e=r,r=o),!(Xe(UC,e)>=0)){UC.push(e);var c=sC.wrapStageHandler(e,l);c.__prio=r,c.__raw=e,n.push(c)}}function XC(n,r){km[n]=r}function cY(n){setPlatformAPI({createCanvas:n})}function yB(n,r,e){var o=X3("registerMap");o&&o(n,r,e)}function fY(n){var r=getImpl("getMap");return r&&r(n)}var $C=Ux;ph(Rw,uv),ph(Cm,iC),ph(Cm,Uu),ph(Rw,w3),ph(Cm,S3),ph(eB,Y3),Uw(pH),vB(Z3,c5),XC("default",aC),_a({type:Nd,event:Nd,update:Nd},_t),_a({type:tx,event:tx,update:tx},_t),_a({type:ex,event:GO,update:ex,action:_t,refineEvent:qw,publishNonRefinedEvent:!0}),_a({type:VO,event:GO,update:VO,action:_t,refineEvent:qw,publishNonRefinedEvent:!0}),_a({type:rx,event:GO,update:rx,action:_t,refineEvent:qw,publishNonRefinedEvent:!0});function qw(n,r,e,o){return{eventContent:{selected:bN(e),isFromClick:r.isFromClick||!1}}}YC("default",{}),YC("dark",b3);var hY={},qC={};function mB(n,r){qC[n]=r}function bB(n){return qC[n]}var ZC=[],dY={registerPreprocessor:Uw,registerProcessor:vB,registerPostInit:sY,registerPostUpdate:lY,registerUpdateLifecycle:Xw,registerAction:_a,registerCoordinateSystem:pB,registerLayout:gB,registerVisual:ph,registerTransform:$C,registerLoading:XC,registerMap:yB,registerImpl:U3,PRIORITY:rB,ComponentModel:Yr,ComponentView:ui,SeriesModel:ai,ChartView:Hn,registerComponentModel:function(n){Yr.registerClass(n)},registerComponentView:function(n){ui.registerClass(n)},registerSeriesModel:function(n){ai.registerClass(n)},registerChartView:function(n){Hn.registerClass(n)},registerCustomSeries:function(n,r){mB(n,r)},registerSubTypeDefaulter:function(n,r){Yr.registerSubTypeDefaulter(n,r)},registerPainter:function(n,r){MR(n,r)}};function _r(n){if(Ut(n)){it(n,function(r){_r(r)});return}Xe(ZC,n)>=0||(ZC.push(n),ze(n)&&(n={install:n}),n.install(dY))}var mg=Math.PI*2,Xc=xs.CMD,vY=["top","right","bottom","left"];function _B(n,r,e,o,l){var c=e.width,f=e.height;switch(n){case"top":o.set(e.x+c/2,e.y-r),l.set(0,-1);break;case"bottom":o.set(e.x+c/2,e.y+f+r),l.set(0,1);break;case"left":o.set(e.x-r,e.y+f/2),l.set(-1,0);break;case"right":o.set(e.x+c+r,e.y+f/2),l.set(1,0);break}}function xB(n,r,e,o,l,c,f,d,p){f-=n,d-=r;var y=Math.sqrt(f*f+d*d);f/=y,d/=y;var b=f*e+n,x=d*e+r;if(Math.abs(o-l)%mg<1e-4)return p[0]=b,p[1]=x,y-e;if(c){var S=o;o=Ss(l),l=Ss(S)}else o=Ss(o),l=Ss(l);o>l&&(l+=mg);var T=Math.atan2(d,f);if(T<0&&(T+=mg),T>=o&&T<=l||T+mg>=o&&T+mg<=l)return p[0]=b,p[1]=x,y-e;var A=e*Math.cos(o)+n,E=e*Math.sin(o)+r,L=e*Math.cos(l)+n,I=e*Math.sin(l)+r,N=(A-f)*(A-f)+(E-d)*(E-d),F=(L-f)*(L-f)+(I-d)*(I-d);return N<F?(p[0]=A,p[1]=E,Math.sqrt(N)):(p[0]=L,p[1]=I,Math.sqrt(F))}function Lm(n,r,e,o,l,c,f,d){var p=l-n,y=c-r,b=e-n,x=o-r,S=Math.sqrt(b*b+x*x);b/=S,x/=S;var T=p*b+y*x,A=T/S;d&&(A=Math.min(Math.max(A,0),1)),A*=S;var E=f[0]=n+A*b,L=f[1]=r+A*x;return Math.sqrt((E-l)*(E-l)+(L-c)*(L-c))}function wB(n,r,e,o,l,c,f){e<0&&(n=n+e,e=-e),o<0&&(r=r+o,o=-o);var d=n+e,p=r+o,y=f[0]=Math.min(Math.max(l,n),d),b=f[1]=Math.min(Math.max(c,r),p);return Math.sqrt((y-l)*(y-l)+(b-c)*(b-c))}var tu=[];function SB(n,r,e){var o=wB(r.x,r.y,r.width,r.height,n.x,n.y,tu);return e.set(tu[0],tu[1]),o}function MB(n,r,e){for(var o=0,l=0,c=0,f=0,d,p,y=1/0,b=r.data,x=n.x,S=n.y,T=0;T<b.length;){var A=b[T++];T===1&&(o=b[T],l=b[T+1],c=o,f=l);var E=y;switch(A){case Xc.M:c=b[T++],f=b[T++],o=c,l=f;break;case Xc.L:E=Lm(o,l,b[T],b[T+1],x,S,tu,!0),o=b[T++],l=b[T++];break;case Xc.C:E=A9(o,l,b[T++],b[T++],b[T++],b[T++],b[T],b[T+1],x,S,tu),o=b[T++],l=b[T++];break;case Xc.Q:E=P9(o,l,b[T++],b[T++],b[T],b[T+1],x,S,tu),o=b[T++],l=b[T++];break;case Xc.A:var L=b[T++],I=b[T++],N=b[T++],F=b[T++],W=b[T++],X=b[T++];T+=1;var $=!!(1-b[T++]);d=Math.cos(W)*N+L,p=Math.sin(W)*F+I,T<=1&&(c=d,f=p);var K=(x-L)*F/N+L;E=xB(L,I,F,W,W+X,$,K,S,tu),o=Math.cos(W+X)*N+L,l=Math.sin(W+X)*F+I;break;case Xc.R:c=o=b[T++],f=l=b[T++];var et=b[T++],at=b[T++];E=wB(c,f,et,at,x,S,tu);break;case Xc.Z:E=Lm(o,l,c,f,x,S,tu,!0),o=c,l=f;break}E<y&&(y=E,e.set(tu[0],tu[1]))}return y}var eu=new Ke,Yn=new Ke,Gi=new Ke,ru=new Ke,Xu=new Ke;function TB(n,r){if(n){var e=n.getTextGuideLine(),o=n.getTextContent();if(o&&e){var l=n.textGuideLineConfig||{},c=[[0,0],[0,0],[0,0]],f=l.candidates||vY,d=o.getBoundingRect().clone();d.applyTransform(o.getComputedTransform());var p=1/0,y=l.anchor,b=n.getComputedTransform(),x=b&&Ca([],b),S=r.get("length2")||0;y&&Gi.copy(y);for(var T=0;T<f.length;T++){var A=f[T];_B(A,0,d,eu,ru),Ke.scaleAndAdd(Yn,eu,ru,S),Yn.transform(x);var E=n.getBoundingRect(),L=y?y.distance(Yn):n instanceof Sr?MB(Yn,n.path,Gi):SB(Yn,E,Gi);L<p&&(p=L,Yn.transform(b),Gi.transform(b),Gi.toArray(c[0]),Yn.toArray(c[1]),eu.toArray(c[2]))}OB(c,r.get("minTurnAngle")),e.setShape({points:c})}}}var Dm=[],Bo=new Ke;function OB(n,r){if(r<=180&&r>0){r=r/180*Math.PI,eu.fromArray(n[0]),Yn.fromArray(n[1]),Gi.fromArray(n[2]),Ke.sub(ru,eu,Yn),Ke.sub(Xu,Gi,Yn);var e=ru.len(),o=Xu.len();if(!(e<.001||o<.001)){ru.scale(1/e),Xu.scale(1/o);var l=ru.dot(Xu),c=Math.cos(r);if(c<l){var f=Lm(Yn.x,Yn.y,Gi.x,Gi.y,eu.x,eu.y,Dm,!1);Bo.fromArray(Dm),Bo.scaleAndAdd(Xu,f/Math.tan(Math.PI-r));var d=Gi.x!==Yn.x?(Bo.x-Yn.x)/(Gi.x-Yn.x):(Bo.y-Yn.y)/(Gi.y-Yn.y);if(isNaN(d))return;d<0?Ke.copy(Bo,Yn):d>1&&Ke.copy(Bo,Gi),Bo.toArray(n[1])}}}}function AB(n,r,e){if(e<=180&&e>0){e=e/180*Math.PI,eu.fromArray(n[0]),Yn.fromArray(n[1]),Gi.fromArray(n[2]),Ke.sub(ru,Yn,eu),Ke.sub(Xu,Gi,Yn);var o=ru.len(),l=Xu.len();if(!(o<.001||l<.001)){ru.scale(1/o),Xu.scale(1/l);var c=ru.dot(r),f=Math.cos(e);if(c<f){var d=Lm(Yn.x,Yn.y,Gi.x,Gi.y,eu.x,eu.y,Dm,!1);Bo.fromArray(Dm);var p=Math.PI/2,y=Math.acos(Xu.dot(r)),b=p+y-e;if(b>=p)Ke.copy(Bo,Gi);else{Bo.scaleAndAdd(Xu,d/Math.tan(Math.PI/2-b));var x=Gi.x!==Yn.x?(Bo.x-Yn.x)/(Gi.x-Yn.x):(Bo.y-Yn.y)/(Gi.y-Yn.y);if(isNaN(x))return;x<0?Ke.copy(Bo,Yn):x>1&&Ke.copy(Bo,Gi)}Bo.toArray(n[1])}}}}function Zw(n,r,e,o){var l=e==="normal",c=l?n:n.ensureState(e);c.ignore=r;var f=o.get("smooth");f&&f===!0&&(f=.3),c.shape=c.shape||{},f>0&&(c.shape.smooth=f);var d=o.getModel("lineStyle").getLineStyle();l?n.useStyle(d):c.style=d}function CB(n,r){var e=r.smooth,o=r.points;if(o)if(n.moveTo(o[0][0],o[0][1]),e>0&&o.length>=3){var l=wu(o[0],o[1]),c=wu(o[1],o[2]);if(!l||!c){n.lineTo(o[1][0],o[1][1]),n.lineTo(o[2][0],o[2][1]);return}var f=Math.min(l,c)*e,d=yi([],o[1],o[0],f/l),p=yi([],o[1],o[2],f/c),y=yi([],d,p,.5);n.bezierCurveTo(d[0],d[1],d[0],d[1],y[0],y[1]),n.bezierCurveTo(p[0],p[1],p[0],p[1],o[2][0],o[2][1])}else for(var b=1;b<o.length;b++)n.lineTo(o[b][0],o[b][1])}function Kw(n,r,e){var o=n.getTextGuideLine(),l=n.getTextContent();if(!l){o&&n.removeTextGuideLine();return}for(var c=r.normal,f=c.get("show"),d=l.ignore,p=0;p<P0.length;p++){var y=P0[p],b=r[y],x=y==="normal";if(b){var S=b.get("show"),T=x?d:fe(l.states[y]&&l.states[y].ignore,d);if(T||!fe(S,f)){var A=x?o:o&&o.states[y];A&&(A.ignore=!0),o&&Zw(o,!0,y,b);continue}o||(o=new Xa,n.setTextGuideLine(o),!x&&(d||!f)&&Zw(o,!0,"normal",r.normal),n.stateProxy&&(o.stateProxy=n.stateProxy)),Zw(o,!1,y,b)}}if(o){je(o.style,e),o.style.fill=null;var E=c.get("showAbove"),L=n.textGuideLineConfig=n.textGuideLineConfig||{};L.showAbove=E||!1,o.buildPath=CB}}function Qw(n,r){r=r||"labelLine";for(var e={normal:n.getModel(r)},o=0;o<Ro.length;o++){var l=Ro[o];e[l]=n.getModel([l,r])}return e}var KC=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],pY=1,Jw=2,PB=pY|Jw;function bg(n,r,e){e=e||PB,r?n.dirty|=e:n.dirty&=~e}function QC(n,r){return r=r||PB,n.dirty==null||!!(n.dirty&r)}function nu(n){if(n)return QC(n)&&JC(n,n.label,n),n}function JC(n,r,e){var o=r.getComputedTransform();n.transform=Hc(n.transform,o);var l=n.localRect=og(n.localRect,r.getBoundingRect()),c=r.style,f=c.margin,d=e&&e.marginForce,p=e&&e.minMarginForce,y=e&&e.marginDefault,b=c.__marginType;b==null&&y&&(f=y,b=Fd.textMargin);for(var x=0;x<4;x++)tS[x]=b===Fd.minMargin&&p&&p[x]!=null?p[x]:d&&d[x]!=null?d[x]:f?f[x]:0;b===Fd.textMargin&&Jl(l,tS,!1,!1);var S=n.rect=og(n.rect,l);return o&&S.applyTransform(o),b===Fd.minMargin&&Jl(S,tS,!1,!1),n.axisAligned=sv(o),(n.label=n.label||{}).ignore=r.ignore,bg(n,!1),bg(n,!0,Jw),n}var tS=[0,0,0,0];function EB(n,r,e){return n.transform=Hc(n.transform,e),n.localRect=og(n.localRect,r),n.rect=og(n.rect,r),e&&n.rect.applyTransform(e),n.axisAligned=sv(e),n.obb=void 0,(n.label=n.label||{}).ignore=!1,n}function eS(n,r){if(n){n.label.x+=r.x,n.label.y+=r.y,n.label.markRedraw();var e=n.transform;e&&(e[4]+=r.x,e[5]+=r.y);var o=n.rect;o&&(o.x+=r.x,o.y+=r.y);var l=n.obb;l&&l.fromBoundingRect(n.localRect,e)}}function rS(n,r){for(var e=0;e<KC.length;e++){var o=KC[e];n[o]==null&&(n[o]=r[o])}return nu(n)}function kB(n){var r=n.obb;return(!r||QC(n,Jw))&&(n.obb=r=r||new e3,r.fromBoundingRect(n.localRect,n.transform),bg(n,!1,Jw)),r}function tP(n,r,e,o,l){var c=n.length,f=pr[r],d=ea[r];if(c<2)return!1;n.sort(function(at,ot){return at.rect[f]-ot.rect[f]});for(var p=0,y,b=!1,x=0,S=0;S<c;S++){var T=n[S],A=T.rect;y=A[f]-p,y<0&&(A[f]-=y,T.label[f]-=y,b=!0);var E=Math.max(-y,0);x+=E,p=A[f]+A[d]}x>0&&l&&$(-x/c,0,c);var L=n[0],I=n[c-1],N,F;W(),N<0&&K(-N,.8),F<0&&K(F,.8),W(),X(N,F,1),X(F,N,-1),W(),N<0&&et(-N),F<0&&et(F);function W(){N=L.rect[f]-e,F=o-I.rect[f]-I.rect[d]}function X(at,ot,ht){if(at<0){var yt=Math.min(ot,-at);if(yt>0){$(yt*ht,0,c);var vt=yt+at;vt<0&&K(-vt*ht,1)}else K(-at*ht,1)}}function $(at,ot,ht){at!==0&&(b=!0);for(var yt=ot;yt<ht;yt++){var vt=n[yt],bt=vt.rect;bt[f]+=at,vt.label[f]+=at}}function K(at,ot){for(var ht=[],yt=0,vt=1;vt<c;vt++){var bt=n[vt-1].rect,Mt=Math.max(n[vt].rect[f]-bt[f]-bt[d],0);ht.push(Mt),yt+=Mt}if(yt){var St=Math.min(Math.abs(at)/yt,ot);if(at>0)for(var vt=0;vt<c-1;vt++){var Pt=ht[vt]*St;$(Pt,0,vt+1)}else for(var vt=c-1;vt>0;vt--){var Pt=ht[vt-1]*St;$(-Pt,vt,c)}}}function et(at){var ot=at<0?-1:1;at=Math.abs(at);for(var ht=Math.ceil(at/(c-1)),yt=0;yt<c-1;yt++)if(ot>0?$(ht,0,yt+1):$(-ht,c-yt-1,c),at-=ht,at<=0)return}return b}function gY(n){for(var r=0;r<n.length;r++){var e=n[r],o=e.defaultAttr,l=e.labelLine;e.label.attr("ignore",o.ignore),l&&l.attr("ignore",o.labelGuideIgnore)}}function eP(n){var r=[];n.sort(function(y,b){return(b.suggestIgnore?1:0)-(y.suggestIgnore?1:0)||b.priority-y.priority});function e(y){if(!y.ignore){var b=y.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}y.ignore=!0}for(var o=0;o<n.length;o++){var l=nu(n[o]);if(!l.label.ignore){for(var c=l.label,f=l.labelLine,d=!1,p=0;p<r.length;p++)if(Im(l,r[p],null,{touchThreshold:.05})){d=!0;break}d?(e(c),f&&e(f)):r.push(l)}}}function Im(n,r,e,o){return!n||!r||n.label&&n.label.ignore||r.label&&r.label.ignore||!n.rect.intersect(r.rect,e,o)?!1:n.axisAligned&&r.axisAligned?!0:kB(n).intersect(kB(r),e,o)}function LB(n){if(n){for(var r=[],e=0;e<n.length;e++)r.push(n[e].slice());return r}}function DB(n,r){var e=n.label,o=r&&r.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:LB(o&&o.shape.points)}}var nS=["align","verticalAlign","width","height","fontSize"],Mo=new ms,iS=br(),IB=br();function Rm(n,r,e){for(var o=0;o<e.length;o++){var l=e[o];r[l]!=null&&(n[l]=r[l])}}var Nm=["x","y","rotation"],RB=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(r,e,o,l,c){var f=l.style,d=l.__hostTarget,p=d.textConfig||{},y=l.getComputedTransform(),b=l.getBoundingRect().plain();Je.applyTransform(b,b,y),y?Mo.setLocalTransform(y):(Mo.x=Mo.y=Mo.rotation=Mo.originX=Mo.originY=0,Mo.scaleX=Mo.scaleY=1),Mo.rotation=Ss(Mo.rotation);var x=l.__hostTarget,S;if(x){S=x.getBoundingRect().plain();var T=x.getComputedTransform();Je.applyTransform(S,S,T)}var A=S&&x.getTextGuideLine();this._labelList.push({label:l,labelLine:A,seriesModel:o,dataIndex:r,dataType:e,layoutOptionOrCb:c,layoutOption:null,rect:b,hostRect:S,priority:S?S.width*S.height:0,defaultAttr:{ignore:l.ignore,labelGuideIgnore:A&&A.ignore,x:Mo.x,y:Mo.y,scaleX:Mo.scaleX,scaleY:Mo.scaleY,rotation:Mo.rotation,style:{x:f.x,y:f.y,align:f.align,verticalAlign:f.verticalAlign,width:f.width,height:f.height,fontSize:f.fontSize},cursor:l.cursor,attachedPos:p.position,attachedRot:p.rotation}})},n.prototype.addLabelsOfSeries=function(r){var e=this;this._chartViewList.push(r);var o=r.__model,l=o.get("labelLayout");(ze(l)||vr(l).length)&&r.group.traverse(function(c){if(c.ignore)return!0;var f=c.getTextContent(),d=nr(c);f&&!f.disableLabelLayout&&e._addLabel(d.dataIndex,d.dataType,o,f,l)})},n.prototype.updateLayoutConfig=function(r){var e=r.getWidth(),o=r.getHeight();function l(F,W){return function(){TB(F,W)}}for(var c=0;c<this._labelList.length;c++){var f=this._labelList[c],d=f.label,p=d.__hostTarget,y=f.defaultAttr,b=void 0;ze(f.layoutOptionOrCb)?b=f.layoutOptionOrCb(DB(f,p)):b=f.layoutOptionOrCb,b=b||{},f.layoutOption=b;var x=Math.PI/180;p&&p.setTextConfig({local:!1,position:b.x!=null||b.y!=null?null:y.attachedPos,rotation:b.rotate!=null?b.rotate*x:y.attachedRot,offset:[b.dx||0,b.dy||0]});var S=!1;if(b.x!=null?(d.x=de(b.x,e),d.setStyle("x",0),S=!0):(d.x=y.x,d.setStyle("x",y.style.x)),b.y!=null?(d.y=de(b.y,o),d.setStyle("y",0),S=!0):(d.y=y.y,d.setStyle("y",y.style.y)),b.labelLinePoints){var T=p.getTextGuideLine();T&&(T.setShape({points:b.labelLinePoints}),S=!1)}var A=iS(d);A.needsUpdateLabelLine=S,d.rotation=b.rotate!=null?b.rotate*x:y.rotation,d.scaleX=y.scaleX,d.scaleY=y.scaleY;for(var E=0;E<nS.length;E++){var L=nS[E];d.setStyle(L,b[L]!=null?b[L]:y.style[L])}if(b.draggable){if(d.draggable=!0,d.cursor="move",p){var I=f.seriesModel;if(f.dataIndex!=null){var N=f.seriesModel.getData(f.dataType);I=N.getItemModel(f.dataIndex)}d.on("drag",l(p,I.getModel("labelLine")))}}else d.off("drag"),d.cursor=y.cursor}},n.prototype.layout=function(r){var e=r.getWidth(),o=r.getHeight(),l=[];it(this._labelList,function(p){p.defaultAttr.ignore||l.push(rS({},p))});var c=Zr(l,function(p){return p.layoutOption.moveOverlap==="shiftX"}),f=Zr(l,function(p){return p.layoutOption.moveOverlap==="shiftY"});tP(c,0,0,e),tP(f,1,0,o);var d=Zr(l,function(p){return p.layoutOption.hideOverlap});gY(d),eP(d)},n.prototype.processLabelsOverall=function(){var r=this;it(this._chartViewList,function(e){var o=e.__model,l=e.ignoreLabelLineUpdate,c=o.isAnimationEnabled();e.group.traverse(function(f){if(f.ignore&&!f.forceLabelAnimation)return!0;var d=!l,p=f.getTextContent();!d&&p&&(d=iS(p).needsUpdateLabelLine),d&&r._updateLabelLine(f,o),c&&r._animateLabels(f,o)})})},n.prototype._updateLabelLine=function(r,e){var o=r.getTextContent(),l=nr(r),c=l.dataIndex;if(o&&c!=null){var f=e.getData(l.dataType),d=f.getItemModel(c),p={},y=f.getItemVisual(c,"style");if(y){var b=f.getVisual("drawType");p.stroke=y[b]}var x=d.getModel("labelLine");Kw(r,Qw(d),p),TB(r,x)}},n.prototype._animateLabels=function(r,e){var o=r.getTextContent(),l=r.getTextGuideLine();if(o&&(r.forceLabelAnimation||!o.ignore&&!o.invisible&&!r.disableLabelAnimation&&!Np(r))){var c=iS(o),f=c.oldLayout,d=nr(r),p=d.dataIndex,y={x:o.x,y:o.y,rotation:o.rotation},b=e.getData(d.dataType);if(f){o.attr(f);var S=r.prevStates;S&&(Xe(S,"select")>=0&&o.attr(c.oldLayoutSelect),Xe(S,"emphasis")>=0&&o.attr(c.oldLayoutEmphasis)),Qr(o,y,e,p)}else if(o.attr(y),!Bp(o).valueAnimation){var x=fe(o.style.opacity,1);o.style.opacity=0,ni(o,{style:{opacity:x}},e,p)}if(c.oldLayout=y,o.states.select){var T=c.oldLayoutSelect={};Rm(T,y,Nm),Rm(T,o.states.select,Nm)}if(o.states.emphasis){var A=c.oldLayoutEmphasis={};Rm(A,y,Nm),Rm(A,o.states.emphasis,Nm)}ON(o,p,b,e,e)}if(l&&!l.ignore&&!l.invisible){var c=IB(l),f=c.oldLayout,E={points:l.shape.points};f?(l.attr({shape:f}),Qr(l,{shape:E},e)):(l.setShape(E),l.style.strokePercent=0,ni(l,{style:{strokePercent:1}},e)),c.oldLayout=E}},n}(),NB=RB,aS=br();function rP(n){n.registerUpdateLifecycle("series:beforeupdate",function(r,e,o){var l=aS(e).labelManager;l||(l=aS(e).labelManager=new NB),l.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(r,e,o){var l=aS(e).labelManager;o.updatedSeries.forEach(function(c){l.addLabelsOfSeries(e.getViewOfSeriesModel(c))}),l.updateLayoutConfig(e),l.layout(e),l.processLabelsOverall()})}_r(rP);function oS(n,r,e){var o=zr.createCanvas(),l=r.getWidth(),c=r.getHeight(),f=o.style;return f&&(f.position="absolute",f.left="0",f.top="0",f.width=l+"px",f.height=c+"px",o.setAttribute("data-zr-dom-id",n)),o.width=l*e,o.height=c*e,o}var BB=function(n){Tt(r,n);function r(e,o,l){var c=n.call(this)||this;c.motionBlur=!1,c.lastFrameAlpha=.7,c.dpr=1,c.virtual=!1,c.config={},c.incremental=!1,c.zlevel=0,c.maxRepaintRectCount=5,c.__dirty=!0,c.__firstTimePaint=!0,c.__used=!1,c.__drawIndex=0,c.__startIndex=0,c.__endIndex=0,c.__prevStartIndex=null,c.__prevEndIndex=null;var f;l=l||T_,typeof e=="string"?f=oS(e,o,l):ce(e)&&(f=e,e=f.id),c.id=e,c.dom=f;var d=f.style;return d&&(pt(f),f.onselectstart=function(){return!1},d.padding="0",d.margin="0",d.borderWidth="0"),c.painter=o,c.dpr=l,c}return r.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},r.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},r.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},r.prototype.setUnpainted=function(){this.__firstTimePaint=!0},r.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=oS("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},r.prototype.createRepaintRects=function(e,o,l,c){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var f=[],d=this.maxRepaintRectCount,p=!1,y=new Je(0,0,0,0);function b(N){if(!(!N.isFinite()||N.isZero()))if(f.length===0){var F=new Je(0,0,0,0);F.copy(N),f.push(F)}else{for(var W=!1,X=1/0,$=0,K=0;K<f.length;++K){var et=f[K];if(et.intersect(N)){var at=new Je(0,0,0,0);at.copy(et),at.union(N),f[K]=at,W=!0;break}else if(p){y.copy(N),y.union(et);var ot=N.width*N.height,ht=et.width*et.height,yt=y.width*y.height,vt=yt-ot-ht;vt<X&&(X=vt,$=K)}}if(p&&(f[$].union(N),W=!0),!W){var F=new Je(0,0,0,0);F.copy(N),f.push(F)}p||(p=f.length>=d)}}for(var x=this.__startIndex;x<this.__endIndex;++x){var S=e[x];if(S){var T=S.shouldBePainted(l,c,!0,!0),A=S.__isRendered&&(S.__dirty&gs||!T)?S.getPrevPaintRect():null;A&&b(A);var E=T&&(S.__dirty&gs||!S.__isRendered)?S.getPaintRect():null;E&&b(E)}}for(var x=this.__prevStartIndex;x<this.__prevEndIndex;++x){var S=o[x],T=S&&S.shouldBePainted(l,c,!0,!0);if(S&&(!T||!S.__zr)&&S.__isRendered){var A=S.getPrevPaintRect();A&&b(A)}}var L;do{L=!1;for(var x=0;x<f.length;){if(f[x].isZero()){f.splice(x,1);continue}for(var I=x+1;I<f.length;)f[x].intersect(f[I])?(L=!0,f[x].union(f[I]),f.splice(I,1)):I++;x++}}while(L);return this._paintRects=f,f},r.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},r.prototype.resize=function(e,o){var l=this.dpr,c=this.dom,f=c.style,d=this.domBack;f&&(f.width=e+"px",f.height=o+"px"),c.width=e*l,c.height=o*l,d&&(d.width=e*l,d.height=o*l,l!==1&&this.ctxBack.scale(l,l))},r.prototype.clear=function(e,o,l){var c=this.dom,f=this.ctx,d=c.width,p=c.height;o=o||this.clearColor;var y=this.motionBlur&&!e,b=this.lastFrameAlpha,x=this.dpr,S=this;y&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,d/x,p/x));var T=this.domBack;function A(E,L,I,N){if(f.clearRect(E,L,I,N),o&&o!=="transparent"){var F=void 0;if(mc(o)){var W=o.global||o.__width===I&&o.__height===N;F=W&&o.__canvasGradient||cC(f,o,{x:0,y:0,width:I,height:N}),o.__canvasGradient=F,o.__width=I,o.__height=N}else Ky(o)&&(o.scaleX=o.scaleX||x,o.scaleY=o.scaleY||x,F=Am(f,o,{dirty:function(){S.setUnpainted(),S.painter.refresh()}}));f.save(),f.fillStyle=F||o,f.fillRect(E,L,I,N),f.restore()}y&&(f.save(),f.globalAlpha=b,f.drawImage(T,E,L,I,N),f.restore())}!l||y?A(0,0,d,p):l.length&&it(l,function(E){A(E.x*x,E.y*x,E.width*x,E.height*x)})},r}(Cl),sS=BB,nP=1e5,gh=314159,lS=.01,zB=.001;function FB(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function yY(n,r){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+n+"px","height:"+r+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var jB=function(){function n(r,e,o,l){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var c=!r.nodeName||r.nodeName.toUpperCase()==="CANVAS";this._opts=o=Wt({},o||{}),this.dpr=o.devicePixelRatio||T_,this._singleCanvas=c,this.root=r;var f=r.style;f&&(pt(r),r.innerHTML=""),this.storage=e;var d=this._zlevelList;this._prevDisplayList=[];var p=this._layers;if(c){var b=r,x=b.width,S=b.height;o.width!=null&&(x=o.width),o.height!=null&&(S=o.height),this.dpr=o.devicePixelRatio||1,b.width=x*this.dpr,b.height=S*this.dpr,this._width=x,this._height=S;var T=new sS(b,this,this.dpr);T.__builtin__=!0,T.initContext(),p[gh]=T,T.zlevel=gh,d.push(gh),this._domRoot=r}else{this._width=Yc(r,0,o),this._height=Yc(r,1,o);var y=this._domRoot=yY(this._width,this._height);r.appendChild(y)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},n.prototype.refresh=function(r){var e=this.storage.getDisplayList(!0),o=this._prevDisplayList,l=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,o,r,this._redrawId);for(var c=0;c<l.length;c++){var f=l[c],d=this._layers[f];if(!d.__builtin__&&d.refresh){var p=c===0?this._backgroundColor:null;d.refresh(p)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(r){var e=r.length,o=this._hoverlayer;if(o&&o.clear(),!!e){for(var l={inHover:!0,viewWidth:this._width,viewHeight:this._height},c,f=0;f<e;f++){var d=r[f];d.__inHover&&(o||(o=this._hoverlayer=this.getLayer(nP)),c||(c=o.ctx,c.save()),hv(c,d,l,f===e-1))}c&&c.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(nP)},n.prototype.paintOne=function(r,e){KH(r,e)},n.prototype._paintList=function(r,e,o,l){if(this._redrawId===l){o=o||!1,this._updateLayerStatus(r);var c=this._doPaintList(r,e,o),f=c.finished,d=c.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),d&&this._paintHoverList(r),f)this.eachLayer(function(y){y.afterBrush&&y.afterBrush()});else{var p=this;YT(function(){p._paintList(r,e,o,l)})}}},n.prototype._compositeManually=function(){var r=this.getLayer(gh).ctx,e=this._domRoot.width,o=this._domRoot.height;r.clearRect(0,0,e,o),this.eachBuiltinLayer(function(l){l.virtual&&r.drawImage(l.dom,0,0,e,o)})},n.prototype._doPaintList=function(r,e,o){for(var l=this,c=[],f=this._opts.useDirtyRect,d=0;d<this._zlevelList.length;d++){var p=this._zlevelList[d],y=this._layers[p];y.__builtin__&&y!==this._hoverlayer&&(y.__dirty||o)&&c.push(y)}for(var b=!0,x=!1,S=function(E){var L=c[E],I=L.ctx,N=f&&L.createRepaintRects(r,e,T._width,T._height),F=o?L.__startIndex:L.__drawIndex,W=!o&&L.incremental&&Date.now,X=W&&Date.now(),$=L.zlevel===T._zlevelList[0]?T._backgroundColor:null;if(L.__startIndex===L.__endIndex)L.clear(!1,$,N);else if(F===L.__startIndex){var K=r[F];(!K.incremental||!K.notClear||o)&&L.clear(!1,$,N)}F===-1&&(console.error("For some unknown reason. drawIndex is -1"),F=L.__startIndex);var et,at=function(vt){var bt={inHover:!1,allClipped:!1,prevEl:null,viewWidth:l._width,viewHeight:l._height};for(et=F;et<L.__endIndex;et++){var Mt=r[et];if(Mt.__inHover&&(x=!0),l._doPaintEl(Mt,L,f,vt,bt,et===L.__endIndex-1),W){var St=Date.now()-X;if(St>15)break}}bt.prevElClipPaths&&I.restore()};if(N)if(N.length===0)et=L.__endIndex;else for(var ot=T.dpr,ht=0;ht<N.length;++ht){var yt=N[ht];I.save(),I.beginPath(),I.rect(yt.x*ot,yt.y*ot,yt.width*ot,yt.height*ot),I.clip(),at(yt),I.restore()}else I.save(),at(),I.restore();L.__drawIndex=et,L.__drawIndex<L.__endIndex&&(b=!1)},T=this,A=0;A<c.length;A++)S(A);return cr.wxa&&it(this._layers,function(E){E&&E.ctx&&E.ctx.draw&&E.ctx.draw()}),{finished:b,needsRefreshHover:x}},n.prototype._doPaintEl=function(r,e,o,l,c,f){var d=e.ctx;if(o){var p=r.getPaintRect();(!l||p&&p.intersect(l))&&(hv(d,r,c,f),r.setPrevPaintRect(p))}else hv(d,r,c,f)},n.prototype.getLayer=function(r,e){this._singleCanvas&&!this._needsManuallyCompositing&&(r=gh);var o=this._layers[r];return o||(o=new sS("zr_"+r,this,this.dpr),o.zlevel=r,o.__builtin__=!0,this._layerConfig[r]?lr(o,this._layerConfig[r],!0):this._layerConfig[r-lS]&&lr(o,this._layerConfig[r-lS],!0),e&&(o.virtual=e),this.insertLayer(r,o),o.initContext()),o},n.prototype.insertLayer=function(r,e){var o=this._layers,l=this._zlevelList,c=l.length,f=this._domRoot,d=null,p=-1;if(!o[r]&&FB(e)){if(c>0&&r>l[0]){for(p=0;p<c-1&&!(l[p]<r&&l[p+1]>r);p++);d=o[l[p]]}if(l.splice(p+1,0,r),o[r]=e,!e.virtual)if(d){var y=d.dom;y.nextSibling?f.insertBefore(e.dom,y.nextSibling):f.appendChild(e.dom)}else f.firstChild?f.insertBefore(e.dom,f.firstChild):f.appendChild(e.dom);e.painter||(e.painter=this)}},n.prototype.eachLayer=function(r,e){for(var o=this._zlevelList,l=0;l<o.length;l++){var c=o[l];r.call(e,this._layers[c],c)}},n.prototype.eachBuiltinLayer=function(r,e){for(var o=this._zlevelList,l=0;l<o.length;l++){var c=o[l],f=this._layers[c];f.__builtin__&&r.call(e,f,c)}},n.prototype.eachOtherLayer=function(r,e){for(var o=this._zlevelList,l=0;l<o.length;l++){var c=o[l],f=this._layers[c];f.__builtin__||r.call(e,f,c)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(r){this.eachBuiltinLayer(function(x,S){x.__dirty=x.__used=!1});function e(x){c&&(c.__endIndex!==x&&(c.__dirty=!0),c.__endIndex=x)}if(this._singleCanvas)for(var o=1;o<r.length;o++){var l=r[o];if(l.zlevel!==r[o-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var c=null,f=0,d,p;for(p=0;p<r.length;p++){var l=r[p],y=l.zlevel,b=void 0;d!==y&&(d=y,f=0),l.incremental?(b=this.getLayer(y+zB,this._needsManuallyCompositing),b.incremental=!0,f=1):b=this.getLayer(y+(f>0?lS:0),this._needsManuallyCompositing),b.__builtin__||Bi("ZLevel "+y+" has been used by unkown layer "+b.id),b!==c&&(b.__used=!0,b.__startIndex!==p&&(b.__dirty=!0),b.__startIndex=p,b.incremental?b.__drawIndex=-1:b.__drawIndex=p,e(p),c=b),l.__dirty&gs&&!l.__inHover&&(b.__dirty=!0,b.incremental&&b.__drawIndex<0&&(b.__drawIndex=p))}e(p),this.eachBuiltinLayer(function(x,S){!x.__used&&x.getElementCount()>0&&(x.__dirty=!0,x.__startIndex=x.__endIndex=x.__drawIndex=0),x.__dirty&&x.__drawIndex<0&&(x.__drawIndex=x.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(r){r.clear()},n.prototype.setBackgroundColor=function(r){this._backgroundColor=r,it(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(r,e){if(e){var o=this._layerConfig;o[r]?lr(o[r],e,!0):o[r]=e;for(var l=0;l<this._zlevelList.length;l++){var c=this._zlevelList[l];if(c===r||c===r+lS){var f=this._layers[c];lr(f,o[r],!0)}}}},n.prototype.delLayer=function(r){var e=this._layers,o=this._zlevelList,l=e[r];l&&(l.dom.parentNode.removeChild(l.dom),delete e[r],o.splice(Xe(o,r),1))},n.prototype.resize=function(r,e){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var l=this._opts,c=this.root;if(r!=null&&(l.width=r),e!=null&&(l.height=e),r=Yc(c,0,l),e=Yc(c,1,l),o.style.display="",this._width!==r||e!==this._height){o.style.width=r+"px",o.style.height=e+"px";for(var f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(r,e);this.refresh(!0)}this._width=r,this._height=e}else{if(r==null||e==null)return;this._width=r,this._height=e,this.getLayer(gh).resize(r,e)}return this},n.prototype.clearLayer=function(r){var e=this._layers[r];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(r){if(r=r||{},this._singleCanvas&&!this._compositeManually)return this._layers[gh].dom;var e=new sS("image",this,r.pixelRatio||this.dpr);e.initContext(),e.clear(!1,r.backgroundColor||this._backgroundColor);var o=e.ctx;if(r.pixelRatio<=this.dpr){this.refresh();var l=e.dom.width,c=e.dom.height;this.eachLayer(function(x){x.__builtin__?o.drawImage(x.dom,0,0,l,c):x.renderToCanvas&&(o.save(),x.renderToCanvas(o),o.restore())})}else for(var f={inHover:!1,viewWidth:this._width,viewHeight:this._height},d=this.storage.getDisplayList(!0),p=0,y=d.length;p<y;p++){var b=d[p];hv(o,b,f,p===y-1)}return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),mY=jB;function VB(n){n.registerPainter("canvas",mY)}var uS=Math.sin,cS=Math.cos,rs=Math.PI,pn=Math.PI*2,GB=180/rs,int=function(){function n(){}return n.prototype.reset=function(r){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,r||4)},n.prototype.moveTo=function(r,e){this._add("M",r,e)},n.prototype.lineTo=function(r,e){this._add("L",r,e)},n.prototype.bezierCurveTo=function(r,e,o,l,c,f){this._add("C",r,e,o,l,c,f)},n.prototype.quadraticCurveTo=function(r,e,o,l){this._add("Q",r,e,o,l)},n.prototype.arc=function(r,e,o,l,c,f){this.ellipse(r,e,o,o,0,l,c,f)},n.prototype.ellipse=function(r,e,o,l,c,f,d,p){var y=d-f,b=!p,x=Math.abs(y),S=Df(x-pn)||(b?y>=pn:-y>=pn),T=y>0?y%pn:y%pn+pn,A=!1;S?A=!0:Df(x)?A=!1:A=T>=rs==!!b;var E=r+o*cS(f),L=e+l*uS(f);this._start&&this._add("M",E,L);var I=Math.round(c*GB);if(S){var N=1/this._p,F=(b?1:-1)*(pn-N);this._add("A",o,l,I,1,+b,r+o*cS(f+F),e+l*uS(f+F)),N>.01&&this._add("A",o,l,I,0,+b,E,L)}else{var W=r+o*cS(d),X=e+l*uS(d);this._add("A",o,l,I,+A,+b,W,X)}},n.prototype.rect=function(r,e,o,l){this._add("M",r,e),this._add("l",o,0),this._add("l",0,l),this._add("l",-o,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(r,e,o,l,c,f,d,p,y){for(var b=[],x=this._p,S=1;S<arguments.length;S++){var T=arguments[S];if(isNaN(T)){this._invalid=!0;return}b.push(Math.round(T*x)/x)}this._d.push(r+b.join(" ")),this._start=r==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),WB=int,Bm="none",fS=Math.round;function bY(n){var r=n.fill;return r!=null&&r!==Bm}function _Y(n){var r=n.stroke;return r!=null&&r!==Bm}var iP=["lineCap","miterLimit","lineJoin"],xY=Gt(iP,function(n){return"stroke-"+n.toLowerCase()});function wY(n,r,e,o){var l=r.opacity==null?1:r.opacity;if(e instanceof ka){n("opacity",l);return}if(bY(r)){var c=p_(r.fill);n("fill",c.color);var f=r.fillOpacity!=null?r.fillOpacity*c.opacity*l:c.opacity*l;(o||f<1)&&n("fill-opacity",f)}else n("fill",Bm);if(_Y(r)){var d=p_(r.stroke);n("stroke",d.color);var p=r.strokeNoScale?e.getLineScale():1,y=p?(r.lineWidth||0)/p:0,b=r.strokeOpacity!=null?r.strokeOpacity*d.opacity*l:d.opacity*l,x=r.strokeFirst;if((o||y!==1)&&n("stroke-width",y),(o||x)&&n("paint-order",x?"stroke":"fill"),(o||b<1)&&n("stroke-opacity",b),r.lineDash){var S=Pw(e),T=S[0],A=S[1];T&&(A=fS(A||0),n("stroke-dasharray",T.join(",")),(A||o)&&n("stroke-dashoffset",A))}else o&&n("stroke-dasharray",Bm);for(var E=0;E<iP.length;E++){var L=iP[E];if(o||r[L]!==M0[L]){var I=r[L]||M0[L];I&&n(xY[E],I)}}}else o&&n("stroke",Bm)}var HB="http://www.w3.org/2000/svg",YB="http://www.w3.org/1999/xlink",UB="http://www.w3.org/2000/xmlns/",XB="http://www.w3.org/XML/1998/namespace",aP="ecmeta_";function $B(n){return document.createElementNS(HB,n)}function Na(n,r,e,o,l){return{tag:n,attrs:e||{},children:o,text:l,key:r}}function SY(n,r){var e=[];if(r)for(var o in r){var l=r[o],c=o;l!==!1&&(l!==!0&&l!=null&&(c+='="'+l+'"'),e.push(c))}return"<"+n+" "+e.join(" ")+">"}function MY(n){return"</"+n+">"}function zm(n,r){r=r||{};var e=r.newline?`
`:"";function o(l){var c=l.children,f=l.tag,d=l.attrs,p=l.text;return SY(f,d)+(f!=="style"?yo(p):p||"")+(c?""+e+Gt(c,function(y){return o(y)}).join(e)+e:"")+MY(f)}return o(n)}function qB(n,r,e){e=e||{};var o=e.newline?`
`:"",l=" {"+o,c=o+"}",f=Gt(vr(n),function(p){return p+l+Gt(vr(n[p]),function(y){return y+":"+n[p][y]+";"}).join(o)+c}).join(o),d=Gt(vr(r),function(p){return"@keyframes "+p+l+Gt(vr(r[p]),function(y){return y+l+Gt(vr(r[p][y]),function(b){var x=r[p][y][b];return b==="d"&&(x='path("'+x+'")'),b+":"+x+";"}).join(o)+c}).join(o)+c}).join(o);return!f&&!d?"":["<![CDATA[",f,d,"]]>"].join(o)}function hS(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function oP(n,r,e,o){return Na("svg","root",{width:n,height:r,xmlns:HB,"xmlns:xlink":YB,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+n+" "+r:!1},e)}var ZB=0;function sP(){return ZB++}var KB={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},fl="transform-origin";function dS(n,r,e){var o=Wt({},n.shape);Wt(o,r),n.buildPath(e,o);var l=new WB;return l.reset(uR(n)),e.rebuildPath(l,1),l.generateStr(),l.getStr()}function TY(n,r){var e=r.originX,o=r.originY;(e||o)&&(n[fl]=e+"px "+o+"px")}var QB={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function _g(n,r){var e=r.zrId+"-ani-"+r.cssAnimIdx++;return r.cssAnims[e]=n,e}function OY(n,r,e){var o=n.shape.paths,l={},c,f;if(it(o,function(p){var y=hS(e.zrId);y.animation=!0,Fm(p,{},y,!0);var b=y.cssAnims,x=y.cssNodes,S=vr(b),T=S.length;if(T){f=S[T-1];var A=b[f];for(var E in A){var L=A[E];l[E]=l[E]||{d:""},l[E].d+=L.d||""}for(var I in x){var N=x[I].animation;N.indexOf(f)>=0&&(c=N)}}}),!!c){r.d=!1;var d=_g(l,e);return c.replace(f,d)}}function AY(n){return oe(n)?KB[n]?"cubic-bezier("+KB[n]+")":rR(n)?n:"":""}function Fm(n,r,e,o){var l=n.animators,c=l.length,f=[];if(n instanceof mm){var d=OY(n,r,e);if(d)f.push(d);else if(!c)return}else if(!c)return;for(var p={},y=0;y<c;y++){var b=l[y],x=[b.getMaxTime()/1e3+"s"],S=AY(b.getClip().easing),T=b.getDelay();S?x.push(S):x.push("linear"),T&&x.push(T/1e3+"s"),b.getLoop()&&x.push("infinite");var A=x.join(" ");p[A]=p[A]||[A,[]],p[A][1].push(b)}function E(N){var F=N[1],W=F.length,X={},$={},K={},et="animation-timing-function";function at(dr,Ge,Mr){for(var Pe=dr.getTracks(),fr=dr.getMaxTime(),_n=0;_n<Pe.length;_n++){var Xr=Pe[_n];if(Xr.needsAnimate()){var xn=Xr.keyframes,kn=Xr.propName;if(Mr&&(kn=Mr(kn)),kn)for(var wa=0;wa<xn.length;wa++){var Us=xn[wa],hs=Math.round(Us.time/fr*100)+"%",fd=AY(Us.easing),$y=Us.rawValue;(oe($y)||qe($y))&&(Ge[hs]=Ge[hs]||{},Ge[hs][kn]=Us.rawValue,fd&&(Ge[hs][et]=fd))}}}}for(var ot=0;ot<W;ot++){var ht=F[ot],yt=ht.targetName;yt?yt==="shape"&&at(ht,$):!o&&at(ht,X)}for(var vt in X){var bt={};Ve(bt,n),Wt(bt,X[vt]);var Mt=B9(bt),St=X[vt][et];K[vt]=Mt?{transform:Mt}:{},TY(K[vt],bt),St&&(K[vt][et]=St)}var Pt,Et=!0;for(var vt in $){K[vt]=K[vt]||{};var Lt=!Pt,St=$[vt][et];Lt&&(Pt=new xs);var zt=Pt.len();Pt.reset(),K[vt].d=dS(n,$[vt],Pt);var Ht=Pt.len();if(!Lt&&zt!==Ht){Et=!1;break}St&&(K[vt][et]=St)}if(!Et)for(var vt in K)delete K[vt].d;if(!o)for(var ot=0;ot<W;ot++){var ht=F[ot],yt=ht.targetName;yt==="style"&&at(ht,K,function(Pe){return QB[Pe]})}for(var qt=vr(K),ne=!0,Ce,ot=1;ot<qt.length;ot++){var Qe=qt[ot-1],jr=qt[ot];if(K[Qe][fl]!==K[jr][fl]){ne=!1;break}Ce=K[Qe][fl]}if(ne&&Ce){for(var vt in K)K[vt][fl]&&delete K[vt][fl];r[fl]=Ce}if(Zr(qt,function(dr){return vr(K[dr]).length>0}).length){var wn=_g(K,e);return wn+" "+N[0]+" both"}}for(var L in p){var d=E(p[L]);d&&f.push(d)}if(f.length){var I=e.zrId+"-cls-"+sP();e.cssNodes["."+I]={animation:f.join(",")},r.class=I}}function CY(n,r,e){if(!n.ignore)if(n.isSilent()){var o={"pointer-events":"none"};JB(o,r,e,!0)}else{var l=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},c=l.fill;if(!c){var f=n.style&&n.style.fill,d=n.states.select&&n.states.select.style&&n.states.select.style.fill,p=n.currentStates.indexOf("select")>=0&&d||f;p&&(c=KT(p))}var y=l.lineWidth;if(y){var b=!l.strokeNoScale&&n.transform?n.transform[0]:1;y=y/b}var o={cursor:"pointer"};c&&(o.fill=c),l.stroke&&(o.stroke=l.stroke),y&&(o["stroke-width"]=y),JB(o,r,e,!0)}}function JB(n,r,e,o){var l=JSON.stringify(n),c=e.cssStyleCache[l];c||(c=e.zrId+"-cls-"+sP(),e.cssStyleCache[l]=c,e.cssNodes["."+c+(o?":hover":"")]=n),r.class=r.class?r.class+" "+c:c}var jm=Math.round;function t4(n){return n&&oe(n.src)}function e4(n){return n&&ze(n.toDataURL)}function lP(n,r,e,o){wY(function(l,c){var f=l==="fill"||l==="stroke";f&&N9(c)?hP(r,n,l,o):f&&lR(c)?dP(e,n,l,o):n[l]=c,f&&o.ssr&&c==="none"&&(n["pointer-events"]="visible")},r,e,!1),Wm(e,n,o)}function uP(n,r){var e=K9(r);e&&(e.each(function(o,l){o!=null&&(n[(aP+l).toLowerCase()]=o+"")}),r.isSilent()&&(n[aP+"silent"]="true"))}function r4(n){return Df(n[0]-1)&&Df(n[1])&&Df(n[2])&&Df(n[3]-1)}function PY(n){return Df(n[4])&&Df(n[5])}function Vm(n,r,e){if(r&&!(PY(r)&&r4(r))){var o=e?10:1e4;n.transform=r4(r)?"translate("+jm(r[4]*o)/o+" "+jm(r[5]*o)/o+")":lrt(r)}}function Gm(n,r,e){for(var o=n.points,l=[],c=0;c<o.length;c++)l.push(jm(o[c][0]*e)/e),l.push(jm(o[c][1]*e)/e);r.points=l.join(" ")}function cP(n){return!n.smooth}function fP(n){var r=Gt(n,function(e){return typeof e=="string"?[e,e]:e});return function(e,o,l){for(var c=0;c<r.length;c++){var f=r[c],d=e[f[0]];d!=null&&(o[f[1]]=jm(d*l)/l)}}}var n4={circle:[fP(["cx","cy","r"])],polyline:[Gm,cP],polygon:[Gm,cP]};function i4(n){for(var r=n.animators,e=0;e<r.length;e++)if(r[e].targetName==="shape")return!0;return!1}function $c(n,r){var e=n.style,o=n.shape,l=n4[n.type],c={},f=r.animation,d="path",p=n.style.strokePercent,y=r.compress&&uR(n)||4;if(l&&!r.willUpdate&&!(l[1]&&!l[1](o))&&!(f&&i4(n))&&!(p<1)){d=n.type;var b=Math.pow(10,y);l[0](o,c,b)}else{var x=!n.path||n.shapeChanged();n.path||n.createPathProxy();var S=n.path;x&&(S.beginPath(),n.buildPath(S,n.shape),n.pathUpdated());var T=S.getVersion(),A=n,E=A.__svgPathBuilder;(A.__svgPathVersion!==T||!E||p!==A.__svgPathStrokePercent)&&(E||(E=A.__svgPathBuilder=new WB),E.reset(y),S.rebuildPath(E,p),E.generateStr(),A.__svgPathVersion=T,A.__svgPathStrokePercent=p),c.d=E.getStr()}return Vm(c,n.transform),lP(c,e,n,r),uP(c,n),r.animation&&Fm(n,c,r),r.emphasis&&CY(n,c,r),Na(d,n.id+"",c)}function yh(n,r){var e=n.style,o=e.image;if(o&&!oe(o)&&(t4(o)?o=o.src:e4(o)&&(o=o.toDataURL())),!!o){var l=e.x||0,c=e.y||0,f=e.width,d=e.height,p={href:o,width:f,height:d};return l&&(p.x=l),c&&(p.y=c),Vm(p,n.transform),lP(p,e,n,r),uP(p,n),r.animation&&Fm(n,p,r),Na("image",n.id+"",p)}}function EY(n,r){var e=n.style,o=e.text;if(o!=null&&(o+=""),!(!o||isNaN(e.x)||isNaN(e.y))){var l=e.font||Vt,c=e.x||0,f=crt(e.y||0,s0(l),e.textBaseline),d=urt[e.textAlign]||e.textAlign,p={"dominant-baseline":"central","text-anchor":d};if(Z_(e)){var y="",b=e.fontStyle,x=Ts(e.fontSize);if(!parseFloat(x))return;var S=e.fontFamily||Ta,T=e.fontWeight;y+="font-size:"+x+";font-family:"+S+";",b&&b!=="normal"&&(y+="font-style:"+b+";"),T&&T!=="normal"&&(y+="font-weight:"+T+";"),p.style=y}else p.style="font: "+l;return o.match(/\s/)&&(p["xml:space"]="preserve"),c&&(p.x=c),f&&(p.y=f),Vm(p,n.transform),lP(p,e,n,r),uP(p,n),r.animation&&Fm(n,p,r),Na("text",n.id+"",p,void 0,o)}}function a4(n,r){if(n instanceof Sr)return $c(n,r);if(n instanceof ka)return yh(n,r);if(n instanceof Ep)return EY(n,r)}function Wm(n,r,e){var o=n.style;if(y_(o)){var l=frt(n),c=e.shadowCache,f=c[l];if(!f){var d=n.getGlobalScale(),p=d[0],y=d[1];if(!p||!y)return;var b=o.shadowOffsetX||0,x=o.shadowOffsetY||0,S=o.shadowBlur,T=p_(o.shadowColor),A=T.opacity,E=T.color,L=S/2/p,I=S/2/y,N=L+" "+I;f=e.zrId+"-s"+e.shadowIdx++,e.defs[f]=Na("filter",f,{id:f,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Na("feDropShadow","",{dx:b/p,dy:x/y,stdDeviation:N,"flood-color":E,"flood-opacity":A})]),c[l]=f}r.filter=b_(f)}}function hP(n,r,e,o){var l=n[e],c,f={gradientUnits:l.global?"userSpaceOnUse":"objectBoundingBox"};if(m_(l))c="linearGradient",f.x1=l.x,f.y1=l.y,f.x2=l.x2,f.y2=l.y2;else if(R9(l))c="radialGradient",f.cx=fe(l.x,.5),f.cy=fe(l.y,.5),f.r=fe(l.r,.5);else return;for(var d=l.colorStops,p=[],y=0,b=d.length;y<b;++y){var x=sR(d[y].offset)*100+"%",S=d[y].color,T=p_(S),A=T.color,E=T.opacity,L={offset:x};L["stop-color"]=A,E<1&&(L["stop-opacity"]=E),p.push(Na("stop",y+"",L))}var I=Na(c,"",f,p),N=zm(I),F=o.gradientCache,W=F[N];W||(W=o.zrId+"-g"+o.gradientIdx++,F[N]=W,f.id=W,o.defs[W]=Na(c,W,f,p)),r[e]=b_(W)}function dP(n,r,e,o){var l=n.style[e],c=n.getBoundingRect(),f={},d=l.repeat,p=d==="no-repeat",y=d==="repeat-x",b=d==="repeat-y",x;if(I9(l)){var S=l.imageWidth,T=l.imageHeight,A=void 0,E=l.image;if(oe(E)?A=E:t4(E)?A=E.src:e4(E)&&(A=E.toDataURL()),typeof Image=="undefined"){var L="Image width/height must been given explictly in svg-ssr renderer.";ei(S,L),ei(T,L)}else if(S==null||T==null){var I=function(ot,ht){if(ot){var yt=ot.elm,vt=S||ht.width,bt=T||ht.height;ot.tag==="pattern"&&(y?(bt=1,vt/=c.width):b&&(vt=1,bt/=c.height)),ot.attrs.width=vt,ot.attrs.height=bt,yt&&(yt.setAttribute("width",vt),yt.setAttribute("height",bt))}},N=CO(A,null,n,function(ot){p||I($,ot),I(x,ot)});N&&N.width&&N.height&&(S=S||N.width,T=T||N.height)}x=Na("image","img",{href:A,width:S,height:T}),f.width=S,f.height=T}else l.svgElement&&(x=Ne(l.svgElement),f.width=l.svgWidth,f.height=l.svgHeight);if(x){var F,W;p?F=W=1:y?(W=1,F=f.width/c.width):b?(F=1,W=f.height/c.height):f.patternUnits="userSpaceOnUse",F!=null&&!isNaN(F)&&(f.width=F),W!=null&&!isNaN(W)&&(f.height=W);var X=B9(l);X&&(f.patternTransform=X);var $=Na("pattern","",f,[x]),K=zm($),et=o.patternCache,at=et[K];at||(at=o.zrId+"-p"+o.patternIdx++,et[K]=at,f.id=at,$=o.defs[at]=Na("pattern",at,f,[x])),r[e]=b_(at)}}function o4(n,r,e){var o=e.clipPathCache,l=e.defs,c=o[n.id];if(!c){c=e.zrId+"-c"+e.clipPathIdx++;var f={id:c};o[n.id]=c,l[c]=Na("clipPath",c,f,[$c(n,e)])}r["clip-path"]=b_(c)}function mh(n){return document.createTextNode(n)}function kY(n){return document.createComment(n)}function bh(n,r,e){n.insertBefore(r,e)}function s4(n,r){n.removeChild(r)}function l4(n,r){n.appendChild(r)}function vP(n){return n.parentNode}function Hm(n){return n.nextSibling}function ant(n){return n.tagName}function vS(n,r){n.textContent=r}function Ds(n){return n.textContent}function ont(n){return n.nodeType===1}function LY(n){return n.nodeType===3}function DY(n){return n.nodeType===8}var pP=58,u4=120,c4=Na("","");function gP(n){return n===void 0}function Is(n){return n!==void 0}function IY(n,r,e){for(var o={},l=r;l<=e;++l){var c=n[l].key;c!==void 0&&(o[c]=l)}return o}function xg(n,r){var e=n.key===r.key,o=n.tag===r.tag;return o&&e}function Ym(n){var r,e=n.children,o=n.tag;if(Is(o)){var l=n.elm=$B(o);if(yv(c4,n),Ut(e))for(r=0;r<e.length;++r){var c=e[r];c!=null&&l4(l,Ym(c))}else Is(n.text)&&!ce(n.text)&&l4(l,mh(n.text))}else n.elm=mh(n.text);return n.elm}function RY(n,r,e,o,l){for(;o<=l;++o){var c=e[o];c!=null&&bh(n,Ym(c),r)}}function yP(n,r,e,o){for(;e<=o;++e){var l=r[e];if(l!=null)if(Is(l.tag)){var c=vP(l.elm);s4(c,l.elm)}else s4(n,l.elm)}}function yv(n,r){var e,o=r.elm,l=n&&n.attrs||{},c=r.attrs||{};if(l!==c){for(e in c){var f=c[e],d=l[e];d!==f&&(f===!0?o.setAttribute(e,""):f===!1?o.removeAttribute(e):e==="style"?o.style.cssText=f:e.charCodeAt(0)!==u4?o.setAttribute(e,f):e==="xmlns:xlink"||e==="xmlns"?o.setAttributeNS(UB,e,f):e.charCodeAt(3)===pP?o.setAttributeNS(XB,e,f):e.charCodeAt(5)===pP?o.setAttributeNS(YB,e,f):o.setAttribute(e,f))}for(e in l)e in c||o.removeAttribute(e)}}function Um(n,r,e){for(var o=0,l=0,c=r.length-1,f=r[0],d=r[c],p=e.length-1,y=e[0],b=e[p],x,S,T,A;o<=c&&l<=p;)f==null?f=r[++o]:d==null?d=r[--c]:y==null?y=e[++l]:b==null?b=e[--p]:xg(f,y)?($u(f,y),f=r[++o],y=e[++l]):xg(d,b)?($u(d,b),d=r[--c],b=e[--p]):xg(f,b)?($u(f,b),bh(n,f.elm,Hm(d.elm)),f=r[++o],b=e[--p]):xg(d,y)?($u(d,y),bh(n,d.elm,f.elm),d=r[--c],y=e[++l]):(gP(x)&&(x=IY(r,o,c)),S=x[y.key],gP(S)?bh(n,Ym(y),f.elm):(T=r[S],T.tag!==y.tag?bh(n,Ym(y),f.elm):($u(T,y),r[S]=void 0,bh(n,T.elm,f.elm))),y=e[++l]);(o<=c||l<=p)&&(o>c?(A=e[p+1]==null?null:e[p+1].elm,RY(n,A,e,l,p)):yP(n,r,o,c))}function $u(n,r){var e=r.elm=n.elm,o=n.children,l=r.children;n!==r&&(yv(n,r),gP(r.text)?Is(o)&&Is(l)?o!==l&&Um(e,o,l):Is(l)?(Is(n.text)&&vS(e,""),RY(e,null,l,0,l.length-1)):Is(o)?yP(e,o,0,o.length-1):Is(n.text)&&vS(e,""):n.text!==r.text&&(Is(o)&&yP(e,o,0,o.length-1),vS(e,r.text)))}function mv(n,r){if(xg(n,r))$u(n,r);else{var e=n.elm,o=vP(e);Ym(r),o!==null&&(bh(o,r.elm,Hm(e)),yP(o,[n],0,0))}return r}var Xm=0,f4=function(){function n(r,e,o){if(this.type="svg",this.refreshHover=mP("refreshHover"),this.configLayer=mP("configLayer"),this.storage=e,this._opts=o=Wt({},o),this.root=r,this._id="zr"+Xm++,this._oldVNode=oP(o.width,o.height),r&&!o.ssr){var l=this._viewport=document.createElement("div");l.style.cssText="position:relative;overflow:hidden";var c=this._svgDom=this._oldVNode.elm=$B("svg");yv(null,this._oldVNode),l.appendChild(c),r.appendChild(l)}this.resize(o.width,o.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var r=this.renderToVNode({willUpdate:!0});r.attrs.style="position:absolute;left:0;top:0;user-select:none",mv(this._oldVNode,r),this._oldVNode=r}},n.prototype.renderOneToVNode=function(r){return a4(r,hS(this._id))},n.prototype.renderToVNode=function(r){r=r||{};var e=this.storage.getDisplayList(!0),o=this._width,l=this._height,c=hS(this._id);c.animation=r.animation,c.willUpdate=r.willUpdate,c.compress=r.compress,c.emphasis=r.emphasis,c.ssr=this._opts.ssr;var f=[],d=this._bgVNode=To(o,l,this._backgroundColor,c);d&&f.push(d);var p=r.compress?null:this._mainVNode=Na("g","main",{},[]);this._paintList(e,c,p?p.children:f),p&&f.push(p);var y=Gt(vr(c.defs),function(S){return c.defs[S]});if(y.length&&f.push(Na("defs","defs",{},y)),r.animation){var b=qB(c.cssNodes,c.cssAnims,{newline:!0});if(b){var x=Na("style","stl",{},[],b);f.push(x)}}return oP(o,l,f,r.useViewBox)},n.prototype.renderToString=function(r){return r=r||{},zm(this.renderToVNode({animation:fe(r.cssAnimation,!0),emphasis:fe(r.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:fe(r.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(r){this._backgroundColor=r},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(r,e,o){for(var l=r.length,c=[],f=0,d,p,y=0,b=0;b<l;b++){var x=r[b];if(!x.invisible){var S=x.__clipPaths,T=S&&S.length||0,A=p&&p.length||0,E=void 0;for(E=Math.max(T-1,A-1);E>=0&&!(S&&p&&S[E]===p[E]);E--);for(var L=A-1;L>E;L--)f--,d=c[f-1];for(var I=E+1;I<T;I++){var N={};o4(S[I],N,e);var F=Na("g","clip-g-"+y++,N,[]);(d?d.children:o).push(F),c[f++]=F,d=F}p=S;var W=a4(x,e);W&&(d?d.children:o).push(W)}}},n.prototype.resize=function(r,e){var o=this._opts,l=this.root,c=this._viewport;if(r!=null&&(o.width=r),e!=null&&(o.height=e),l&&c&&(c.style.display="none",r=Yc(l,0,o),e=Yc(l,1,o),c.style.display=""),this._width!==r||this._height!==e){if(this._width=r,this._height=e,c){var f=c.style;f.width=r+"px",f.height=e+"px"}if(lR(this._backgroundColor))this.refresh();else{var d=this._svgDom;d&&(d.setAttribute("width",r),d.setAttribute("height",e));var p=this._bgVNode&&this._bgVNode.elm;p&&(p.setAttribute("width",r),p.setAttribute("height",e))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(r){var e=this.renderToString(),o="data:image/svg+xml;";return r?(e=drt(e),e&&o+"base64,"+e):o+"charset=UTF-8,"+encodeURIComponent(e)},n}();function mP(n){return function(){}}function To(n,r,e,o){var l;if(e&&e!=="none")if(l=Na("rect","bg",{width:n,height:r,x:"0",y:"0"}),N9(e))hP({fill:e},l.attrs,"fill",o);else if(lR(e))dP({style:{fill:e},dirty:_t,getBoundingRect:function(){return{width:n,height:r}}},l.attrs,"fill",o);else{var c=p_(e),f=c.color,d=c.opacity;l.attrs.fill=f,d<1&&(l.attrs["fill-opacity"]=d)}return l}var NY=f4;function BY(n){n.registerPainter("svg",NY)}function $m(n){return n==null?0:n.length||1}function h4(n){return n}var zY=function(){function n(r,e,o,l,c,f){this._old=r,this._new=e,this._oldKeyGetter=o||h4,this._newKeyGetter=l||h4,this.context=c,this._diffModeMultiple=f==="multiple"}return n.prototype.add=function(r){return this._add=r,this},n.prototype.update=function(r){return this._update=r,this},n.prototype.updateManyToOne=function(r){return this._updateManyToOne=r,this},n.prototype.updateOneToMany=function(r){return this._updateOneToMany=r,this},n.prototype.updateManyToMany=function(r){return this._updateManyToMany=r,this},n.prototype.remove=function(r){return this._remove=r,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var r=this._old,e=this._new,o={},l=new Array(r.length),c=new Array(e.length);this._initIndexMap(r,null,l,"_oldKeyGetter"),this._initIndexMap(e,o,c,"_newKeyGetter");for(var f=0;f<r.length;f++){var d=l[f],p=o[d],y=$m(p);if(y>1){var b=p.shift();p.length===1&&(o[d]=p[0]),this._update&&this._update(b,f)}else y===1?(o[d]=null,this._update&&this._update(p,f)):this._remove&&this._remove(f)}this._performRestAdd(c,o)},n.prototype._executeMultiple=function(){var r=this._old,e=this._new,o={},l={},c=[],f=[];this._initIndexMap(r,o,c,"_oldKeyGetter"),this._initIndexMap(e,l,f,"_newKeyGetter");for(var d=0;d<c.length;d++){var p=c[d],y=o[p],b=l[p],x=$m(y),S=$m(b);if(x>1&&S===1)this._updateManyToOne&&this._updateManyToOne(b,y),l[p]=null;else if(x===1&&S>1)this._updateOneToMany&&this._updateOneToMany(b,y),l[p]=null;else if(x===1&&S===1)this._update&&this._update(b,y),l[p]=null;else if(x>1&&S>1)this._updateManyToMany&&this._updateManyToMany(b,y),l[p]=null;else if(x>1)for(var T=0;T<x;T++)this._remove&&this._remove(y[T]);else this._remove&&this._remove(y)}this._performRestAdd(f,l)},n.prototype._performRestAdd=function(r,e){for(var o=0;o<r.length;o++){var l=r[o],c=e[l],f=$m(c);if(f>1)for(var d=0;d<f;d++)this._add&&this._add(c[d]);else f===1&&this._add&&this._add(c);e[l]=null}},n.prototype._initIndexMap=function(r,e,o,l){for(var c=this._diffModeMultiple,f=0;f<r.length;f++){var d="_ec_"+this[l](r[f],f);if(c||(o[f]=d),!!e){var p=e[d],y=$m(p);y===0?(e[d]=f,c&&o.push(d)):y===1?e[d]=[p,f]:p.push(f)}}},n}(),qu=zY,FY=function(){function n(r,e){this._encode=r,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function jY(n,r){var e={},o=e.encode={},l=ve(),c=[],f=[],d={};it(n.dimensions,function(S){var T=n.getDimensionInfo(S),A=T.coordDim;if(A){var E=T.coordDimIndex;pS(o,A)[E]=S,T.isExtraCoord||(l.set(A,1),VY(T.type)&&(c[0]=S),pS(d,A)[E]=n.getDimensionIndex(T.name)),T.defaultTooltip&&f.push(S)}XN.each(function(L,I){var N=pS(o,I),F=T.otherDims[I];F!=null&&F!==!1&&(N[F]=T.name)})});var p=[],y={};l.each(function(S,T){var A=o[T];y[T]=A[0],p=p.concat(A)}),e.dataDimsOnCoord=p,e.dataDimIndicesOnCoord=Gt(p,function(S){return n.getDimensionInfo(S).storeDimIndex}),e.encodeFirstDimNotExtra=y;var b=o.label;b&&b.length&&(c=b.slice());var x=o.tooltip;return x&&x.length?f=x.slice():f.length||(f=c.slice()),o.defaultedLabel=c,o.defaultedTooltip=f,e.userOutput=new FY(d,r),e}function pS(n,r){return n.hasOwnProperty(r)||(n[r]=[]),n[r]}function gS(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function VY(n){return!(n==="ordinal"||n==="time")}var GY=function(){function n(r){this.otherDims={},r!=null&&Wt(this,r)}return n}(),yS=GY,WY=br(),d4={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},v4=function(){function n(r){this.dimensions=r.dimensions,this._dimOmitted=r.dimensionOmitted,this.source=r.source,this._fullDimCount=r.fullDimensionCount,this._updateDimOmitted(r.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(r){this._dimOmitted=r,r&&(this._dimNameMap||(this._dimNameMap=g4(this.source)))},n.prototype.getSourceDimensionIndex=function(r){return fe(this._dimNameMap.get(r),-1)},n.prototype.getSourceDimension=function(r){var e=this.source.dimensionsDefine;if(e)return e[r]},n.prototype.makeStoreSchema=function(){for(var r=this._fullDimCount,e=Dx(this.source),o=!_P(r),l="",c=[],f=0,d=0;f<r;f++){var p=void 0,y=void 0,b=void 0,x=this.dimensions[d];if(x&&x.storeDimIndex===f)p=e?x.name:null,y=x.type,b=x.ordinalMeta,d++;else{var S=this.getSourceDimension(f);S&&(p=e?S.name:null,y=S.type)}c.push({property:p,type:y,ordinalMeta:b}),e&&p!=null&&(!x||!x.isCalculationCoord)&&(l+=o?p.replace(/\`/g,"`1").replace(/\$/g,"`2"):p),l+="$",l+=d4[y]||"f",b&&(l+=b.uid),l+="$"}var T=this.source,A=[T.seriesLayoutBy,T.startIndex,l].join("$$");return{dimensions:c,hash:A}},n.prototype.makeOutputDimensionNames=function(){for(var r=[],e=0,o=0;e<this._fullDimCount;e++){var l=void 0,c=this.dimensions[o];if(c&&c.storeDimIndex===e)c.isCalculationCoord||(l=c.name),o++;else{var f=this.getSourceDimension(e);f&&(l=f.name)}r.push(l)}return r},n.prototype.appendCalculationDimension=function(r){this.dimensions.push(r),r.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function p4(n){return n instanceof v4}function bP(n){for(var r=ve(),e=0;e<(n||[]).length;e++){var o=n[e],l=ce(o)?o.name:o;l!=null&&r.get(l)==null&&r.set(l,e)}return r}function g4(n){var r=WY(n);return r.dimNameMap||(r.dimNameMap=bP(n.dimensionsDefine))}function _P(n){return n>30}var qm=ce,_h=Gt,HY=typeof Int32Array=="undefined"?Array:Int32Array,YY="e\0\0",mS=-1,y4=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],m4=["_approximateExtent"],bS,wg,Zm,Km,Qm,Sg,xP,UY=function(){function n(r,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var o,l=!1;p4(r)?(o=r.dimensions,this._dimOmitted=r.isDimensionOmitted(),this._schema=r):(l=!0,o=r),o=o||["x","y"];for(var c={},f=[],d={},p=!1,y={},b=0;b<o.length;b++){var x=o[b],S=oe(x)?new yS({name:x}):x instanceof yS?x:new yS(x),T=S.name;S.type=S.type||"float",S.coordDim||(S.coordDim=T,S.coordDimIndex=0);var A=S.otherDims=S.otherDims||{};f.push(T),c[T]=S,y[T]!=null&&(p=!0),S.createInvertedIndices&&(d[T]=[]);var E=b;qe(S.storeDimIndex)&&(E=S.storeDimIndex),A.itemName===0&&(this._nameDimIdx=E),A.itemId===0&&(this._idDimIdx=E),l&&(S.storeDimIndex=b)}if(this.dimensions=f,this._dimInfos=c,this._initGetDimensionInfo(p),this.hostModel=e,this._invertedIndicesMap=d,this._dimOmitted){var L=this._dimIdxToName=ve();it(f,function(I){L.set(c[I].storeDimIndex,I)})}}return n.prototype.getDimension=function(r){var e=this._recognizeDimIndex(r);if(e==null)return r;if(e=r,!this._dimOmitted)return this.dimensions[e];var o=this._dimIdxToName.get(e);if(o!=null)return o;var l=this._schema.getSourceDimension(e);if(l)return l.name},n.prototype.getDimensionIndex=function(r){var e=this._recognizeDimIndex(r);if(e!=null)return e;if(r==null)return-1;var o=this._getDimInfo(r);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(r):-1},n.prototype._recognizeDimIndex=function(r){if(qe(r)||r!=null&&!isNaN(r)&&!this._getDimInfo(r)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(r)<0))return+r},n.prototype._getStoreDimIndex=function(r){var e=this.getDimensionIndex(r);return e},n.prototype.getDimensionInfo=function(r){return this._getDimInfo(this.getDimension(r))},n.prototype._initGetDimensionInfo=function(r){var e=this._dimInfos;this._getDimInfo=r?function(o){return e.hasOwnProperty(o)?e[o]:void 0}:function(o){return e[o]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(r,e){var o=this._dimSummary;if(e==null)return o.encodeFirstDimNotExtra[r];var l=o.encode[r];return l?l[e]:null},n.prototype.mapDimensionsAll=function(r){var e=this._dimSummary,o=e.encode[r];return(o||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(r,e,o){var l=this,c;if(r instanceof qx&&(c=r),!c){var f=this.dimensions,d=$p(r)||vi(r)?new p5(r,f.length):r;c=new qx;var p=_h(f,function(y){return{type:l._dimInfos[y].type,property:y}});c.initData(d,p,o)}this._store=c,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,c.count()),this._dimSummary=jY(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(r){var e=this._store.appendData(r);this._doInit(e[0],e[1])},n.prototype.appendValues=function(r,e){var o=this._store.appendValues(r,e&&e.length),l=o.start,c=o.end,f=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var d=l;d<c;d++){var p=d-l;this._nameList[d]=e[p],f&&xP(this,d)}},n.prototype._updateOrdinalMeta=function(){for(var r=this._store,e=this.dimensions,o=0;o<e.length;o++){var l=this._dimInfos[e[o]];l.ordinalMeta&&r.collectOrdinalMeta(l.storeDimIndex,l.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var r=this._store.getProvider();return this._idDimIdx==null&&r.getSource().sourceFormat!==Ic&&!r.fillStorage},n.prototype._doInit=function(r,e){if(!(r>=e)){var o=this._store,l=o.getProvider();this._updateOrdinalMeta();var c=this._nameList,f=this._idList,d=l.getSource().sourceFormat,p=d===Os;if(p&&!l.pure)for(var y=[],b=r;b<e;b++){var x=l.getItem(b,y);if(!this.hasItemOption&&nW(x)&&(this.hasItemOption=!0),x){var S=x.name;c[b]==null&&S!=null&&(c[b]=Pa(S,null));var T=x.id;f[b]==null&&T!=null&&(f[b]=Pa(T,null))}}if(this._shouldMakeIdFromName())for(var b=r;b<e;b++)xP(this,b);bS(this)}},n.prototype.getApproximateExtent=function(r){return this._approximateExtent[r]||this._store.getDataExtent(this._getStoreDimIndex(r))},n.prototype.setApproximateExtent=function(r,e){e=this.getDimension(e),this._approximateExtent[e]=r.slice()},n.prototype.getCalculationInfo=function(r){return this._calculationInfo[r]},n.prototype.setCalculationInfo=function(r,e){qm(r)?Wt(this._calculationInfo,r):this._calculationInfo[r]=e},n.prototype.getName=function(r){var e=this.getRawIndex(r),o=this._nameList[e];return o==null&&this._nameDimIdx!=null&&(o=Zm(this,this._nameDimIdx,e)),o==null&&(o=""),o},n.prototype._getCategory=function(r,e){var o=this._store.get(r,e),l=this._store.getOrdinalMeta(r);return l?l.categories[o]:o},n.prototype.getId=function(r){return wg(this,this.getRawIndex(r))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(r,e){var o=this._store,l=this._dimInfos[r];if(l)return o.get(l.storeDimIndex,e)},n.prototype.getByRawIndex=function(r,e){var o=this._store,l=this._dimInfos[r];if(l)return o.getByRawIndex(l.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(r){return this._store.getDataExtent(this._getStoreDimIndex(r))},n.prototype.getSum=function(r){return this._store.getSum(this._getStoreDimIndex(r))},n.prototype.getMedian=function(r){return this._store.getMedian(this._getStoreDimIndex(r))},n.prototype.getValues=function(r,e){var o=this,l=this._store;return Ut(r)?l.getValues(_h(r,function(c){return o._getStoreDimIndex(c)}),e):l.getValues(r)},n.prototype.hasValue=function(r){for(var e=this._dimSummary.dataDimIndicesOnCoord,o=0,l=e.length;o<l;o++)if(isNaN(this._store.get(e[o],r)))return!1;return!0},n.prototype.indexOfName=function(r){for(var e=0,o=this._store.count();e<o;e++)if(this.getName(e)===r)return e;return-1},n.prototype.getRawIndex=function(r){return this._store.getRawIndex(r)},n.prototype.indexOfRawIndex=function(r){return this._store.indexOfRawIndex(r)},n.prototype.rawIndexOf=function(r,e){var o=r&&this._invertedIndicesMap[r],l=o&&o[e];return l==null||isNaN(l)?mS:l},n.prototype.each=function(r,e,o){"use strict";ze(r)&&(o=e,e=r,r=[]);var l=o||this,c=_h(Km(r),this._getStoreDimIndex,this);this._store.each(c,l?ue(e,l):e)},n.prototype.filterSelf=function(r,e,o){"use strict";ze(r)&&(o=e,e=r,r=[]);var l=o||this,c=_h(Km(r),this._getStoreDimIndex,this);return this._store=this._store.filter(c,l?ue(e,l):e),this},n.prototype.selectRange=function(r){"use strict";var e=this,o={},l=vr(r),c=[];return it(l,function(f){var d=e._getStoreDimIndex(f);o[d]=r[f],c.push(d)}),this._store=this._store.selectRange(o),this},n.prototype.mapArray=function(r,e,o){"use strict";ze(r)&&(o=e,e=r,r=[]),o=o||this;var l=[];return this.each(r,function(){l.push(e&&e.apply(this,arguments))},o),l},n.prototype.map=function(r,e,o,l){"use strict";var c=o||l||this,f=_h(Km(r),this._getStoreDimIndex,this),d=Sg(this);return d._store=this._store.map(f,c?ue(e,c):e),d},n.prototype.modify=function(r,e,o,l){var c=this,f=o||l||this,d=_h(Km(r),this._getStoreDimIndex,this);this._store.modify(d,f?ue(e,f):e)},n.prototype.downSample=function(r,e,o,l){var c=Sg(this);return c._store=this._store.downSample(this._getStoreDimIndex(r),e,o,l),c},n.prototype.minmaxDownSample=function(r,e){var o=Sg(this);return o._store=this._store.minmaxDownSample(this._getStoreDimIndex(r),e),o},n.prototype.lttbDownSample=function(r,e){var o=Sg(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(r),e),o},n.prototype.getRawDataItem=function(r){return this._store.getRawDataItem(r)},n.prototype.getItemModel=function(r){var e=this.hostModel,o=this.getRawDataItem(r);return new an(o,e,e&&e.ecModel)},n.prototype.diff=function(r){var e=this;return new qu(r?r.getStore().getIndices():[],this.getStore().getIndices(),function(o){return wg(r,o)},function(o){return wg(e,o)})},n.prototype.getVisual=function(r){var e=this._visual;return e&&e[r]},n.prototype.setVisual=function(r,e){this._visual=this._visual||{},qm(r)?Wt(this._visual,r):this._visual[r]=e},n.prototype.getItemVisual=function(r,e){var o=this._itemVisuals[r],l=o&&o[e];return l==null?this.getVisual(e):l},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(r,e){var o=this._itemVisuals,l=o[r];l||(l=o[r]={});var c=l[e];return c==null&&(c=this.getVisual(e),Ut(c)?c=c.slice():qm(c)&&(c=Wt({},c)),l[e]=c),c},n.prototype.setItemVisual=function(r,e,o){var l=this._itemVisuals[r]||{};this._itemVisuals[r]=l,qm(e)?Wt(l,e):l[e]=o},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(r,e){qm(r)?Wt(this._layout,r):this._layout[r]=e},n.prototype.getLayout=function(r){return this._layout[r]},n.prototype.getItemLayout=function(r){return this._itemLayouts[r]},n.prototype.setItemLayout=function(r,e,o){this._itemLayouts[r]=o?Wt(this._itemLayouts[r]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(r,e){var o=this.hostModel&&this.hostModel.seriesIndex;Q_(o,this.dataType,r,e),this._graphicEls[r]=e},n.prototype.getItemGraphicEl=function(r){return this._graphicEls[r]},n.prototype.eachItemGraphicEl=function(r,e){it(this._graphicEls,function(o,l){o&&r&&r.call(e,o,l)})},n.prototype.cloneShallow=function(r){return r||(r=new n(this._schema?this._schema:_h(this.dimensions,this._getDimInfo,this),this.hostModel)),Qm(r,this),r._store=this._store,r},n.prototype.wrapMethod=function(r,e){var o=this[r];ze(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(r),this[r]=function(){var l=o.apply(this,arguments);return e.apply(this,[l].concat(ds(arguments)))})},n.internalField=function(){bS=function(r){var e=r._invertedIndicesMap;it(e,function(o,l){var c=r._dimInfos[l],f=c.ordinalMeta,d=r._store;if(f){o=e[l]=new HY(f.categories.length);for(var p=0;p<o.length;p++)o[p]=mS;for(var p=0;p<d.count();p++)o[d.get(c.storeDimIndex,p)]=p}})},Zm=function(r,e,o){return Pa(r._getCategory(e,o),null)},wg=function(r,e){var o=r._idList[e];return o==null&&r._idDimIdx!=null&&(o=Zm(r,r._idDimIdx,e)),o==null&&(o=YY+e),o},Km=function(r){return Ut(r)||(r=r!=null?[r]:[]),r},Sg=function(r){var e=new n(r._schema?r._schema:_h(r.dimensions,r._getDimInfo,r),r.hostModel);return Qm(e,r),e},Qm=function(r,e){it(y4.concat(e.__wrappedMethods||[]),function(o){e.hasOwnProperty(o)&&(r[o]=e[o])}),r.__wrappedMethods=e.__wrappedMethods,it(m4,function(o){r[o]=Ne(e[o])}),r._calculationInfo=Wt({},e._calculationInfo)},xP=function(r,e){var o=r._nameList,l=r._idList,c=r._nameDimIdx,f=r._idDimIdx,d=o[e],p=l[e];if(d==null&&c!=null&&(o[e]=d=Zm(r,c,e)),p==null&&f!=null&&(l[e]=p=Zm(r,f,e)),p==null&&d!=null){var y=r._nameRepeatCount,b=y[d]=(y[d]||0)+1;p=d,b>1&&(p+="__ec__"+b),l[e]=p}}}(),n}(),zo=UY;function wP(n,r){return bv(n,r).dimensions}function bv(n,r){$p(n)||(n=f5(n)),r=r||{};var e=r.coordDimensions||[],o=r.dimensionsDefine||n.dimensionsDefine||[],l=ve(),c=[],f=b4(n,e,o,r.dimensionsCount),d=r.canOmitUnusedDimensions&&_P(f),p=o===n.dimensionsDefine,y=p?g4(n):bP(o),b=r.encodeDefine;!b&&r.encodeDefaulter&&(b=r.encodeDefaulter(n,f));for(var x=ve(b),S=new Ps(f),T=0;T<S.length;T++)S[T]=-1;function A(at){var ot=S[at];if(ot<0){var ht=o[at],yt=ce(ht)?ht:{name:ht},vt=new yS,bt=yt.name;bt!=null&&y.get(bt)!=null&&(vt.name=vt.displayName=bt),yt.type!=null&&(vt.type=yt.type),yt.displayName!=null&&(vt.displayName=yt.displayName);var Mt=c.length;return S[at]=Mt,vt.storeDimIndex=at,c.push(vt),vt}return c[ot]}if(!d)for(var T=0;T<f;T++)A(T);x.each(function(at,ot){var ht=An(at).slice();if(ht.length===1&&!oe(ht[0])&&ht[0]<0){x.set(ot,!1);return}var yt=x.set(ot,[]);it(ht,function(vt,bt){var Mt=oe(vt)?y.get(vt):vt;Mt!=null&&Mt<f&&(yt[bt]=Mt,L(A(Mt),ot,bt))})});var E=0;it(e,function(at){var ot,ht,yt,vt;if(oe(at))ot=at,vt={};else{vt=at,ot=vt.name;var bt=vt.ordinalMeta;vt.ordinalMeta=null,vt=Wt({},vt),vt.ordinalMeta=bt,ht=vt.dimsDef,yt=vt.otherDims,vt.name=vt.coordDim=vt.coordDimIndex=vt.dimsDef=vt.otherDims=null}var Mt=x.get(ot);if(Mt!==!1){if(Mt=An(Mt),!Mt.length)for(var St=0;St<(ht&&ht.length||1);St++){for(;E<f&&A(E).coordDim!=null;)E++;E<f&&Mt.push(E++)}it(Mt,function(Pt,Et){var Lt=A(Pt);if(p&&vt.type!=null&&(Lt.type=vt.type),L(je(Lt,vt),ot,Et),Lt.name==null&&ht){var zt=ht[Et];!ce(zt)&&(zt={name:zt}),Lt.name=Lt.displayName=zt.name,Lt.defaultTooltip=zt.defaultTooltip}yt&&je(Lt.otherDims,yt)})}});function L(at,ot,ht){XN.get(ot)!=null?at.otherDims[ot]=ht:(at.coordDim=ot,at.coordDimIndex=ht,l.set(ot,!0))}var I=r.generateCoord,N=r.generateCoordCount,F=N!=null;N=I?N||1:0;var W=I||"value";function X(at){at.name==null&&(at.name=at.coordDim)}if(d)it(c,function(at){X(at)}),c.sort(function(at,ot){return at.storeDimIndex-ot.storeDimIndex});else for(var $=0;$<f;$++){var K=A($),et=K.coordDim;et==null&&(K.coordDim=Mg(W,l,F),K.coordDimIndex=0,(!I||N<=0)&&(K.isExtraCoord=!0),N--),X(K),K.type==null&&(QN(n,$)===lo.Must||K.isExtraCoord&&(K.otherDims.itemName!=null||K.otherDims.seriesName!=null))&&(K.type="ordinal")}return SP(c),new v4({source:n,dimensions:c,fullDimensionCount:f,dimensionOmitted:d})}function SP(n){for(var r=ve(),e=0;e<n.length;e++){var o=n[e],l=o.name,c=r.get(l)||0;c>0&&(o.name=l+(c-1)),c++,r.set(l,c)}}function b4(n,r,e,o){var l=Math.max(n.dimensionsDetectedCount||1,r.length,e.length,o||0);return it(r,function(c){var f;ce(c)&&(f=c.dimsDef)&&(l=Math.max(l,f.length))}),l}function Mg(n,r,e){if(e||r.hasKey(n)){for(var o=0;r.hasKey(n+o);)o++;n+=o}return r.set(n,!0),n}var _4=function(){function n(r){this.coordSysDims=[],this.axisMap=ve(),this.categoryAxisMap=ve(),this.coordSysName=r}return n}();function XY(n){var r=n.get("coordinateSystem"),e=new _4(r),o=$Y[r];if(o)return o(n,e,e.axisMap,e.categoryAxisMap),e}var $Y={cartesian2d:function(n,r,e,o){var l=n.getReferringComponents("xAxis",bi).models[0],c=n.getReferringComponents("yAxis",bi).models[0];r.coordSysDims=["x","y"],e.set("x",l),e.set("y",c),qc(l)&&(o.set("x",l),r.firstCategoryDimIndex=0),qc(c)&&(o.set("y",c),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=1))},singleAxis:function(n,r,e,o){var l=n.getReferringComponents("singleAxis",bi).models[0];r.coordSysDims=["single"],e.set("single",l),qc(l)&&(o.set("single",l),r.firstCategoryDimIndex=0)},polar:function(n,r,e,o){var l=n.getReferringComponents("polar",bi).models[0],c=l.findAxisModel("radiusAxis"),f=l.findAxisModel("angleAxis");r.coordSysDims=["radius","angle"],e.set("radius",c),e.set("angle",f),qc(c)&&(o.set("radius",c),r.firstCategoryDimIndex=0),qc(f)&&(o.set("angle",f),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=1))},geo:function(n,r,e,o){r.coordSysDims=["lng","lat"]},parallel:function(n,r,e,o){var l=n.ecModel,c=l.getComponent("parallel",n.get("parallelIndex")),f=r.coordSysDims=c.dimensions.slice();it(c.parallelAxisIndex,function(d,p){var y=l.getComponent("parallelAxis",d),b=f[p];e.set(b,y),qc(y)&&(o.set(b,y),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=p))})},matrix:function(n,r,e,o){var l=n.getReferringComponents("matrix",bi).models[0];r.coordSysDims=["x","y"];var c=l.getDimensionModel("x"),f=l.getDimensionModel("y");e.set("x",c),e.set("y",f),o.set("x",c),o.set("y",f)}};function qc(n){return n.get("type")==="category"}function x4(n,r,e){e=e||{};var o=e.byIndex,l=e.stackedCoordDimension,c,f,d;_S(r)?c=r:(f=r.schema,c=f.dimensions,d=r.store);var p=!!(n&&n.get("stack")),y,b,x,S;if(it(c,function(N,F){oe(N)&&(c[F]=N={name:N}),p&&!N.isExtraCoord&&(!o&&!y&&N.ordinalMeta&&(y=N),!b&&N.type!=="ordinal"&&N.type!=="time"&&(!l||l===N.coordDim)&&(b=N))}),b&&!o&&!y&&(o=!0),b){x="__\0ecstackresult_"+n.id,S="__\0ecstackedover_"+n.id,y&&(y.createInvertedIndices=!0);var T=b.coordDim,A=b.type,E=0;it(c,function(N){N.coordDim===T&&E++});var L={name:x,coordDim:T,coordDimIndex:E,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:c.length},I={name:S,coordDim:S,coordDimIndex:E+1,type:A,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:c.length+1};f?(d&&(L.storeDimIndex=d.ensureCalculationDimension(S,A),I.storeDimIndex=d.ensureCalculationDimension(x,A)),f.appendCalculationDimension(L),f.appendCalculationDimension(I)):(c.push(L),c.push(I))}return{stackedDimension:b&&b.name,stackedByDimension:y&&y.name,isStackedByIndex:o,stackedOverDimension:S,stackResultDimension:x}}function _S(n){return!p4(n.schema)}function Zc(n,r){return!!r&&r===n.getCalculationInfo("stackedDimension")}function w4(n,r){return Zc(n,r)?n.getCalculationInfo("stackResultDimension"):r}function qY(n,r){var e=n.get("coordinateSystem"),o=Y0.get(e),l;return r&&r.coordSysDims&&(l=Gt(r.coordSysDims,function(c){var f={name:c},d=r.axisMap.get(c);if(d){var p=d.get("type");f.type=gS(p)}return f})),l||(l=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),l}function ZY(n,r,e){var o,l;return e&&it(n,function(c,f){var d=c.coordDim,p=e.categoryAxisMap.get(d);p&&(o==null&&(o=f),c.ordinalMeta=p.getOrdinalMeta(),r&&(c.createInvertedIndices=!0)),c.otherDims.itemName!=null&&(l=!0)}),!l&&o!=null&&(n[o].otherDims.itemName=0),o}function MP(n,r,e){e=e||{};var o=r.getSourceManager(),l,c=!1;n?(c=!0,l=f5(n)):(l=o.getSource(),c=l.sourceFormat===Os);var f=XY(r),d=qY(r,f),p=e.useEncodeDefaulter,y=ze(p)?p:p?hr(nH,d,r):null,b={coordDimensions:d,generateCoord:e.generateCoord,encodeDefine:r.getEncode(),encodeDefaulter:y,canOmitUnusedDimensions:!c},x=bv(l,b),S=ZY(x.dimensions,e.createInvertedIndices,f),T=c?null:o.getSharedDataStore(x),A=x4(r,{schema:x,store:T}),E=new zo(x,r);E.setCalculationInfo(A);var L=S!=null&&KY(l)?function(I,N,F,W){return W===S?F:this.defaultDimValueGetter(I,N,F,W)}:null;return E.hasItemOption=!1,E.initData(c?l:T,null,L),E}function KY(n){if(n.sourceFormat===Os){var r=QY(n.data||[]);return!Ut(Tp(r))}}function QY(n){for(var r=0;r<n.length&&n[r]==null;)r++;return n[r]}var iu=MP,S4=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e}return r.prototype.getInitialData=function(e){if(0)var o;return iu(null,this,{useEncodeDefaulter:!0})},r.prototype.getLegendIcon=function(e){var o=new Ye,l=ia("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);o.add(l),l.setStyle(e.lineStyle);var c=this.getData().getVisual("symbol"),f=this.getData().getVisual("symbolRotate"),d=c==="none"?"circle":c,p=e.itemHeight*.8,y=ia(d,(e.itemWidth-p)/2,(e.itemHeight-p)/2,p,p,e.itemStyle.fill);o.add(y),y.setStyle(e.itemStyle);var b=e.iconRotate==="inherit"?f:e.iconRotate||0;return y.rotation=b*Math.PI/180,y.setOrigin([e.itemWidth/2,e.itemHeight/2]),d.indexOf("empty")>-1&&(y.style.stroke=y.style.fill,y.style.fill=Rt.color.neutral00,y.style.lineWidth=2),o},r.type="series.line",r.dependencies=["grid","polar"],r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},r}(ai),M4=S4;function xh(n,r){var e=n.mapDimensionsAll("defaultedLabel"),o=e.length;if(o===1){var l=qp(n,r,e[0]);return l!=null?l+"":null}else if(o){for(var c=[],f=0;f<e.length;f++)c.push(qp(n,r,e[f]));return c.join(" ")}}function JY(n,r){var e=n.mapDimensionsAll("defaultedLabel");if(!Ut(r))return r+"";for(var o=[],l=0;l<e.length;l++){var c=n.getDimensionIndex(e[l]);c>=0&&o.push(r[c])}return o.join(" ")}var tU=function(n){Ot(r,n);function r(e,o,l,c){var f=n.call(this)||this;return f.updateData(e,o,l,c),f}return r.prototype._createSymbol=function(e,o,l,c,f,d){this.removeAll();var p=ia(e,-1,-1,2,2,null,d);p.attr({z2:fe(f,100),culling:!0,scaleX:c[0]/2,scaleY:c[1]/2}),p.drift=TP,this._symbolType=e,this.add(p)},r.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},r.prototype.getSymbolType=function(){return this._symbolType},r.prototype.getSymbolPath=function(){return this.childAt(0)},r.prototype.highlight=function(){Pc(this.childAt(0))},r.prototype.downplay=function(){Bu(this.childAt(0))},r.prototype.setZ=function(e,o){var l=this.childAt(0);l.zlevel=e,l.z=o},r.prototype.setDraggable=function(e,o){var l=this.childAt(0);l.draggable=e,l.cursor=!o&&e?"move":l.cursor},r.prototype.updateData=function(e,o,l,c){this.silent=!1;var f=e.getItemVisual(o,"symbol")||"circle",d=e.hostModel,p=r.getSymbolSize(e,o),y=r.getSymbolZ2(e,o),b=f!==this._symbolType,x=c&&c.disableAnimation;if(b){var S=e.getItemVisual(o,"symbolKeepAspect");this._createSymbol(f,e,o,p,y,S)}else{var T=this.childAt(0);T.silent=!1;var A={scaleX:p[0]/2,scaleY:p[1]/2};x?T.attr(A):Qr(T,A,d,o),Ha(T)}if(this._updateCommon(e,o,p,l,c),b){var T=this.childAt(0);if(!x){var A={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:T.style.opacity}};T.scaleX=T.scaleY=0,T.style.opacity=0,ni(T,A,d,o)}}x&&this.childAt(0).stopAnimation("leave")},r.prototype._updateCommon=function(e,o,l,c,f){var d=this.childAt(0),p=e.hostModel,y,b,x,S,T,A,E,L,I;if(c&&(y=c.emphasisItemStyle,b=c.blurItemStyle,x=c.selectItemStyle,S=c.focus,T=c.blurScope,E=c.labelStatesModels,L=c.hoverScale,I=c.cursorStyle,A=c.emphasisDisabled),!c||e.hasItemOption){var N=c&&c.itemModel?c.itemModel:e.getItemModel(o),F=N.getModel("emphasis");y=F.getModel("itemStyle").getItemStyle(),x=N.getModel(["select","itemStyle"]).getItemStyle(),b=N.getModel(["blur","itemStyle"]).getItemStyle(),S=F.get("focus"),T=F.get("blurScope"),A=F.get("disabled"),E=ga(N),L=F.getShallow("scale"),I=N.getShallow("cursor")}var W=e.getItemVisual(o,"symbolRotate");d.attr("rotation",(W||0)*Math.PI/180||0);var X=dh(e.getItemVisual(o,"symbolOffset"),l);X&&(d.x=X[0],d.y=X[1]),I&&d.attr("cursor",I);var $=e.getItemVisual(o,"style"),K=$.fill;if(d instanceof ka){var et=d.style;d.useStyle(Wt({image:et.image,x:et.x,y:et.y,width:et.width,height:et.height},$))}else d.__isEmptyBrush?d.useStyle(Wt({},$)):d.useStyle($),d.style.decal=null,d.setColor(K,f&&f.symbolInnerColor),d.style.strokeNoScale=!0;var at=e.getItemVisual(o,"liftZ"),ot=this._z2;at!=null?ot==null&&(this._z2=d.z2,d.z2+=at):ot!=null&&(d.z2=ot,this._z2=null);var ht=f&&f.useNameLabel;Da(d,E,{labelFetcher:p,labelDataIndex:o,defaultText:yt,inheritColor:K,defaultOpacity:$.opacity});function yt(Mt){return ht?e.getName(Mt):xh(e,Mt)}this._sizeX=l[0]/2,this._sizeY=l[1]/2;var vt=d.ensureState("emphasis");vt.style=y,d.ensureState("select").style=x,d.ensureState("blur").style=b;var bt=L==null||L===!0?Math.max(1.1,3/this._sizeY):isFinite(L)&&L>0?+L:1;vt.scaleX=this._sizeX*bt,vt.scaleY=this._sizeY*bt,this.setSymbolScale(1),ri(this,S,T,A)},r.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},r.prototype.fadeOut=function(e,o,l){var c=this.childAt(0),f=nr(this).dataIndex,d=l&&l.animation;if(this.silent=c.silent=!0,l&&l.fadeLabel){var p=c.getTextContent();p&&Vn(p,{style:{opacity:0}},o,{dataIndex:f,removeOpt:d,cb:function(){c.removeTextContent()}})}else c.removeTextContent();Vn(c,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:f,cb:e,removeOpt:d})},r.getSymbolSize=function(e,o){return hh(e.getItemVisual(o,"symbolSize"))},r.getSymbolZ2=function(e,o){return e.getItemVisual(o,"z2")},r}(Ye);function TP(n,r){this.parent.drift(n,r)}var Tg=tU;function T4(n,r,e,o){return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(o.isIgnore&&o.isIgnore(e))&&!(o.clipShape&&!o.clipShape.contain(r[0],r[1]))&&n.getItemVisual(e,"symbol")!=="none"}function O4(n){return n!=null&&!ce(n)&&(n={isIgnore:n}),n||{}}function OP(n){var r=n.hostModel,e=r.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:r.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:r.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:ga(r),cursorStyle:r.get("cursor")}}var A4=function(){function n(r){this.group=new Ye,this._SymbolCtor=r||Tg}return n.prototype.updateData=function(r,e){this._progressiveEls=null,e=O4(e);var o=this.group,l=r.hostModel,c=this._data,f=this._SymbolCtor,d=e.disableAnimation,p=OP(r),y={disableAnimation:d},b=e.getSymbolPoint||function(x){return r.getItemLayout(x)};c||o.removeAll(),r.diff(c).add(function(x){var S=b(x);if(T4(r,S,x,e)){var T=new f(r,x,p,y);T.setPosition(S),r.setItemGraphicEl(x,T),o.add(T)}}).update(function(x,S){var T=c.getItemGraphicEl(S),A=b(x);if(!T4(r,A,x,e)){o.remove(T);return}var E=r.getItemVisual(x,"symbol")||"circle",L=T&&T.getSymbolType&&T.getSymbolType();if(!T||L&&L!==E)o.remove(T),T=new f(r,x,p,y),T.setPosition(A);else{T.updateData(r,x,p,y);var I={x:A[0],y:A[1]};d?T.attr(I):Qr(T,I,l)}o.add(T),r.setItemGraphicEl(x,T)}).remove(function(x){var S=c.getItemGraphicEl(x);S&&S.fadeOut(function(){o.remove(S)},l)}).execute(),this._getSymbolPoint=b,this._data=r},n.prototype.updateLayout=function(){var r=this,e=this._data;e&&e.eachItemGraphicEl(function(o,l){var c=r._getSymbolPoint(l);o.setPosition(c),o.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=OP(r),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(r,e,o){this._progressiveEls=[],o=O4(o);function l(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var c=r.start;c<r.end;c++){var f=e.getItemLayout(c);if(T4(e,f,c,o)){var d=new this._SymbolCtor(e,c,this._seriesScope);d.traverse(l),d.setPosition(f),this.group.add(d),e.setItemGraphicEl(c,d),this._progressiveEls.push(d)}}},n.prototype.eachRendered=function(r){Wc(this._progressiveEls||this.group,r)},n.prototype.remove=function(r){var e=this.group,o=this._data;o&&r?o.eachItemGraphicEl(function(l){l.fadeOut(function(){e.remove(l)},o.hostModel)}):e.removeAll()},n}(),xS=A4;function C4(n,r,e){var o=n.getBaseAxis(),l=n.getOtherAxis(o),c=P4(l,e),f=o.dim,d=l.dim,p=r.mapDimension(d),y=r.mapDimension(f),b=d==="x"||d==="radius"?1:0,x=Gt(n.dimensions,function(A){return r.mapDimension(A)}),S=!1,T=r.getCalculationInfo("stackResultDimension");return Zc(r,x[0])&&(S=!0,x[0]=T),Zc(r,x[1])&&(S=!0,x[1]=T),{dataDimsForPoint:x,valueStart:c,valueAxisDim:d,baseAxisDim:f,stacked:!!S,valueDim:p,baseDim:y,baseDataOffset:b,stackedOverDimension:r.getCalculationInfo("stackedOverDimension")}}function P4(n,r){var e=0,o=n.scale.getExtent();return r==="start"?e=o[0]:r==="end"?e=o[1]:qe(r)&&!isNaN(r)?e=r:o[0]>0?e=o[0]:o[1]<0&&(e=o[1]),e}function E4(n,r,e,o){var l=NaN;n.stacked&&(l=e.get(e.getCalculationInfo("stackedOverDimension"),o)),isNaN(l)&&(l=n.valueStart);var c=n.baseDataOffset,f=[];return f[c]=e.get(n.baseDim,o),f[1-c]=l,r.dataToPoint(f)}var AP=typeof Float32Array!="undefined",Og=AP?Float32Array:Array;function Zu(n){return Ut(n)?AP?new Float32Array(n):n:new Og(n)}function k4(n,r){var e=[];return r.diff(n).add(function(o){e.push({cmd:"+",idx:o})}).update(function(o,l){e.push({cmd:"=",idx:l,idx1:o})}).remove(function(o){e.push({cmd:"-",idx:o})}).execute(),e}function L4(n,r,e,o,l,c,f,d){for(var p=k4(n,r),y=[],b=[],x=[],S=[],T=[],A=[],E=[],L=C4(l,r,f),I=n.getLayout("points")||[],N=r.getLayout("points")||[],F=0;F<p.length;F++){var W=p[F],X=!0,$=void 0,K=void 0;switch(W.cmd){case"=":$=W.idx*2,K=W.idx1*2;var et=I[$],at=I[$+1],ot=N[K],ht=N[K+1];(isNaN(et)||isNaN(at))&&(et=ot,at=ht),y.push(et,at),b.push(ot,ht),x.push(e[$],e[$+1]),S.push(o[K],o[K+1]),E.push(r.getRawIndex(W.idx1));break;case"+":var yt=W.idx,vt=L.dataDimsForPoint,bt=l.dataToPoint([r.get(vt[0],yt),r.get(vt[1],yt)]);K=yt*2,y.push(bt[0],bt[1]),b.push(N[K],N[K+1]);var Mt=E4(L,l,r,yt);x.push(Mt[0],Mt[1]),S.push(o[K],o[K+1]),E.push(r.getRawIndex(yt));break;case"-":X=!1}X&&(T.push(W),A.push(A.length))}A.sort(function(Qe,jr){return E[Qe]-E[jr]});for(var St=y.length,Pt=Zu(St),Et=Zu(St),Lt=Zu(St),zt=Zu(St),Ht=[],F=0;F<A.length;F++){var qt=A[F],ne=F*2,Ce=qt*2;Pt[ne]=y[Ce],Pt[ne+1]=y[Ce+1],Et[ne]=b[Ce],Et[ne+1]=b[Ce+1],Lt[ne]=x[Ce],Lt[ne+1]=x[Ce+1],zt[ne]=S[Ce],zt[ne+1]=S[Ce+1],Ht[F]=T[qt]}return{current:Pt,next:Et,stackedOnCurrent:Lt,stackedOnNext:zt,status:Ht}}var wh=Math.min,Sh=Math.max;function co(n,r){return isNaN(n)||isNaN(r)}function CP(n,r,e,o,l,c,f,d,p){for(var y,b,x,S,T,A,E=e,L=0;L<o;L++){var I=r[E*2],N=r[E*2+1];if(E>=l||E<0)break;if(co(I,N)){if(p){E+=c;continue}break}if(E===e)n[c>0?"moveTo":"lineTo"](I,N),x=I,S=N;else{var F=I-y,W=N-b;if(F*F+W*W<.5){E+=c;continue}if(f>0){for(var X=E+c,$=r[X*2],K=r[X*2+1];$===I&&K===N&&L<o;)L++,X+=c,E+=c,$=r[X*2],K=r[X*2+1],I=r[E*2],N=r[E*2+1],F=I-y,W=N-b;var et=L+1;if(p)for(;co($,K)&&et<o;)et++,X+=c,$=r[X*2],K=r[X*2+1];var at=.5,ot=0,ht=0,yt=void 0,vt=void 0;if(et>=o||co($,K))T=I,A=N;else{ot=$-y,ht=K-b;var bt=I-y,Mt=$-I,St=N-b,Pt=K-N,Et=void 0,Lt=void 0;if(d==="x"){Et=Math.abs(bt),Lt=Math.abs(Mt);var zt=ot>0?1:-1;T=I-zt*Et*f,A=N,yt=I+zt*Lt*f,vt=N}else if(d==="y"){Et=Math.abs(St),Lt=Math.abs(Pt);var Ht=ht>0?1:-1;T=I,A=N-Ht*Et*f,yt=I,vt=N+Ht*Lt*f}else Et=Math.sqrt(bt*bt+St*St),Lt=Math.sqrt(Mt*Mt+Pt*Pt),at=Lt/(Lt+Et),T=I-ot*f*(1-at),A=N-ht*f*(1-at),yt=I+ot*f*at,vt=N+ht*f*at,yt=wh(yt,Sh($,I)),vt=wh(vt,Sh(K,N)),yt=Sh(yt,wh($,I)),vt=Sh(vt,wh(K,N)),ot=yt-I,ht=vt-N,T=I-ot*Et/Lt,A=N-ht*Et/Lt,T=wh(T,Sh(y,I)),A=wh(A,Sh(b,N)),T=Sh(T,wh(y,I)),A=Sh(A,wh(b,N)),ot=I-T,ht=N-A,yt=I+ot*Lt/Et,vt=N+ht*Lt/Et}n.bezierCurveTo(x,S,T,A,I,N),x=yt,S=vt}else n.lineTo(I,N)}y=I,b=N,E+=c}return L}var Rs=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),PP=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="ec-polyline",o}return r.prototype.getDefaultStyle=function(){return{stroke:Rt.color.neutral99,fill:null}},r.prototype.getDefaultShape=function(){return new Rs},r.prototype.buildPath=function(e,o){var l=o.points,c=0,f=l.length/2;if(o.connectNulls){for(;f>0&&co(l[f*2-2],l[f*2-1]);f--);for(;c<f&&co(l[c*2],l[c*2+1]);c++);}for(;c<f;)c+=CP(e,l,c,f,f,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},r.prototype.getPointOn=function(e,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var l=this.path,c=l.data,f=xs.CMD,d,p,y=o==="x",b=[],x=0;x<c.length;){var S=c[x++],T=void 0,A=void 0,E=void 0,L=void 0,I=void 0,N=void 0,F=void 0;switch(S){case f.M:d=c[x++],p=c[x++];break;case f.L:if(T=c[x++],A=c[x++],F=y?(e-d)/(T-d):(e-p)/(A-p),F<=1&&F>=0){var W=y?(A-p)*F+p:(T-d)*F+d;return y?[e,W]:[W,e]}d=T,p=A;break;case f.C:T=c[x++],A=c[x++],E=c[x++],L=c[x++],I=c[x++],N=c[x++];var X=y?UT(d,T,E,I,e,b):UT(p,A,L,N,e,b);if(X>0)for(var $=0;$<X;$++){var K=b[$];if(K<=1&&K>=0){var W=y?Wa(p,A,L,N,K):Wa(d,T,E,I,K);return y?[e,W]:[W,e]}}d=I,p=N;break}}},r}(Sr),snt=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Rs),eU=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="ec-polygon",o}return r.prototype.getDefaultShape=function(){return new snt},r.prototype.buildPath=function(e,o){var l=o.points,c=o.stackedOnPoints,f=0,d=l.length/2,p=o.smoothMonotone;if(o.connectNulls){for(;d>0&&co(l[d*2-2],l[d*2-1]);d--);for(;f<d&&co(l[f*2],l[f*2+1]);f++);}for(;f<d;){var y=CP(e,l,f,d,d,1,o.smooth,p,o.connectNulls);CP(e,c,f+y-1,y,d,-1,o.stackedOnSmooth,p,o.connectNulls),f+=y+1,e.closePath()}},r}(Sr);function jn(n,r,e,o,l){var c=n.getArea(),f=c.x,d=c.y,p=c.width,y=c.height,b=e.get(["lineStyle","width"])||0;f-=b/2,d-=b/2,p+=b,y+=b,p=Math.ceil(p),f!==Math.floor(f)&&(f=Math.floor(f),p++);var x=new kr({shape:{x:f,y:d,width:p,height:y}});if(r){var S=n.getBaseAxis(),T=S.isHorizontal(),A=S.inverse;T?(A&&(x.shape.x+=p),x.shape.width=0):(A||(x.shape.y+=y),x.shape.height=0);var E=ze(l)?function(L){l(L,x)}:null;ni(x,{shape:{width:p,height:y,x:f,y:d}},e,null,o,E)}return x}function Ku(n,r,e){var o=n.getArea(),l=sa(o.r0,1),c=sa(o.r,1),f=new uo({shape:{cx:sa(n.cx,1),cy:sa(n.cy,1),r0:l,r:c,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(r){var d=n.getBaseAxis().dim==="angle";d?f.shape.endAngle=o.startAngle:f.shape.r=l,ni(f,{shape:{endAngle:o.endAngle,r:c}},e)}return f}function Kc(n,r,e,o,l){if(n){if(n.type==="polar")return Ku(n,r,e);if(n.type==="cartesian2d")return jn(n,r,e,o,l)}else return null;return null}function Qu(n,r){return n.type===r}function Mh(n,r){if(n.length===r.length){for(var e=0;e<n.length;e++)if(n[e]!==r[e])return;return!0}}function Th(n){for(var r=1/0,e=1/0,o=-1/0,l=-1/0,c=0;c<n.length;){var f=n[c++],d=n[c++];isNaN(f)||(r=Math.min(f,r),o=Math.max(f,o)),isNaN(d)||(e=Math.min(d,e),l=Math.max(d,l))}return[[r,e],[o,l]]}function Ag(n,r){var e=Th(n),o=e[0],l=e[1],c=Th(r),f=c[0],d=c[1];return Math.max(Math.abs(o[0]-f[0]),Math.abs(o[1]-f[1]),Math.abs(l[0]-d[0]),Math.abs(l[1]-d[1]))}function EP(n){return qe(n)?n:n?.5:0}function lnt(n,r,e){if(!e.valueDim)return[];for(var o=r.count(),l=Zu(o*2),c=0;c<o;c++){var f=E4(e,n,r,c);l[c*2]=f[0],l[c*2+1]=f[1]}return l}function Oh(n,r,e,o,l){var c=e.getBaseAxis(),f=c.dim==="x"||c.dim==="radius"?0:1,d=[],p=0,y=[],b=[],x=[],S=[];if(l){for(p=0;p<n.length;p+=2){var T=r||n;!isNaN(T[p])&&!isNaN(T[p+1])&&S.push(n[p],n[p+1])}n=S}for(p=0;p<n.length-2;p+=2)switch(x[0]=n[p+2],x[1]=n[p+3],b[0]=n[p],b[1]=n[p+1],d.push(b[0],b[1]),o){case"end":y[f]=x[f],y[1-f]=b[1-f],d.push(y[0],y[1]);break;case"middle":var A=(b[f]+x[f])/2,E=[];y[f]=E[f]=A,y[1-f]=b[1-f],E[1-f]=x[1-f],d.push(y[0],y[1]),d.push(E[0],E[1]);break;default:y[f]=b[f],y[1-f]=x[1-f],d.push(y[0],y[1])}return d.push(n[p++],n[p++]),d}function Cg(n,r){var e=[],o=n.length,l,c;function f(b,x,S){var T=b.coord,A=(S-T)/(x.coord-T),E=qT(A,[b.color,x.color]);return{coord:S,color:E}}for(var d=0;d<o;d++){var p=n[d],y=p.coord;if(y<0)l=p;else if(y>r){c?e.push(f(c,p,r)):l&&e.push(f(l,p,0),f(l,p,r));break}else l&&(e.push(f(l,p,0)),l=null),e.push(p),c=p}return e}function D4(n,r,e){var o=n.getVisual("visualMeta");if(!(!o||!o.length||!n.count())&&r.type==="cartesian2d"){for(var l,c,f=o.length-1;f>=0;f--){var d=n.getDimensionInfo(o[f].dimension);if(l=d&&d.coordDim,l==="x"||l==="y"){c=o[f];break}}if(c){var p=r.getAxis(l),y=Gt(c.stops,function(F){return{coord:p.toGlobalCoord(p.dataToCoord(F.value)),color:F.color}}),b=y.length,x=c.outerColors.slice();b&&y[0].coord>y[b-1].coord&&(y.reverse(),x.reverse());var S=Cg(y,l==="x"?e.getWidth():e.getHeight()),T=S.length;if(!T&&b)return y[0].coord<0?x[1]?x[1]:y[b-1].color:x[0]?x[0]:y[0].color;var A=10,E=S[0].coord-A,L=S[T-1].coord+A,I=L-E;if(I<.001)return"transparent";it(S,function(F){F.offset=(F.coord-E)/I}),S.push({offset:T?S[T-1].offset:.5,color:x[1]||"transparent"}),S.unshift({offset:T?S[0].offset:.5,color:x[0]||"transparent"});var N=new Vc(0,0,0,0,S,!0);return N[l]=E,N[l+"2"]=L,N}}}function kP(n,r,e){var o=n.get("showAllSymbol"),l=o==="auto";if(!(o&&!l)){var c=e.getAxesByScale("ordinal")[0];if(c&&!(l&&rU(c,r))){var f=r.mapDimension(c.dim),d={};return it(c.getViewLabels(),function(p){var y=c.scale.getRawOrdinalNumber(p.tickValue);d[y]=1}),function(p){return!d.hasOwnProperty(r.get(f,p))}}}}function rU(n,r){var e=n.getExtent(),o=Math.abs(e[1]-e[0])/n.scale.count();isNaN(o)&&(o=0);for(var l=r.count(),c=Math.max(1,Math.round(l/5)),f=0;f<l;f+=c)if(Tg.getSymbolSize(r,f)[n.isHorizontal()?1:0]*1.5>o)return!1;return!0}function nU(n,r){return isNaN(n)||isNaN(r)}function I4(n){for(var r=n.length/2;r>0&&nU(n[r*2-2],n[r*2-1]);r--);return r-1}function R4(n,r){return[n[r*2],n[r*2+1]]}function wS(n,r,e){for(var o=n.length/2,l=e==="x"?0:1,c,f,d=0,p=-1,y=0;y<o;y++)if(f=n[y*2+l],!(isNaN(f)||isNaN(n[y*2+1-l]))){if(y===0){c=f;continue}if(c<=r&&f>=r||c>=r&&f<=r){p=y;break}d=y,c=f}return{range:[d,p],t:(r-c)/(f-c)}}function Kr(n){if(n.get(["endLabel","show"]))return!0;for(var r=0;r<Ro.length;r++)if(n.get([Ro[r],"endLabel","show"]))return!0;return!1}function hl(n,r,e,o){if(Qu(r,"cartesian2d")){var l=o.getModel("endLabel"),c=l.get("valueAnimation"),f=o.getData(),d={lastFrameIndex:0},p=Kr(o)?function(T,A){n._endLabelOnDuring(T,A,f,d,c,l,r)}:null,y=r.getBaseAxis().isHorizontal(),b=jn(r,e,o,function(){var T=n._endLabel;T&&e&&d.originalX!=null&&T.attr({x:d.originalX,y:d.originalY})},p);if(!o.get("clip",!0)){var x=b.shape,S=Math.max(x.width,x.height);y?(x.y-=S,x.height+=S*2):(x.x-=S,x.width+=S*2)}return p&&p(1,b),b}else return Ku(r,e,o)}function Qc(n,r){var e=r.getBaseAxis(),o=e.isHorizontal(),l=e.inverse,c=o?l?"right":"left":"center",f=o?"middle":l?"top":"bottom";return{normal:{align:n.get("align")||c,verticalAlign:n.get("verticalAlign")||f}}}var dl=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(){var e=new Ye,o=new xS;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=e,this._changePolyState=ue(this._changePolyState,this)},r.prototype.render=function(e,o,l){var c=e.coordinateSystem,f=this.group,d=e.getData(),p=e.getModel("lineStyle"),y=e.getModel("areaStyle"),b=d.getLayout("points")||[],x=c.type==="polar",S=this._coordSys,T=this._symbolDraw,A=this._polyline,E=this._polygon,L=this._lineGroup,I=!o.ssr&&e.get("animation"),N=!y.isEmpty(),F=y.get("origin"),W=C4(c,d,F),X=N&&lnt(c,d,W),$=e.get("showSymbol"),K=e.get("connectNulls"),et=$&&!x&&kP(e,d,c),at=this._data;at&&at.eachItemGraphicEl(function(Qe,jr){Qe.__temp&&(f.remove(Qe),at.setItemGraphicEl(jr,null))}),$||T.remove(),f.add(L);var ot=x?!1:e.get("step"),ht;c&&c.getArea&&e.get("clip",!0)&&(ht=c.getArea(),ht.width!=null?(ht.x-=.1,ht.y-=.1,ht.width+=.2,ht.height+=.2):ht.r0&&(ht.r0-=.5,ht.r+=.5)),this._clipShapeForSymbol=ht;var yt=D4(d,c,l)||d.getVisual("style")[d.getVisual("drawType")];if(!(A&&S.type===c.type&&ot===this._step))$&&T.updateData(d,{isIgnore:et,clipShape:ht,disableAnimation:!0,getSymbolPoint:function(Qe){return[b[Qe*2],b[Qe*2+1]]}}),I&&this._initSymbolLabelAnimation(d,c,ht),ot&&(X&&(X=Oh(X,b,c,ot,K)),b=Oh(b,null,c,ot,K)),A=this._newPolyline(b),N?E=this._newPolygon(b,X):E&&(L.remove(E),E=this._polygon=null),x||this._initOrUpdateEndLabel(e,c,Gd(yt)),L.setClipPath(hl(this,c,!0,e));else{N&&!E?E=this._newPolygon(b,X):E&&!N&&(L.remove(E),E=this._polygon=null),x||this._initOrUpdateEndLabel(e,c,Gd(yt));var vt=L.getClipPath();if(vt){var bt=hl(this,c,!1,e);ni(vt,{shape:bt.shape},e)}else L.setClipPath(hl(this,c,!0,e));$&&T.updateData(d,{isIgnore:et,clipShape:ht,disableAnimation:!0,getSymbolPoint:function(Qe){return[b[Qe*2],b[Qe*2+1]]}}),(!Mh(this._stackedOnPoints,X)||!Mh(this._points,b))&&(I?this._doUpdateAnimation(d,X,c,l,ot,F,K):(ot&&(X&&(X=Oh(X,b,c,ot,K)),b=Oh(b,null,c,ot,K)),A.setShape({points:b}),E&&E.setShape({points:b,stackedOnPoints:X})))}var Mt=e.getModel("emphasis"),St=Mt.get("focus"),Pt=Mt.get("blurScope"),Et=Mt.get("disabled");if(A.useStyle(je(p.getLineStyle(),{fill:"none",stroke:yt,lineJoin:"bevel"})),pa(A,e,"lineStyle"),A.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var Lt=A.getState("emphasis").style;Lt.lineWidth=+A.style.lineWidth+1}nr(A).seriesIndex=e.seriesIndex,ri(A,St,Pt,Et);var zt=EP(e.get("smooth")),Ht=e.get("smoothMonotone");if(A.setShape({smooth:zt,smoothMonotone:Ht,connectNulls:K}),E){var qt=d.getCalculationInfo("stackedOnSeries"),ne=0;E.useStyle(je(y.getAreaStyle(),{fill:yt,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),qt&&(ne=EP(qt.get("smooth"))),E.setShape({smooth:zt,stackedOnSmooth:ne,smoothMonotone:Ht,connectNulls:K}),pa(E,e,"areaStyle"),nr(E).seriesIndex=e.seriesIndex,ri(E,St,Pt,Et)}var Ce=this._changePolyState;d.eachItemGraphicEl(function(Qe){Qe&&(Qe.onHoverStateChange=Ce)}),this._polyline.onHoverStateChange=Ce,this._data=d,this._coordSys=c,this._stackedOnPoints=X,this._points=b,this._step=ot,this._valueOrigin=F,e.get("triggerLineEvent")&&(this.packEventData(e,A),E&&this.packEventData(e,E))},r.prototype.packEventData=function(e,o){nr(o).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},r.prototype.highlight=function(e,o,l,c){var f=e.getData(),d=Op(f,c);if(this._changePolyState("emphasis"),!(d instanceof Array)&&d!=null&&d>=0){var p=f.getLayout("points"),y=f.getItemGraphicEl(d);if(!y){var b=p[d*2],x=p[d*2+1];if(isNaN(b)||isNaN(x)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(b,x))return;var S=e.get("zlevel")||0,T=e.get("z")||0;y=new Tg(f,d),y.x=b,y.y=x,y.setZ(S,T);var A=y.getSymbolPath().getTextContent();A&&(A.zlevel=S,A.z=T,A.z2=this._polyline.z2+1),y.__temp=!0,f.setItemGraphicEl(d,y),y.stopSymbolAnimation(!0),this.group.add(y)}y.highlight()}else Hn.prototype.highlight.call(this,e,o,l,c)},r.prototype.downplay=function(e,o,l,c){var f=e.getData(),d=Op(f,c);if(this._changePolyState("normal"),d!=null&&d>=0){var p=f.getItemGraphicEl(d);p&&(p.__temp?(f.setItemGraphicEl(d,null),this.group.remove(p)):p.downplay())}else Hn.prototype.downplay.call(this,e,o,l,c)},r.prototype._changePolyState=function(e){var o=this._polygon;L0(this._polyline,e),o&&L0(o,e)},r.prototype._newPolyline=function(e){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new PP({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},r.prototype._newPolygon=function(e,o){var l=this._polygon;return l&&this._lineGroup.remove(l),l=new eU({shape:{points:e,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(l),this._polygon=l,l},r.prototype._initSymbolLabelAnimation=function(e,o,l){var c,f,d=o.getBaseAxis(),p=d.inverse;o.type==="cartesian2d"?(c=d.isHorizontal(),f=!1):o.type==="polar"&&(c=d.dim==="angle",f=!0);var y=e.hostModel,b=y.get("animationDuration");ze(b)&&(b=b(null));var x=y.get("animationDelay")||0,S=ze(x)?x(null):x;e.eachItemGraphicEl(function(T,A){var E=T;if(E){var L=[T.x,T.y],I=void 0,N=void 0,F=void 0;if(l)if(f){var W=l,X=o.pointToCoord(L);c?(I=W.startAngle,N=W.endAngle,F=-X[1]/180*Math.PI):(I=W.r0,N=W.r,F=X[0])}else{var $=l;c?(I=$.x,N=$.x+$.width,F=T.x):(I=$.y+$.height,N=$.y,F=T.y)}var K=N===I?0:(F-I)/(N-I);p&&(K=1-K);var et=ze(x)?x(A):b*K+S,at=E.getSymbolPath(),ot=at.getTextContent();E.attr({scaleX:0,scaleY:0}),E.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:et}),ot&&ot.animateFrom({style:{opacity:0}},{duration:300,delay:et}),at.disableLabelAnimation=!0}})},r.prototype._initOrUpdateEndLabel=function(e,o,l){var c=e.getModel("endLabel");if(Kr(e)){var f=e.getData(),d=this._polyline,p=f.getLayout("points");if(!p){d.removeTextContent(),this._endLabel=null;return}var y=this._endLabel;y||(y=this._endLabel=new Hr({z2:200}),y.ignoreClip=!0,d.setTextContent(this._endLabel),d.disableLabelAnimation=!0);var b=I4(p);b>=0&&(Da(d,ga(e,"endLabel"),{inheritColor:l,labelFetcher:e,labelDataIndex:b,defaultText:function(x,S,T){return T!=null?JY(f,T):xh(f,x)},enableTextSetter:!0},Qc(c,o)),d.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},r.prototype._endLabelOnDuring=function(e,o,l,c,f,d,p){var y=this._endLabel,b=this._polyline;if(y){e<1&&c.originalX==null&&(c.originalX=y.x,c.originalY=y.y);var x=l.getLayout("points"),S=l.hostModel,T=S.get("connectNulls"),A=d.get("precision"),E=d.get("distance")||0,L=p.getBaseAxis(),I=L.isHorizontal(),N=L.inverse,F=o.shape,W=N?I?F.x:F.y+F.height:I?F.x+F.width:F.y,X=(I?E:0)*(N?-1:1),$=(I?0:-E)*(N?-1:1),K=I?"x":"y",et=wS(x,W,K),at=et.range,ot=at[1]-at[0],ht=void 0;if(ot>=1){if(ot>1&&!T){var yt=R4(x,at[0]);y.attr({x:yt[0]+X,y:yt[1]+$}),f&&(ht=S.getRawValue(at[0]))}else{var yt=b.getPointOn(W,K);yt&&y.attr({x:yt[0]+X,y:yt[1]+$});var vt=S.getRawValue(at[0]),bt=S.getRawValue(at[1]);f&&(ht=OO(l,A,vt,bt,et.t))}c.lastFrameIndex=at[0]}else{var Mt=e===1||c.lastFrameIndex>0?at[0]:0,yt=R4(x,Mt);f&&(ht=S.getRawValue(Mt)),y.attr({x:yt[0]+X,y:yt[1]+$})}if(f){var St=Bp(y);typeof St.setLabelText=="function"&&St.setLabelText(ht)}}},r.prototype._doUpdateAnimation=function(e,o,l,c,f,d,p){var y=this._polyline,b=this._polygon,x=e.hostModel,S=L4(this._data,e,this._stackedOnPoints,o,this._coordSys,l,this._valueOrigin,d),T=S.current,A=S.stackedOnCurrent,E=S.next,L=S.stackedOnNext;if(f&&(A=Oh(S.stackedOnCurrent,S.current,l,f,p),T=Oh(S.current,null,l,f,p),L=Oh(S.stackedOnNext,S.next,l,f,p),E=Oh(S.next,null,l,f,p)),Ag(T,E)>3e3||b&&Ag(A,L)>3e3){y.stopAnimation(),y.setShape({points:E}),b&&(b.stopAnimation(),b.setShape({points:E,stackedOnPoints:L}));return}y.shape.__points=S.current,y.shape.points=T;var I={shape:{points:E}};S.current!==T&&(I.shape.__points=S.next),y.stopAnimation(),Qr(y,I,x),b&&(b.setShape({points:T,stackedOnPoints:A}),b.stopAnimation(),Qr(b,{shape:{stackedOnPoints:L}},x),y.shape.points!==b.shape.points&&(b.shape.points=y.shape.points));for(var N=[],F=S.status,W=0;W<F.length;W++){var X=F[W].cmd;if(X==="="){var $=e.getItemGraphicEl(F[W].idx1);$&&N.push({el:$,ptIdx:W})}}y.animators&&y.animators.length&&y.animators[0].during(function(){b&&b.dirtyShape();for(var K=y.shape.__points,et=0;et<N.length;et++){var at=N[et].el,ot=N[et].ptIdx*2;at.x=K[ot],at.y=K[ot+1],at.markRedraw()}})},r.prototype.remove=function(e){var o=this.group,l=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),l&&l.eachItemGraphicEl(function(c,f){c.__temp&&(o.remove(c),l.setItemGraphicEl(f,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},r.type="line",r}(Hn),SS=dl;function Jm(n,r){return{seriesType:n,plan:ju(),reset:function(e){var o=e.getData(),l=e.coordinateSystem,c=e.pipelineContext,f=r||c.large;if(l){var d=Gt(l.dimensions,function(T){return o.mapDimension(T)}).slice(0,2),p=d.length,y=o.getCalculationInfo("stackResultDimension");Zc(o,d[0])&&(d[0]=y),Zc(o,d[1])&&(d[1]=y);var b=o.getStore(),x=o.getDimensionIndex(d[0]),S=o.getDimensionIndex(d[1]);return p&&{progress:function(T,A){for(var E=T.end-T.start,L=f&&Zu(E*p),I=[],N=[],F=T.start,W=0;F<T.end;F++){var X=void 0;if(p===1){var $=b.get(x,F);X=l.dataToPoint($,null,N)}else I[0]=b.get(x,F),I[1]=b.get(S,F),X=l.dataToPoint(I,null,N);f?(L[W++]=X[0],L[W++]=X[1]):A.setItemLayout(F,X.slice())}f&&A.setLayout("points",L)}}}}}}var iU={average:function(n){for(var r=0,e=0,o=0;o<n.length;o++)isNaN(n[o])||(r+=n[o],e++);return e===0?NaN:r/e},sum:function(n){for(var r=0,e=0;e<n.length;e++)r+=n[e]||0;return r},max:function(n){for(var r=-1/0,e=0;e<n.length;e++)n[e]>r&&(r=n[e]);return isFinite(r)?r:NaN},min:function(n){for(var r=1/0,e=0;e<n.length;e++)n[e]<r&&(r=n[e]);return isFinite(r)?r:NaN},nearest:function(n){return n[0]}},N4=function(n){return Math.round(n.length/2)};function _v(n){return{seriesType:n,reset:function(r,e,o){var l=r.getData(),c=r.get("sampling"),f=r.coordinateSystem,d=l.count();if(d>10&&f.type==="cartesian2d"&&c){var p=f.getBaseAxis(),y=f.getOtherAxis(p),b=p.getExtent(),x=o.getDevicePixelRatio(),S=Math.abs(b[1]-b[0])*(x||1),T=Math.round(d/S);if(isFinite(T)&&T>1){c==="lttb"?r.setData(l.lttbDownSample(l.mapDimension(y.dim),1/T)):c==="minmax"&&r.setData(l.minmaxDownSample(l.mapDimension(y.dim),1/T));var A=void 0;oe(c)?A=iU[c]:ze(c)&&(A=c),A&&r.setData(l.downSample(l.mapDimension(y.dim),1/T,A,N4))}}}}}function B4(n){n.registerChartView(SS),n.registerSeriesModel(M4),n.registerLayout(Jm("line",!0)),n.registerVisual({seriesType:"line",reset:function(r){var e=r.getData(),o=r.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",o)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,_v("line"))}var LP="__ec_stack_";function t1(n){return n.get("stack")||LP+n.seriesIndex}function DP(n){return n.dim+n.index}function aU(n){var r=[],e=n.axis,o="axis0";if(e.type==="category"){for(var l=e.getBandWidth(),c=0;c<n.count;c++)r.push(je({bandWidth:l,axisKey:o,stackId:LP+c},n));for(var f=fi(r),d=[],c=0;c<n.count;c++){var p=f[o][LP+c];p.offsetCenter=p.offset+p.width/2,d.push(p)}return d}}function z4(n,r){var e=[];return r.eachSeriesByType(n,function(o){MS(o)&&e.push(o)}),e}function oU(n){var r={};it(n,function(p){var y=p.coordinateSystem,b=y.getBaseAxis();if(!(b.type!=="time"&&b.type!=="value"))for(var x=p.getData(),S=b.dim+"_"+b.index,T=x.getDimensionIndex(x.mapDimension(b.dim)),A=x.getStore(),E=0,L=A.count();E<L;++E){var I=A.get(T,E);r[S]?r[S].push(I):r[S]=[I]}});var e={};for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];if(l){l.sort(function(p,y){return p-y});for(var c=null,f=1;f<l.length;++f){var d=l[f]-l[f-1];d>0&&(c=c===null?d:Math.min(c,d))}e[o]=c}}return e}function F4(n){var r=oU(n),e=[];return it(n,function(o){var l=o.coordinateSystem,c=l.getBaseAxis(),f=c.getExtent(),d;if(c.type==="category")d=c.getBandWidth();else if(c.type==="value"||c.type==="time"){var p=c.dim+"_"+c.index,y=r[p],b=Math.abs(f[1]-f[0]),x=c.scale.getExtent(),S=Math.abs(x[1]-x[0]);d=y?b/S*y:b}else{var T=o.getData();d=Math.abs(f[1]-f[0])/T.count()}var A=de(o.get("barWidth"),d),E=de(o.get("barMaxWidth"),d),L=de(o.get("barMinWidth")||(G4(o)?.5:1),d),I=o.get("barGap"),N=o.get("barCategoryGap"),F=o.get("defaultBarGap");e.push({bandWidth:d,barWidth:A,barMaxWidth:E,barMinWidth:L,barGap:I,barCategoryGap:N,defaultBarGap:F,axisKey:DP(c),stackId:t1(o)})}),fi(e)}function fi(n){var r={};it(n,function(o,l){var c=o.axisKey,f=o.bandWidth,d=r[c]||{bandWidth:f,remainedWidth:f,autoWidthCount:0,categoryGap:null,gap:o.defaultBarGap||0,stacks:{}},p=d.stacks;r[c]=d;var y=o.stackId;p[y]||d.autoWidthCount++,p[y]=p[y]||{width:0,maxWidth:0};var b=o.barWidth;b&&!p[y].width&&(p[y].width=b,b=Math.min(d.remainedWidth,b),d.remainedWidth-=b);var x=o.barMaxWidth;x&&(p[y].maxWidth=x);var S=o.barMinWidth;S&&(p[y].minWidth=S);var T=o.barGap;T!=null&&(d.gap=T);var A=o.barCategoryGap;A!=null&&(d.categoryGap=A)});var e={};return it(r,function(o,l){e[l]={};var c=o.stacks,f=o.bandWidth,d=o.categoryGap;if(d==null){var p=vr(c).length;d=Math.max(35-p*4,15)+"%"}var y=de(d,f),b=de(o.gap,1),x=o.remainedWidth,S=o.autoWidthCount,T=(x-y)/(S+(S-1)*b);T=Math.max(T,0),it(c,function(I){var N=I.maxWidth,F=I.minWidth;if(I.width){var W=I.width;N&&(W=Math.min(W,N)),F&&(W=Math.max(W,F)),I.width=W,x-=W+b*W,S--}else{var W=T;N&&N<W&&(W=Math.min(N,x)),F&&F>W&&(W=F),W!==T&&(I.width=W,x-=W+b*W,S--)}}),T=(x-y)/(S+(S-1)*b),T=Math.max(T,0);var A=0,E;it(c,function(I,N){I.width||(I.width=T),E=I,A+=I.width*(1+b)}),E&&(A-=E.width*b);var L=-A/2;it(c,function(I,N){e[l][N]=e[l][N]||{bandWidth:f,offset:L,width:I.width},L+=I.width*(1+b)})}),e}function sU(n,r,e){if(n&&r){var o=n[DP(r)];return o!=null&&e!=null?o[t1(e)]:o}}function j4(n,r){var e=z4(n,r),o=F4(e);it(e,function(l){var c=l.getData(),f=l.coordinateSystem,d=f.getBaseAxis(),p=t1(l),y=o[DP(d)][p],b=y.offset,x=y.width;c.setLayout({bandWidth:y.bandWidth,offset:b,size:x})})}function V4(n){return{seriesType:n,plan:ju(),reset:function(r){if(MS(r)){var e=r.getData(),o=r.coordinateSystem,l=o.getBaseAxis(),c=o.getOtherAxis(l),f=e.getDimensionIndex(e.mapDimension(c.dim)),d=e.getDimensionIndex(e.mapDimension(l.dim)),p=r.get("showBackground",!0),y=e.mapDimension(c.dim),b=e.getCalculationInfo("stackResultDimension"),x=Zc(e,y)&&!!e.getCalculationInfo("stackedOnSeries"),S=c.isHorizontal(),T=xv(l,c),A=G4(r),E=r.get("barMinHeight")||0,L=b&&e.getDimensionIndex(b),I=e.getLayout("size"),N=e.getLayout("offset");return{progress:function(F,W){for(var X=F.count,$=A&&Zu(X*3),K=A&&p&&Zu(X*3),et=A&&Zu(X),at=o.master.getRect(),ot=S?at.width:at.height,ht,yt=W.getStore(),vt=0;(ht=F.next())!=null;){var bt=yt.get(x?L:f,ht),Mt=yt.get(d,ht),St=T,Pt=void 0;x&&(Pt=+bt-yt.get(f,ht));var Et=void 0,Lt=void 0,zt=void 0,Ht=void 0;if(S){var qt=o.dataToPoint([bt,Mt]);if(x){var ne=o.dataToPoint([Pt,Mt]);St=ne[0]}Et=St,Lt=qt[1]+N,zt=qt[0]-St,Ht=I,Math.abs(zt)<E&&(zt=(zt<0?-1:1)*E)}else{var qt=o.dataToPoint([Mt,bt]);if(x){var ne=o.dataToPoint([Mt,Pt]);St=ne[1]}Et=qt[0]+N,Lt=St,zt=I,Ht=qt[1]-St,Math.abs(Ht)<E&&(Ht=(Ht<=0?-1:1)*E)}A?($[vt]=Et,$[vt+1]=Lt,$[vt+2]=S?zt:Ht,K&&(K[vt]=S?at.x:Et,K[vt+1]=S?Lt:at.y,K[vt+2]=ot),et[ht]=ht):W.setItemLayout(ht,{x:Et,y:Lt,width:zt,height:Ht}),vt+=3}A&&W.setLayout({largePoints:$,largeDataIndices:et,largeBackgroundPoints:K,valueAxisHorizontal:S})}}}}}}function MS(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function G4(n){return n.pipelineContext&&n.pipelineContext.large}function xv(n,r){var e=r.model.get("startValue");return e||(e=0),r.toGlobalCoord(r.dataToCoord(r.type==="log"?e>0?e:1:e))}var TS=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getInitialData=function(e,o){return iu(null,this,{useEncodeDefaulter:!0})},r.prototype.getMarkerPosition=function(e,o,l){var c=this.coordinateSystem;if(c&&c.clampData){var f=c.clampData(e),d=c.dataToPoint(f);if(l)it(c.getAxes(),function(S,T){if(S.type==="category"&&o!=null){var A=S.getTicksCoords(),E=S.getTickModel().get("alignWithLabel"),L=f[T],I=o[T]==="x1"||o[T]==="y1";if(I&&!E&&(L+=1),A.length<2)return;if(A.length===2){d[T]=S.toGlobalCoord(S.getExtent()[I?1:0]);return}for(var N=void 0,F=void 0,W=1,X=0;X<A.length;X++){var $=A[X].coord,K=X===A.length-1?A[X-1].tickValue+W:A[X].tickValue;if(K===L){F=$;break}else if(K<L)N=$;else if(N!=null&&K>L){F=($+N)/2;break}X===1&&(W=K-A[0].tickValue)}F==null&&(N?N&&(F=A[A.length-1].coord):F=A[0].coord),d[T]=S.toGlobalCoord(F)}});else{var p=this.getData(),y=p.getLayout("offset"),b=p.getLayout("size"),x=c.getBaseAxis().isHorizontal()?0:1;d[x]+=y+b/2}return d}return[NaN,NaN]},r.type="series.__base_bar__",r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},r}(ai);ai.registerClass(TS);var e1=TS,W4=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getInitialData=function(){return iu(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},r.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},r.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>e&&(e=o),e},r.prototype.brushSelector=function(e,o,l){return l.rect(o.getItemLayout(e))},r.type="series.bar",r.dependencies=["grid","polar"],r.defaultOption=Jf(e1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:Rt.color.primary,borderWidth:2}},realtimeSort:!1}),r}(e1),unt=W4,IP=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),H4=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="sausage",o}return r.prototype.getDefaultShape=function(){return new IP},r.prototype.buildPath=function(e,o){var l=o.cx,c=o.cy,f=Math.max(o.r0||0,0),d=Math.max(o.r,0),p=(d-f)*.5,y=f+p,b=o.startAngle,x=o.endAngle,S=o.clockwise,T=Math.PI*2,A=S?x-b<T:b-x<T;A||(b=x-(S?T:-T));var E=Math.cos(b),L=Math.sin(b),I=Math.cos(x),N=Math.sin(x);A?(e.moveTo(E*f+l,L*f+c),e.arc(E*y+l,L*y+c,p,-Math.PI+b,b,!S)):e.moveTo(E*d+l,L*d+c),e.arc(l,c,d,b,x,!S),e.arc(I*y+l,N*y+c,p,x-Math.PI*2,x-Math.PI,!S),f!==0&&e.arc(l,c,f,x,b,S)},r}(Sr),wv=H4;function RP(n,r){r=r||{};var e=r.isRoundCap;return function(o,l,c){var f=l.position;if(!f||f instanceof Array)return fO(o,l,c);var d=n(f),p=l.distance!=null?l.distance:5,y=this.shape,b=y.cx,x=y.cy,S=y.r,T=y.r0,A=(S+T)/2,E=y.startAngle,L=y.endAngle,I=(E+L)/2,N=e?Math.abs(S-T)/2:0,F=Math.cos,W=Math.sin,X=b+S*F(E),$=x+S*W(E),K="left",et="top";switch(d){case"startArc":X=b+(T-p)*F(I),$=x+(T-p)*W(I),K="center",et="top";break;case"insideStartArc":X=b+(T+p)*F(I),$=x+(T+p)*W(I),K="center",et="bottom";break;case"startAngle":X=b+A*F(E)+OS(E,p+N,!1),$=x+A*W(E)+AS(E,p+N,!1),K="right",et="middle";break;case"insideStartAngle":X=b+A*F(E)+OS(E,-p+N,!1),$=x+A*W(E)+AS(E,-p+N,!1),K="left",et="middle";break;case"middle":X=b+A*F(I),$=x+A*W(I),K="center",et="middle";break;case"endArc":X=b+(S+p)*F(I),$=x+(S+p)*W(I),K="center",et="bottom";break;case"insideEndArc":X=b+(S-p)*F(I),$=x+(S-p)*W(I),K="center",et="top";break;case"endAngle":X=b+A*F(L)+OS(L,p+N,!0),$=x+A*W(L)+AS(L,p+N,!0),K="left",et="middle";break;case"insideEndAngle":X=b+A*F(L)+OS(L,-p+N,!0),$=x+A*W(L)+AS(L,-p+N,!0),K="right",et="middle";break;default:return fO(o,l,c)}return o=o||{},o.x=X,o.y=$,o.align=K,o.verticalAlign=et,o}}function r1(n,r,e,o){if(qe(o)){n.setTextConfig({rotation:o});return}else if(Ut(r)){n.setTextConfig({rotation:0});return}var l=n.shape,c=l.clockwise?l.startAngle:l.endAngle,f=l.clockwise?l.endAngle:l.startAngle,d=(c+f)/2,p,y=e(r);switch(y){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":p=d;break;case"startAngle":case"insideStartAngle":p=c;break;case"endAngle":case"insideEndAngle":p=f;break;default:n.setTextConfig({rotation:0});return}var b=Math.PI*1.5-p;y==="middle"&&b>Math.PI/2&&b<Math.PI*1.5&&(b-=Math.PI),n.setTextConfig({rotation:b})}function OS(n,r,e){return r*Math.sin(n)*(e?-1:1)}function AS(n,r,e){return r*Math.cos(n)*(e?1:-1)}function Ns(n,r,e){var o=n.get("borderRadius");if(o==null)return e?{cornerRadius:0}:null;Ut(o)||(o=[o,o,o,o]);var l=Math.abs(r.r||0-r.r0||0);return{cornerRadius:Gt(o,function(c){return Bl(c,l)})}}var CS=Math.max,PS=Math.min;function Y4(n,r){var e=n.getArea&&n.getArea();if(Qu(n,"cartesian2d")){var o=n.getBaseAxis();if(o.type!=="category"||!o.onBand){var l=r.getLayout("bandWidth");o.isHorizontal()?(e.x-=l,e.width+=l*2):(e.y-=l,e.height+=l*2)}}return e}var U4=function(n){Ot(r,n);function r(){var e=n.call(this)||this;return e.type=r.type,e._isFirstFrame=!0,e}return r.prototype.render=function(e,o,l,c){this._model=e,this._removeOnRenderedListener(l),this._updateDrawMode(e);var f=e.get("coordinateSystem");(f==="cartesian2d"||f==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,o,l):this._renderNormal(e,o,l,c))},r.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},r.prototype.incrementalRender=function(e,o){this._progressiveEls=[],this._incrementalRenderLarge(e,o)},r.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},r.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},r.prototype._renderNormal=function(e,o,l,c){var f=this.group,d=e.getData(),p=this._data,y=e.coordinateSystem,b=y.getBaseAxis(),x;y.type==="cartesian2d"?x=b.isHorizontal():y.type==="polar"&&(x=b.dim==="angle");var S=e.isAnimationEnabled()?e:null,T=lU(e,y);T&&this._enableRealtimeSort(T,d,l);var A=e.get("clip",!0)||T,E=Y4(y,d);f.removeClipPath();var L=e.get("roundCap",!0),I=e.get("showBackground",!0),N=e.getModel("backgroundStyle"),F=N.get("borderRadius")||0,W=[],X=this._backgroundEls,$=c&&c.isInitSort,K=c&&c.type==="changeAxisOrder";function et(ht){var yt=ES[y.type](d,ht);if(!yt)return null;var vt=cnt(y,x,yt);return vt.useStyle(N.getItemStyle()),y.type==="cartesian2d"?vt.setShape("r",F):vt.setShape("cornerRadius",F),W[ht]=vt,vt}d.diff(p).add(function(ht){var yt=d.getItemModel(ht),vt=ES[y.type](d,ht,yt);if(vt&&(I&&et(ht),!(!d.hasValue(ht)||!Z4[y.type](vt)))){var bt=!1;A&&(bt=X4[y.type](E,vt));var Mt=$4[y.type](e,d,ht,vt,x,S,b.model,!1,L);T&&(Mt.forceLabelAnimation=!0),J4(Mt,d,ht,yt,vt,e,x,y.type==="polar"),$?Mt.attr({shape:vt}):T?q4(T,S,Mt,vt,ht,x,!1,!1):ni(Mt,{shape:vt},e,ht),d.setItemGraphicEl(ht,Mt),f.add(Mt),Mt.ignore=bt}}).update(function(ht,yt){var vt=d.getItemModel(ht),bt=ES[y.type](d,ht,vt);if(bt){if(I){var Mt=void 0;X.length===0?Mt=et(yt):(Mt=X[yt],Mt.useStyle(N.getItemStyle()),y.type==="cartesian2d"?Mt.setShape("r",F):Mt.setShape("cornerRadius",F),W[ht]=Mt);var St=ES[y.type](d,ht),Pt=DS(x,St,y);Qr(Mt,{shape:Pt},S,ht)}var Et=p.getItemGraphicEl(yt);if(!d.hasValue(ht)||!Z4[y.type](bt)){f.remove(Et);return}var Lt=!1;A&&(Lt=X4[y.type](E,bt),Lt&&f.remove(Et));var zt=Et&&(Et.type==="sector"&&L||Et.type==="sausage"&&!L);if(zt&&(Et&&Ki(Et,e,yt),Et=null),Et?Ha(Et):Et=$4[y.type](e,d,ht,bt,x,S,b.model,!0,L),T&&(Et.forceLabelAnimation=!0),K){var Ht=Et.getTextContent();if(Ht){var qt=Bp(Ht);qt.prevValue!=null&&(qt.prevValue=qt.value)}}else J4(Et,d,ht,vt,bt,e,x,y.type==="polar");$?Et.attr({shape:bt}):T?q4(T,S,Et,bt,ht,x,!0,K):Qr(Et,{shape:bt},e,ht,null),d.setItemGraphicEl(ht,Et),Et.ignore=Lt,f.add(Et)}}).remove(function(ht){var yt=p.getItemGraphicEl(ht);yt&&Ki(yt,e,ht)}).execute();var at=this._backgroundGroup||(this._backgroundGroup=new Ye);at.removeAll();for(var ot=0;ot<W.length;++ot)at.add(W[ot]);f.add(at),this._backgroundEls=W,this._data=d},r.prototype._renderLarge=function(e,o,l){this._clear(),kS(e,this.group),this._updateLargeClip(e)},r.prototype._incrementalRenderLarge=function(e,o){this._removeBackground(),kS(o,this.group,this._progressiveEls,!0)},r.prototype._updateLargeClip=function(e){var o=e.get("clip",!0)&&Kc(e.coordinateSystem,!1,e),l=this.group;o?l.setClipPath(o):l.removeClipPath()},r.prototype._enableRealtimeSort=function(e,o,l){var c=this;if(o.count()){var f=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,e,l),this._isFirstFrame=!1;else{var d=function(p){var y=o.getItemGraphicEl(p),b=y&&y.shape;return b&&Math.abs(f.isHorizontal()?b.height:b.width)||0};this._onRendered=function(){c._updateSortWithinSameData(o,d,f,l)},l.getZr().on("rendered",this._onRendered)}}},r.prototype._dataSort=function(e,o,l){var c=[];return e.each(e.mapDimension(o.dim),function(f,d){var p=l(d);p=p==null?NaN:p,c.push({dataIndex:d,mappedValue:p,ordinalNumber:f})}),c.sort(function(f,d){return d.mappedValue-f.mappedValue}),{ordinalNumbers:Gt(c,function(f){return f.ordinalNumber})}},r.prototype._isOrderChangedWithinSameData=function(e,o,l){for(var c=l.scale,f=e.mapDimension(l.dim),d=Number.MAX_VALUE,p=0,y=c.getOrdinalMeta().categories.length;p<y;++p){var b=e.rawIndexOf(f,c.getRawOrdinalNumber(p)),x=b<0?Number.MIN_VALUE:o(e.indexOfRawIndex(b));if(x>d)return!0;d=x}return!1},r.prototype._isOrderDifferentInView=function(e,o){for(var l=o.scale,c=l.getExtent(),f=Math.max(0,c[0]),d=Math.min(c[1],l.getOrdinalMeta().categories.length-1);f<=d;++f)if(e.ordinalNumbers[f]!==l.getRawOrdinalNumber(f))return!0},r.prototype._updateSortWithinSameData=function(e,o,l,c){if(this._isOrderChangedWithinSameData(e,o,l)){var f=this._dataSort(e,l,o);this._isOrderDifferentInView(f,l)&&(this._removeOnRenderedListener(c),c.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",axisId:l.index,sortInfo:f}))}},r.prototype._dispatchInitSort=function(e,o,l){var c=o.baseAxis,f=this._dataSort(e,c,function(d){return e.get(e.mapDimension(o.otherAxis.dim),d)});l.dispatchAction({type:"changeAxisOrder",componentType:c.dim+"Axis",isInitSort:!0,axisId:c.index,sortInfo:f})},r.prototype.remove=function(e,o){this._clear(this._model),this._removeOnRenderedListener(o)},r.prototype.dispose=function(e,o){this._removeOnRenderedListener(o)},r.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},r.prototype._clear=function(e){var o=this.group,l=this._data;e&&e.isAnimationEnabled()&&l&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],l.eachItemGraphicEl(function(c){Ki(c,e,nr(c).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},r.type="bar",r}(Hn),X4={cartesian2d:function(n,r){var e=r.width<0?-1:1,o=r.height<0?-1:1;e<0&&(r.x+=r.width,r.width=-r.width),o<0&&(r.y+=r.height,r.height=-r.height);var l=n.x+n.width,c=n.y+n.height,f=CS(r.x,n.x),d=PS(r.x+r.width,l),p=CS(r.y,n.y),y=PS(r.y+r.height,c),b=d<f,x=y<p;return r.x=b&&f>l?d:f,r.y=x&&p>c?y:p,r.width=b?0:d-f,r.height=x?0:y-p,e<0&&(r.x+=r.width,r.width=-r.width),o<0&&(r.y+=r.height,r.height=-r.height),b||x},polar:function(n,r){var e=r.r0<=r.r?1:-1;if(e<0){var o=r.r;r.r=r.r0,r.r0=o}var l=PS(r.r,n.r),c=CS(r.r0,n.r0);r.r=l,r.r0=c;var f=l-c<0;if(e<0){var o=r.r;r.r=r.r0,r.r0=o}return f}},$4={cartesian2d:function(n,r,e,o,l,c,f,d,p){var y=new kr({shape:Wt({},o),z2:1});if(y.__dataIndex=e,y.name="item",c){var b=y.shape,x=l?"height":"width";b[x]=0}return y},polar:function(n,r,e,o,l,c,f,d,p){var y=!l&&p?wv:uo,b=new y({shape:o,z2:1});b.name="item";var x=Q4(l);if(b.calculateTextPosition=RP(x,{isRoundCap:y===wv}),c){var S=b.shape,T=l?"r":"endAngle",A={};S[T]=l?o.r0:o.startAngle,A[T]=o[T],(d?Qr:ni)(b,{shape:A},c)}return b}};function lU(n,r){var e=n.get("realtimeSort",!0),o=r.getBaseAxis();if(e&&o.type==="category"&&r.type==="cartesian2d")return{baseAxis:o,otherAxis:r.getOtherAxis(o)}}function q4(n,r,e,o,l,c,f,d){var p,y;c?(y={x:o.x,width:o.width},p={y:o.y,height:o.height}):(y={y:o.y,height:o.height},p={x:o.x,width:o.width}),d||(f?Qr:ni)(e,{shape:p},r,l,null);var b=r?n.baseAxis.model:null;(f?Qr:ni)(e,{shape:y},b,l)}function NP(n,r){for(var e=0;e<r.length;e++)if(!isFinite(n[r[e]]))return!0;return!1}var uU=["x","y","width","height"],cU=["cx","cy","r","startAngle","endAngle"],Z4={cartesian2d:function(n){return!NP(n,uU)},polar:function(n){return!NP(n,cU)}},ES={cartesian2d:function(n,r,e){var o=n.getItemLayout(r);if(!o)return null;var l=e?fU(e,o):0,c=o.width>0?1:-1,f=o.height>0?1:-1;return{x:o.x+c*l/2,y:o.y+f*l/2,width:o.width-c*l,height:o.height-f*l}},polar:function(n,r,e){var o=n.getItemLayout(r);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function K4(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function Q4(n){return function(r){var e=r?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+e;default:return o}}}(n)}function J4(n,r,e,o,l,c,f,d){var p=r.getItemVisual(e,"style");if(d){if(!c.get("roundCap")){var b=n.shape,x=Ns(o.getModel("itemStyle"),b,!0);Wt(b,x),n.setShape(b)}}else{var y=o.get(["itemStyle","borderRadius"])||0;n.setShape("r",y)}n.useStyle(p);var S=o.getShallow("cursor");S&&n.attr("cursor",S);var T=d?f?l.r>=l.r0?"endArc":"startArc":l.endAngle>=l.startAngle?"endAngle":"startAngle":f?l.height>=0?"bottom":"top":l.width>=0?"right":"left",A=ga(o);Da(n,A,{labelFetcher:c,labelDataIndex:e,defaultText:xh(c.getData(),e),inheritColor:p.fill,defaultOpacity:p.opacity,defaultOutsidePosition:T});var E=n.getTextContent();if(d&&E){var L=o.get(["label","position"]);n.textConfig.inside=L==="middle"?!0:null,r1(n,L==="outside"?T:L,Q4(f),o.get(["label","rotate"]))}TN(E,A,c.getRawValue(e),function(N){return JY(r,N)});var I=o.getModel(["emphasis"]);ri(n,I.get("focus"),I.get("blurScope"),I.get("disabled")),pa(n,o),K4(l)&&(n.style.fill="none",n.style.stroke="none",it(n.states,function(N){N.style&&(N.style.fill=N.style.stroke="none")}))}function fU(n,r){var e=n.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var o=n.get(["itemStyle","borderWidth"])||0,l=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),c=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height);return Math.min(o,l,c)}var fo=function(){function n(){}return n}(),tz=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="largeBar",o}return r.prototype.getDefaultShape=function(){return new fo},r.prototype.buildPath=function(e,o){for(var l=o.points,c=this.baseDimIdx,f=1-this.baseDimIdx,d=[],p=[],y=this.barWidth,b=0;b<l.length;b+=3)p[c]=y,p[f]=l[b+2],d[c]=l[b+c],d[f]=l[b+f],e.rect(d[0],d[1],p[0],p[1])},r}(Sr);function kS(n,r,e,o){var l=n.getData(),c=l.getLayout("valueAxisHorizontal")?1:0,f=l.getLayout("largeDataIndices"),d=l.getLayout("size"),p=n.getModel("backgroundStyle"),y=l.getLayout("largeBackgroundPoints");if(y){var b=new tz({shape:{points:y},incremental:!!o,silent:!0,z2:0});b.baseDimIdx=c,b.largeDataIndices=f,b.barWidth=d,b.useStyle(p.getItemStyle()),r.add(b),e&&e.push(b)}var x=new tz({shape:{points:l.getLayout("largePoints")},incremental:!!o,ignoreCoarsePointer:!0,z2:1});x.baseDimIdx=c,x.largeDataIndices=f,x.barWidth=d,r.add(x),x.useStyle(l.getVisual("style")),x.style.stroke=null,nr(x).seriesIndex=n.seriesIndex,n.get("silent")||(x.on("mousedown",ez),x.on("mousemove",ez)),e&&e.push(x)}var ez=u3(function(n){var r=this,e=LS(r,n.offsetX,n.offsetY);nr(r).dataIndex=e>=0?e:null},30,!1);function LS(n,r,e){for(var o=n.baseDimIdx,l=1-o,c=n.shape.points,f=n.largeDataIndices,d=[],p=[],y=n.barWidth,b=0,x=c.length/3;b<x;b++){var S=b*3;if(p[o]=y,p[l]=c[S+2],d[o]=c[S+o],d[l]=c[S+l],p[l]<0&&(d[l]+=p[l],p[l]=-p[l]),r>=d[0]&&r<=d[0]+p[0]&&e>=d[1]&&e<=d[1]+p[1])return f[b]}return-1}function DS(n,r,e){if(Qu(e,"cartesian2d")){var o=r,l=e.getArea();return{x:n?o.x:l.x,y:n?l.y:o.y,width:n?o.width:l.width,height:n?l.height:o.height}}else{var l=e.getArea(),c=r;return{cx:l.cx,cy:l.cy,r0:n?l.r0:c.r0,r:n?l.r:c.r,startAngle:n?c.startAngle:0,endAngle:n?c.endAngle:Math.PI*2}}}function cnt(n,r,e){var o=n.type==="polar"?uo:kr;return new o({shape:DS(r,e,n),silent:!0,z2:0})}var hU=U4;function rz(n){n.registerChartView(hU),n.registerSeriesModel(unt),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,hr(j4,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,V4("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,_v("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(r,e){var o=r.componentType||"series";e.eachComponent({mainType:o,query:r},function(l){r.sortInfo&&l.axis.setCategorySortInfo(r.sortInfo)})})}var BP=Math.PI*2,n1=Math.PI/180;function zP(n,r,e){r.eachSeriesByType(n,function(o){var l=o.getData(),c=l.mapDimension("value"),f=GN(o,e),d=f.cx,p=f.cy,y=f.r,b=f.r0,x=f.viewRect,S=-o.get("startAngle")*n1,T=o.get("endAngle"),A=o.get("padAngle")*n1;T=T==="auto"?S-BP:-T*n1;var E=o.get("minAngle")*n1,L=E+A,I=0;l.each(c,function(Pt){!isNaN(Pt)&&I++});var N=l.getSum(c),F=Math.PI/(N||I)*2,W=o.get("clockwise"),X=o.get("roseType"),$=o.get("stillShowZeroSum"),K=l.getDataExtent(c);K[0]=0;var et=W?1:-1,at=[S,T],ot=et*A/2;Xf(at,!W),S=at[0],T=at[1];var ht=nz(o);ht.startAngle=S,ht.endAngle=T,ht.clockwise=W,ht.cx=d,ht.cy=p,ht.r=y,ht.r0=b;var yt=Math.abs(T-S),vt=yt,bt=0,Mt=S;if(l.setLayout({viewRect:x,r:y}),l.each(c,function(Pt,Et){var Lt;if(isNaN(Pt)){l.setItemLayout(Et,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:W,cx:d,cy:p,r0:b,r:X?NaN:y});return}X!=="area"?Lt=N===0&&$?F:Pt*F:Lt=yt/I,Lt<L?(Lt=L,vt-=L):bt+=Pt;var zt=Mt+et*Lt,Ht=0,qt=0;A>Lt?(Ht=Mt+et*Lt/2,qt=Ht):(Ht=Mt+ot,qt=zt-ot),l.setItemLayout(Et,{angle:Lt,startAngle:Ht,endAngle:qt,clockwise:W,cx:d,cy:p,r0:b,r:X?vn(Pt,K,[b,y]):y}),Mt=zt}),vt<BP&&I)if(vt<=.001){var St=yt/I;l.each(c,function(Pt,Et){if(!isNaN(Pt)){var Lt=l.getItemLayout(Et);Lt.angle=St;var zt=0,Ht=0;St<A?(zt=S+et*(Et+1/2)*St,Ht=zt):(zt=S+et*Et*St+ot,Ht=S+et*(Et+1)*St-ot),Lt.startAngle=zt,Lt.endAngle=Ht}})}else F=vt/bt,Mt=S,l.each(c,function(Pt,Et){if(!isNaN(Pt)){var Lt=l.getItemLayout(Et),zt=Lt.angle===L?L:Pt*F,Ht=0,qt=0;zt<A?(Ht=Mt+et*zt/2,qt=Ht):(Ht=Mt+ot,qt=Mt+et*zt-ot),Lt.startAngle=Ht,Lt.endAngle=qt,Mt+=et*zt}})})}var nz=br();function Pg(n){return{seriesType:n,reset:function(r,e){var o=e.findComponents({mainType:"legend"});if(!(!o||!o.length)){var l=r.getData();l.filterSelf(function(c){for(var f=l.getName(c),d=0;d<o.length;d++)if(!o[d].isSelected(f))return!1;return!0})}}}}var iz=Math.PI/180;function FP(n,r,e,o,l,c,f,d,p,y){if(n.length<2)return;function b(E){for(var L=E.rB,I=L*L,N=0;N<E.list.length;N++){var F=E.list[N],W=Math.abs(F.label.y-e),X=o+F.len,$=X*X,K=Math.sqrt(Math.abs((1-W*W/I)*$)),et=r+(K+F.len2)*l,at=et-F.label.x,ot=F.targetTextWidth-at*l;IS(F,ot,!0),F.label.x=et}}function x(E){for(var L={list:[],maxY:0},I={list:[],maxY:0},N=0;N<E.length;N++)if(E[N].labelAlignTo==="none"){var F=E[N],W=F.label.y>e?I:L,X=Math.abs(F.label.y-e);if(X>=W.maxY){var $=F.label.x-r-F.len2*l,K=o+F.len,et=Math.abs($)<K?Math.sqrt(X*X/(1-$*$/K/K)):K;W.rB=et,W.maxY=X}W.list.push(F)}b(L),b(I)}for(var S=n.length,T=0;T<S;T++)if(n[T].position==="outer"&&n[T].labelAlignTo==="labelLine"){var A=n[T].label.x-y;n[T].linePoints[1][0]+=A,n[T].label.x=y}tP(n,1,p,p+f)&&x(n)}function ho(n,r,e,o,l,c,f,d){for(var p=[],y=[],b=Number.MAX_VALUE,x=-Number.MAX_VALUE,S=0;S<n.length;S++){var T=n[S].label;jP(n[S])||(T.x<r?(b=Math.min(b,T.x),p.push(n[S])):(x=Math.max(x,T.x),y.push(n[S])))}for(var S=0;S<n.length;S++){var A=n[S];if(!jP(A)&&A.linePoints){if(A.labelStyleWidth!=null)continue;var T=A.label,E=A.linePoints,L=void 0;A.labelAlignTo==="edge"?T.x<r?L=E[2][0]-A.labelDistance-f-A.edgeDistance:L=f+l-A.edgeDistance-E[2][0]-A.labelDistance:A.labelAlignTo==="labelLine"?T.x<r?L=b-f-A.bleedMargin:L=f+l-x-A.bleedMargin:T.x<r?L=T.x-f-A.bleedMargin:L=f+l-T.x-A.bleedMargin,A.targetTextWidth=L,IS(A,L,!1)}}FP(y,r,e,o,1,l,c,f,d,x),FP(p,r,e,o,-1,l,c,f,d,b);for(var S=0;S<n.length;S++){var A=n[S];if(!jP(A)&&A.linePoints){var T=A.label,E=A.linePoints,I=A.labelAlignTo==="edge",N=T.style.padding,F=N?N[1]+N[3]:0,W=T.style.backgroundColor?0:F,X=A.rect.width+W,$=E[1][0]-E[2][0];I?T.x<r?E[2][0]=f+A.edgeDistance+X+A.labelDistance:E[2][0]=f+l-A.edgeDistance-X-A.labelDistance:(T.x<r?E[2][0]=T.x+A.labelDistance:E[2][0]=T.x-A.labelDistance,E[1][0]=E[2][0]+$),E[1][1]=E[2][1]=T.y}}}function IS(n,r,e){if(n.labelStyleWidth==null){var o=n.label,l=o.style,c=n.rect,f=l.backgroundColor,d=l.padding,p=d?d[1]+d[3]:0,y=l.overflow,b=c.width+(f?0:p);if(r<b||e){if(y&&y.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",r-p);var x=o.getBoundingRect();o.setStyle("width",Math.ceil(x.width)),o.setStyle("backgroundColor",f)}else{var S=r-p,T=r<b?S:e?S>n.unconstrainedWidth?null:S:null;o.setStyle("width",T)}i1(c,o)}}}function i1(n,r){Eg.rect=n,JC(Eg,r,a1)}var a1={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},Eg={};function jP(n){return n.position==="center"}function dU(n){var r=n.getData(),e=[],o,l,c=!1,f=(n.get("minShowLabelAngle")||0)*iz,d=r.getLayout("viewRect"),p=r.getLayout("r"),y=d.width,b=d.x,x=d.y,S=d.height;function T($){$.ignore=!0}function A($){if(!$.ignore)return!0;for(var K in $.states)if($.states[K].ignore===!1)return!0;return!1}r.each(function($){var K=r.getItemGraphicEl($),et=K.shape,at=K.getTextContent(),ot=K.getTextGuideLine(),ht=r.getItemModel($),yt=ht.getModel("label"),vt=yt.get("position")||ht.get(["emphasis","label","position"]),bt=yt.get("distanceToLabelLine"),Mt=yt.get("alignTo"),St=de(yt.get("edgeDistance"),y),Pt=yt.get("bleedMargin");Pt==null&&(Pt=Math.min(y,S)>200?10:2);var Et=ht.getModel("labelLine"),Lt=Et.get("length");Lt=de(Lt,y);var zt=Et.get("length2");if(zt=de(zt,y),Math.abs(et.endAngle-et.startAngle)<f){it(at.states,T),at.ignore=!0,ot&&(it(ot.states,T),ot.ignore=!0);return}if(A(at)){var Ht=(et.startAngle+et.endAngle)/2,qt=Math.cos(Ht),ne=Math.sin(Ht),Ce,Qe,jr,wn;o=et.cx,l=et.cy;var dr=vt==="inside"||vt==="inner";if(vt==="center")Ce=et.cx,Qe=et.cy,wn="center";else{var Ge=(dr?(et.r+et.r0)/2*qt:et.r*qt)+o,Mr=(dr?(et.r+et.r0)/2*ne:et.r*ne)+l;if(Ce=Ge+qt*3,Qe=Mr+ne*3,!dr){var Pe=Ge+qt*(Lt+p-et.r),fr=Mr+ne*(Lt+p-et.r),_n=Pe+(qt<0?-1:1)*zt,Xr=fr;Mt==="edge"?Ce=qt<0?b+St:b+y-St:Ce=_n+(qt<0?-bt:bt),Qe=Xr,jr=[[Ge,Mr],[Pe,fr],[_n,Xr]]}wn=dr?"center":Mt==="edge"?qt>0?"right":"left":qt>0?"left":"right"}var xn=Math.PI,kn=0,wa=yt.get("rotate");if(qe(wa))kn=wa*(xn/180);else if(vt==="center")kn=0;else if(wa==="radial"||wa===!0){var Us=qt<0?-Ht+xn:-Ht;kn=Us}else if(wa==="tangential"&&vt!=="outside"&&vt!=="outer"){var hs=Math.atan2(qt,ne);hs<0&&(hs=xn*2+hs);var fd=ne>0;fd&&(hs=xn+hs),kn=hs-xn}if(c=!!kn,at.x=Ce,at.y=Qe,at.rotation=kn,at.setStyle({verticalAlign:"middle"}),dr){at.setStyle({align:wn});var kI=at.states.select;kI&&(kI.x+=at.x,kI.y+=at.y)}else{var $y=new Je(0,0,0,0);i1($y,at),e.push({label:at,labelLine:ot,position:vt,len:Lt,len2:zt,minTurnAngle:Et.get("minTurnAngle"),maxSurfaceAngle:Et.get("maxSurfaceAngle"),surfaceNormal:new Ke(qt,ne),linePoints:jr,textAlign:wn,labelDistance:bt,labelAlignTo:Mt,edgeDistance:St,bleedMargin:Pt,rect:$y,unconstrainedWidth:$y.width,labelStyleWidth:at.style.width})}K.setTextConfig({inside:dr})}}),!c&&n.get("avoidLabelOverlap")&&ho(e,o,l,p,y,S,b,x);for(var E=0;E<e.length;E++){var L=e[E],I=L.label,N=L.labelLine,F=isNaN(I.x)||isNaN(I.y);if(I){I.setStyle({align:L.textAlign}),F&&(it(I.states,T),I.ignore=!0);var W=I.states.select;W&&(W.x+=I.x,W.y+=I.y)}if(N){var X=L.linePoints;F||!X?(it(N.states,T),N.ignore=!0):(OB(X,L.minTurnAngle),AB(X,L.surfaceNormal,L.maxSurfaceAngle),N.setShape({points:X}),I.__hostTarget.textGuideLineConfig={anchor:new Ke(X[0][0],X[0][1])})}}}var vU=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this)||this;c.z2=2;var f=new Hr;return c.setTextContent(f),c.updateData(e,o,l,!0),c}return r.prototype.updateData=function(e,o,l,c){var f=this,d=e.hostModel,p=e.getItemModel(o),y=p.getModel("emphasis"),b=e.getItemLayout(o),x=Wt(Ns(p.getModel("itemStyle"),b,!0),b);if(isNaN(x.startAngle)){f.setShape(x);return}if(c){f.setShape(x);var S=d.getShallow("animationType");d.ecModel.ssr?(ni(f,{scaleX:0,scaleY:0},d,{dataIndex:o,isFrom:!0}),f.originX=x.cx,f.originY=x.cy):S==="scale"?(f.shape.r=b.r0,ni(f,{shape:{r:b.r}},d,o)):l!=null?(f.setShape({startAngle:l,endAngle:l}),ni(f,{shape:{startAngle:b.startAngle,endAngle:b.endAngle}},d,o)):(f.shape.endAngle=b.startAngle,Qr(f,{shape:{endAngle:b.endAngle}},d,o))}else Ha(f),Qr(f,{shape:x},d,o);f.useStyle(e.getItemVisual(o,"style")),pa(f,p);var T=(b.startAngle+b.endAngle)/2,A=d.get("selectedOffset"),E=Math.cos(T)*A,L=Math.sin(T)*A,I=p.getShallow("cursor");I&&f.attr("cursor",I),this._updateLabel(d,e,o),f.ensureState("emphasis").shape=Wt({r:b.r+(y.get("scale")&&y.get("scaleSize")||0)},Ns(y.getModel("itemStyle"),b)),Wt(f.ensureState("select"),{x:E,y:L,shape:Ns(p.getModel(["select","itemStyle"]),b)}),Wt(f.ensureState("blur"),{shape:Ns(p.getModel(["blur","itemStyle"]),b)});var N=f.getTextGuideLine(),F=f.getTextContent();N&&Wt(N.ensureState("select"),{x:E,y:L}),Wt(F.ensureState("select"),{x:E,y:L}),ri(this,y.get("focus"),y.get("blurScope"),y.get("disabled"))},r.prototype._updateLabel=function(e,o,l){var c=this,f=o.getItemModel(l),d=f.getModel("labelLine"),p=o.getItemVisual(l,"style"),y=p&&p.fill,b=p&&p.opacity;Da(c,ga(f),{labelFetcher:o.hostModel,labelDataIndex:l,inheritColor:y,defaultOpacity:b,defaultText:e.getFormattedLabel(l,"normal")||o.getName(l)});var x=c.getTextContent();c.setTextConfig({position:null,rotation:null}),x.attr({z2:10});var S=f.get(["label","position"]);if(S!=="outside"&&S!=="outer")c.removeTextGuideLine();else{var T=this.getTextGuideLine();T||(T=new Xa,this.setTextGuideLine(T)),Kw(this,Qw(f),{stroke:y,opacity:Ui(d.get(["lineStyle","opacity"]),b,1)})}},r}(uo),pU=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return r.prototype.render=function(e,o,l,c){var f=e.getData(),d=this._data,p=this.group,y;if(!d&&f.count()>0){for(var b=f.getItemLayout(0),x=1;isNaN(b&&b.startAngle)&&x<f.count();++x)b=f.getItemLayout(x);b&&(y=b.startAngle)}if(this._emptyCircleSector&&p.remove(this._emptyCircleSector),f.count()===0&&e.get("showEmptyCircle")){var S=nz(e),T=new uo({shape:Ne(S)});T.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=T,p.add(T)}f.diff(d).add(function(A){var E=new vU(f,A,y);f.setItemGraphicEl(A,E),p.add(E)}).update(function(A,E){var L=d.getItemGraphicEl(E);L.updateData(f,A,y),L.off("click"),p.add(L),f.setItemGraphicEl(A,L)}).remove(function(A){var E=d.getItemGraphicEl(A);Ki(E,e,A)}).execute(),dU(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=f)},r.prototype.dispose=function(){},r.prototype.containPoint=function(e,o){var l=o.getData(),c=l.getItemLayout(0);if(c){var f=e[0]-c.cx,d=e[1]-c.cy,p=Math.sqrt(f*f+d*d);return p<=c.r&&p>=c.r0}},r.type="pie",r}(Hn),az=pU;function Sv(n,r,e){r=Ut(r)&&{coordDimensions:r}||Wt({encodeDefine:n.getEncode()},r);var o=n.getSource(),l=bv(o,r).dimensions,c=new zo(l,n);return c.initData(o,e),c}var fnt=function(){function n(r,e){this._getDataWithEncodedVisual=r,this._getRawData=e}return n.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)},n.prototype.containName=function(r){var e=this._getRawData();return e.indexOfName(r)>=0},n.prototype.indexOfName=function(r){var e=this._getDataWithEncodedVisual();return e.indexOfName(r)},n.prototype.getItemVisual=function(r,e){var o=this._getDataWithEncodedVisual();return o.getItemVisual(r,e)},n}(),kg=fnt,gU=br(),o1=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new kg(ue(this.getData,this),ue(this.getRawData,this)),this._defaultLabelLine(e)},r.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){return Sv(this,{coordDimensions:["value"],encodeDefaulter:hr($0,this)})},r.prototype.getDataParams=function(e){var o=this.getData(),l=gU(o),c=l.seats;if(!c){var f=[];o.each(o.mapDimension("value"),function(p){f.push(p)}),c=l.seats=mO(f,o.hostModel.get("percentPrecision"))}var d=n.prototype.getDataParams.call(this,e);return d.percent=c[e]||0,d.$vars.push("percent"),d},r.prototype._defaultLabelLine=function(e){Bf(e,"labelLine",["show"]);var o=e.labelLine,l=e.emphasis.labelLine;o.show=o.show&&e.label.show,l.show=l.show&&e.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(ai);pA({fullType:o1.type,getCoord2:function(n){return n.getShallow("center")}});var VP=o1;function yU(n){return{seriesType:n,reset:function(r,e){var o=r.getData();o.filterSelf(function(l){var c=o.mapDimension("value"),f=o.get(c,l);return!(qe(f)&&!isNaN(f)&&f<0)})}}}function hnt(n){n.registerChartView(az),n.registerSeriesModel(VP),Sm("pie",n.registerAction),n.registerLayout(hr(zP,"pie")),n.registerProcessor(Pg("pie")),n.registerProcessor(yU("pie"))}var oz=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e}return r.prototype.getInitialData=function(e,o){return iu(null,this,{useEncodeDefaulter:!0})},r.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?5e3:this.get("progressive"):e},r.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?1e4:this.get("progressiveThreshold"):e},r.prototype.brushSelector=function(e,o,l){return l.point(o.getItemLayout(e))},r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},r.type="series.scatter",r.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:Rt.color.primary}},universalTransition:{divideShape:"clone"}},r}(ai),dnt=oz,sz=4,vnt=function(){function n(){}return n}(),mU=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return r.prototype.getDefaultShape=function(){return new vnt},r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.buildPath=function(e,o){var l=o.points,c=o.size,f=this.symbolProxy,d=f.shape,p=e.getContext?e.getContext():e,y=p&&c[0]<sz,b=this.softClipShape,x;if(y){this._ctx=p;return}for(this._ctx=null,x=this._off;x<l.length;){var S=l[x++],T=l[x++];isNaN(S)||isNaN(T)||b&&!b.contain(S,T)||(d.x=S-c[0]/2,d.y=T-c[1]/2,d.width=c[0],d.height=c[1],f.buildPath(e,d,!0))}this.incremental&&(this._off=x,this.notClear=!0)},r.prototype.afterBrush=function(){var e=this.shape,o=e.points,l=e.size,c=this._ctx,f=this.softClipShape,d;if(c){for(d=this._off;d<o.length;){var p=o[d++],y=o[d++];isNaN(p)||isNaN(y)||f&&!f.contain(p,y)||c.fillRect(p-l[0]/2,y-l[1]/2,l[0],l[1])}this.incremental&&(this._off=d,this.notClear=!0)}},r.prototype.findDataIndex=function(e,o){for(var l=this.shape,c=l.points,f=l.size,d=Math.max(f[0],4),p=Math.max(f[1],4),y=c.length/2-1;y>=0;y--){var b=y*2,x=c[b]-d/2,S=c[b+1]-p/2;if(e>=x&&o>=S&&e<=x+d&&o<=S+p)return y}return-1},r.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),c=this.getBoundingRect();if(e=l[0],o=l[1],c.contain(e,o)){var f=this.hoverDataIdx=this.findDataIndex(e,o);return f>=0}return this.hoverDataIdx=-1,!1},r.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape,l=o.points,c=o.size,f=c[0],d=c[1],p=1/0,y=1/0,b=-1/0,x=-1/0,S=0;S<l.length;){var T=l[S++],A=l[S++];p=Math.min(T,p),b=Math.max(T,b),y=Math.min(A,y),x=Math.max(A,x)}e=this._rect=new Je(p-f/2,y-d/2,b-p+f,x-y+d)}return e},r}(Sr),bU=function(){function n(){this.group=new Ye}return n.prototype.updateData=function(r,e){this._clear();var o=this._create();o.setShape({points:r.getLayout("points")}),this._setCommon(o,r,e)},n.prototype.updateLayout=function(r){var e=r.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var l=(o.endIndex-o.startIndex)*2,c=o.startIndex*4*2;e=new Float32Array(e.buffer,c,l)}o.setShape("points",e),o.reset()})},n.prototype.incrementalPrepareUpdate=function(r){this._clear()},n.prototype.incrementalUpdate=function(r,e,o){var l=this._newAdded[0],c=e.getLayout("points"),f=l&&l.shape.points;if(f&&f.length<2e4){var d=f.length,p=new Float32Array(d+c.length);p.set(f),p.set(c,d),l.endIndex=r.end,l.setShape({points:p})}else{this._newAdded=[];var y=this._create();y.startIndex=r.start,y.endIndex=r.end,y.incremental=!0,y.setShape({points:c}),this._setCommon(y,e,o)}},n.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},n.prototype._create=function(){var r=new mU({cursor:"default"});return r.ignoreCoarsePointer=!0,this.group.add(r),this._newAdded.push(r),r},n.prototype._setCommon=function(r,e,o){var l=e.hostModel;o=o||{};var c=e.getVisual("symbolSize");r.setShape("size",c instanceof Array?c:[c,c]),r.softClipShape=o.clipShape||null,r.symbolProxy=ia(e.getVisual("symbol"),0,0,0,0),r.setColor=r.symbolProxy.setColor;var f=r.shape.size[0]<sz;r.useStyle(l.getModel("itemStyle").getItemStyle(f?["color","shadowBlur","shadowColor"]:["color"]));var d=e.getVisual("style"),p=d&&d.fill;p&&r.setColor(p);var y=nr(r);y.seriesIndex=l.seriesIndex,r.on("mousemove",function(b){y.dataIndex=null;var x=r.hoverDataIdx;x>=0&&(y.dataIndex=x+(r.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),_U=bU,xU=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=e.getData(),f=this._updateSymbolDraw(c,e);f.updateData(c,{clipShape:this._getClipShape(e)}),this._finished=!0},r.prototype.incrementalPrepareRender=function(e,o,l){var c=e.getData(),f=this._updateSymbolDraw(c,e);f.incrementalPrepareUpdate(c),this._finished=!1},r.prototype.incrementalRender=function(e,o,l){this._symbolDraw.incrementalUpdate(e,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=e.end===o.getData().count()},r.prototype.updateTransform=function(e,o,l){var c=e.getData();if(this.group.dirty(),!this._finished||c.count()>1e4)return{update:!0};var f=Jm("").reset(e,o,l);f.progress&&f.progress({start:0,end:c.count(),count:c.count()},c),this._symbolDraw.updateLayout(c)},r.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},r.prototype._getClipShape=function(e){if(e.get("clip",!0)){var o=e.coordinateSystem;return o&&o.getArea&&o.getArea(.1)}},r.prototype._updateSymbolDraw=function(e,o){var l=this._symbolDraw,c=o.pipelineContext,f=c.large;return(!l||f!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=f?new _U:new xS,this._isLargeDraw=f,this.group.removeAll()),this.group.add(l.group),l},r.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},r.prototype.dispose=function(){},r.type="scatter",r}(Hn),wU=xU,lz={left:0,right:0,top:0,bottom:0},RS=["25%","25%"],SU=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.mergeDefaultAndTheme=function(e,o){var l=Ud(e.outerBounds);n.prototype.mergeDefaultAndTheme.apply(this,arguments),l&&e.outerBounds&&zu(e.outerBounds,l)},r.prototype.mergeOption=function(e,o){n.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&e.outerBounds&&zu(this.option.outerBounds,e.outerBounds)},r.type="grid",r.dependencies=["xAxis","yAxis"],r.layoutMode="box",r.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:lz,outerBoundsContain:"all",outerBoundsClampWidth:RS[0],outerBoundsClampHeight:RS[1],backgroundColor:Rt.color.transparent,borderWidth:1,borderColor:Rt.color.neutral30},r}(Yr),MU=SU,s1=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var r=this.option;return!r.scale},n.prototype.getCoordSysModel=function(){},n}(),GP=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",bi).models[0]},r.type="cartesian2dAxis",r}(Yr);Ln(GP,s1);var TU=null,NS={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:Rt.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:Rt.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:Rt.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[Rt.color.backgroundTint,Rt.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:Rt.color.neutral00,borderColor:Rt.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},OU=lr({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},NS),WP=lr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:Rt.color.axisMinorSplitLine,width:1}}},NS),uz=lr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},WP),AU=je({logBase:10},WP),HP={category:OU,value:WP,time:uz,log:AU},CU=0,cz=function(){function n(r){this.categories=r.categories||[],this._needCollect=r.needCollect,this._deduplication=r.deduplication,this.uid=++CU,this._onCollect=r.onCollect}return n.createByAxisModel=function(r){var e=r.option,o=e.data,l=o&&Gt(o,fz);return new n({categories:l,needCollect:!l,deduplication:e.dedplication!==!1})},n.prototype.getOrdinal=function(r){return this._getOrCreateMap().get(r)},n.prototype.parseAndCollect=function(r){var e,o=this._needCollect;if(!oe(r)&&!o)return r;if(o&&!this._deduplication)return e=this.categories.length,this.categories[e]=r,this._onCollect&&this._onCollect(r,e),e;var l=this._getOrCreateMap();return e=l.get(r),e==null&&(o?(e=this.categories.length,this.categories[e]=r,l.set(r,e),this._onCollect&&this._onCollect(r,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=ve(this.categories))},n}();function fz(n){return ce(n)&&n.value!=null?n.value:n+""}var Lg=cz,PU={value:1,category:1,time:1,log:1},BS=null;function EU(n){BS||(BS=n)}function l1(){return BS}function Dg(n,r,e,o){it(PU,function(l,c){var f=lr(lr({},HP[c],!0),o,!0),d=function(p){Ot(y,p);function y(){var b=p!==null&&p.apply(this,arguments)||this;return b.type=r+"Axis."+c,b}return y.prototype.mergeDefaultAndTheme=function(b,x){var S=el(this),T=S?Ud(b):{},A=x.getTheme();lr(b,A.get(c+"Axis")),lr(b,this.getDefaultOption()),b.type=hz(b),S&&zu(b,T,S)},y.prototype.optionUpdated=function(){var b=this.option;b.type==="category"&&(this.__ordinalMeta=Lg.createByAxisModel(this))},y.prototype.getCategories=function(b){var x=this.option;if(x.type==="category")return b?x.data:this.__ordinalMeta.categories},y.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},y.prototype.updateAxisBreaks=function(b){var x=l1();return x?x.updateModelAxisBreak(this,b):{breaks:[]}},y.type=r+"Axis."+c,y.defaultOption=f,y}(e);n.registerComponentModel(d)}),n.registerSubTypeDefaulter(r+"Axis",hz)}function hz(n){return n.type||(n.data?"category":"value")}function kU(n){var r=Math.pow(10,quantityExponent(Math.abs(n))),e=Math.abs(n/r);return e===0||e===1||e===2||e===3||e===5}function YP(n){return n.type==="interval"||n.type==="log"}function xi(n,r,e,o,l){var c={},f=c.interval=qn(r/e,!0);o!=null&&f<o&&(f=c.interval=o),l!=null&&f>l&&(f=c.interval=l);var d=c.intervalPrecision=Ig(f),p=c.niceTickExtent=[sa(Math.ceil(n[0]/f)*f,d),sa(Math.floor(n[1]/f)*f,d)];return LU(p,n),c}function dz(n){var r=Math.pow(10,_O(n)),e=n/r;return e?e===2?e=3:e===3?e=5:e*=2:e=1,sa(e*r)}function Ig(n){return Eu(n)+2}function u1(n,r,e){n[r]=Math.max(Math.min(n[r],e[1]),e[0])}function LU(n,r){!isFinite(n[0])&&(n[0]=r[0]),!isFinite(n[1])&&(n[1]=r[1]),u1(n,0,r),u1(n,1,r),n[0]>n[1]&&(n[0]=n[1])}function UP(n,r){return n>=r[0]&&n<=r[1]}var DU=function(){function n(){this.normalize=XP,this.scale=vz}return n.prototype.updateMethods=function(r){r.hasBreaks()?(this.normalize=ue(r.normalize,r),this.scale=ue(r.scale,r)):(this.normalize=XP,this.scale=vz)},n}();function XP(n,r){return r[1]===r[0]?.5:(n-r[0])/(r[1]-r[0])}function vz(n,r){return n*(r[1]-r[0])+r[0]}function $P(n,r,e){var o=Math.log(n);return[Math.log(e?r[0]:Math.max(0,r[0]))/o,Math.log(e?r[1]:Math.max(0,r[1]))/o]}var qP=function(){function n(r){this._calculator=new DU,this._setting=r||{},this._extent=[1/0,-1/0];var e=la();e&&(this._brkCtx=e.createScaleBreakContext(),this._brkCtx.update(this._extent))}return n.prototype.getSetting=function(r){return this._setting[r]},n.prototype._innerUnionExtent=function(r){var e=this._extent;this._innerSetExtent(r[0]<e[0]?r[0]:e[0],r[1]>e[1]?r[1]:e[1])},n.prototype.unionExtentFromData=function(r,e){this._innerUnionExtent(r.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(r,e){this._innerSetExtent(r,e)},n.prototype._innerSetExtent=function(r,e){var o=this._extent;isNaN(r)||(o[0]=r),isNaN(e)||(o[1]=e),this._brkCtx&&this._brkCtx.update(o)},n.prototype.setBreaksFromOption=function(r){var e=la();e&&this._innerSetBreak(e.parseAxisBreakOption(r,ue(this.parse,this)))},n.prototype._innerSetBreak=function(r){this._brkCtx&&(this._brkCtx.setBreaks(r),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},n.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},n.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},n.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},n.prototype.isInExtentRange=function(r){return this._extent[0]<=r&&this._extent[1]>=r},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(r){this._isBlank=r},n}();Ff(qP);var Mv=qP,ZP=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;o.type="ordinal";var l=o.getSetting("ordinalMeta");return l||(l=new Lg({})),Ut(l)&&(l=new Lg({categories:Gt(l,function(c){return ce(c)?c.value:c})})),o._ordinalMeta=l,o._extent=o.getSetting("extent")||[0,l.categories.length-1],o}return r.prototype.parse=function(e){return e==null?NaN:oe(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},r.prototype.contain=function(e){return UP(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},r.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},r.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},r.prototype.getTicks=function(){for(var e=[],o=this._extent,l=o[0];l<=o[1];)e.push({value:l}),l++;return e},r.prototype.getMinorTicks=function(e){},r.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=e.ordinalNumbers,l=this._ordinalNumbersByTick=[],c=this._ticksByOrdinalNumber=[],f=0,d=this._ordinalMeta.categories.length,p=Math.min(d,o.length);f<p;++f){var y=o[f];l[f]=y,c[y]=f}for(var b=0;f<d;++f){for(;c[b]!=null;)b++;l.push(b),c[b]=f}},r.prototype._getTickNumber=function(e){var o=this._ticksByOrdinalNumber;return o&&e>=0&&e<o.length?o[e]:e},r.prototype.getRawOrdinalNumber=function(e){var o=this._ordinalNumbersByTick;return o&&e>=0&&e<o.length?o[e]:e},r.prototype.getLabel=function(e){if(!this.isBlank()){var o=this.getRawOrdinalNumber(e.value),l=this._ordinalMeta.categories[o];return l==null?"":l+""}},r.prototype.count=function(){return this._extent[1]-this._extent[0]+1},r.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r.prototype.calcNiceTicks=function(){},r.prototype.calcNiceExtent=function(){},r.type="ordinal",r}(Mv);Mv.registerClass(ZP);var Tv=ZP,Ah=sa,zS=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return r.prototype.parse=function(e){return e==null||e===""?NaN:Number(e)},r.prototype.contain=function(e){return UP(e,this._extent)},r.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},r.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},r.prototype.getInterval=function(){return this._interval},r.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ig(e)},r.prototype.getTicks=function(e){e=e||{};var o=this._interval,l=this._extent,c=this._niceExtent,f=this._intervalPrecision,d=la(),p=[];if(!o)return p;if(e.breakTicks==="only_break"&&d)return d.addBreaksToTicks(p,this._brkCtx.breaks,this._extent),p;var y=1e4;l[0]<c[0]&&(e.expandToNicedExtent?p.push({value:Ah(c[0]-o,f)}):p.push({value:l[0]}));for(var b=function(A,E){return Math.round((E-A)/o)},x=c[0];x<=c[1];){if(p.push({value:x}),x=Ah(x+o,f),this._brkCtx){var S=this._brkCtx.calcNiceTickMultiple(x,b);S>=0&&(x=Ah(x+S*o,f))}if(p.length>0&&x===p[p.length-1].value)break;if(p.length>y)return[]}var T=p.length?p[p.length-1].value:c[1];return l[1]>T&&(e.expandToNicedExtent?p.push({value:Ah(T+o,f)}):p.push({value:l[1]})),d&&d.pruneTicksByBreak(e.pruneByBreak,p,this._brkCtx.breaks,function(A){return A.value},this._interval,this._extent),e.breakTicks!=="none"&&d&&d.addBreaksToTicks(p,this._brkCtx.breaks,this._extent),p},r.prototype.getMinorTicks=function(e){for(var o=this.getTicks({expandToNicedExtent:!0}),l=[],c=this.getExtent(),f=1;f<o.length;f++){var d=o[f],p=o[f-1];if(!(p.break||d.break)){for(var y=0,b=[],x=d.value-p.value,S=x/e,T=Ig(S);y<e-1;){var A=Ah(p.value+(y+1)*S,T);A>c[0]&&A<c[1]&&b.push(A),y++}var E=la();E&&E.pruneTicksByBreak("auto",b,this._getNonTransBreaks(),function(L){return L},this._interval,c),l.push(b)}}return l},r.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.getLabel=function(e,o){if(e==null)return"";var l=o&&o.precision;l==null?l=Eu(e.value)||0:l==="auto"&&(l=this._intervalPrecision);var c=Ah(e.value,l,!0);return zN(c)},r.prototype.calcNiceTicks=function(e,o,l){e=e||5;var c=this._extent.slice(),f=this._getExtentSpanWithBreaks();if(isFinite(f)){f<0&&(f=-f,c.reverse(),this._innerSetExtent(c[0],c[1]),c=this._extent.slice());var d=xi(c,f,e,o,l);this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent}},r.prototype.calcNiceExtent=function(e){var o=this._extent.slice();if(o[0]===o[1])if(o[0]!==0){var l=Math.abs(o[0]);e.fixMax||(o[1]+=l/2),o[0]-=l/2}else o[1]=1;var c=o[1]-o[0];isFinite(c)||(o[0]=0,o[1]=1),this._innerSetExtent(o[0],o[1]),o=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var f=this._interval,d=this._intervalPrecision;e.fixMin||(o[0]=Ah(Math.floor(o[0]/f)*f,d)),e.fixMax||(o[1]=Ah(Math.ceil(o[1]/f)*f,d)),this._innerSetExtent(o[0],o[1])},r.prototype.setNiceExtent=function(e,o){this._niceExtent=[e,o]},r.type="interval",r}(Mv);Mv.registerClass(zS);var Ch=zS,IU=function(n,r,e,o){for(;e<o;){var l=e+o>>>1;n[l][1]<r?e=l+1:o=l}return e},FS=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="time",o}return r.prototype.getLabel=function(e){var o=this.getSetting("useUTC");return W0(e.value,DN[qW(G0(this._minLevelUnit))]||DN.second,o,this.getSetting("locale"))},r.prototype.getFormattedLabel=function(e,o,l){var c=this.getSetting("useUTC"),f=this.getSetting("locale");return ZW(e,o,l,f,c)},r.prototype.getTicks=function(e){e=e||{};var o=this._interval,l=this._extent,c=la(),f=[];if(!o)return f;var d=this.getSetting("useUTC");if(c&&e.breakTicks==="only_break")return la().addBreaksToTicks(f,this._brkCtx.breaks,this._extent),f;var p=jp(l[1],d);f.push({value:l[0],time:{level:0,upperTimeUnit:p,lowerTimeUnit:p}});var y=QP(this._minLevelUnit,this._approxInterval,d,l,this._getExtentSpanWithBreaks(),this._brkCtx);f=f.concat(y);var b=jp(l[1],d);f.push({value:l[1],time:{level:0,upperTimeUnit:b,lowerTimeUnit:b}});var x=this.getSetting("useUTC"),S=Qi.length-1,T=0;return it(f,function(A){S=Math.min(S,Xe(Qi,A.time.upperTimeUnit)),T=Math.max(T,A.time.level)}),c&&la().pruneTicksByBreak(e.pruneByBreak,f,this._brkCtx.breaks,function(A){return A.value},this._approxInterval,this._extent),c&&e.breakTicks!=="none"&&la().addBreaksToTicks(f,this._brkCtx.breaks,this._extent,function(A){for(var E=Math.max(Xe(Qi,jp(A.vmin,x)),Xe(Qi,jp(A.vmax,x))),L=0,I=0;I<Qi.length;I++)if(!Jc(Qi[I],A.vmin,A.vmax,x)){L=I;break}var N=Math.min(L,S),F=Math.max(N,E);return{level:T,lowerTimeUnit:Qi[F],upperTimeUnit:Qi[N]}}),f},r.prototype.calcNiceExtent=function(e){var o=this.getExtent();if(o[0]===o[1]&&(o[0]-=tl,o[1]+=tl),o[1]===-1/0&&o[0]===1/0){var l=new Date;o[1]=+new Date(l.getFullYear(),l.getMonth(),l.getDate()),o[0]=o[1]-tl}this._innerSetExtent(o[0],o[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},r.prototype.calcNiceTicks=function(e,o,l){e=e||10;var c=this._getExtentSpanWithBreaks();this._approxInterval=c/e,o!=null&&this._approxInterval<o&&(this._approxInterval=o),l!=null&&this._approxInterval>l&&(this._approxInterval=l);var f=jS.length,d=Math.min(IU(jS,this._approxInterval,0,f),f-1);this._interval=jS[d][1],this._intervalPrecision=Ig(this._interval),this._minLevelUnit=jS[Math.max(d-1,0)][0]},r.prototype.parse=function(e){return qe(e)?e:+Ad(e)},r.prototype.contain=function(e){return UP(e,this._extent)},r.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},r.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},r.type="time",r}(Ch),jS=[["second",yx],["minute",oA],["hour",j0],["quarter-day",j0*6],["half-day",j0*12],["day",tl*1.2],["half-week",tl*3.5],["week",tl*7],["month",tl*31],["quarter",tl*95],["half-year",LN/2],["year",LN]];function Jc(n,r,e,o){return bx(new Date(r),n,o).getTime()===bx(new Date(e),n,o).getTime()}function RU(n,r){return n/=tl,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function VS(n){var r=30*tl;return n/=r,n>6?6:n>3?3:n>2?2:1}function NU(n){return n/=j0,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function pz(n,r){return n/=r?oA:yx,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function BU(n){return qn(n,!0)}function zU(n,r,e){var o=Math.max(0,Xe(Qi,r)-1);return bx(new Date(n),Qi[o],e).getTime()}function KP(n,r){var e=new Date(0);e[n](1);var o=e.getTime();e[n](1+r);var l=e.getTime()-o;return function(c,f){return Math.max(0,Math.round((f-c)/l))}}function QP(n,r,e,o,l,c){var f=1e4,d=UW,p=0;function y(vt,bt,Mt,St,Pt,Et,Lt){for(var zt=KP(Pt,vt),Ht=bt,qt=new Date(Ht);Ht<Mt&&Ht<=o[1]&&(Lt.push({value:Ht}),!(p++>f));)if(qt[Pt](qt[St]()+vt),Ht=qt.getTime(),c){var ne=c.calcNiceTickMultiple(Ht,zt);ne>0&&(qt[Pt](qt[St]()+ne*vt),Ht=qt.getTime())}Lt.push({value:Ht,notAdd:!0})}function b(vt,bt,Mt){var St=[],Pt=!bt.length;if(!Jc(G0(vt),o[0],o[1],e)){Pt&&(bt=[{value:zU(o[0],vt,e)},{value:o[1]}]);for(var Et=0;Et<bt.length-1;Et++){var Lt=bt[Et].value,zt=bt[Et+1].value;if(Lt!==zt){var Ht=void 0,qt=void 0,ne=void 0,Ce=!1;switch(vt){case"year":Ht=Math.max(1,Math.round(r/tl/365)),qt=_x(e),ne=KW(e);break;case"half-year":case"quarter":case"month":Ht=VS(r),qt=xx(e),ne=IN(e);break;case"week":case"half-week":case"day":Ht=RU(r,31),qt=lA(e),ne=Sx(e),Ce=!0;break;case"half-day":case"quarter-day":case"hour":Ht=NU(r),qt=uA(e),ne=Ji(e);break;case"minute":Ht=pz(r,!0),qt=so(e),ne=RN(e);break;case"second":Ht=pz(r,!1),qt=H0(e),ne=NN(e);break;case"millisecond":Ht=BU(r),qt=cA(e),ne=BN(e);break}zt>=o[0]&&Lt<=o[1]&&y(Ht,Lt,zt,qt,ne,Ce,St),vt==="year"&&Mt.length>1&&Et===0&&Mt.unshift({value:Mt[0].value-Ht})}}for(var Et=0;Et<St.length;Et++)Mt.push(St[Et])}}for(var x=[],S=[],T=0,A=0,E=0;E<d.length;++E){var L=G0(d[E]);if($W(d[E])){b(d[E],x[x.length-1]||[],S);var I=d[E+1]?G0(d[E+1]):null;if(L!==I){if(S.length){A=T,S.sort(function(vt,bt){return vt.value-bt.value});for(var N=[],F=0;F<S.length;++F){var W=S[F].value;(F===0||S[F-1].value!==W)&&(N.push(S[F]),W>=o[0]&&W<=o[1]&&T++)}var X=l/r;if(T>X*1.5&&A>X/1.5||(x.push(N),T>X||n===d[E]))break}S=[]}}}for(var $=Zr(Gt(x,function(vt){return Zr(vt,function(bt){return bt.value>=o[0]&&bt.value<=o[1]&&!bt.notAdd})}),function(vt){return vt.length>0}),K=[],et=$.length-1,E=0;E<$.length;++E)for(var at=$[E],ot=0;ot<at.length;++ot){var ht=jp(at[ot].value,e);K.push({value:at[ot].value,time:{level:et-E,upperTimeUnit:ht,lowerTimeUnit:ht}})}K.sort(function(vt,bt){return vt.value-bt.value});for(var yt=[],E=0;E<K.length;++E)(E===0||K[E].value!==K[E-1].value)&&yt.push(K[E]);return yt}Mv.registerClass(FS);var gz=FS,GS=sa,FU=Math.floor,yz=Math.ceil,c1=Math.pow,f1=Math.log,JP=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Ch,e}return r.prototype.getTicks=function(e){e=e||{};var o=this._extent.slice(),l=this._originalScale.getExtent(),c=n.prototype.getTicks.call(this,e),f=this.base,d=this._originalScale._innerGetBreaks(),p=la();return Gt(c,function(y){var b=y.value,x=null,S=c1(f,b);b===o[0]&&this._fixMin?x=l[0]:b===o[1]&&this._fixMax&&(x=l[1]);var T;if(p){var A=p.getTicksLogTransformBreak(y,f,d,h1);T=A.vBreak,x==null&&(x=A.brkRoundingCriterion)}return x!=null&&(S=h1(S,x)),{value:S,break:T}},this)},r.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},r.prototype.setExtent=function(e,o){this._originalScale.setExtent(e,o);var l=$P(this.base,[e,o]);n.prototype.setExtent.call(this,l[0],l[1])},r.prototype.getExtent=function(){var e=this.base,o=n.prototype.getExtent.call(this);o[0]=c1(e,o[0]),o[1]=c1(e,o[1]);var l=this._originalScale.getExtent();return this._fixMin&&(o[0]=h1(o[0],l[0])),this._fixMax&&(o[1]=h1(o[1],l[1])),o},r.prototype.unionExtentFromData=function(e,o){this._originalScale.unionExtentFromData(e,o);var l=$P(this.base,e.getApproximateExtent(o),!0);this._innerUnionExtent(l)},r.prototype.calcNiceTicks=function(e){e=e||10;var o=this._extent.slice(),l=this._getExtentSpanWithBreaks();if(!(!isFinite(l)||l<=0)){var c=rW(l),f=e/l*c;for(f<=.5&&(c*=10);!isNaN(c)&&Math.abs(c)<1&&Math.abs(c)>0;)c*=10;var d=[GS(yz(o[0]/c)*c),GS(FU(o[1]/c)*c)];this._interval=c,this._intervalPrecision=Ig(c),this._niceExtent=d}},r.prototype.calcNiceExtent=function(e){n.prototype.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},r.prototype.contain=function(e){return e=f1(e)/f1(this.base),n.prototype.contain.call(this,e)},r.prototype.normalize=function(e){return e=f1(e)/f1(this.base),n.prototype.normalize.call(this,e)},r.prototype.scale=function(e){return e=n.prototype.scale.call(this,e),c1(this.base,e)},r.prototype.setBreaksFromOption=function(e){var o=la();if(o){var l=o.logarithmicParseBreaksFromOption(e,this.base,ue(this.parse,this)),c=l.parsedOriginal,f=l.parsedLogged;this._originalScale._innerSetBreak(c),this._innerSetBreak(f)}},r.type="log",r}(Ch);function h1(n,r){return GS(n,Eu(r))}Mv.registerClass(JP);var jU=JP,WS=function(){function n(r,e,o){this._prepareParams(r,e,o)}return n.prototype._prepareParams=function(r,e,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var l=this._isOrdinal=r.type==="ordinal";this._needCrossZero=r.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var c=e.get("min",!0);c==null&&(c=e.get("startValue",!0));var f=this._modelMinRaw=c;ze(f)?this._modelMinNum=d1(r,f({min:o[0],max:o[1]})):f!=="dataMin"&&(this._modelMinNum=d1(r,f));var d=this._modelMaxRaw=e.get("max",!0);if(ze(d)?this._modelMaxNum=d1(r,d({min:o[0],max:o[1]})):d!=="dataMax"&&(this._modelMaxNum=d1(r,d)),l)this._axisDataLen=e.getCategories().length;else{var p=e.get("boundaryGap"),y=Ut(p)?p:[p||0,p||0];typeof y[0]=="boolean"||typeof y[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Bl(y[0],1),Bl(y[1],1)]}},n.prototype.calculate=function(){var r=this._isOrdinal,e=this._dataMin,o=this._dataMax,l=this._axisDataLen,c=this._boundaryGapInner,f=r?null:o-e||Math.abs(e),d=this._modelMinRaw==="dataMin"?e:this._modelMinNum,p=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,y=d!=null,b=p!=null;d==null&&(d=r?l?0:NaN:e-c[0]*f),p==null&&(p=r?l?l-1:NaN:o+c[1]*f),(d==null||!isFinite(d))&&(d=NaN),(p==null||!isFinite(p))&&(p=NaN);var x=Pi(d)||Pi(p)||r&&!l;this._needCrossZero&&(d>0&&p>0&&!y&&(d=0),d<0&&p<0&&!b&&(p=0));var S=this._determinedMin,T=this._determinedMax;return S!=null&&(d=S,y=!0),T!=null&&(p=T,b=!0),{min:d,max:p,minFixed:y,maxFixed:b,isBlank:x}},n.prototype.modifyDataMinMax=function(r,e){this[VU[r]]=e},n.prototype.setDeterminedMinMax=function(r,e){var o=Ph[r];this[o]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),Ph={min:"_determinedMin",max:"_determinedMax"},VU={min:"_dataMin",max:"_dataMax"};function mz(n,r,e){var o=n.rawExtentInfo;return o||(o=new WS(n,r,e),n.rawExtentInfo=o,o)}function d1(n,r){return r==null?null:Pi(r)?NaN:n.parse(r)}function bz(n,r){var e=n.type,o=mz(n,r,n.getExtent()).calculate();n.setBlank(o.isBlank);var l=o.min,c=o.max,f=r.ecModel;if(f&&e==="time"){var d=z4("bar",f),p=!1;if(it(d,function(x){p=p||x.getBaseAxis()===r.axis}),p){var y=F4(d),b=GU(l,c,r,y);l=b.min,c=b.max}}return{extent:[l,c],fixMin:o.minFixed,fixMax:o.maxFixed}}function GU(n,r,e,o){var l=e.axis.getExtent(),c=Math.abs(l[1]-l[0]),f=sU(o,e.axis);if(f===void 0)return{min:n,max:r};var d=1/0;it(f,function(T){d=Math.min(T.offset,d)});var p=-1/0;it(f,function(T){p=Math.max(T.offset+T.width,p)}),d=Math.abs(d),p=Math.abs(p);var y=d+p,b=r-n,x=1-(d+p)/c,S=b/x-b;return r+=S*(p/y),n-=S*(d/y),{min:n,max:r}}function Rg(n,r){var e=r,o=bz(n,e),l=o.extent,c=e.get("splitNumber");n instanceof jU&&(n.base=e.get("logBase"));var f=n.type,d=e.get("interval"),p=f==="interval"||f==="time";n.setBreaksFromOption(_z(e)),n.setExtent(l[0],l[1]),n.calcNiceExtent({splitNumber:c,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:p?e.get("minInterval"):null,maxInterval:p?e.get("maxInterval"):null}),d!=null&&n.setInterval&&n.setInterval(d)}function HS(n,r){if(r=r||n.get("type"),r)switch(r){case"category":return new Tv({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new gz({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Mv.getClass(r)||Ch)}}function WU(n){var r=n.scale.getExtent(),e=r[0],o=r[1];return!(e>0&&o>0||e<0&&o<0)}function Ng(n){var r=n.getLabelModel().get("formatter");if(n.type==="time"){var e=XW(r);return function(l,c){return n.scale.getFormattedLabel(l,c,e)}}else{if(oe(r))return function(l){var c=n.scale.getLabel(l),f=r.replace("{value}",c!=null?c:"");return f};if(ze(r)){if(n.type==="category")return function(l,c){return r(v1(n,l),l.value-n.scale.getExtent()[0],null)};var o=la();return function(l,c){var f=null;return o&&(f=o.makeAxisLabelFormatterParamBreak(f,l.break)),r(v1(n,l),c,f)}}else return function(l){return n.scale.getLabel(l)}}}function v1(n,r){return n.type==="category"?n.scale.getLabel(r):r.value}function Bg(n){var r=n.get("interval");return r==null?"auto":r}function tE(n){return n.type==="category"&&Bg(n.getLabelModel())===0}function p1(n,r){var e={};return it(n.mapDimensionsAll(r),function(o){e[w4(n,o)]=!0}),vr(e)}function HU(n,r,e){r&&it(p1(r,e),function(o){var l=r.getApproximateExtent(o);l[0]<n[0]&&(n[0]=l[0]),l[1]>n[1]&&(n[1]=l[1])})}function Fo(n){return n==="middle"||n==="center"}function g1(n){return n.getShallow("show")}function _z(n){var r=n.get("breaks",!0);if(r!=null)return!la()||!xz(n.axis)?void 0:r}function xz(n){return(n.dim==="x"||n.dim==="y"||n.dim==="z"||n.dim==="single")&&n.type!=="category"}var YU=function(){function n(r){this.type="cartesian",this._dimList=[],this._axes={},this.name=r||""}return n.prototype.getAxis=function(r){return this._axes[r]},n.prototype.getAxes=function(){return Gt(this._dimList,function(r){return this._axes[r]},this)},n.prototype.getAxesByScale=function(r){return r=r.toLowerCase(),Zr(this.getAxes(),function(e){return e.scale.type===r})},n.prototype.addAxis=function(r){var e=r.dim;this._axes[e]=r,this._dimList.push(e)},n}(),YS=YU,US=["x","y"];function eE(n){return(n.type==="interval"||n.type==="time")&&!n.hasBreaks()}var wz=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=US,e}return r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!eE(e)||!eE(o))){var l=e.getExtent(),c=o.getExtent(),f=this.dataToPoint([l[0],c[0]]),d=this.dataToPoint([l[1],c[1]]),p=l[1]-l[0],y=c[1]-c[0];if(!(!p||!y)){var b=(d[0]-f[0])/p,x=(d[1]-f[1])/y,S=f[0]-l[0]*b,T=f[1]-c[0]*x,A=this._transform=[b,0,0,x,S,T];this._invTransform=Ca([],A)}}},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},r.prototype.containPoint=function(e){var o=this.getAxis("x"),l=this.getAxis("y");return o.contain(o.toLocalCoord(e[0]))&&l.contain(l.toLocalCoord(e[1]))},r.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},r.prototype.containZone=function(e,o){var l=this.dataToPoint(e),c=this.dataToPoint(o),f=this.getArea(),d=new Je(l[0],l[1],c[0]-l[0],c[1]-l[1]);return f.intersect(d)},r.prototype.dataToPoint=function(e,o,l){l=l||[];var c=e[0],f=e[1];if(this._transform&&c!=null&&isFinite(c)&&f!=null&&isFinite(f))return $i(l,e,this._transform);var d=this.getAxis("x"),p=this.getAxis("y");return l[0]=d.toGlobalCoord(d.dataToCoord(c,o)),l[1]=p.toGlobalCoord(p.dataToCoord(f,o)),l},r.prototype.clampData=function(e,o){var l=this.getAxis("x").scale,c=this.getAxis("y").scale,f=l.getExtent(),d=c.getExtent(),p=l.parse(e[0]),y=c.parse(e[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(f[0],f[1]),p),Math.max(f[0],f[1])),o[1]=Math.min(Math.max(Math.min(d[0],d[1]),y),Math.max(d[0],d[1])),o},r.prototype.pointToData=function(e,o,l){if(l=l||[],this._invTransform)return $i(l,e,this._invTransform);var c=this.getAxis("x"),f=this.getAxis("y");return l[0]=c.coordToData(c.toLocalCoord(e[0]),o),l[1]=f.coordToData(f.toLocalCoord(e[1]),o),l},r.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},r.prototype.getArea=function(e){e=e||0;var o=this.getAxis("x").getGlobalExtent(),l=this.getAxis("y").getGlobalExtent(),c=Math.min(o[0],o[1])-e,f=Math.min(l[0],l[1])-e,d=Math.max(o[0],o[1])-c+e,p=Math.max(l[0],l[1])-f+e;return new Je(c,f,d,p)},r}(YS),UU=wz,XU=br(),y1=br(),vl={estimate:1,determine:2};function XS(n){return{out:{noPxChangeTryDetermine:[]},kind:n}}function Sz(n,r){var e=Gt(r,function(o){return n.scale.parse(o)});return n.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function $U(n,r){var e=n.getLabelModel().get("customValues");if(e){var o=Ng(n),l=n.scale.getExtent(),c=Sz(n,e),f=Zr(c,function(d){return d>=l[0]&&d<=l[1]});return{labels:Gt(f,function(d){var p={value:d};return{formattedLabel:o(p),rawLabel:n.scale.getLabel(p),tickValue:d,time:void 0,break:void 0}})}}return n.type==="category"?ZU(n,r):QU(n)}function qU(n,r,e){var o=n.getTickModel().get("customValues");if(o){var l=n.scale.getExtent(),c=Sz(n,o);return{ticks:Zr(c,function(f){return f>=l[0]&&f<=l[1]})}}return n.type==="category"?KU(n,r):{ticks:Gt(n.scale.getTicks(e),function(f){return f.value})}}function ZU(n,r){var e=n.getLabelModel(),o=Mz(n,e,r);return!e.get("show")||n.scale.isBlank()?{labels:[]}:o}function Mz(n,r,e){var o=tX(n),l=Bg(r),c=e.kind===vl.estimate;if(!c){var f=tf(o,l);if(f)return f}var d,p;ze(l)?d=Cz(n,l):(p=l==="auto"?Tz(n,e):l,d=Az(n,p));var y={labels:d,labelCategoryInterval:p};return c?e.out.noPxChangeTryDetermine.push(function(){return $S(o,l,y),!0}):$S(o,l,y),y}function KU(n,r){var e=JU(n),o=Bg(r),l=tf(e,o);if(l)return l;var c,f;if((!r.get("show")||n.scale.isBlank())&&(c=[]),ze(o))c=Cz(n,o,!0);else if(o==="auto"){var d=Mz(n,n.getLabelModel(),XS(vl.determine));f=d.labelCategoryInterval,c=Gt(d.labels,function(p){return p.tickValue})}else f=o,c=Az(n,f,!0);return $S(e,o,{ticks:c,tickCategoryInterval:f})}function QU(n){var r=n.scale.getTicks(),e=Ng(n);return{labels:Gt(r,function(o,l){return{formattedLabel:e(o,l),rawLabel:n.scale.getLabel(o),tickValue:o.value,time:o.time,break:o.break}})}}var JU=rE("axisTick"),tX=rE("axisLabel");function rE(n){return function(e){return y1(e)[n]||(y1(e)[n]={list:[]})}}function tf(n,r){for(var e=0;e<n.list.length;e++)if(n.list[e].key===r)return n.list[e].value}function $S(n,r,e){return n.list.push({key:r,value:e}),e}function Tz(n,r){if(r.kind===vl.estimate){var e=n.calculateCategoryInterval(r);return r.out.noPxChangeTryDetermine.push(function(){return y1(n).autoInterval=e,!0}),e}var o=y1(n).autoInterval;return o!=null?o:y1(n).autoInterval=n.calculateCategoryInterval(r)}function pnt(n,r){var e=r.kind,o=eX(n),l=Ng(n),c=(o.axisRotate-o.labelRotate)/180*Math.PI,f=n.scale,d=f.getExtent(),p=f.count();if(d[1]-d[0]<1)return 0;var y=1,b=40;p>b&&(y=Math.max(1,Math.floor(p/b)));for(var x=d[0],S=n.dataToCoord(x+1)-n.dataToCoord(x),T=Math.abs(S*Math.cos(c)),A=Math.abs(S*Math.sin(c)),E=0,L=0;x<=d[1];x+=y){var I=0,N=0,F=C_(l({value:x}),o.font,"center","top");I=F.width*1.3,N=F.height*1.3,E=Math.max(E,I,7),L=Math.max(L,N,7)}var W=E/T,X=L/A;isNaN(W)&&(W=1/0),isNaN(X)&&(X=1/0);var $=Math.max(0,Math.floor(Math.min(W,X)));if(e===vl.estimate)return r.out.noPxChangeTryDetermine.push(ue(Oz,null,n,$,p)),$;var K=qS(n,$,p);return K!=null?K:$}function Oz(n,r,e){return qS(n,r,e)==null}function qS(n,r,e){var o=XU(n.model),l=n.getExtent(),c=o.lastAutoInterval,f=o.lastTickCount;if(c!=null&&f!=null&&Math.abs(c-r)<=1&&Math.abs(f-e)<=1&&c>r&&o.axisExtent0===l[0]&&o.axisExtent1===l[1])return c;o.lastTickCount=e,o.lastAutoInterval=r,o.axisExtent0=l[0],o.axisExtent1=l[1]}function eX(n){var r=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:r.get("rotate")||0,font:r.getFont()}}function Az(n,r,e){var o=Ng(n),l=n.scale,c=l.getExtent(),f=n.getLabelModel(),d=[],p=Math.max((r||0)+1,1),y=c[0],b=l.count();y!==0&&p>1&&b/p>2&&(y=Math.round(Math.ceil(y/p)*p));var x=tE(n),S=f.get("showMinLabel")||x,T=f.get("showMaxLabel")||x;S&&y!==c[0]&&E(c[0]);for(var A=y;A<=c[1];A+=p)E(A);T&&A-p!==c[1]&&E(c[1]);function E(L){var I={value:L};d.push(e?L:{formattedLabel:o(I),rawLabel:l.getLabel(I),tickValue:L,time:void 0,break:void 0})}return d}function Cz(n,r,e){var o=n.scale,l=Ng(n),c=[];return it(o.getTicks(),function(f){var d=o.getLabel(f),p=f.value;r(f.value,d)&&c.push(e?p:{formattedLabel:l(f),rawLabel:d,tickValue:p,time:void 0,break:void 0})}),c}var nE=[0,1],rX=function(){function n(r,e,o){this.onBand=!1,this.inverse=!1,this.dim=r,this.scale=e,this._extent=o||[0,0]}return n.prototype.contain=function(r){var e=this._extent,o=Math.min(e[0],e[1]),l=Math.max(e[0],e[1]);return r>=o&&r<=l},n.prototype.containData=function(r){return this.scale.contain(this.scale.parse(r))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(r){return OR(r||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(r,e){var o=this._extent;o[0]=r,o[1]=e},n.prototype.dataToCoord=function(r,e){var o=this._extent,l=this.scale;return r=l.normalize(l.parse(r)),this.onBand&&l.type==="ordinal"&&(o=o.slice(),Bs(o,l.count())),vn(r,nE,o,e)},n.prototype.coordToData=function(r,e){var o=this._extent,l=this.scale;this.onBand&&l.type==="ordinal"&&(o=o.slice(),Bs(o,l.count()));var c=vn(r,o,nE,e);return this.scale.scale(c)},n.prototype.pointToData=function(r,e){},n.prototype.getTicksCoords=function(r){r=r||{};var e=r.tickModel||this.getTickModel(),o=qU(this,e,{breakTicks:r.breakTicks,pruneByBreak:r.pruneByBreak}),l=o.ticks,c=Gt(l,function(d){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(d):d),tickValue:d}},this),f=e.get("alignWithLabel");return nX(this,c,f,r.clamp),c},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var r=this.model.getModel("minorTick"),e=r.get("splitNumber");e>0&&e<100||(e=5);var o=this.scale.getMinorTicks(e),l=Gt(o,function(c){return Gt(c,function(f){return{coord:this.dataToCoord(f),tickValue:f}},this)},this);return l},n.prototype.getViewLabels=function(r){return r=r||XS(vl.determine),$U(this,r).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var r=this._extent,e=this.scale.getExtent(),o=e[1]-e[0]+(this.onBand?1:0);o===0&&(o=1);var l=Math.abs(r[1]-r[0]);return Math.abs(l)/o},n.prototype.calculateCategoryInterval=function(r){return r=r||XS(vl.determine),pnt(this,r)},n}();function Bs(n,r){var e=n[1]-n[0],o=r,l=e/o/2;n[0]+=l,n[1]-=l}function nX(n,r,e,o){var l=r.length;if(!n.onBand||e||!l)return;var c=n.getExtent(),f,d;if(l===1)r[0].coord=c[0],r[0].onBand=!0,f=r[1]={coord:c[1],tickValue:r[0].tickValue,onBand:!0};else{var p=r[l-1].tickValue-r[0].tickValue,y=(r[l-1].coord-r[0].coord)/p;it(r,function(T){T.coord-=y/2,T.onBand=!0});var b=n.scale.getExtent();d=1+b[1]-r[l-1].tickValue,f={coord:r[l-1].coord+y*d,tickValue:b[1]+1,onBand:!0},r.push(f)}var x=c[0]>c[1];S(r[0].coord,c[0])&&(o?r[0].coord=c[0]:r.shift()),o&&S(c[0],r[0].coord)&&r.unshift({coord:c[0],onBand:!0}),S(c[1],f.coord)&&(o?f.coord=c[1]:r.pop()),o&&S(f.coord,c[1])&&r.push({coord:c[1],onBand:!0});function S(T,A){return T=sa(T),A=sa(A),x?T>A:T<A}}var au=rX,iX=function(n){Ot(r,n);function r(e,o,l,c,f){var d=n.call(this,e,o,l)||this;return d.index=0,d.type=c||"value",d.position=f||"bottom",d}return r.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},r.prototype.getGlobalExtent=function(e){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),e&&o[0]>o[1]&&o.reverse(),o},r.prototype.pointToData=function(e,o){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),o)},r.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},r}(au),iE=iX,m1="expandAxisBreak",Pz="collapseAxisBreak",Ez="toggleAxisBreak",kz="axisbreakchanged",aX={type:m1,event:kz,update:"update",refineEvent:aE},Ju={type:Pz,event:kz,update:"update",refineEvent:aE},zs={type:Ez,event:kz,update:"update",refineEvent:aE};function aE(n,r,e,o){var l=[];return it(n,function(c){l=l.concat(c.eventBreaks)}),{eventContent:{breaks:l}}}function oX(n){n.registerAction(aX,r),n.registerAction(Ju,r),n.registerAction(zs,r);function r(e,o){var l=[],c=Cd(o,e);function f(d,p){it(c[d],function(y){var b=y.updateAxisBreaks(e);it(b.breaks,function(x){var S;l.push(je((S={},S[p]=y.componentIndex,S),x))})})}return f("xAxisModels","xAxisIndex"),f("yAxisModels","yAxisIndex"),f("singleAxisModels","singleAxisIndex"),{eventBreaks:l}}}var ns=Math.PI,Lz=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],sX=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],tc=br(),oE=br(),Dz=function(){function n(r){this.recordMap={},this.resolveAxisNameOverlap=r}return n.prototype.ensureRecord=function(r){var e=r.axis.dim,o=r.componentIndex,l=this.recordMap,c=l[e]||(l[e]=[]);return c[o]||(c[o]={ready:{}})},n}();function Iz(n,r,e,o){var l=e.axis,c=r.ensureRecord(e),f=[],d,p=Fz(n.axisName)&&Fo(n.nameLocation);it(o,function(A){var E=nu(A);if(!(!E||E.label.ignore)){f.push(E);var L=c.transGroup;p&&(L.transform?Ca(b1,L.transform):RT(b1),E.transform&&Su(b1,b1,E.transform),Je.copy(ZS,E.localRect),ZS.applyTransform(b1),d?d.union(ZS):Je.copy(d=new Je(0,0,0,0),ZS))}});var y=Math.abs(c.dirVec.x)>.1?"x":"y",b=c.transGroup[y];if(f.sort(function(A,E){return Math.abs(A.label[y]-b)-Math.abs(E.label[y]-b)}),p&&d){var x=l.getExtent(),S=Math.min(x[0],x[1]),T=Math.max(x[0],x[1])-S;d.union(new Je(S,0,T,1))}c.stOccupiedRect=d,c.labelInfoList=f}var b1=no(),ZS=new Je(0,0,0,0),Rz=function(n,r,e,o,l,c){if(Fo(n.nameLocation)){var f=c.stOccupiedRect;f&&lX(EB({},f,c.transGroup.transform),o,l)}else $a(c.labelInfoList,c.dirVec,o,l)};function lX(n,r,e){var o=new Ke;Im(n,r,o,{direction:Math.atan2(e.y,e.x),bidirectional:!1,touchThreshold:.05})&&eS(r,o)}function $a(n,r,e,o){for(var l=Ke.dot(o,r)>=0,c=0,f=n.length;c<f;c++){var d=n[l?c:f-1-c];d.label.ignore||lX(d,e,o)}}var Ov=function(){function n(r,e,o,l){this.group=new Ye,this._axisModel=r,this._api=e,this._local={},this._shared=l||new Dz(Rz),this._resetCfgDetermined(o)}return n.prototype.updateCfg=function(r){if(0)var e;var o=this._cfg.raw;o.position=r.position,o.labelOffset=r.labelOffset,this._resetCfgDetermined(o)},n.prototype.__getRawCfg=function(){return this._cfg.raw},n.prototype._resetCfgDetermined=function(r){var e=this._axisModel,o=e.getDefaultOption?e.getDefaultOption():{},l=fe(r.axisName,e.get("name")),c=e.get("nameMoveOverlap");(c==null||c==="auto")&&(c=fe(r.defaultNameMoveOverlap,!0));var f={raw:r,position:r.position,rotation:r.rotation,nameDirection:fe(r.nameDirection,1),tickDirection:fe(r.tickDirection,1),labelDirection:fe(r.labelDirection,1),labelOffset:fe(r.labelOffset,0),silent:fe(r.silent,!0),axisName:l,nameLocation:Ui(e.get("nameLocation"),o.nameLocation,"end"),shouldNameMoveOverlap:Fz(l)&&c,optionHideOverlap:e.get(["axisLabel","hideOverlap"]),showMinorTicks:e.get(["minorTick","show"])};this._cfg=f;var d=new Ye({x:f.position[0],y:f.position[1],rotation:f.rotation});d.updateTransform(),this._transformGroup=d;var p=this._shared.ensureRecord(e);p.transGroup=this._transformGroup,p.dirVec=new Ke(Math.cos(-f.rotation),Math.sin(-f.rotation))},n.prototype.build=function(r,e){var o=this;return r||(r={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),it(_1,function(l){r[l]&&uX[l](o._cfg,o._local,o._shared,o._axisModel,o.group,o._transformGroup,o._api,e||{})}),this},n.innerTextLayout=function(r,e,o){var l=bO(e-r),c,f;return f0(l)?(f=o>0?"top":"bottom",c="center"):f0(l-ns)?(f=o>0?"bottom":"top",c="center"):(f="middle",l>0&&l<ns?c=o>0?"right":"left":c=o>0?"left":"right"),{rotation:l,textAlign:c,textVerticalAlign:f}},n.makeAxisEventDataBase=function(r){var e={componentType:r.mainType,componentIndex:r.componentIndex};return e[r.mainType+"Index"]=r.componentIndex,e},n.isLabelSilent=function(r){var e=r.get("tooltip");return r.get("silent")||!(r.get("triggerEvent")||e&&e.show)},n}(),_1=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],uX={axisLine:function(n,r,e,o,l,c,f){if(0)var d;var p=o.get(["axisLine","show"]);if(p==="auto"&&(p=!0,n.raw.axisLineAutoShow!=null&&(p=!!n.raw.axisLineAutoShow)),!!p){var y=o.axis.getExtent(),b=c.transform,x=[y[0],0],S=[y[1],0],T=x[0]>S[0];b&&($i(x,x,b),$i(S,S,b));var A=Wt({lineCap:"round"},o.getModel(["axisLine","lineStyle"]).getLineStyle()),E={strokeContainThreshold:n.raw.strokeContainThreshold||5,silent:!0,z2:1,style:A};if(o.get(["axisLine","breakLine"])&&o.axis.scale.hasBreaks())l1().buildAxisBreakLine(o,l,c,E);else{var L=new ua(Wt({shape:{x1:x[0],y1:x[1],x2:S[0],y2:S[1]}},E));av(L.shape,L.style.lineWidth),L.anid="line",l.add(L)}var I=o.get(["axisLine","symbol"]);if(I!=null){var N=o.get(["axisLine","symbolSize"]);oe(I)&&(I=[I,I]),(oe(N)||qe(N))&&(N=[N,N]);var F=dh(o.get(["axisLine","symbolOffset"])||0,N),W=N[0],X=N[1];it([{rotate:n.rotation+Math.PI/2,offset:F[0],r:0},{rotate:n.rotation-Math.PI/2,offset:F[1],r:Math.sqrt((x[0]-S[0])*(x[0]-S[0])+(x[1]-S[1])*(x[1]-S[1]))}],function($,K){if(I[K]!=="none"&&I[K]!=null){var et=ia(I[K],-W/2,-X/2,W,X,A.stroke,!0),at=$.r+$.offset,ot=T?S:x;et.attr({rotation:$.rotate,x:ot[0]+at*Math.cos(n.rotation),y:ot[1]-at*Math.sin(n.rotation),silent:!0,z2:11}),l.add(et)}})}}},axisTickLabelEstimate:function(n,r,e,o,l,c,f,d){if(0)var p;var y=w1(r,l,d);y&&Nz(n,r,e,o,l,c,f,vl.estimate)},axisTickLabelDetermine:function(n,r,e,o,l,c,f,d){if(0)var p;var y=w1(r,l,d);y&&Nz(n,r,e,o,l,c,f,vl.determine);var b=dX(n,l,c,o);hX(n,r.labelLayoutList,b),sE(n,l,c,o,n.tickDirection)},axisName:function(n,r,e,o,l,c,f,d){var p=e.ensureRecord(o);if(0)var y;r.nameEl&&(l.remove(r.nameEl),r.nameEl=p.nameLayout=p.nameLocation=null);var b=n.axisName;if(Fz(b)){var x=n.nameLocation,S=n.nameDirection,T=o.getModel("nameTextStyle"),A=o.get("nameGap")||0,E=o.axis.getExtent(),L=o.axis.inverse?-1:1,I=new Ke(0,0),N=new Ke(0,0);x==="start"?(I.x=E[0]-L*A,N.x=-L):x==="end"?(I.x=E[1]+L*A,N.x=L):(I.x=(E[0]+E[1])/2,I.y=n.labelOffset+S*A,N.y=S);var F=no();N.transform(Cf(F,F,n.rotation));var W=o.get("nameRotate");W!=null&&(W=W*ns/180);var X,$;Fo(x)?X=Ov.innerTextLayout(n.rotation,W!=null?W:n.rotation,S):(X=cX(n.rotation,x,W||0,E),$=n.raw.axisNameAvailableWidth,$!=null&&($=Math.abs($/Math.sin(X.rotation)),!isFinite($)&&($=null)));var K=T.getFont(),et=o.get("nameTruncate",!0)||{},at=et.ellipsis,ot=mn(n.raw.nameTruncateMaxWidth,et.maxWidth,$),ht=d.nameMarginLevel||0,yt=new Hr({x:I.x,y:I.y,rotation:X.rotation,silent:Ov.isLabelSilent(o),style:Gn(T,{text:b,font:K,overflow:"truncate",width:ot,ellipsis:at,fill:T.getTextColor()||o.get(["axisLine","lineStyle","color"]),align:T.get("align")||X.textAlign,verticalAlign:T.get("verticalAlign")||X.textVerticalAlign}),z2:1});if(uh({el:yt,componentModel:o,itemName:b}),yt.__fullText=b,yt.anid="name",o.get("triggerEvent")){var vt=Ov.makeAxisEventDataBase(o);vt.targetType="axisName",vt.name=b,nr(yt).eventData=vt}c.add(yt),yt.updateTransform(),r.nameEl=yt;var bt=p.nameLayout=nu({label:yt,priority:yt.z2,defaultAttr:{ignore:yt.ignore},marginDefault:Fo(x)?Lz[ht]:sX[ht]});if(p.nameLocation=x,l.add(yt),yt.decomposeTransform(),n.shouldNameMoveOverlap&&bt){var Mt=e.ensureRecord(o);e.resolveAxisNameOverlap(n,e,o,bt,N,Mt)}}}};function Nz(n,r,e,o,l,c,f,d){vX(r)||gnt(n,r,l,d,o,f);var p=r.labelLayoutList;ynt(n,o,p,c),pX(o,n.rotation,p);var y=n.optionHideOverlap;fX(o,p,y),y&&eP(Zr(p,function(b){return b&&!b.label.ignore})),Iz(n,e,o,p)}function cX(n,r,e,o){var l=bO(e-n),c,f,d=o[0]>o[1],p=r==="start"&&!d||r!=="start"&&d;return f0(l-ns/2)?(f=p?"bottom":"top",c="center"):f0(l-ns*1.5)?(f=p?"top":"bottom",c="center"):(f="middle",l<ns*1.5&&l>ns/2?c=p?"left":"right":c=p?"right":"left"),{rotation:l,textAlign:c,textVerticalAlign:f}}function fX(n,r,e){if(tE(n.axis))return;function o(d,p,y){var b=nu(r[p]),x=nu(r[y]);if(!(!b||!x)){if(d===!1||b.suggestIgnore){x1(b.label);return}if(x.suggestIgnore){x1(x.label);return}var S=.1;if(!e){var T=[0,0,0,0];b=rS({marginForce:T},b),x=rS({marginForce:T},x)}Im(b,x,null,{touchThreshold:S})&&x1(d?x.label:b.label)}}var l=n.get(["axisLabel","showMinLabel"]),c=n.get(["axisLabel","showMaxLabel"]),f=r.length;o(l,0,1),o(c,f-1,f-2)}function hX(n,r,e){n.showMinorTicks||it(r,function(o){if(o&&o.label.ignore)for(var l=0;l<e.length;l++){var c=e[l],f=oE(c),d=tc(o.label);if(f.tickValue!=null&&!f.onBand&&f.tickValue===d.tickValue){x1(c);return}}})}function x1(n){n&&(n.ignore=!0)}function Bz(n,r,e,o,l){for(var c=[],f=[],d=[],p=0;p<n.length;p++){var y=n[p].coord;f[0]=y,f[1]=0,d[0]=y,d[1]=e,r&&($i(f,f,r),$i(d,d,r));var b=new ua({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:o,z2:2,autoBatch:!0,silent:!0});av(b.shape,b.style.lineWidth),b.anid=l+"_"+n[p].tickValue,c.push(b);var x=oE(b);x.onBand=!!n[p].onBand,x.tickValue=n[p].tickValue}return c}function dX(n,r,e,o){var l=o.axis,c=o.getModel("axisTick"),f=c.get("show");if(f==="auto"&&(f=!0,n.raw.axisTickAutoShow!=null&&(f=!!n.raw.axisTickAutoShow)),!f||l.scale.isBlank())return[];for(var d=c.getModel("lineStyle"),p=n.tickDirection*c.get("length"),y=l.getTicksCoords(),b=Bz(y,e.transform,p,je(d.getLineStyle(),{stroke:o.get(["axisLine","lineStyle","color"])}),"ticks"),x=0;x<b.length;x++)r.add(b[x]);return b}function sE(n,r,e,o,l){var c=o.axis,f=o.getModel("minorTick");if(!(!n.showMinorTicks||c.scale.isBlank())){var d=c.getMinorTicksCoords();if(d.length)for(var p=f.getModel("lineStyle"),y=l*f.get("length"),b=je(p.getLineStyle(),je(o.getModel("axisTick").getLineStyle(),{stroke:o.get(["axisLine","lineStyle","color"])})),x=0;x<d.length;x++)for(var S=Bz(d[x],e.transform,y,b,"minorticks_"+x),T=0;T<S.length;T++)r.add(S[T])}}function w1(n,r,e){if(vX(n)){var o=n.axisLabelsCreationContext,l=o.out.noPxChangeTryDetermine;if(e.noPxChange){for(var c=!0,f=0;f<l.length;f++)c=c&&l[f]();if(c)return!1}l.length&&(r.remove(n.labelGroup),zz(n,null,null,null))}return!0}function gnt(n,r,e,o,l,c){var f=l.axis,d=mn(n.raw.axisLabelShow,l.get(["axisLabel","show"])),p=new Ye;e.add(p);var y=XS(o);if(!d||f.scale.isBlank()){zz(r,[],p,y);return}var b=l.getModel("axisLabel"),x=f.getViewLabels(y),S=(mn(n.raw.labelRotate,b.get("rotate"))||0)*ns/180,T=Ov.innerTextLayout(n.rotation,S,n.labelDirection),A=l.getCategories&&l.getCategories(!0),E=[],L=l.get("triggerEvent"),I=1/0,N=-1/0;it(x,function(W,X){var $,K=f.scale.type==="ordinal"?f.scale.getRawOrdinalNumber(W.tickValue):W.tickValue,et=W.formattedLabel,at=W.rawLabel,ot=b;if(A&&A[K]){var ht=A[K];ce(ht)&&ht.textStyle&&(ot=new an(ht.textStyle,b,l.ecModel))}var yt=ot.getTextColor()||l.get(["axisLine","lineStyle","color"]),vt=ot.getShallow("align",!0)||T.textAlign,bt=fe(ot.getShallow("alignMinLabel",!0),vt),Mt=fe(ot.getShallow("alignMaxLabel",!0),vt),St=ot.getShallow("verticalAlign",!0)||ot.getShallow("baseline",!0)||T.textVerticalAlign,Pt=fe(ot.getShallow("verticalAlignMinLabel",!0),St),Et=fe(ot.getShallow("verticalAlignMaxLabel",!0),St),Lt=10+((($=W.time)===null||$===void 0?void 0:$.level)||0);I=Math.min(I,Lt),N=Math.max(N,Lt);var zt=new Hr({x:0,y:0,rotation:0,silent:Ov.isLabelSilent(l),z2:Lt,style:Gn(ot,{text:et,align:X===0?bt:X===x.length-1?Mt:vt,verticalAlign:X===0?Pt:X===x.length-1?Et:St,fill:ze(yt)?yt(f.type==="category"?at:f.type==="value"?K+"":K,X):yt})});zt.anid="label_"+K;var Ht=tc(zt);if(Ht.break=W.break,Ht.tickValue=K,Ht.layoutRotation=T.rotation,uh({el:zt,componentModel:l,itemName:et,formatterParamsExtra:{isTruncated:function(){return zt.isTruncated},value:at,tickIndex:X}}),L){var qt=Ov.makeAxisEventDataBase(l);qt.targetType="axisLabel",qt.value=at,qt.tickIndex=X,W.break&&(qt.break={start:W.break.parsedBreak.vmin,end:W.break.parsedBreak.vmax}),f.type==="category"&&(qt.dataIndex=K),nr(zt).eventData=qt,W.break&&KS(l,c,zt,W.break)}E.push(zt),p.add(zt)});var F=Gt(E,function(W){return{label:W,priority:tc(W).break?W.z2+(N-I+1):W.z2,defaultAttr:{ignore:W.ignore}}});zz(r,F,p,y)}function vX(n){return!!n.labelLayoutList}function zz(n,r,e,o){n.labelLayoutList=r,n.labelGroup=e,n.axisLabelsCreationContext=o}function ynt(n,r,e,o){var l=r.get(["axisLabel","margin"]);it(e,function(c,f){var d=nu(c);if(d){var p=d.label,y=tc(p);d.suggestIgnore=p.ignore,p.ignore=!1,Ve(Eh,mnt),Eh.x=r.axis.dataToCoord(y.tickValue),Eh.y=n.labelOffset+n.labelDirection*l,Eh.rotation=y.layoutRotation,o.add(Eh),Eh.updateTransform(),o.remove(Eh),Eh.decomposeTransform(),Ve(p,Eh),p.markRedraw(),bg(d,!0),nu(d)}})}var Eh=new kr,mnt=new kr;function Fz(n){return!!n}function KS(n,r,e,o){e.on("click",function(l){var c={type:m1,breaks:[{start:o.parsedBreak.breakOption.start,end:o.parsedBreak.breakOption.end}]};c[n.axis.dim+"AxisIndex"]=n.componentIndex,r.dispatchAction(c)})}function pX(n,r,e){var o=la();if(o){var l=o.retrieveAxisBreakPairs(e,function(f){return f&&tc(f.label).break},!0),c=n.get(["breakLabelLayout","moveOverlap"],!0);(c===!0||c==="auto")&&it(l,function(f){l1().adjustBreakLabelPair(n.axis.inverse,r,[nu(e[f[0]]),nu(e[f[1]])])})}}var ou=Ov;function QS(n,r,e){e=e||{};var o=r.axis,l={},c=o.getAxesOnZeroOf()[0],f=o.position,d=c?"onZero":f,p=o.dim,y=[n.x,n.x+n.width,n.y,n.y+n.height],b={left:0,right:1,top:0,bottom:1,onZero:2},x=r.get("offset")||0,S=p==="x"?[y[2]-x,y[3]+x]:[y[0]-x,y[1]+x];if(c){var T=c.toGlobalCoord(c.dataToCoord(0));S[b.onZero]=Math.max(Math.min(T,S[1]),S[0])}l.position=[p==="y"?S[b[d]]:y[0],p==="x"?S[b[d]]:y[3]],l.rotation=Math.PI/2*(p==="x"?0:1);var A={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=A[f],l.labelOffset=c?S[b[f]]-S[b.onZero]:0,r.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),mn(e.labelInside,r.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var E=r.get(["axisLabel","rotate"]);return l.labelRotate=d==="top"?-E:E,l.z2=1,l}function gX(n){return n.get("coordinateSystem")==="cartesian2d"}function jz(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function lE(n){var r={xAxisModel:null,yAxisModel:null};return it(r,function(e,o){var l=o.replace(/Model$/,""),c=n.getReferringComponents(l,bi).models[0];r[o]=c}),r}function ec(n,r,e,o,l,c){for(var f=QS(n,e),d=!1,p=!1,y=0;y<r.length;y++)YP(r[y].getOtherAxis(e.axis).scale)&&(d=p=!0,e.axis.type==="category"&&e.axis.onBand&&(p=!1));return f.axisLineAutoShow=d,f.axisTickAutoShow=p,f.defaultNameMoveOverlap=c,new ou(e,o,f,l)}function kh(n,r,e){var o=QS(r,e);if(0)var l;n.updateCfg(o)}function Vz(n,r,e){var o,l=Ch.prototype,c=l.getTicks.call(e),f=l.getTicks.call(e,{expandToNicedExtent:!0}),d=c.length-1,p=l.getInterval.call(e),y=bz(n,r),b=y.extent,x=y.fixMin,S=y.fixMax;n.type==="log"&&(b=$P(n.base,b,!0)),n.setBreaksFromOption(_z(r)),n.setExtent(b[0],b[1]),n.calcNiceExtent({splitNumber:d,fixMin:x,fixMax:S});var T=l.getExtent.call(n);x&&(b[0]=T[0]),S&&(b[1]=T[1]);var A=l.getInterval.call(n),E=b[0],L=b[1];if(x&&S)A=(L-E)/d;else if(x)for(L=b[0]+A*d;L<b[1]&&isFinite(L)&&isFinite(b[1]);)A=dz(A),L=b[0]+A*d;else if(S)for(E=b[1]-A*d;E>b[0]&&isFinite(E)&&isFinite(b[0]);)A=dz(A),E=b[1]-A*d;else{var I=n.getTicks().length-1;I>d&&(A=dz(A));var N=A*d;L=Math.ceil(b[1]/A)*A,E=sa(L-N),E<0&&b[0]>=0?(E=0,L=sa(N)):L>0&&b[1]<=0&&(L=0,E=-sa(N))}var F=(c[0].value-f[0].value)/p,W=(c[d].value-f[d].value)/p;if(l.setExtent.call(n,E+A*F,L+A*W),l.setInterval.call(n,A),(F||W)&&l.setNiceExtent.call(n,E+A,L-A),0)var X}var uE=[[3,1],[0,2]],yX=function(){function n(r,e,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=US,this._initCartesian(r,e,o),this.model=r}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(r,e){var o=this._axesMap;this._updateScale(r,this.model);function l(f){var d,p=vr(f),y=p.length;if(y){for(var b=[],x=y-1;x>=0;x--){var S=+p[x],T=f[S],A=T.model,E=T.scale;YP(E)&&A.get("alignTicks")&&A.get("interval")==null?b.push(T):(Rg(E,A),YP(E)&&(d=T))}b.length&&(d||(d=b.pop(),Rg(d.scale,d.model)),it(b,function(L){Vz(L.scale,L.model,d.scale)}))}}l(o.x),l(o.y);var c={};it(o.x,function(f){fE(o,"y",f,c)}),it(o.y,function(f){fE(o,"x",f,c)}),this.resize(this.model,e)},n.prototype.resize=function(r,e,o){var l=ya(r,e),c=this._rect=Wn(r.getBoxLayoutParams(),l.refContainer),f=this._axesMap,d=this._coordsList,p=r.get("containLabel");if(JS(f,c),!o){var y=bX(c,d,f,p,e),b=void 0;if(p)hE?(hE(this._axesList,c),JS(f,c)):b=Hz(c.clone(),"axisLabel",null,c,f,y,l);else{var x=_X(r,c,l),S=x.outerBoundsRect,T=x.parsedOuterBoundsContain,A=x.outerBoundsClamp;S&&(b=Hz(S,T,A,c,f,y,l))}Yz(c,f,vl.determine,null,b,l)}it(this._coordsList,function(E){E.calcAffineTransform()})},n.prototype.getAxis=function(r,e){var o=this._axesMap[r];if(o!=null)return o[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(r,e){if(r!=null&&e!=null){var o="x"+r+"y"+e;return this._coordsMap[o]}ce(r)&&(e=r.yAxisIndex,r=r.xAxisIndex);for(var l=0,c=this._coordsList;l<c.length;l++)if(c[l].getAxis("x").index===r||c[l].getAxis("y").index===e)return c[l]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(r,e,o){var l=this._findConvertTarget(e);return l.cartesian?l.cartesian.dataToPoint(o):l.axis?l.axis.toGlobalCoord(l.axis.dataToCoord(o)):null},n.prototype.convertFromPixel=function(r,e,o){var l=this._findConvertTarget(e);return l.cartesian?l.cartesian.pointToData(o):l.axis?l.axis.coordToData(l.axis.toLocalCoord(o)):null},n.prototype._findConvertTarget=function(r){var e=r.seriesModel,o=r.xAxisModel||e&&e.getReferringComponents("xAxis",bi).models[0],l=r.yAxisModel||e&&e.getReferringComponents("yAxis",bi).models[0],c=r.gridModel,f=this._coordsList,d,p;if(e)d=e.coordinateSystem,Xe(f,d)<0&&(d=null);else if(o&&l)d=this.getCartesian(o.componentIndex,l.componentIndex);else if(o)p=this.getAxis("x",o.componentIndex);else if(l)p=this.getAxis("y",l.componentIndex);else if(c){var y=c.coordinateSystem;y===this&&(d=this._coordsList[0])}return{cartesian:d,axis:p}},n.prototype.containPoint=function(r){var e=this._coordsList[0];if(e)return e.containPoint(r)},n.prototype._initCartesian=function(r,e,o){var l=this,c=this,f={left:!1,right:!1,top:!1,bottom:!1},d={x:{},y:{}},p={x:0,y:0};if(e.eachComponent("xAxis",y("x"),this),e.eachComponent("yAxis",y("y"),this),!p.x||!p.y){this._axesMap={},this._axesList=[];return}this._axesMap=d,it(d.x,function(b,x){it(d.y,function(S,T){var A="x"+x+"y"+T,E=new UU(A);E.master=l,E.model=r,l._coordsMap[A]=E,l._coordsList.push(E),E.addAxis(b),E.addAxis(S)})});function y(b){return function(x,S){if(cE(x,r)){var T=x.get("position");b==="x"?T!=="top"&&T!=="bottom"&&(T=f.bottom?"top":"bottom"):T!=="left"&&T!=="right"&&(T=f.left?"right":"left"),f[T]=!0;var A=new iE(b,HS(x),[0,0],x.get("type"),T),E=A.type==="category";A.onBand=E&&x.get("boundaryGap"),A.inverse=x.get("inverse"),x.axis=A,A.model=x,A.grid=c,A.index=S,c._axesList.push(A),d[b][S]=A,p[b]++}}}},n.prototype._updateScale=function(r,e){it(this._axesList,function(l){if(l.scale.setExtent(1/0,-1/0),l.type==="category"){var c=l.model.get("categorySortInfo");l.scale.setSortInfo(c)}}),r.eachSeries(function(l){if(jz(l)){var c=lE(l),f=c.xAxisModel,d=c.yAxisModel;if(!cE(f,e)||!cE(d,e))return;var p=this.getCartesian(f.componentIndex,d.componentIndex),y=l.getData(),b=p.getAxis("x"),x=p.getAxis("y");o(y,b),o(y,x)}},this);function o(l,c){it(p1(l,c.dim),function(f){c.scale.unionExtentFromData(l,f)})}},n.prototype.getTooltipAxes=function(r){var e=[],o=[];return it(this.getCartesians(),function(l){var c=r!=null&&r!=="auto"?l.getAxis(r):l.getBaseAxis(),f=l.getOtherAxis(c);Xe(e,c)<0&&e.push(c),Xe(o,f)<0&&o.push(f)}),{baseAxes:e,otherAxes:o}},n.create=function(r,e){var o=[];return r.eachComponent("grid",function(l,c){var f=new n(l,r,e);f.name="grid_"+c,f.resize(l,e,!0),l.coordinateSystem=f,o.push(f)}),r.eachSeries(function(l){ii({targetModel:l,coordSysType:"cartesian2d",coordSysProvider:c});function c(){var f=lE(l),d=f.xAxisModel,p=f.yAxisModel,y=d.getCoordSysModel(),b=y.coordinateSystem;return b.getCartesian(d.componentIndex,p.componentIndex)}}),o},n.dimensions=US,n}();function cE(n,r){return n.getCoordSysModel()===r}function fE(n,r,e,o){e.getAxesOnZeroOf=function(){return c?[c]:[]};var l=n[r],c,f=e.model,d=f.get(["axisLine","onZero"]),p=f.get(["axisLine","onZeroAxisIndex"]);if(!d)return;if(p!=null)zg(l[p])&&(c=l[p]);else for(var y in l)if(l.hasOwnProperty(y)&&zg(l[y])&&!o[b(l[y])]){c=l[y];break}c&&(o[b(c)]=!0);function b(x){return x.dim+"_"+x.index}}function zg(n){return n&&n.type!=="category"&&n.type!=="time"&&WU(n)}function Gz(n,r){var e=n.getExtent(),o=e[0]+e[1];n.toGlobalCoord=n.dim==="x"?function(l){return l+r}:function(l){return o-l+r},n.toLocalCoord=n.dim==="x"?function(l){return l-r}:function(l){return o-l+r}}function JS(n,r){it(n.x,function(e){return Wz(e,r.x,r.width)}),it(n.y,function(e){return Wz(e,r.y,r.height)})}function Wz(n,r,e){var o=[0,e],l=n.inverse?1:0;n.setExtent(o[l],o[1-l]),Gz(n,r)}var hE;function mX(n){hE=n}function Hz(n,r,e,o,l,c,f){Yz(o,l,vl.estimate,r,!1,f);var d=[0,0,0,0];y(0),y(1),b(o,0,NaN),b(o,1,NaN);var p=Oa(d,function(S){return S>0})==null;return Jl(o,d,!0,!0,e),JS(l,o),p;function y(S){it(l[pr[S]],function(T){if(g1(T.model)){var A=c.ensureRecord(T.model),E=A.labelInfoList;if(E)for(var L=0;L<E.length;L++){var I=E[L],N=T.scale.normalize(tc(I.label).tickValue);N=S===1?1-N:N,b(I.rect,S,N),b(I.rect,1-S,NaN)}var F=A.nameLayout;if(F){var N=Fo(A.nameLocation)?.5:NaN;b(F.rect,S,N),b(F.rect,1-S,NaN)}}})}function b(S,T,A){var E=n[pr[T]]-S[pr[T]],L=S[ea[T]]+S[pr[T]]-(n[ea[T]]+n[pr[T]]);E=x(E,1-A),L=x(L,A);var I=uE[T][0],N=uE[T][1];d[I]=qi(d[I],E),d[N]=qi(d[N],L)}function x(S,T){return S>0&&!Pi(T)&&T>1e-4&&(S/=T),S}}function bX(n,r,e,o,l){var c=new Dz(xX);return it(e,function(f){return it(f,function(d){if(g1(d.model)){var p=!o;d.axisBuilder=ec(n,r,d.model,l,c,p)}})}),c}function Yz(n,r,e,o,l,c){var f=e===vl.determine;it(r,function(y){return it(y,function(b){g1(b.model)&&(kh(b.axisBuilder,n,b.model),b.axisBuilder.build(f?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:l}))})});var d={x:0,y:0};p(0),p(1);function p(y){d[pr[1-y]]=n[ea[y]]<=c.refContainer[ea[y]]*.5?0:1-y===1?2:1}it(r,function(y,b){return it(y,function(x){g1(x.model)&&((o==="all"||f)&&x.axisBuilder.build({axisName:!0},{nameMarginLevel:d[b]}),f&&x.axisBuilder.build({axisLine:!0}))})})}function _X(n,r,e){var o,l=n.get("outerBoundsMode",!0);l==="same"?o=r.clone():(l==null||l==="auto")&&(o=Wn(n.get("outerBounds",!0)||lz,e.refContainer));var c=n.get("outerBoundsContain",!0),f;c==null||c==="auto"||Xe(["all","axisLabel"],c)<0?f="all":f=c;var d=[Mp(fe(n.get("outerBoundsClampWidth",!0),RS[0]),r.width),Mp(fe(n.get("outerBoundsClampHeight",!0),RS[1]),r.height)];return{outerBoundsRect:o,parsedOuterBoundsContain:f,outerBoundsClamp:d}}var xX=function(n,r,e,o,l,c){var f=e.axis.dim==="x"?"y":"x";Rz(n,r,e,o,l,c),Fo(n.nameLocation)||it(r.recordMap[f],function(d){d&&d.labelInfoList&&d.dirVec&&$a(d.labelInfoList,d.dirVec,o,l)})},wX=yX;function SX(n,r){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return MX(e,n,r),e.seriesInvolved&&OX(e,n),e}function MX(n,r,e){var o=r.getComponent("tooltip"),l=r.getComponent("axisPointer"),c=l.get("link",!0)||[],f=[];it(e.getCoordinateSystems(),function(d){if(!d.axisPointerEnabled)return;var p=Fg(d.model),y=n.coordSysAxesInfo[p]={};n.coordSysMap[p]=d;var b=d.model,x=b.getModel("tooltip",o);if(it(d.getAxes(),hr(E,!1,null)),d.getTooltipAxes&&o&&x.get("show")){var S=x.get("trigger")==="axis",T=x.get(["axisPointer","type"])==="cross",A=d.getTooltipAxes(x.get(["axisPointer","axis"]));(S||T)&&it(A.baseAxes,hr(E,T?"cross":!0,S)),T&&it(A.otherAxes,hr(E,"cross",!1))}function E(L,I,N){var F=N.model.getModel("axisPointer",l),W=F.get("show");if(!(!W||W==="auto"&&!L&&!rc(F))){I==null&&(I=F.get("triggerTooltip")),F=L?TX(N,x,l,r,L,I):F;var X=F.get("snap"),$=F.get("triggerEmphasis"),K=Fg(N.model),et=I||X||N.type==="category",at=n.axesInfo[K]={key:K,axis:N,coordSys:d,axisPointerModel:F,triggerTooltip:I,triggerEmphasis:$,involveSeries:et,snap:X,useHandle:rc(F),seriesModels:[],linkGroup:null};y[K]=at,n.seriesInvolved=n.seriesInvolved||et;var ot=AX(c,N);if(ot!=null){var ht=f[ot]||(f[ot]={axesInfo:{}});ht.axesInfo[K]=at,ht.mapper=c[ot].mapper,at.linkGroup=ht}}}})}function TX(n,r,e,o,l,c){var f=r.getModel("axisPointer"),d=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],p={};it(d,function(S){p[S]=Ne(f.get(S))}),p.snap=n.type!=="category"&&!!c,f.get("type")==="cross"&&(p.type="line");var y=p.label||(p.label={});if(y.show==null&&(y.show=!1),l==="cross"){var b=f.get(["label","show"]);if(y.show=b!=null?b:!0,!c){var x=p.lineStyle=f.get("crossStyle");x&&je(y,x.textStyle)}}return n.model.getModel("axisPointer",new an(p,e,o))}function OX(n,r){r.eachSeries(function(e){var o=e.coordinateSystem,l=e.get(["tooltip","trigger"],!0),c=e.get(["tooltip","show"],!0);!o||!o.model||l==="none"||l===!1||l==="item"||c===!1||e.get(["axisPointer","show"],!0)===!1||it(n.coordSysAxesInfo[Fg(o.model)],function(f){var d=f.axis;o.getAxis(d.dim)===d&&(f.seriesModels.push(e),f.seriesDataCount==null&&(f.seriesDataCount=0),f.seriesDataCount+=e.getData().count())})})}function AX(n,r){for(var e=r.model,o=r.dim,l=0;l<n.length;l++){var c=n[l]||{};if(S1(c[o+"AxisId"],e.id)||S1(c[o+"AxisIndex"],e.componentIndex)||S1(c[o+"AxisName"],e.name))return l}}function S1(n,r){return n==="all"||Ut(n)&&Xe(n,r)>=0||n===r}function CX(n){var r=dE(n);if(r){var e=r.axisPointerModel,o=r.axis.scale,l=e.option,c=e.get("status"),f=e.get("value");f!=null&&(f=o.parse(f));var d=rc(e);c==null&&(l.status=d?"show":"hide");var p=o.getExtent().slice();p[0]>p[1]&&p.reverse(),(f==null||f>p[1])&&(f=p[1]),f<p[0]&&(f=p[0]),l.value=f,d&&(l.status=r.axis.scale.isBlank()?"hide":"show")}}function dE(n){var r=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[Fg(n)]}function PX(n){var r=dE(n);return r&&r.axisPointerModel}function rc(n){return!!n.get(["handle","show"])}function Fg(n){return n.type+"||"+n.id}var Uz={},Xz=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l,c){this.axisPointerClass&&CX(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,l,!0)},r.prototype.updateAxisPointer=function(e,o,l,c){this._doUpdateAxisPointerClass(e,l,!1)},r.prototype.remove=function(e,o){var l=this._axisPointer;l&&l.remove(o)},r.prototype.dispose=function(e,o){this._disposeAxisPointer(o),n.prototype.dispose.apply(this,arguments)},r.prototype._doUpdateAxisPointerClass=function(e,o,l){var c=r.getAxisPointerClass(this.axisPointerClass);if(c){var f=PX(e);f?(this._axisPointer||(this._axisPointer=new c)).render(e,f,o,l):this._disposeAxisPointer(o)}},r.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},r.registerAxisPointerClass=function(e,o){Uz[e]=o},r.getAxisPointerClass=function(e){return e&&Uz[e]},r.type="axis",r}(ui),Av=Xz,t2=br();function e2(n,r,e,o){var l=e.axis;if(!l.scale.isBlank()){var c=e.getModel("splitArea"),f=c.getModel("areaStyle"),d=f.get("color"),p=o.coordinateSystem.getRect(),y=l.getTicksCoords({tickModel:c,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(y.length){var b=d.length,x=t2(n).splitAreaColors,S=ve(),T=0;if(x)for(var A=0;A<y.length;A++){var E=x.get(y[A].tickValue);if(E!=null){T=(E+(b-1)*A)%b;break}}var L=l.toGlobalCoord(y[0].coord),I=f.getAreaStyle();d=Ut(d)?d:[d];for(var A=1;A<y.length;A++){var N=l.toGlobalCoord(y[A].coord),F=void 0,W=void 0,X=void 0,$=void 0;l.isHorizontal()?(F=L,W=p.y,X=N-F,$=p.height,L=F+X):(F=p.x,W=L,X=p.width,$=N-W,L=W+$);var K=y[A-1].tickValue;K!=null&&S.set(K,T),r.add(new kr({anid:K!=null?"area_"+K:null,shape:{x:F,y:W,width:X,height:$},style:je({fill:d[T]},I),autoBatch:!0,silent:!0})),T=(T+1)%b}t2(n).splitAreaColors=S}}}function r2(n){t2(n).splitAreaColors=null}var EX=["splitArea","splitLine","minorSplitLine","breakArea"],$z=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.axisPointerClass="CartesianAxisPointer",e}return r.prototype.render=function(e,o,l,c){this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new Ye,this.group.add(this._axisGroup),!!g1(e)){this._axisGroup.add(e.axis.axisBuilder.group),it(EX,function(p){e.get([p,"show"])&&vE[p](this,this._axisGroup,e,e.getCoordSysModel(),l)},this);var d=c&&c.type==="changeAxisOrder"&&c.isInitSort;d||sh(f,this._axisGroup,e),n.prototype.render.call(this,e,o,l,c)}},r.prototype.remove=function(){r2(this)},r.type="cartesianAxis",r}(Av),vE={splitLine:function(n,r,e,o,l){var c=e.axis;if(!c.scale.isBlank()){var f=e.getModel("splitLine"),d=f.getModel("lineStyle"),p=d.get("color"),y=f.get("showMinLine")!==!1,b=f.get("showMaxLine")!==!1;p=Ut(p)?p:[p];for(var x=o.coordinateSystem.getRect(),S=c.isHorizontal(),T=0,A=c.getTicksCoords({tickModel:f,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),E=[],L=[],I=d.getLineStyle(),N=0;N<A.length;N++){var F=c.toGlobalCoord(A[N].coord);if(!(N===0&&!y||N===A.length-1&&!b)){var W=A[N].tickValue;S?(E[0]=F,E[1]=x.y,L[0]=F,L[1]=x.y+x.height):(E[0]=x.x,E[1]=F,L[0]=x.x+x.width,L[1]=F);var X=T++%p.length,$=new ua({anid:W!=null?"line_"+W:null,autoBatch:!0,shape:{x1:E[0],y1:E[1],x2:L[0],y2:L[1]},style:je({stroke:p[X]},I),silent:!0});av($.shape,I.lineWidth),r.add($)}}}},minorSplitLine:function(n,r,e,o,l){var c=e.axis,f=e.getModel("minorSplitLine"),d=f.getModel("lineStyle"),p=o.coordinateSystem.getRect(),y=c.isHorizontal(),b=c.getMinorTicksCoords();if(b.length)for(var x=[],S=[],T=d.getLineStyle(),A=0;A<b.length;A++)for(var E=0;E<b[A].length;E++){var L=c.toGlobalCoord(b[A][E].coord);y?(x[0]=L,x[1]=p.y,S[0]=L,S[1]=p.y+p.height):(x[0]=p.x,x[1]=L,S[0]=p.x+p.width,S[1]=L);var I=new ua({anid:"minor_line_"+b[A][E].tickValue,autoBatch:!0,shape:{x1:x[0],y1:x[1],x2:S[0],y2:S[1]},style:T,silent:!0});av(I.shape,T.lineWidth),r.add(I)}},splitArea:function(n,r,e,o,l){e2(n,r,e,o)},breakArea:function(n,r,e,o,l){var c=l1(),f=e.axis.scale;c&&f.type!=="ordinal"&&c.rectCoordBuildBreakAxis(r,n,e,o.coordinateSystem.getRect(),l)}},pE=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="xAxis",r}($z),kX=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=pE.type,e}return r.type="yAxis",r}($z),bnt=null,LX=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="grid",e}return r.prototype.render=function(e,o){this.group.removeAll(),e.get("show")&&this.group.add(new kr({shape:e.coordinateSystem.getRect(),style:je({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},r.type="grid",r}(ui),jg={offset:0};function M1(n){n.registerComponentView(LX),n.registerComponentModel(MU),n.registerCoordinateSystem("cartesian2d",wX),Dg(n,"x",GP,jg),Dg(n,"y",GP,jg),n.registerComponentView(pE),n.registerComponentView(kX),n.registerPreprocessor(function(r){r.xAxis&&r.yAxis&&!r.grid&&(r.grid={})})}function gE(n,r){var e=n.coordinateSystem,o=e&&e.type,l=e&&e.getBaseAxis&&e.getBaseAxis(),c=l&&l.scale&&l.scale.type,f=o==="cartesian2d"&&c==="ordinal"||o==="single",d=r.model.get("jitter")>0;return f&&d}var DX=br();function qz(n,r,e,o){if(n instanceof iE){var l=n.scale.type;if(l!=="category"&&l!=="ordinal")return e}var c=n.model,f=c.get("jitter"),d=c.get("jitterOverlap"),p=c.get("jitterMargin")||0,y=n.scale.type==="ordinal"?n.getBandWidth():null;return f>0?d?Zz(e,f,y,o):IX(n,r,e,o,f,p):e}function Zz(n,r,e,o){if(e===null)return n+(Math.random()-.5)*r;var l=e-o*2,c=Math.min(Math.max(0,r),l);return n+(Math.random()-.5)*c}function IX(n,r,e,o,l,c){var f=DX(n);f.items||(f.items=[]);var d=f.items,p=Kz(d,r,e,o,l,c,1),y=Kz(d,r,e,o,l,c,-1),b=Math.abs(p-e)<Math.abs(y-e)?p:y,x=n.scale.type==="ordinal"?n.getBandWidth():null,S=Math.abs(b-e);return S>l/2||x&&S>x/2-o?Zz(e,l,x,o):(d.push({fixedCoord:r,floatCoord:b,r:o}),b)}function Kz(n,r,e,o,l,c,f){for(var d=e,p=0;p<n.length;p++){var y=n[p],b=r-y.fixedCoord,x=d-y.floatCoord,S=b*b+x*x,T=o+y.r+c;if(S<T*T){var A=y.floatCoord+Math.sqrt(T*T-b*b)*f;if(Math.abs(A-e)>l/2)return Number.MAX_VALUE;if(f===1&&A>d||f===-1&&A<d){d=A,p=-1;continue}}}return d}function Qz(n){n.eachSeriesByType("scatter",function(r){var e=r.coordinateSystem;if(e&&(e.type==="cartesian2d"||e.type==="single")){var o=e.getBaseAxis?e.getBaseAxis():null,l=o&&gE(r,o);if(l){var c=r.getData();c.each(function(f){var d=o.dim,p=o.orient,y=p==="horizontal"&&o.type!=="category"||p==="vertical"&&o.type==="category",b=c.getItemLayout(f),x=c.getItemVisual(f,"symbolSize"),S=x instanceof Array?(x[1]+x[0])/2:x;if(d==="y"||d==="single"&&y){var T=qz(o,b[0],b[1],S/2);c.setItemLayout(f,[b[0],T])}else if(d==="x"||d==="single"&&!y){var T=qz(o,b[1],b[0],S/2);c.setItemLayout(f,[T,b[1]])}})}}})}function Jz(n){_r(M1),n.registerSeriesModel(dnt),n.registerChartView(wU),n.registerLayout(Jm("scatter"))}function RX(n){n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,Qz)}function tF(n){n.eachSeriesByType("radar",function(r){var e=r.getData(),o=[],l=r.coordinateSystem;if(l){var c=l.getIndicatorAxes();it(c,function(f,d){e.each(e.mapDimension(c[d].dim),function(p,y){o[y]=o[y]||[];var b=l.dataToPoint(p,d);o[y][d]=Ii(b)?b:eF(l)})}),e.each(function(f){var d=Oa(o[f],function(p){return Ii(p)})||eF(l);o[f].push(d.slice()),e.setItemLayout(f,o[f])})}})}function Ii(n){return!isNaN(n[0])&&!isNaN(n[1])}function eF(n){return[n.cx,n.cy]}function Lh(n){var r=n.polar;if(r){Ut(r)||(r=[r]);var e=[];it(r,function(o,l){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),n.radar=n.radar||[],Ut(n.radar)||(n.radar=[n.radar]),n.radar.push(o)):e.push(o)}),n.polar=e}it(n.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}var NX=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=e.coordinateSystem,f=this.group,d=e.getData(),p=this._data;function y(S,T){var A=S.getItemVisual(T,"symbol")||"circle";if(A!=="none"){var E=hh(S.getItemVisual(T,"symbolSize")),L=ia(A,-1,-1,2,2),I=S.getItemVisual(T,"symbolRotate")||0;return L.attr({style:{strokeNoScale:!0},z2:100,scaleX:E[0]/2,scaleY:E[1]/2,rotation:I*Math.PI/180||0}),L}}function b(S,T,A,E,L,I){A.removeAll();for(var N=0;N<T.length-1;N++){var F=y(E,L);F&&(F.__dimIdx=N,S[N]?(F.setPosition(S[N]),me[I?"initProps":"updateProps"](F,{x:T[N][0],y:T[N][1]},e,L)):F.setPosition(T[N]),A.add(F))}}function x(S){return Gt(S,function(T){return[c.cx,c.cy]})}d.diff(p).add(function(S){var T=d.getItemLayout(S);if(T){var A=new xo,E=new Xa,L={shape:{points:T}};A.shape.points=x(T),E.shape.points=x(T),ni(A,L,e,S),ni(E,L,e,S);var I=new Ye,N=new Ye;I.add(E),I.add(A),I.add(N),b(E.shape.points,T,N,d,S,!0),d.setItemGraphicEl(S,I)}}).update(function(S,T){var A=p.getItemGraphicEl(T),E=A.childAt(0),L=A.childAt(1),I=A.childAt(2),N={shape:{points:d.getItemLayout(S)}};N.shape.points&&(b(E.shape.points,N.shape.points,I,d,S,!1),Ha(L),Ha(E),Qr(E,N,e),Qr(L,N,e),d.setItemGraphicEl(S,A))}).remove(function(S){f.remove(p.getItemGraphicEl(S))}).execute(),d.eachItemGraphicEl(function(S,T){var A=d.getItemModel(T),E=S.childAt(0),L=S.childAt(1),I=S.childAt(2),N=d.getItemVisual(T,"style"),F=N.fill;f.add(S),E.useStyle(je(A.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:F})),pa(E,A,"lineStyle"),pa(L,A,"areaStyle");var W=A.getModel("areaStyle"),X=W.isEmpty()&&W.parentModel.isEmpty();L.ignore=X,it(["emphasis","select","blur"],function(K){var et=A.getModel([K,"areaStyle"]),at=et.isEmpty()&&et.parentModel.isEmpty();L.ensureState(K).ignore=at&&X;var ot=A.getModel([K,"lineStyle"]).getLineStyle();E.ensureState(K).style=ot;var ht=et.getAreaStyle();L.ensureState(K).style=ht;var yt=A.getModel([K,"itemStyle"]).getItemStyle();I.eachChild(function(vt){vt.ensureState(K).style=Ne(yt)})}),L.useStyle(je(A.getModel("areaStyle").getAreaStyle(),{fill:F,opacity:.7,decal:N.decal}));var $=A.getModel("emphasis");I.eachChild(function(K){if(K instanceof ka){var et=K.style;K.useStyle(Wt({image:et.image,x:et.x,y:et.y,width:et.width,height:et.height},N))}else K.useStyle(N),K.setColor(F),K.style.strokeNoScale=!0;var at=d.getStore().get(d.getDimensionIndex(K.__dimIdx),T);(at==null||isNaN(at))&&(at=""),Da(K,ga(A),{labelFetcher:d.hostModel,labelDataIndex:T,labelDimIndex:K.__dimIdx,defaultText:at,inheritColor:F,defaultOpacity:N.opacity})}),ri(S,$.get("focus"),$.get("blurScope"),$.get("disabled"))}),this._data=d},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.type="radar",r}(Hn),yE=NX,BX=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e}return r.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new kg(ue(this.getData,this),ue(this.getRawData,this))},r.prototype.getInitialData=function(e,o){return Sv(this,{generateCoord:"indicator_",generateCoordCount:1/0})},r.prototype.formatTooltip=function(e,o,l){var c=this.getData(),f=this.coordinateSystem,d=f.getIndicatorAxes(),p=this.getData().getName(e),y=p===""?this.name:p,b=BA(this,e);return Li("section",{header:y,sortBlocks:!0,blocks:Gt(d,function(x){var S=c.get(c.mapDimension(x.dim),e);return Li("nameValue",{markerType:"subItem",markerColor:b,name:x.name,value:S,sortParam:S})})})},r.prototype.getTooltipPosition=function(e){if(e!=null){for(var o=this.getData(),l=this.coordinateSystem,c=o.getValues(Gt(l.dimensions,function(y){return o.mapDimension(y)}),e),f=0,d=c.length;f<d;f++)if(!isNaN(c[f])){var p=l.getIndicatorAxes();return l.coordToPoint(p[f].dataToCoord(c[f]),f)}}},r.type="series.radar",r.dependencies=["radar"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},r}(ai),rF=BX,T1=HP.value;function n2(n,r){return je({show:r},n)}var zX=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),o=this.get("splitNumber"),l=this.get("scale"),c=this.get("axisLine"),f=this.get("axisTick"),d=this.get("axisLabel"),p=this.get("axisName"),y=this.get(["axisName","show"]),b=this.get(["axisName","formatter"]),x=this.get("axisNameGap"),S=this.get("triggerEvent"),T=Gt(this.get("indicator")||[],function(A){A.max!=null&&A.max>0&&!A.min?A.min=0:A.min!=null&&A.min<0&&!A.max&&(A.max=0);var E=p;A.color!=null&&(E=je({color:A.color},p));var L=lr(Ne(A),{boundaryGap:e,splitNumber:o,scale:l,axisLine:c,axisTick:f,axisLabel:d,name:A.text,showName:y,nameLocation:"end",nameGap:x,nameTextStyle:E,triggerEvent:S},!1);if(oe(b)){var I=L.name;L.name=b.replace("{value}",I!=null?I:"")}else ze(b)&&(L.name=b(L.name,L));var N=new an(L,null,this.ecModel);return Ln(N,s1.prototype),N.mainType="radar",N.componentIndex=this.componentIndex,N},this);this._indicatorModels=T},r.prototype.getIndicatorModels=function(){return this._indicatorModels},r.type="radar",r.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:Rt.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:lr({lineStyle:{color:Rt.color.neutral20}},T1.axisLine),axisLabel:n2(T1.axisLabel,!1),axisTick:n2(T1.axisTick,!1),splitLine:n2(T1.splitLine,!0),splitArea:n2(T1.splitArea,!0),indicator:[]},r}(Yr),FX=zX,jX=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=this.group;c.removeAll(),this._buildAxes(e,l),this._buildSplitLineAndArea(e)},r.prototype._buildAxes=function(e,o){var l=e.coordinateSystem,c=l.getIndicatorAxes(),f=Gt(c,function(d){var p=d.model.get("showName")?d.name:"",y=new ou(d.model,o,{axisName:p,position:[l.cx,l.cy],rotation:d.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return y});it(f,function(d){d.build(),this.group.add(d.group)},this)},r.prototype._buildSplitLineAndArea=function(e){var o=e.coordinateSystem,l=o.getIndicatorAxes();if(!l.length)return;var c=e.get("shape"),f=e.getModel("splitLine"),d=e.getModel("splitArea"),p=f.getModel("lineStyle"),y=d.getModel("areaStyle"),b=f.get("show"),x=d.get("show"),S=p.get("color"),T=y.get("color"),A=Ut(S)?S:[S],E=Ut(T)?T:[T],L=[],I=[];function N(Mt,St,Pt){var Et=Pt%St.length;return Mt[Et]=Mt[Et]||[],Et}if(c==="circle")for(var F=l[0].getTicksCoords(),W=o.cx,X=o.cy,$=0;$<F.length;$++){if(b){var K=N(L,A,$);L[K].push(new nh({shape:{cx:W,cy:X,r:F[$].coord}}))}if(x&&$<F.length-1){var K=N(I,E,$);I[K].push(new zn({shape:{cx:W,cy:X,r0:F[$].coord,r:F[$+1].coord}}))}}else for(var et,at=Gt(l,function(Mt,St){var Pt=Mt.getTicksCoords();return et=et==null?Pt.length-1:Math.min(Pt.length-1,et),Gt(Pt,function(Et){return o.coordToPoint(Et.coord,St)})}),ot=[],$=0;$<=et;$++){for(var ht=[],yt=0;yt<l.length;yt++)ht.push(at[yt][$]);if(ht[0]&&ht.push(ht[0].slice()),b){var K=N(L,A,$);L[K].push(new Xa({shape:{points:ht}}))}if(x&&ot){var K=N(I,E,$-1);I[K].push(new xo({shape:{points:ht.concat(ot)}}))}ot=ht.slice().reverse()}var vt=p.getLineStyle(),bt=y.getAreaStyle();it(I,function(Mt,St){this.group.add(Kl(Mt,{style:je({stroke:"none",fill:E[St%E.length]},bt),silent:!0}))},this),it(L,function(Mt,St){this.group.add(Kl(Mt,{style:je({fill:"none",stroke:A[St%A.length]},vt),silent:!0}))},this)},r.type="radar",r}(ui),su=jX,nF=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this,e,o,l)||this;return c.type="value",c.angle=0,c.name="",c}return r}(au),O1=nF,VX=function(){function n(r,e,o){this.dimensions=[],this._model=r,this._indicatorAxes=Gt(r.getIndicatorModels(),function(l,c){var f="indicator_"+c,d=new O1(f,new Ch);return d.name=l.get("name"),d.model=l,l.axis=d,this.dimensions.push(f),d},this),this.resize(r,o)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(r,e){var o=this._indicatorAxes[e];return this.coordToPoint(o.dataToCoord(r),e)},n.prototype.coordToPoint=function(r,e){var o=this._indicatorAxes[e],l=o.angle,c=this.cx+r*Math.cos(l),f=this.cy-r*Math.sin(l);return[c,f]},n.prototype.pointToData=function(r){var e=r[0]-this.cx,o=r[1]-this.cy,l=Math.sqrt(e*e+o*o);e/=l,o/=l;for(var c=Math.atan2(-o,e),f=1/0,d,p=-1,y=0;y<this._indicatorAxes.length;y++){var b=this._indicatorAxes[y],x=Math.abs(c-b.angle);x<f&&(d=b,p=y,f=x)}return[p,+(d&&d.coordToData(l))]},n.prototype.resize=function(r,e){var o=ya(r,e).refContainer,l=r.get("center"),c=Math.min(o.width,o.height)/2;this.cx=de(l[0],o.width)+o.x,this.cy=de(l[1],o.height)+o.y,this.startAngle=r.get("startAngle")*Math.PI/180;var f=r.get("radius");(oe(f)||qe(f))&&(f=[0,f]),this.r0=de(f[0],c),this.r=de(f[1],c),it(this._indicatorAxes,function(d,p){d.setExtent(this.r0,this.r);var y=this.startAngle+p*Math.PI*2/this._indicatorAxes.length;y=Math.atan2(Math.sin(y),Math.cos(y)),d.angle=y},this)},n.prototype.update=function(r,e){var o=this._indicatorAxes,l=this._model;it(o,function(d){d.scale.setExtent(1/0,-1/0)}),r.eachSeriesByType("radar",function(d,p){if(!(d.get("coordinateSystem")!=="radar"||r.getComponent("radar",d.get("radarIndex"))!==l)){var y=d.getData();it(o,function(b){b.scale.unionExtentFromData(y,y.mapDimension(b.dim))})}},this);var c=l.get("splitNumber"),f=new Ch;f.setExtent(0,c),f.setInterval(1),it(o,function(d,p){Vz(d.scale,d.model,f)})},n.prototype.convertToPixel=function(r,e,o){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(r,e,o){return console.warn("Not implemented."),null},n.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},n.create=function(r,e){var o=[];return r.eachComponent("radar",function(l){var c=new n(l,r,e);o.push(c),l.coordinateSystem=c}),r.eachSeriesByType("radar",function(l){l.get("coordinateSystem")==="radar"&&(l.coordinateSystem=o[l.get("radarIndex")||0])}),o},n.dimensions=[],n}(),A1=VX;function Vg(n){n.registerCoordinateSystem("radar",A1),n.registerComponentModel(FX),n.registerComponentView(su),n.registerVisual({seriesType:"radar",reset:function(r){var e=r.getData();e.each(function(o){e.setItemVisual(o,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function Dh(n){_r(Vg),n.registerChartView(yE),n.registerSeriesModel(rF),n.registerLayout(tF),n.registerProcessor(Pg("radar")),n.registerPreprocessor(Lh)}var Gg=br();function i2(n,r,e){Gg(n)[r]=e}function GX(n,r,e){var o=Gg(n),l=o[r];l===e&&(o[r]=null)}function iF(n,r){return!!Gg(n)[r]}_a({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},_t);var WX={axisPointer:1,tooltip:1,brush:1};function Wg(n,r,e){var o=r.getComponentByElement(n.topTarget);if(!o||o===e||WX.hasOwnProperty(o.mainType))return!1;var l=o.coordinateSystem;if(!l||l.model===e)return!1;var c=ll(o),f=ll(e);return!((c.zlevel-f.zlevel||c.z-f.z)<=0)}var HX=function(n){Ot(r,n);function r(e){var o=n.call(this)||this;o._zr=e;var l=ue(o._mousedownHandler,o),c=ue(o._mousemoveHandler,o),f=ue(o._mouseupHandler,o),d=ue(o._mousewheelHandler,o),p=ue(o._pinchHandler,o);return o.enable=function(y,b){var x=b.zInfo,S=ll(x.component),T=S.z,A=S.zlevel,E={component:x.component,z:T,zlevel:A,z2:fe(x.z2,-1/0)},L=Wt({},b.triggerInfo);this._opt=je(Wt({},b),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:E,triggerInfo:L}),y==null&&(y=!0),(!this._enabled||this._controlType!==y)&&(this._enabled=!0,this.disable(),(y===!0||y==="move"||y==="pan")&&(E1(e,"mousedown",l,E),E1(e,"mousemove",c,E),E1(e,"mouseup",f,E)),(y===!0||y==="scale"||y==="zoom")&&(E1(e,"mousewheel",d,E),E1(e,"pinch",p,E)))},o.disable=function(){this._enabled=!1,k1(e,"mousedown",l),k1(e,"mousemove",c),k1(e,"mouseup",f),k1(e,"mousewheel",d),k1(e,"pinch",p)},o}return r.prototype.isDragging=function(){return this._dragging},r.prototype.isPinching=function(){return this._pinching},r.prototype._checkPointer=function(e,o,l){var c=this._opt,f=c.zInfoParsed;if(Wg(e,c.api,f.component))return!1;var d=c.triggerInfo,p=d.roamTrigger,y=!1;return p==="global"&&(y=!0),y||(y=d.isInSelf(e,o,l)),y&&d.isInClip&&!d.isInClip(e,o,l)&&(y=!1),y},r.prototype._decideCursorStyle=function(e,o,l,c){var f=e.target;if(!f&&this._checkPointer(e,o,l))return"grab";if(c)return f&&f.cursor||"default"},r.prototype.dispose=function(){this.disable()},r.prototype._mousedownHandler=function(e){if(!(x9(e)||C1(e))){for(var o=e.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var l=e.offsetX,c=e.offsetY;this._checkPointer(e,l,c)&&(this._x=l,this._y=c,this._dragging=!0)}},r.prototype._mousemoveHandler=function(e){var o=this._zr;if(!(e.gestureEvent==="pinch"||iF(o,"globalPan")||C1(e))){var l=e.offsetX,c=e.offsetY;if(!this._dragging||!Hg("moveOnMouseMove",e,this._opt)){var f=this._decideCursorStyle(e,l,c,!1);f&&o.setCursorStyle(f);return}o.setCursorStyle("grabbing");var d=this._x,p=this._y,y=l-d,b=c-p;this._x=l,this._y=c,this._opt.preventDefaultMouseMove&&_c(e.event),e.__ecRoamConsumed=!0,mE(this,"pan","moveOnMouseMove",e,{dx:y,dy:b,oldX:d,oldY:p,newX:l,newY:c,isAvailableBehavior:null})}},r.prototype._mouseupHandler=function(e){if(!C1(e)){var o=this._zr;if(!x9(e)){this._dragging=!1;var l=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);l&&o.setCursorStyle(l)}}},r.prototype._mousewheelHandler=function(e){if(!C1(e)){var o=Hg("zoomOnMouseWheel",e,this._opt),l=Hg("moveOnMouseWheel",e,this._opt),c=e.wheelDelta,f=Math.abs(c),d=e.offsetX,p=e.offsetY;if(!(c===0||!o&&!l)){if(o){var y=f>3?1.4:f>1?1.2:1.1,b=c>0?y:1/y;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:b,originX:d,originY:p,isAvailableBehavior:null})}if(l){var x=Math.abs(c),S=(c>0?1:-1)*(x>3?.4:x>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:S,originX:d,originY:p,isAvailableBehavior:null})}}}},r.prototype._pinchHandler=function(e){if(!(iF(this._zr,"globalPan")||C1(e))){var o=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:o,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},r.prototype._checkTriggerMoveZoom=function(e,o,l,c,f){e._checkPointer(c,f.originX,f.originY)&&(_c(c.event),c.__ecRoamConsumed=!0,mE(e,o,l,c,f))},r}(Cl);function C1(n){return n.__ecRoamConsumed}var aF=br();function P1(n){var r=aF(n);return r.roam=r.roam||{},r.uniform=r.uniform||{},r}function E1(n,r,e,o){for(var l=P1(n),c=l.roam,f=c[r]=c[r]||[],d=0;d<f.length;d++){var p=f[d].zInfoParsed;if((p.zlevel-o.zlevel||p.z-o.z||p.z2-o.z2)<=0)break}f.splice(d,0,{listener:e,zInfoParsed:o}),L1(n,r)}function k1(n,r,e){for(var o=P1(n),l=o.roam[r]||[],c=0;c<l.length;c++)if(l[c].listener===e){l.splice(c,1),l.length||oF(n,r);return}}function L1(n,r){var e=P1(n);e.uniform[r]||n.on(r,e.uniform[r]=function(o){var l=e.roam[r];if(l)for(var c=0;c<l.length;c++)l[c].listener(o)})}function oF(n,r){var e=P1(n),o=e.uniform;o[r]&&(n.off(r,o[r]),o[r]=null)}function mE(n,r,e,o,l){l.isAvailableBehavior=ue(Hg,null,e,o),n.trigger(r,l)}function Hg(n,r,e){var o=e[n];return!n||o&&(!oe(o)||r.event[o+"Key"])}var Cv=HX;function a2(n,r,e){var o=n.target;o.x+=r,o.y+=e,o.dirty()}function bE(n,r,e,o){var l=n.target,c=n.zoomLimit,f=n.zoom=n.zoom||1;f*=r,f=wE(f,c);var d=f/n.zoom;n.zoom=f,sF(l,e,o,d),l.dirty()}function _E(n,r,e,o,l,c){var f=new Je(0,0,0,0);o.enable(n.get("roam"),{api:r,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(y,b,x){return f.copy(e.getBoundingRect()),f.applyTransform(e.getComputedTransform()),f.contain(b,x)},isInClip:function(y,b,x){return!c||c.contain(b,x)}}}),l.zoomLimit=n.get("scaleLimit");var d=n.coordinateSystem;l.zoom=d?d.getZoom():1;var p=n.subType+"Roam";o.off("pan").off("zoom").on("pan",function(y){a2(l,y.dx,y.dy),r.dispatchAction({seriesId:n.id,type:p,dx:y.dx,dy:y.dy})}).on("zoom",function(y){bE(l,y.scale,y.originX,y.originY),r.dispatchAction({seriesId:n.id,type:p,zoom:y.scale,originX:y.originX,originY:y.originY}),r.updateLabelLayout()})}function xE(n,r){return n.pointToProjected?n.pointToProjected(r):n.pointToData(r)}function D1(n,r,e){var o=n.getZoom(),l=n.getCenter(),c=r.zoom,f=n.projectedToPoint?n.projectedToPoint(l):n.dataToPoint(l);return r.dx!=null&&r.dy!=null&&(f[0]-=r.dx,f[1]-=r.dy,n.setCenter(xE(n,f))),c!=null&&(c=wE(o*c,e)/o,sF(n,r.originX,r.originY,c),n.updateTransform(),n.setCenter(xE(n,f)),n.setZoom(c*o)),{center:n.getCenter(),zoom:n.getZoom()}}function sF(n,r,e,o){n.x-=(r-n.x)*(o-1),n.y-=(e-n.y)*(o-1),n.scaleX*=o,n.scaleY*=o}function wE(n,r){if(r){var e=r.min||0,o=r.max||1/0;n=Math.max(Math.min(o,n),e)}return n}function SE(n){if(oe(n)){var r=new DOMParser;n=r.parseFromString(n,"text/xml")}var e=n;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var ME,o2={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Pv=vr(o2),Ih={"alignment-baseline":"textBaseline","stop-color":"stopColor"},s2=vr(Ih),YX=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(r,e){e=e||{};var o=SE(r);this._defsUsePending=[];var l=new Ye;this._root=l;var c=[],f=o.getAttribute("viewBox")||"",d=parseFloat(o.getAttribute("width")||e.width),p=parseFloat(o.getAttribute("height")||e.height);isNaN(d)&&(d=null),isNaN(p)&&(p=null),is(o,l,null,!0,!1);for(var y=o.firstChild;y;)this._parseNode(y,l,c,null,!1,!1),y=y.nextSibling;OE(this._defs,this._defsUsePending),this._defsUsePending=[];var b,x;if(f){var S=l2(f);S.length>=4&&(b={x:parseFloat(S[0]||0),y:parseFloat(S[1]||0),width:parseFloat(S[2]),height:parseFloat(S[3])})}if(b&&d!=null&&p!=null&&(x=c2(b,{x:0,y:0,width:d,height:p}),!e.ignoreViewBox)){var T=l;l=new Ye,l.add(T),T.scaleX=T.scaleY=x.scale,T.x=x.x,T.y=x.y}return!e.ignoreRootClip&&d!=null&&p!=null&&l.setClipPath(new kr({shape:{x:0,y:0,width:d,height:p}})),{root:l,width:d,height:p,viewBoxRect:b,viewBoxTransform:x,named:c}},n.prototype._parseNode=function(r,e,o,l,c,f){var d=r.nodeName.toLowerCase(),p,y=l;if(d==="defs"&&(c=!0),d==="text"&&(f=!0),d==="defs"||d==="switch")p=e;else{if(!c){var b=ME[d];if(b&&gt(ME,d)){p=b.call(this,r,e);var x=r.getAttribute("name");if(x){var S={name:x,namedFrom:null,svgNodeTagLower:d,el:p};o.push(S),d==="g"&&(y=S)}else l&&o.push({name:l.name,namedFrom:l,svgNodeTagLower:d,el:p});e.add(p)}}var T=lF[d];if(T&&gt(lF,d)){var A=T.call(this,r),E=r.getAttribute("id");E&&(this._defs[E]=A)}}if(p&&p.isGroup)for(var L=r.firstChild;L;)L.nodeType===1?this._parseNode(L,p,o,y,c,f):L.nodeType===3&&f&&this._parseText(L,p),L=L.nextSibling},n.prototype._parseText=function(r,e){var o=new Ep({style:{text:r.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Fs(e,o),is(r,o,this._defsUsePending,!1,!1),UX(o,e);var l=o.style,c=l.fontSize;c&&c<9&&(l.fontSize=9,o.scaleX*=c/9,o.scaleY*=c/9);var f=(l.fontSize||l.fontFamily)&&[l.fontStyle,l.fontWeight,(l.fontSize||12)+"px",l.fontFamily||"sans-serif"].join(" ");l.font=f;var d=o.getBoundingRect();return this._textX+=d.width,e.add(o),o},n.internalField=function(){ME={g:function(r,e){var o=new Ye;return Fs(e,o),is(r,o,this._defsUsePending,!1,!1),o},rect:function(r,e){var o=new kr;return Fs(e,o),is(r,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(r.getAttribute("x")||"0"),y:parseFloat(r.getAttribute("y")||"0"),width:parseFloat(r.getAttribute("width")||"0"),height:parseFloat(r.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(r,e){var o=new nh;return Fs(e,o),is(r,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),r:parseFloat(r.getAttribute("r")||"0")}),o.silent=!0,o},line:function(r,e){var o=new ua;return Fs(e,o),is(r,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(r.getAttribute("x1")||"0"),y1:parseFloat(r.getAttribute("y1")||"0"),x2:parseFloat(r.getAttribute("x2")||"0"),y2:parseFloat(r.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(r,e){var o=new WA;return Fs(e,o),is(r,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),rx:parseFloat(r.getAttribute("rx")||"0"),ry:parseFloat(r.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(r,e){var o=r.getAttribute("points"),l;o&&(l=fF(o));var c=new xo({shape:{points:l||[]},silent:!0});return Fs(e,c),is(r,c,this._defsUsePending,!1,!1),c},polyline:function(r,e){var o=r.getAttribute("points"),l;o&&(l=fF(o));var c=new Xa({shape:{points:l||[]},silent:!0});return Fs(e,c),is(r,c,this._defsUsePending,!1,!1),c},image:function(r,e){var o=new ka;return Fs(e,o),is(r,o,this._defsUsePending,!1,!1),o.setStyle({image:r.getAttribute("xlink:href")||r.getAttribute("href"),x:+r.getAttribute("x"),y:+r.getAttribute("y"),width:+r.getAttribute("width"),height:+r.getAttribute("height")}),o.silent=!0,o},text:function(r,e){var o=r.getAttribute("x")||"0",l=r.getAttribute("y")||"0",c=r.getAttribute("dx")||"0",f=r.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(c),this._textY=parseFloat(l)+parseFloat(f);var d=new Ye;return Fs(e,d),is(r,d,this._defsUsePending,!1,!0),d},tspan:function(r,e){var o=r.getAttribute("x"),l=r.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),l!=null&&(this._textY=parseFloat(l));var c=r.getAttribute("dx")||"0",f=r.getAttribute("dy")||"0",d=new Ye;return Fs(e,d),is(r,d,this._defsUsePending,!1,!0),this._textX+=parseFloat(c),this._textY+=parseFloat(f),d},path:function(r,e){var o=r.getAttribute("d")||"",l=Qp(o);return Fs(e,l),is(r,l,this._defsUsePending,!1,!1),l.silent=!0,l}}}(),n}(),lF={lineargradient:function(n){var r=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),o=parseInt(n.getAttribute("x2")||"10",10),l=parseInt(n.getAttribute("y2")||"0",10),c=new Vc(r,e,o,l);return uF(n,c),cF(n,c),c},radialgradient:function(n){var r=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),o=parseInt(n.getAttribute("r")||"0",10),l=new cw(r,e,o);return uF(n,l),cF(n,l),l}};function uF(n,r){var e=n.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(r.global=!0)}function cF(n,r){for(var e=n.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var o=e.getAttribute("offset"),l=void 0;o&&o.indexOf("%")>0?l=parseInt(o,10)/100:o?l=parseFloat(o):l=0;var c={};gF(e,c,c);var f=c.stopColor||e.getAttribute("stop-color")||"#000000",d=c.stopOpacity||e.getAttribute("stop-opacity");if(d){var p=$o(f),y=p&&p[3];y&&(p[3]*=_d(d),f=Il(p,"rgba"))}r.colorStops.push({offset:l,color:f})}e=e.nextSibling}}function Fs(n,r){n&&n.__inheritedStyle&&(r.__inheritedStyle||(r.__inheritedStyle={}),je(r.__inheritedStyle,n.__inheritedStyle))}function fF(n){for(var r=l2(n),e=[],o=0;o<r.length;o+=2){var l=parseFloat(r[o]),c=parseFloat(r[o+1]);e.push([l,c])}return e}function is(n,r,e,o,l){var c=r,f=c.__inheritedStyle=c.__inheritedStyle||{},d={};n.nodeType===1&&(vF(n,r),gF(n,f,d),o||yF(n,f,d)),c.style=c.style||{},f.fill!=null&&(c.style.fill=TE(c,"fill",f.fill,e)),f.stroke!=null&&(c.style.stroke=TE(c,"stroke",f.stroke,e)),it(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(p){f[p]!=null&&(c.style[p]=parseFloat(f[p]))}),it(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(p){f[p]!=null&&(c.style[p]=f[p])}),l&&(c.__selfStyle=d),f.lineDash&&(c.style.lineDash=Gt(l2(f.lineDash),function(p){return parseFloat(p)})),(f.visibility==="hidden"||f.visibility==="collapse")&&(c.invisible=!0),f.display==="none"&&(c.ignore=!0)}function UX(n,r){var e=r.__selfStyle;if(e){var o=e.textBaseline,l=o;!o||o==="auto"||o==="baseline"?l="alphabetic":o==="before-edge"||o==="text-before-edge"?l="top":o==="after-edge"||o==="text-after-edge"?l="bottom":(o==="central"||o==="mathematical")&&(l="middle"),n.style.textBaseline=l}var c=r.__inheritedStyle;if(c){var f=c.textAlign,d=f;f&&(f==="middle"&&(d="center"),n.style.textAlign=d)}}var hF=/^url\(\s*#(.*?)\)/;function TE(n,r,e,o){var l=e&&e.match(hF);if(l){var c=Xo(l[1]);o.push([n,r,c]);return}return e==="none"&&(e=null),e}function OE(n,r){for(var e=0;e<r.length;e++){var o=r[e];o[0].style[o[1]]=n[o[2]]}}var XX=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function l2(n){return n.match(XX)||[]}var dF=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,u2=Math.PI/180;function vF(n,r){var e=n.getAttribute("transform");if(e){e=e.replace(/,/g," ");var o=[],l=null;e.replace(dF,function(x,S,T){return o.push(S,T),""});for(var c=o.length-1;c>0;c-=2){var f=o[c],d=o[c-1],p=l2(f);switch(l=l||no(),d){case"translate":xc(l,l,[parseFloat(p[0]),parseFloat(p[1]||"0")]);break;case"scale":VI(l,l,[parseFloat(p[0]),parseFloat(p[1]||p[0])]);break;case"rotate":Cf(l,l,-parseFloat(p[0])*u2,[parseFloat(p[1]||"0"),parseFloat(p[2]||"0")]);break;case"skewX":var y=Math.tan(parseFloat(p[0])*u2);Su(l,[1,0,y,1,0,0],l);break;case"skewY":var b=Math.tan(parseFloat(p[0])*u2);Su(l,[1,b,0,1,0,0],l);break;case"matrix":l[0]=parseFloat(p[0]),l[1]=parseFloat(p[1]),l[2]=parseFloat(p[2]),l[3]=parseFloat(p[3]),l[4]=parseFloat(p[4]),l[5]=parseFloat(p[5]);break}}r.setLocalTransform(l)}}var pF=/([^\s:;]+)\s*:\s*([^:;]+)/g;function gF(n,r,e){var o=n.getAttribute("style");if(o){pF.lastIndex=0;for(var l;(l=pF.exec(o))!=null;){var c=l[1],f=gt(o2,c)?o2[c]:null;f&&(r[f]=l[2]);var d=gt(Ih,c)?Ih[c]:null;d&&(e[d]=l[2])}}}function yF(n,r,e){for(var o=0;o<Pv.length;o++){var l=Pv[o],c=n.getAttribute(l);c!=null&&(r[o2[l]]=c)}for(var o=0;o<s2.length;o++){var l=s2[o],c=n.getAttribute(l);c!=null&&(e[Ih[l]]=c)}}function c2(n,r){var e=r.width/n.width,o=r.height/n.height,l=Math.min(e,o);return{scale:l,x:-(n.x+n.width/2)*l+(r.x+r.width/2),y:-(n.y+n.height/2)*l+(r.y+r.height/2)}}function ef(n,r){var e=new YX;return e.parse(n,r)}var AE=1e-8;function I1(n,r){return Math.abs(n-r)<AE}function Rh(n,r,e){var o=0,l=n[0];if(!l)return!1;for(var c=1;c<n.length;c++){var f=n[c];o+=Ac(l[0],l[1],f[0],f[1],r,e),l=f}var d=n[0];return(!I1(l[0],d[0])||!I1(l[1],d[1]))&&(o+=Ac(l[0],l[1],d[0],d[1],r,e)),o!==0}var CE=[];function f2(n,r){for(var e=0;e<n.length;e++)$i(n[e],n[e],r)}function $X(n,r,e,o){for(var l=0;l<n.length;l++){var c=n[l];o&&(c=o.project(c)),c&&isFinite(c[0])&&isFinite(c[1])&&(Af(r,r,c),dd(e,e,c))}}function qX(n){for(var r=0,e=0,o=0,l=n.length,c=n[l-1][0],f=n[l-1][1],d=0;d<l;d++){var p=n[d][0],y=n[d][1],b=c*y-p*f;r+=b,e+=(c+p)*b,o+=(f+y)*b,c=p,f=y}return r?[e/r/3,o/r/3,r]:[n[0][0]||0,n[0][1]||0]}var mF=function(){function n(r){this.name=r}return n.prototype.setCenter=function(r){this._center=r},n.prototype.getCenter=function(){var r=this._center;return r||(r=this._center=this.calcCenter()),r},n}(),h2=function(){function n(r,e){this.type="polygon",this.exterior=r,this.interiors=e}return n}(),d2=function(){function n(r){this.type="linestring",this.points=r}return n}(),R1=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this,e)||this;return c.type="geoJSON",c.geometries=o,c._center=l&&[l[0],l[1]],c}return r.prototype.calcCenter=function(){for(var e=this.geometries,o,l=0,c=0;c<e.length;c++){var f=e[c],d=f.exterior,p=d&&d.length;p>l&&(o=f,l=p)}if(o)return qX(o.exterior);var y=this.getBoundingRect();return[y.x+y.width/2,y.y+y.height/2]},r.prototype.getBoundingRect=function(e){var o=this._rect;if(o&&!e)return o;var l=[1/0,1/0],c=[-1/0,-1/0],f=this.geometries;return it(f,function(d){d.type==="polygon"?$X(d.exterior,l,c,e):it(d.points,function(p){$X(p,l,c,e)})}),isFinite(l[0])&&isFinite(l[1])&&isFinite(c[0])&&isFinite(c[1])||(l[0]=l[1]=c[0]=c[1]=0),o=new Je(l[0],l[1],c[0]-l[0],c[1]-l[1]),e||(this._rect=o),o},r.prototype.contain=function(e){var o=this.getBoundingRect(),l=this.geometries;if(!o.contain(e[0],e[1]))return!1;t:for(var c=0,f=l.length;c<f;c++){var d=l[c];if(d.type==="polygon"){var p=d.exterior,y=d.interiors;if(Rh(p,e[0],e[1])){for(var b=0;b<(y?y.length:0);b++)if(Rh(y[b],e[0],e[1]))continue t;return!0}}}return!1},r.prototype.transformTo=function(e,o,l,c){var f=this.getBoundingRect(),d=f.width/f.height;l?c||(c=l/d):l=d*c;for(var p=new Je(e,o,l,c),y=f.calculateTransform(p),b=this.geometries,x=0;x<b.length;x++){var S=b[x];S.type==="polygon"?(f2(S.exterior,y),it(S.interiors,function(T){f2(T,y)})):it(S.points,function(T){f2(T,y)})}f=this._rect,f.copy(p),this._center=[f.x+f.width/2,f.y+f.height/2]},r.prototype.cloneShallow=function(e){e==null&&(e=this.name);var o=new r(e,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},r}(mF),N1=function(n){Ot(r,n);function r(e,o){var l=n.call(this,e)||this;return l.type="geoSVG",l._elOnlyForCalculate=o,l}return r.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,o=e.getBoundingRect(),l=[o.x+o.width/2,o.y+o.height/2],c=RT(CE),f=e;f&&!f.isGeoSVGGraphicRoot;)Su(c,f.getLocalTransform(),c),f=f.parent;return Ca(c,c),$i(l,l,c),l},r}(mF),Nh=ve(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),bF=function(){function n(r,e){this.type="geoSVG",this._usedGraphicMap=ve(),this._freedGraphics=[],this._mapName=r,this._parsedXML=SE(e)}return n.prototype.load=function(){var r=this._firstGraphic;if(!r){r=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(r),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=nc(r.named),o=e.regions,l=e.regionsMap;this._regions=o,this._regionsMap=l}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(r){var e,o;try{e=r&&ef(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=e.root,ei(o!=null)}catch(L){throw new Error(`Invalid svg format
`+L.message)}var l=new Ye;l.add(o),l.isGeoSVGGraphicRoot=!0;var c=e.width,f=e.height,d=e.viewBoxRect,p=this._boundingRect;if(!p){var y=void 0,b=void 0,x=void 0,S=void 0;if(c!=null?(y=0,x=c):d&&(y=d.x,x=d.width),f!=null?(b=0,S=f):d&&(b=d.y,S=d.height),y==null||b==null){var T=o.getBoundingRect();y==null&&(y=T.x,x=T.width),b==null&&(b=T.y,S=T.height)}p=this._boundingRect=new Je(y,b,x,S)}if(d){var A=c2(d,p);o.scaleX=o.scaleY=A.scale,o.x=A.x,o.y=A.y}l.setClipPath(new kr({shape:p.plain()}));var E=[];return it(e.named,function(L){Nh.get(L.svgNodeTagLower)!=null&&(E.push(L),PE(L.el))}),{root:l,boundingRect:p,named:E}},n.prototype.useGraphic=function(r){var e=this._usedGraphicMap,o=e.get(r);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(r,o),o)},n.prototype.freeGraphic=function(r){var e=this._usedGraphicMap,o=e.get(r);o&&(e.removeKey(r),this._freedGraphics.push(o))},n}();function PE(n){n.silent=!1,n.isGroup&&n.traverse(function(r){r.silent=!1})}function nc(n){var r=[],e=ve();return it(n,function(o){if(o.namedFrom==null){var l=new N1(o.name,o.el);r.push(l),e.set(o.name,l)}}),{regions:r,regionsMap:e}}function _F(n){if(!n.UTF8Encoding)return n;var r=n,e=r.UTF8Scale;e==null&&(e=1024);var o=r.features;return it(o,function(l){var c=l.geometry,f=c.encodeOffsets,d=c.coordinates;if(f)switch(c.type){case"LineString":c.coordinates=v2(d,f,e);break;case"Polygon":Ev(d,f,e);break;case"MultiLineString":Ev(d,f,e);break;case"MultiPolygon":it(d,function(p,y){return Ev(p,f[y],e)})}}),r.UTF8Encoding=!1,r}function Ev(n,r,e){for(var o=0;o<n.length;o++)n[o]=v2(n[o],r[o],e)}function v2(n,r,e){for(var o=[],l=r[0],c=r[1],f=0;f<n.length;f+=2){var d=n.charCodeAt(f)-64,p=n.charCodeAt(f+1)-64;d=d>>1^-(d&1),p=p>>1^-(p&1),d+=l,p+=c,l=d,c=p,o.push([d/e,p/e])}return o}function ZX(n,r){return n=_F(n),Gt(Zr(n.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var o=e.properties,l=e.geometry,c=[];switch(l.type){case"Polygon":var f=l.coordinates;c.push(new h2(f[0],f.slice(1)));break;case"MultiPolygon":it(l.coordinates,function(p){p[0]&&c.push(new h2(p[0],p.slice(1)))});break;case"LineString":c.push(new d2([l.coordinates]));break;case"MultiLineString":c.push(new d2(l.coordinates))}var d=new R1(o[r||"name"],c,o.cp);return d.properties=o,d})}for(var p2=[126,25],g2="\u5357\u6D77\u8BF8\u5C9B",js=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],jo=0;jo<js.length;jo++)for(var Yg=0;Yg<js[jo].length;Yg++)js[jo][Yg][0]/=10.5,js[jo][Yg][1]/=-10.5/.75,js[jo][Yg][0]+=p2[0],js[jo][Yg][1]+=p2[1];function y2(n,r){if(n==="china"){for(var e=0;e<r.length;e++)if(r[e].name===g2)return;r.push(new R1(g2,Gt(js,function(o){return{type:"polygon",exterior:o}}),p2))}}var Ug={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function B1(n,r){if(n==="china"){var e=Ug[r.name];if(e){var o=r.getCenter();o[0]+=e[0]/10.5,o[1]+=-e[1]/(10.5/.75),r.setCenter(o)}}}var xF=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function wF(n,r){n==="china"&&r.name==="\u53F0\u6E7E"&&r.geometries.push({type:"polygon",exterior:xF[0]})}var SF="name",Bh=function(){function n(r,e,o){this.type="geoJSON",this._parsedMap=ve(),this._mapName=r,this._specialAreas=o,this._geoJSON=EE(e)}return n.prototype.load=function(r,e){e=e||SF;var o=this._parsedMap.get(e);if(!o){var l=this._parseToRegions(e);o=this._parsedMap.set(e,{regions:l,boundingRect:KX(l)})}var c=ve(),f=[];return it(o.regions,function(d){var p=d.name;r&&gt(r,p)&&(d=d.cloneShallow(p=r[p])),f.push(d),c.set(p,d)}),{regions:f,boundingRect:o.boundingRect||new Je(0,0,0,0),regionsMap:c}},n.prototype._parseToRegions=function(r){var e=this._mapName,o=this._geoJSON,l;try{l=o?ZX(o,r):[]}catch(c){throw new Error(`Invalid geoJson format
`+c.message)}return y2(e,l),it(l,function(c){var f=c.name;B1(e,c),wF(e,c);var d=this._specialAreas&&this._specialAreas[f];d&&c.transformTo(d.left,d.top,d.width,d.height)},this),l},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function KX(n){for(var r,e=0;e<n.length;e++){var o=n[e].getBoundingRect();r=r||o.clone(),r.union(o)}return r}function EE(n){return oe(n)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var zh=ve(),Vs={registerMap:function(n,r,e){if(r.svg){var o=new bF(n,r.svg);zh.set(n,o)}else{var l=r.geoJson||r.geoJSON;l&&!r.features?e=r.specialAreas:l=r;var o=new Bh(n,l,e);zh.set(n,o)}},getGeoResource:function(n){return zh.get(n)},getMapForUser:function(n){var r=zh.get(n);return r&&r.type==="geoJSON"&&r.getMapForUser()},load:function(n,r,e){var o=zh.get(n);if(o)return o.load(r,e)}},m2=["rect","circle","line","ellipse","polygon","polyline","path"],QX=ve(m2),b2=ve(m2.concat(["g"])),JX=ve(m2.concat(["g"])),MF=br();function kv(n){var r=n.getItemStyle(),e=n.get("areaColor");return e!=null&&(r.fill=e),r}function kE(n){var r=n.style;r&&(r.stroke=r.stroke||r.fill,r.fill=null)}var TF=function(){function n(r){var e=this.group=new Ye,o=this._transformGroup=new Ye;e.add(o),this.uid=zp("ec_map_draw"),this._controller=new Cv(r.getZr()),this._controllerHost={target:o},o.add(this._regionsGroup=new Ye),o.add(this._svgGroup=new Ye)}return n.prototype.draw=function(r,e,o,l,c){var f=r.mainType==="geo",d=r.getData&&r.getData();f&&e.eachComponent({mainType:"series",subType:"map"},function(F){!d&&F.getHostGeoModel()===r&&(d=F.getData())});var p=r.coordinateSystem,y=this._regionsGroup,b=this._transformGroup,x=p.getTransformInfo(),S=x.raw,T=x.roam,A=!y.childAt(0)||c,E=r.getShallow("clip",!0),L;E?(L=p.getViewRect().clone(),this.group.setClipPath(new kr({shape:L.clone()}))):this.group.removeClipPath(),A?(b.x=T.x,b.y=T.y,b.scaleX=T.scaleX,b.scaleY=T.scaleY,b.dirty()):Qr(b,T,r);var I=d&&d.getVisual("visualMeta")&&d.getVisual("visualMeta").length>0,N={api:o,geo:p,mapOrGeoModel:r,data:d,isVisualEncodedByVisualMap:I,isGeo:f,transformInfoRaw:S};p.resourceType==="geoJSON"?this._buildGeoJSON(N):p.resourceType==="geoSVG"&&this._buildSVG(N),this._updateController(r,L,e,o),this._updateMapSelectHandler(r,y,o,l)},n.prototype._buildGeoJSON=function(r){var e=this._regionsGroupByName=ve(),o=ve(),l=this._regionsGroup,c=r.transformInfoRaw,f=r.mapOrGeoModel,d=r.data,p=r.geo.projection,y=p&&p.stream;function b(T,A){return A&&(T=A(T)),T&&[T[0]*c.scaleX+c.x,T[1]*c.scaleY+c.y]}function x(T){for(var A=[],E=!y&&p&&p.project,L=0;L<T.length;++L){var I=b(T[L],E);I&&A.push(I)}return A}function S(T){return{shape:{points:x(T)}}}l.removeAll(),it(r.geo.regions,function(T){var A=T.name,E=e.get(A),L=o.get(A)||{},I=L.dataIdx,N=L.regionModel;if(!E){E=e.set(A,new Ye),l.add(E),I=d?d.indexOfName(A):null,N=r.isGeo?f.getRegionModel(A):d?d.getItemModel(I):null;var F=N.get("silent",!0);F!=null&&(E.silent=F),o.set(A,{dataIdx:I,regionModel:N})}var W=[],X=[];it(T.geometries,function(et){if(et.type==="polygon"){var at=[et.exterior].concat(et.interiors||[]);y&&(at=Fh(at,y)),it(at,function(ht){W.push(new xo(S(ht)))})}else{var ot=et.points;y&&(ot=Fh(ot,y,!0)),it(ot,function(ht){X.push(new Xa(S(ht)))})}});var $=b(T.getCenter(),p&&p.project);function K(et,at){if(et.length){var ot=new mm({culling:!0,segmentIgnoreThreshold:1,shape:{paths:et}});E.add(ot),OF(r,ot,I,N),AF(r,ot,A,N,f,I,$),at&&(kE(ot),it(ot.states,kE))}}K(W),K(X,!0)}),e.each(function(T,A){var E=o.get(A),L=E.dataIdx,I=E.regionModel;z1(r,T,A,I,f,L),LE(r,T,A,I,f),DE(r,T,A,I,f)},this)},n.prototype._buildSVG=function(r){var e=r.geo.map,o=r.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var l=this._svgDispatcherMap=ve(),c=!1;it(this._svgGraphicRecord.named,function(f){var d=f.name,p=r.mapOrGeoModel,y=r.data,b=f.svgNodeTagLower,x=f.el,S=y?y.indexOfName(d):null,T=p.getRegionModel(d);QX.get(b)!=null&&x instanceof Fi&&OF(r,x,S,T),x instanceof Fi&&(x.culling=!0);var A=T.get("silent",!0);if(A!=null&&(x.silent=A),x.z2EmphasisLift=0,!f.namedFrom&&(JX.get(b)!=null&&AF(r,x,d,T,p,S,null),z1(r,x,d,T,p,S),LE(r,x,d,T,p),b2.get(b)!=null)){var E=DE(r,x,d,T,p);E==="self"&&(c=!0);var L=l.get(d)||l.set(d,[]);L.push(x)}},this),this._enableBlurEntireSVG(c,r)},n.prototype._enableBlurEntireSVG=function(r,e){if(r&&e.isGeo){var o=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),l=o.opacity;this._svgGraphicRecord.root.traverse(function(c){if(!c.isGroup){La(c);var f=c.ensureState("blur").style||{};f.opacity==null&&l!=null&&(f.opacity=l),c.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(r,e){if(r==null)return[];var o=e.coordinateSystem;if(o.resourceType==="geoJSON"){var l=this._regionsGroupByName;if(l){var c=l.get(r);return c?[c]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(r)||[]},n.prototype._svgResourceChanged=function(r){return this._svgMapName!==r},n.prototype._useSVG=function(r){var e=Vs.getGeoResource(r);if(e&&e.type==="geoSVG"){var o=e.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=r}},n.prototype._freeSVG=function(){var r=this._svgMapName;if(r!=null){var e=Vs.getGeoResource(r);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(r,e,o,l){var c=r.coordinateSystem,f=this._controller,d=this._controllerHost;d.zoomLimit=r.get("scaleLimit"),d.zoom=c.getZoom(),f.enable(r.get("roam")||!1,{api:l,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(b,x,S){return c.containPoint([x,S])},isInClip:function(b,x,S){return!e||e.contain(x,S)}}});var p=r.mainType;function y(){var b={type:"geoRoam",componentType:p};return b[p+"Id"]=r.id,b}f.off("pan").on("pan",function(b){this._mouseDownFlag=!1,a2(d,b.dx,b.dy),l.dispatchAction(Wt(y(),{dx:b.dx,dy:b.dy,animation:{duration:0}}))},this),f.off("zoom").on("zoom",function(b){this._mouseDownFlag=!1,bE(d,b.scale,b.originX,b.originY),l.dispatchAction(Wt(y(),{totalZoom:d.zoom,zoom:b.scale,originX:b.originX,originY:b.originY,animation:{duration:0}}))},this)},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(r){var e=r.getTextContent();e&&(e.ignore=MF(e).ignore)})},n.prototype._updateMapSelectHandler=function(r,e,o,l){var c=this;e.off("mousedown"),e.off("click"),r.get("selectedMode")&&(e.on("mousedown",function(){c._mouseDownFlag=!0}),e.on("click",function(f){c._mouseDownFlag&&(c._mouseDownFlag=!1)}))},n}();function OF(n,r,e,o){var l=o.getModel("itemStyle"),c=o.getModel(["emphasis","itemStyle"]),f=o.getModel(["blur","itemStyle"]),d=o.getModel(["select","itemStyle"]),p=kv(l),y=kv(c),b=kv(d),x=kv(f),S=n.data;if(S){var T=S.getItemVisual(e,"style"),A=S.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&T.fill&&(p.fill=T.fill),A&&(p.decal=dv(A,n.api))}r.setStyle(p),r.style.strokeNoScale=!0,r.ensureState("emphasis").style=y,r.ensureState("select").style=b,r.ensureState("blur").style=x,La(r)}function AF(n,r,e,o,l,c,f){var d=n.data,p=n.isGeo,y=d&&isNaN(d.get(d.mapDimension("value"),c)),b=d&&d.getItemLayout(c);if(p||y||b&&b.showLabel){var x=p?e:c,S=void 0;(!d||c>=0)&&(S=l);var T=f?{normal:{align:"center",verticalAlign:"middle"}}:null;Da(r,ga(o),{labelFetcher:S,labelDataIndex:x,defaultText:e},T);var A=r.getTextContent();if(A&&(MF(A).ignore=A.ignore,r.textConfig&&f)){var E=r.getBoundingRect().clone();r.textConfig.layoutRect=E,r.textConfig.position=[(f[0]-E.x)/E.width*100+"%",(f[1]-E.y)/E.height*100+"%"]}r.disableLabelAnimation=!0}else r.removeTextContent(),r.removeTextConfig(),r.disableLabelAnimation=null}function z1(n,r,e,o,l,c){n.data?n.data.setItemGraphicEl(c,r):nr(r).eventData={componentType:"geo",componentIndex:l.componentIndex,geoIndex:l.componentIndex,name:e,region:o&&o.option||{}}}function LE(n,r,e,o,l){n.data||uh({el:r,componentModel:l,itemName:e,itemTooltipOption:o.get("tooltip")})}function DE(n,r,e,o,l){r.highDownSilentOnTouch=!!l.get("selectedMode");var c=o.getModel("emphasis"),f=c.get("focus");return ri(r,f,c.get("blurScope"),c.get("disabled")),n.isGeo&&xN(r,l,e),f}function Fh(n,r,e){var o=[],l;function c(){l=[]}function f(){l.length&&(o.push(l),l=[])}var d=r({polygonStart:c,polygonEnd:f,lineStart:c,lineEnd:f,point:function(p,y){isFinite(p)&&isFinite(y)&&l.push([p,y])},sphere:function(){}});return!e&&d.polygonStart(),it(n,function(p){d.lineStart();for(var y=0;y<p.length;y++)d.point(p[y][0],p[y][1]);d.lineEnd()}),!e&&d.polygonEnd(),o}var CF=TF,t$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l,c){if(!(c&&c.type==="mapToggleSelect"&&c.from===this.uid)){var f=this.group;if(f.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&c&&c.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),c&&c.type==="geoRoam"&&c.componentType==="series"&&c.seriesId===e.id){var d=this._mapDraw;d&&f.add(d.group)}else if(e.needsDrawMap){var d=this._mapDraw||new CF(l);f.add(d.group),d.draw(e,o,l,this,c),this._mapDraw=d}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(e,o,l)}}},r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},r.prototype._renderSymbols=function(e,o,l){var c=e.originalData,f=this.group;c.each(c.mapDimension("value"),function(d,p){if(!isNaN(d)){var y=c.getItemLayout(p);if(!(!y||!y.point)){var b=y.point,x=y.offset,S=new nh({style:{fill:e.getData().getVisual("style").fill},shape:{cx:b[0]+x*9,cy:b[1],r:3},silent:!0,z2:8+(x?0:Lp+1)});if(!x){var T=e.mainSeries.getData(),A=c.getName(p),E=T.indexOfName(A),L=c.getItemModel(p),I=L.getModel("label"),N=T.getItemGraphicEl(E);Da(S,ga(L),{labelFetcher:{getFormattedLabel:function(F,W){return e.getFormattedLabel(E,W)}},defaultText:A}),S.disableLabelAnimation=!0,I.get("position")||S.setTextConfig({position:"bottom"}),N.onHoverStateChange=function(F){L0(S,F)}}f.add(S)}}})},r.type="map",r}(Hn),e$=t$,r$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(o){if(o!=null){var l=this.getData().getName(o),c=this.coordinateSystem,f=c.getRegion(l);return f&&c.dataToPoint(f.getCenter())}},e}return r.prototype.getInitialData=function(e){for(var o=Sv(this,{coordDimensions:["value"],encodeDefaulter:hr($0,this)}),l=ve(),c=[],f=0,d=o.count();f<d;f++){var p=o.getName(f);l.set(p,f)}var y=Vs.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return it(y.regions,function(b){var x=b.name,S=l.get(x),T=b.properties&&b.properties.echartsStyle,A;S==null?(A={name:x},c.push(A)):A=o.getRawDataItem(S),T&&lr(A,T)}),o.appendData(c),o},r.prototype.getHostGeoModel=function(){if(gA(this).kind!==Hl.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},r.prototype.getRawValue=function(e){var o=this.getData();return o.get(o.mapDimension("value"),e)},r.prototype.getRegionModel=function(e){var o=this.getData();return o.getItemModel(o.indexOfName(e))},r.prototype.formatTooltip=function(e,o,l){for(var c=this.getData(),f=this.getRawValue(e),d=c.getName(e),p=this.seriesGroup,y=[],b=0;b<p.length;b++){var x=p[b].originalData.indexOfName(d),S=c.mapDimension("value");isNaN(p[b].originalData.get(S,x))||y.push(p[b].name)}return Li("section",{header:y.join(", "),noHeader:!y.length,blocks:[Li("nameValue",{name:d,value:f})]})},r.prototype.setZoom=function(e){this.option.zoom=e},r.prototype.setCenter=function(e){this.option.center=e},r.prototype.getLegendIcon=function(e){var o=e.icon||"roundRect",l=ia(o,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return l.setStyle(e.itemStyle),l.style.stroke="none",o.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill=Rt.color.neutral00,l.style.lineWidth=2),l},r.type="series.map",r.dependencies=["geo"],r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:Rt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:Rt.color.border,areaColor:Rt.color.background},emphasis:{label:{show:!0,color:Rt.color.primary},itemStyle:{areaColor:Rt.color.highlight}},select:{label:{show:!0,color:Rt.color.primary},itemStyle:{color:Rt.color.highlight}},nameProperty:"name"},r}(ai),n$=r$;function i$(n,r){var e={};return it(n,function(o){o.each(o.mapDimension("value"),function(l,c){var f="ec-"+o.getName(c);e[f]=e[f]||[],isNaN(l)||e[f].push(l)})}),n[0].map(n[0].mapDimension("value"),function(o,l){for(var c="ec-"+n[0].getName(l),f=0,d=1/0,p=-1/0,y=e[c].length,b=0;b<y;b++)d=Math.min(d,e[c][b]),p=Math.max(p,e[c][b]),f+=e[c][b];var x;return r==="min"?x=d:r==="max"?x=p:r==="average"?x=f/y:x=f,y===0?NaN:x})}function PF(n){var r={};n.eachSeriesByType("map",function(e){var o=e.getHostGeoModel(),l=o?"o"+o.id:"i"+e.getMapType();(r[l]=r[l]||[]).push(e)}),it(r,function(e,o){for(var l=i$(Gt(e,function(f){return f.getData()}),e[0].get("mapValueCalculation")),c=0;c<e.length;c++)e[c].originalData=e[c].getData();for(var c=0;c<e.length;c++)e[c].seriesGroup=e,e[c].needsDrawMap=c===0&&!e[c].getHostGeoModel(),e[c].setData(l.cloneShallow()),e[c].mainSeries=e[0]})}function F1(n){var r={};n.eachSeriesByType("map",function(e){var o=e.getMapType();if(!(e.getHostGeoModel()||r[o])){var l={};it(e.seriesGroup,function(f){var d=f.coordinateSystem,p=f.originalData;f.get("showLegendSymbol")&&n.getComponent("legend")&&p.each(p.mapDimension("value"),function(y,b){var x=p.getName(b),S=d.getRegion(x);if(!(!S||isNaN(y))){var T=l[x]||0,A=d.dataToPoint(S.getCenter());l[x]=T+1,p.setItemLayout(b,{point:A,offset:T})}})});var c=e.getData();c.each(function(f){var d=c.getName(f),p=c.getItemLayout(f)||{};p.showLabel=!l[d],c.setItemLayout(f,p)}),r[o]=!0}})}var Xg=$i,EF=function(n){Ot(r,n);function r(e,o){var l=n.call(this)||this;return l.type="view",l.dimensions=["x","y"],l._roamTransformable=new ms,l._rawTransformable=new ms,l.name=e,l._opt=o,l}return r.prototype.setBoundingRect=function(e,o,l,c){return this._rect=new Je(e,o,l,c),this._updateCenterAndZoom(),this._rect},r.prototype.getBoundingRect=function(){return this._rect},r.prototype.setViewRect=function(e,o,l,c){this._transformTo(e,o,l,c),this._viewRect=new Je(e,o,l,c)},r.prototype._transformTo=function(e,o,l,c){var f=this.getBoundingRect(),d=this._rawTransformable;d.transform=f.calculateTransform(new Je(e,o,l,c));var p=d.parent;d.parent=null,d.decomposeTransform(),d.parent=p,this._updateTransform()},r.prototype.setCenter=function(e){var o=this._opt;o&&o.api&&o.ecModel&&o.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[de(e[0],o.api.getWidth()),de(e[1],o.api.getWidth())]),this._centerOption=Ne(e),this._updateCenterAndZoom()},r.prototype.setZoom=function(e){this._zoom=wE(e||1,this.zoomLimit),this._updateCenterAndZoom()},r.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),o=e.x+e.width/2,l=e.y+e.height/2;return[o,l]},r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},r.prototype.getZoom=function(){return this._zoom||1},r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},r.prototype._updateCenterAndZoom=function(){var e=this._centerOption,o=this._rect;e&&o&&(this._center=[de(e[0],o.width,o.x),de(e[1],o.height,o.y)]);var l=this._rawTransformable.getLocalTransform(),c=this._roamTransformable,f=this.getDefaultCenter(),d=this.getCenter(),p=this.getZoom();d=$i([],d,l),f=$i([],f,l),c.originX=d[0],c.originY=d[1],c.x=f[0]-d[0],c.y=f[1]-d[1],c.scaleX=c.scaleY=p,this._updateTransform()},r.prototype._updateTransform=function(){var e=this._roamTransformable,o=this._rawTransformable;o.parent=e,e.updateTransform(),o.updateTransform(),n_(this.transform||(this.transform=[]),o.transform||no()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],Ca(this.invTransform,this.transform),this.decomposeTransform()},r.prototype.getTransformInfo=function(){var e=this._rawTransformable,o=this._roamTransformable,l=new ms;return l.transform=o.transform,l.decomposeTransform(),{roam:{x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},r.prototype.getViewRect=function(){return this._viewRect},r.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},r.prototype.dataToPoint=function(e,o,l){var c=o?this._rawTransform:this.transform;return l=l||[],c?Xg(l,e,c):ki(l,e)},r.prototype.pointToData=function(e,o,l){l=l||[];var c=this.invTransform;return c?Xg(l,e,c):(l[0]=e[0],l[1]=e[1],l)},r.prototype.convertToPixel=function(e,o,l){var c=kF(o);return c===this?c.dataToPoint(l):null},r.prototype.convertFromPixel=function(e,o,l){var c=kF(o);return c===this?c.pointToData(l):null},r.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},r.dimensions=["x","y"],r}(ms);function kF(n){var r=n.seriesModel;return r?r.coordinateSystem:null}var Lv=EF,LF={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},_2=["lng","lat"],IE=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this,e,{api:l.api,ecModel:l.ecModel})||this;c.dimensions=_2,c.type="geo",c._nameCoordMap=ve(),c.map=o;var f=l.projection,d=Vs.load(o,l.nameMap,l.nameProperty),p=Vs.getGeoResource(o),y=c.resourceType=p?p.type:null,b=c.regions=d.regions,x=LF[p.type];c._regionsMap=d.regionsMap,c.regions=d.regions,c.projection=f;var S;if(f)for(var T=0;T<b.length;T++){var A=b[T].getBoundingRect(f);S=S||A.clone(),S.union(A)}else S=d.boundingRect;return c.setBoundingRect(S.x,S.y,S.width,S.height),c.aspectScale=f?1:fe(l.aspectScale,x.aspectScale),c._invertLongitute=f?!1:x.invertLongitute,c}return r.prototype._transformTo=function(e,o,l,c){var f=this.getBoundingRect(),d=this._invertLongitute;f=f.clone(),d&&(f.y=-f.y-f.height);var p=this._rawTransformable;p.transform=f.calculateTransform(new Je(e,o,l,c));var y=p.parent;p.parent=null,p.decomposeTransform(),p.parent=y,d&&(p.scaleY=-p.scaleY),this._updateTransform()},r.prototype.getRegion=function(e){return this._regionsMap.get(e)},r.prototype.getRegionByCoord=function(e){for(var o=this.regions,l=0;l<o.length;l++){var c=o[l];if(c.type==="geoJSON"&&c.contain(e))return o[l]}},r.prototype.addGeoCoord=function(e,o){this._nameCoordMap.set(e,o)},r.prototype.getGeoCoord=function(e){var o=this._regionsMap.get(e);return this._nameCoordMap.get(e)||o&&o.getCenter()},r.prototype.dataToPoint=function(e,o,l){if(oe(e)&&(e=this.getGeoCoord(e)),e){var c=this.projection;return c&&(e=c.project(e)),e&&this.projectedToPoint(e,o,l)}},r.prototype.pointToData=function(e,o,l){var c=this.projection;return c&&(e=c.unproject(e)),e&&this.pointToProjected(e,l)},r.prototype.pointToProjected=function(e,o){return n.prototype.pointToData.call(this,e,0,o)},r.prototype.projectedToPoint=function(e,o,l){return n.prototype.dataToPoint.call(this,e,o,l)},r.prototype.convertToPixel=function(e,o,l){var c=DF(o);return c===this?c.dataToPoint(l):null},r.prototype.convertFromPixel=function(e,o,l){var c=DF(o);return c===this?c.pointToData(l):null},r}(Lv);Ln(IE,Lv);function DF(n){var r=n.geoModel,e=n.seriesModel;return r?r.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",bi).models[0]||{}).coordinateSystem:null}var IF=IE;function lu(n,r){var e=n.get("boundingCoords");if(e!=null){var o=e[0],l=e[1];if(isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])){var c=this.projection;if(c){var f=o[0],d=o[1],p=l[0],y=l[1];o=[1/0,1/0],l=[-1/0,-1/0];var b=function(X,$,K,et){for(var at=K-X,ot=et-$,ht=0;ht<=100;ht++){var yt=ht/100,vt=c.project([X+at*yt,$+ot*yt]);Af(o,o,vt),dd(l,l,vt)}};b(f,d,p,d),b(p,d,p,y),b(p,y,f,y),b(f,y,p,d)}this.setBoundingRect(o[0],o[1],l[0]-o[0],l[1]-o[1])}}var x=this.getBoundingRect(),S=n.get("layoutCenter"),T=n.get("layoutSize"),A=ya(n,r).refContainer,E=x.width/x.height*this.aspectScale,L=!1,I,N;S&&T&&(I=[de(S[0],A.width)+A.x,de(S[1],A.height)+A.y],N=de(T,Math.min(A.width,A.height)),!isNaN(I[0])&&!isNaN(I[1])&&!isNaN(N)&&(L=!0));var F;if(L)F={},E>1?(F.width=N,F.height=N/E):(F.height=N,F.width=N*E),F.y=I[1]-F.height/2,F.x=I[0]-F.width/2;else{var W=n.getBoxLayoutParams();W.aspect=E,F=Wn(W,A),F=WN(n,F,E)}this.setViewRect(F.x,F.y,F.width,F.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}function x2(n,r){it(r.get("geoCoord"),function(e,o){n.addGeoCoord(o,e)})}var RF=function(){function n(){this.dimensions=_2}return n.prototype.create=function(r,e){var o=[];function l(f){return{nameProperty:f.get("nameProperty"),aspectScale:f.get("aspectScale"),projection:f.get("projection")}}r.eachComponent("geo",function(f,d){var p=f.get("map"),y=new IF(p+d,p,Wt({nameMap:f.get("nameMap"),api:e,ecModel:r},l(f)));y.zoomLimit=f.get("scaleLimit"),o.push(y),f.coordinateSystem=y,y.model=f,y.resize=lu,y.resize(f,e)}),r.eachSeries(function(f){ii({targetModel:f,coordSysType:"geo",coordSysProvider:function(){var d=f.subType==="map"?f.getHostGeoModel():f.getReferringComponents("geo",bi).models[0];return d&&d.coordinateSystem},allowNotFound:!0})});var c={};return r.eachSeriesByType("map",function(f){if(!f.getHostGeoModel()){var d=f.getMapType();c[d]=c[d]||[],c[d].push(f)}}),it(c,function(f,d){var p=Gt(f,function(b){return b.get("nameMap")}),y=new IF(d,d,Wt({nameMap:Ol(p),api:e,ecModel:r},l(f[0])));y.zoomLimit=mn.apply(null,Gt(f,function(b){return b.get("scaleLimit")})),o.push(y),y.resize=lu,y.resize(f[0],e),it(f,function(b){b.coordinateSystem=y,x2(y,b)})}),o},n.prototype.getFilledRegions=function(r,e,o,l){for(var c=(r||[]).slice(),f=ve(),d=0;d<c.length;d++)f.set(c[d].name,c[d]);var p=Vs.load(e,o,l);return it(p.regions,function(y){var b=y.name,x=f.get(b),S=y.properties&&y.properties.echartsStyle;x||(x={name:b},c.push(x)),S&&lr(x,S)}),c},n}(),ic=new RF,NF=ic,a$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l);var c=Vs.getGeoResource(e.map);if(c&&c.type==="geoJSON"){var f=e.itemStyle=e.itemStyle||{};"color"in f||(f.color=e.defaultItemStyleColor||Rt.color.backgroundTint)}Bf(e,"label",["show"])},r.prototype.optionUpdated=function(){var e=this,o=this.option;o.regions=NF.getFilledRegions(o.regions,o.map,o.nameMap,o.nameProperty);var l={};this._optionModelMap=pi(o.regions||[],function(c,f){var d=f.name;return d&&(c.set(d,new an(f,e,e.ecModel)),f.selected&&(l[d]=!0)),c},ve()),o.selectedMap||(o.selectedMap=l)},r.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new an(null,this,this.ecModel)},r.prototype.getFormattedLabel=function(e,o){var l=this.getRegionModel(e),c=o==="normal"?l.get(["label","formatter"]):l.get(["emphasis","label","formatter"]),f={name:e};if(ze(c))return f.status=o,c(f);if(oe(c))return c.replace("{a}",e!=null?e:"")},r.prototype.setZoom=function(e){this.option.zoom=e},r.prototype.setCenter=function(e){this.option.center=e},r.prototype.select=function(e){var o=this.option,l=o.selectedMode;if(l){l!=="multiple"&&(o.selectedMap=null);var c=o.selectedMap||(o.selectedMap={});c[e]=!0}},r.prototype.unSelect=function(e){var o=this.option.selectedMap;o&&(o[e]=!1)},r.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},r.prototype.isSelected=function(e){var o=this.option.selectedMap;return!!(o&&o[e])},r.type="geo",r.layoutMode="box",r.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:Rt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:Rt.color.border},emphasis:{label:{show:!0,color:Rt.color.primary},itemStyle:{color:Rt.color.highlight}},select:{label:{show:!0,color:Rt.color.primary},itemStyle:{color:Rt.color.highlight}},regions:[]},r}(Yr),o$=a$,BF=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.focusBlurEnabled=!0,e}return r.prototype.init=function(e,o){this._api=o},r.prototype.render=function(e,o,l,c){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new CF(l));var f=this._mapDraw;f.draw(e,o,l,this,c),f.group.on("click",this._handleRegionClick,this),f.group.silent=e.get("silent"),this.group.add(f.group),this.updateSelectStatus(e,o,l)},r.prototype._handleRegionClick=function(e){var o;fh(e.target,function(l){return(o=nr(l).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},r.prototype.updateSelectStatus=function(e,o,l){var c=this;this._mapDraw.group.traverse(function(f){var d=nr(f).eventData;if(d)return c._model.isSelected(d.name)?l.enterSelect(f):l.leaveSelect(f),!0})},r.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},r.type="geo",r}(ui),zF=BF;function RE(n,r,e){Vs.registerMap(n,r,e)}function NE(n){n.registerCoordinateSystem("geo",NF),n.registerComponentModel(o$),n.registerComponentView(zF),n.registerImpl("registerMap",RE),n.registerImpl("getMap",function(e){return Vs.getMapForUser(e)});function r(e,o){o.update="geo:updateSelectStatus",n.registerAction(o,function(l,c){var f={},d=[];return c.eachComponent({mainType:"geo",query:l},function(p){p[e](l.name);var y=p.coordinateSystem;it(y.regions,function(x){f[x.name]=p.isSelected(x.name)||!1});var b=[];it(f,function(x,S){f[S]&&b.push(S)}),d.push({geoIndex:p.componentIndex,name:b})}),{selected:f,allSelected:d,name:l.name}})}r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,o,l){var c=e.componentType;c||(e.geoId!=null?c="geo":e.seriesId!=null&&(c="series")),c||(c="series"),o.eachComponent({mainType:c,query:e},function(f){var d=f.coordinateSystem;if(d.type==="geo"){var p=D1(d,e,f.get("scaleLimit"));f.setCenter&&f.setCenter(p.center),f.setZoom&&f.setZoom(p.zoom),c==="series"&&it(f.seriesGroup,function(y){y.setCenter(p.center),y.setZoom(p.zoom)})}})})}function s$(n){_r(NE),n.registerChartView(e$),n.registerSeriesModel(n$),n.registerLayout(F1),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,PF),Sm("map",n.registerAction)}function FF(n){var r=n;r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[r],o,l;o=e.pop();)if(l=o.children,o.isExpand&&l.length)for(var c=l.length,f=c-1;f>=0;f--){var d=l[f];d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:f,thread:null},e.push(d)}}function l$(n,r){var e=n.isExpand?n.children:[],o=n.parentNode.children,l=n.hierNode.i?o[n.hierNode.i-1]:null;if(e.length){BE(n);var c=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;l?(n.hierNode.prelim=l.hierNode.prelim+r(n,l),n.hierNode.modifier=n.hierNode.prelim-c):n.hierNode.prelim=c}else l&&(n.hierNode.prelim=l.hierNode.prelim+r(n,l));n.parentNode.hierNode.defaultAncestor=zE(n,l,n.parentNode.hierNode.defaultAncestor||o[0],r)}function j1(n){var r=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:r},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function jh(n){return arguments.length?n:c$}function V1(n,r){return n-=Math.PI/2,{x:r*Math.cos(n),y:r*Math.sin(n)}}function BE(n){for(var r=n.children,e=r.length,o=0,l=0;--e>=0;){var c=r[e];c.hierNode.prelim+=o,c.hierNode.modifier+=o,l+=c.hierNode.change,o+=c.hierNode.shift+l}}function zE(n,r,e,o){if(r){for(var l=n,c=n,f=c.parentNode.children[0],d=r,p=l.hierNode.modifier,y=c.hierNode.modifier,b=f.hierNode.modifier,x=d.hierNode.modifier;d=w2(d),c=S2(c),d&&c;){l=w2(l),f=S2(f),l.hierNode.ancestor=n;var S=d.hierNode.prelim+x-c.hierNode.prelim-y+o(d,c);S>0&&($g(u$(d,n,e),n,S),y+=S,p+=S),x+=d.hierNode.modifier,y+=c.hierNode.modifier,p+=l.hierNode.modifier,b+=f.hierNode.modifier}d&&!w2(l)&&(l.hierNode.thread=d,l.hierNode.modifier+=x-p),c&&!S2(f)&&(f.hierNode.thread=c,f.hierNode.modifier+=y-b,e=n)}return e}function w2(n){var r=n.children;return r.length&&n.isExpand?r[r.length-1]:n.hierNode.thread}function S2(n){var r=n.children;return r.length&&n.isExpand?r[0]:n.hierNode.thread}function u$(n,r,e){return n.hierNode.ancestor.parentNode===r.parentNode?n.hierNode.ancestor:e}function $g(n,r,e){var o=e/(r.hierNode.i-n.hierNode.i);r.hierNode.change-=o,r.hierNode.shift+=e,r.hierNode.modifier+=e,r.hierNode.prelim+=e,n.hierNode.change+=o}function c$(n,r){return n.parentNode===r.parentNode?1:2}var jF=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),VF=function(n){Ot(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultStyle=function(){return{stroke:Rt.color.neutral99,fill:null}},r.prototype.getDefaultShape=function(){return new jF},r.prototype.buildPath=function(e,o){var l=o.childPoints,c=l.length,f=o.parentPoint,d=l[0],p=l[c-1];if(c===1){e.moveTo(f[0],f[1]),e.lineTo(d[0],d[1]);return}var y=o.orient,b=y==="TB"||y==="BT"?0:1,x=1-b,S=de(o.forkPosition,1),T=[];T[b]=f[b],T[x]=f[x]+(p[x]-f[x])*S,e.moveTo(f[0],f[1]),e.lineTo(T[0],T[1]),e.moveTo(d[0],d[1]),T[b]=d[b],e.lineTo(T[0],T[1]),T[b]=p[b],e.lineTo(T[0],T[1]),e.lineTo(p[0],p[1]);for(var A=1;A<c-1;A++){var E=l[A];e.moveTo(E[0],E[1]),T[b]=E[b],e.lineTo(T[0],T[1])}},r}(Sr),G1=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._mainGroup=new Ye,e}return r.prototype.init=function(e,o){this._controller=new Cv(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},r.prototype.render=function(e,o,l){var c=e.getData(),f=e.layoutInfo,d=this._mainGroup,p=e.get("layout");p==="radial"?(d.x=f.x+f.width/2,d.y=f.y+f.height/2):(d.x=f.x,d.y=f.y),this._updateViewCoordSys(e,l),this._updateController(e,null,o,l);var y=this._data;c.diff(y).add(function(b){M2(c,b)&&GF(c,b,null,d,e)}).update(function(b,x){var S=y.getItemGraphicEl(x);if(!M2(c,b)){S&&HF(y,x,S,d,e);return}GF(c,b,S,d,e)}).remove(function(b){var x=y.getItemGraphicEl(b);x&&HF(y,b,x,d,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&c.eachItemGraphicEl(function(b,x){b.off("click").on("click",function(){l.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:x})})}),this._data=c},r.prototype._updateViewCoordSys=function(e,o){var l=e.getData(),c=[];l.each(function(x){var S=l.getItemLayout(x);S&&!isNaN(S.x)&&!isNaN(S.y)&&c.push([+S.x,+S.y])});var f=[],d=[];W_(c,f,d);var p=this._min,y=this._max;d[0]-f[0]===0&&(f[0]=p?p[0]:f[0]-1,d[0]=y?y[0]:d[0]+1),d[1]-f[1]===0&&(f[1]=p?p[1]:f[1]-1,d[1]=y?y[1]:d[1]+1);var b=e.coordinateSystem=new Lv(null,{api:o,ecModel:e.ecModel});b.zoomLimit=e.get("scaleLimit"),b.setBoundingRect(f[0],f[1],d[0]-f[0],d[1]-f[1]),b.setCenter(e.get("center")),b.setZoom(e.get("zoom")),this.group.attr({x:b.x,y:b.y,scaleX:b.scaleX,scaleY:b.scaleY}),this._min=f,this._max=d},r.prototype._updateController=function(e,o,l,c){var f=this;_E(e,c,this.group,this._controller,this._controllerHost,o),this._controller.on("zoom",function(d){f._updateNodeAndLinkScale(e)})},r.prototype._updateNodeAndLinkScale=function(e){var o=e.getData(),l=this._getNodeGlobalScale(e);o.eachItemGraphicEl(function(c,f){c.setSymbolScale(l)})},r.prototype._getNodeGlobalScale=function(e){var o=e.coordinateSystem;if(o.type!=="view")return 1;var l=this._nodeScaleRatio,c=o.scaleX||1,f=o.getZoom(),d=(f-1)*l+1;return d/c},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},r.type="tree",r}(Hn);function M2(n,r){var e=n.getItemLayout(r);return e&&!isNaN(e.x)&&!isNaN(e.y)}function GF(n,r,e,o,l){var c=!e,f=n.tree.getNodeByDataIndex(r),d=f.getModel(),p=f.getVisual("style").fill,y=f.isExpand===!1&&f.children.length!==0?p:Rt.color.neutral00,b=n.tree.root,x=f.parentNode===b?f:f.parentNode||f,S=n.getItemGraphicEl(x.dataIndex),T=x.getLayout(),A=S?{x:S.__oldX,y:S.__oldY,rawX:S.__radialOldRawX,rawY:S.__radialOldRawY}:T,E=f.getLayout();c?(e=new Tg(n,r,null,{symbolInnerColor:y,useNameLabel:!0}),e.x=A.x,e.y=A.y):e.updateData(n,r,null,{symbolInnerColor:y,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=E.rawX,e.__radialRawY=E.rawY,o.add(e),n.setItemGraphicEl(r,e),e.__oldX=e.x,e.__oldY=e.y,Qr(e,{x:E.x,y:E.y},l);var L=e.getSymbolPath();if(l.get("layout")==="radial"){var I=b.children[0],N=I.getLayout(),F=I.children.length,W=void 0,X=void 0;if(E.x===N.x&&f.isExpand===!0&&I.children.length){var $={x:(I.children[0].getLayout().x+I.children[F-1].getLayout().x)/2,y:(I.children[0].getLayout().y+I.children[F-1].getLayout().y)/2};W=Math.atan2($.y-N.y,$.x-N.x),W<0&&(W=Math.PI*2+W),X=$.x<N.x,X&&(W=W-Math.PI)}else W=Math.atan2(E.y-N.y,E.x-N.x),W<0&&(W=Math.PI*2+W),f.children.length===0||f.children.length!==0&&f.isExpand===!1?(X=E.x<N.x,X&&(W=W-Math.PI)):(X=E.x>N.x,X||(W=W-Math.PI));var K=X?"left":"right",et=d.getModel("label"),at=et.get("rotate"),ot=at*(Math.PI/180),ht=L.getTextContent();ht&&(L.setTextConfig({position:et.get("position")||K,rotation:at==null?-W:ot,origin:"center"}),ht.setStyle("verticalAlign","middle"))}var yt=d.get(["emphasis","focus"]),vt=yt==="relative"?ha(f.getAncestorsIndices(),f.getDescendantIndices()):yt==="ancestor"?f.getAncestorsIndices():yt==="descendant"?f.getDescendantIndices():null;vt&&(nr(e).focus=vt),WF(l,f,b,e,A,T,E,o),e.__edge&&(e.onHoverStateChange=function(bt){if(bt!=="blur"){var Mt=f.parentNode&&n.getItemGraphicEl(f.parentNode.dataIndex);Mt&&Mt.hoverState===C0||L0(e.__edge,bt)}})}function WF(n,r,e,o,l,c,f,d){var p=r.getModel(),y=n.get("edgeShape"),b=n.get("layout"),x=n.getOrient(),S=n.get(["lineStyle","curveness"]),T=n.get("edgeForkPosition"),A=p.getModel("lineStyle").getLineStyle(),E=o.__edge;if(y==="curve")r.parentNode&&r.parentNode!==e&&(E||(E=o.__edge=new ci({shape:T2(b,x,S,l,l)})),Qr(E,{shape:T2(b,x,S,c,f)},n));else if(y==="polyline"&&b==="orthogonal"&&r!==e&&r.children&&r.children.length!==0&&r.isExpand===!0){for(var L=r.children,I=[],N=0;N<L.length;N++){var F=L[N].getLayout();I.push([F.x,F.y])}E||(E=o.__edge=new VF({shape:{parentPoint:[f.x,f.y],childPoints:[[f.x,f.y]],orient:x,forkPosition:T}})),Qr(E,{shape:{parentPoint:[f.x,f.y],childPoints:I}},n)}E&&!(y==="polyline"&&!r.isExpand)&&(E.useStyle(je({strokeNoScale:!0,fill:null},A)),pa(E,p,"lineStyle"),La(E),d.add(E))}function FE(n,r,e,o,l){var c=r.tree.root,f=ac(c,n),d=f.source,p=f.sourceLayout,y=r.getItemGraphicEl(n.dataIndex);if(y){var b=r.getItemGraphicEl(d.dataIndex),x=b.__edge,S=y.__edge||(d.isExpand===!1||d.children.length===1?x:void 0),T=o.get("edgeShape"),A=o.get("layout"),E=o.get("orient"),L=o.get(["lineStyle","curveness"]);S&&(T==="curve"?Vn(S,{shape:T2(A,E,L,p,p),style:{opacity:0}},o,{cb:function(){e.remove(S)},removeOpt:l}):T==="polyline"&&o.get("layout")==="orthogonal"&&Vn(S,{shape:{parentPoint:[p.x,p.y],childPoints:[[p.x,p.y]]},style:{opacity:0}},o,{cb:function(){e.remove(S)},removeOpt:l}))}}function ac(n,r){for(var e=r.parentNode===n?r:r.parentNode||r,o;o=e.getLayout(),o==null;)e=e.parentNode===n?e:e.parentNode||e;return{source:e,sourceLayout:o}}function HF(n,r,e,o,l){var c=n.tree.getNodeByDataIndex(r),f=n.tree.root,d=ac(f,c).sourceLayout,p={duration:l.get("animationDurationUpdate"),easing:l.get("animationEasingUpdate")};Vn(e,{x:d.x+1,y:d.y+1},l,{cb:function(){o.remove(e),n.setItemGraphicEl(r,null)},removeOpt:p}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:p}),c.children.forEach(function(y){FE(y,n,o,l,p)}),FE(c,n,o,l,p)}function T2(n,r,e,o,l){var c,f,d,p,y,b,x,S;if(n==="radial"){y=o.rawX,x=o.rawY,b=l.rawX,S=l.rawY;var T=V1(y,x),A=V1(y,x+(S-x)*e),E=V1(b,S+(x-S)*e),L=V1(b,S);return{x1:T.x||0,y1:T.y||0,x2:L.x||0,y2:L.y||0,cpx1:A.x||0,cpy1:A.y||0,cpx2:E.x||0,cpy2:E.y||0}}else y=o.x,x=o.y,b=l.x,S=l.y,(r==="LR"||r==="RL")&&(c=y+(b-y)*e,f=x,d=b+(y-b)*e,p=S),(r==="TB"||r==="BT")&&(c=y,f=x+(S-x)*e,d=b,p=S+(x-S)*e);return{x1:y,y1:x,x2:b,y2:S,cpx1:c,cpy1:f,cpx2:d,cpy2:p}}var YF=G1,as=br();function f$(n){var r=n.mainData,e=n.datas;e||(e={main:r},n.datasAttr={main:"data"}),n.datas=n.mainData=null,$F(r,e,n),it(e,function(o){it(r.TRANSFERABLE_METHODS,function(l){o.wrapMethod(l,hr(UF,n))})}),r.wrapMethod("cloneShallow",hr(h$,n)),it(r.CHANGABLE_METHODS,function(o){r.wrapMethod(o,hr(XF,n))}),ei(e[r.dataType]===r)}function UF(n,r){if(v$(this)){var e=Wt({},as(this).datas);e[this.dataType]=r,$F(r,e,n)}else jE(r,this.dataType,as(this).mainData,n);return r}function XF(n,r){return n.struct&&n.struct.update(),r}function h$(n,r){return it(as(r).datas,function(e,o){e!==r&&jE(e.cloneShallow(),o,r,n)}),r}function O2(n){var r=as(this).mainData;return n==null||r==null?r:as(r).datas[n]}function d$(){var n=as(this).mainData;return n==null?[{data:n}]:Gt(vr(as(n).datas),function(r){return{type:r,data:as(n).datas[r]}})}function v$(n){return as(n).mainData===n}function $F(n,r,e){as(n).datas={},it(r,function(o,l){jE(o,l,n,e)})}function jE(n,r,e,o){as(e).datas[r]=n,as(n).mainData=e,n.dataType=r,o.struct&&(n[o.structAttr]=o.struct,o.struct[o.datasAttr[r]]=n),n.getLinkedData=O2,n.getLinkedDataAll=d$}var VE=f$,p$=function(){function n(r,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=r||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(r,e,o){ze(r)&&(o=e,e=r,r=null),r=r||{},oe(r)&&(r={order:r});var l=r.order||"preorder",c=this[r.attr||"children"],f;l==="preorder"&&(f=e.call(o,this));for(var d=0;!f&&d<c.length;d++)c[d].eachNode(r,e,o);l==="postorder"&&e.call(o,this)},n.prototype.updateDepthAndHeight=function(r){var e=0;this.depth=r;for(var o=0;o<this.children.length;o++){var l=this.children[o];l.updateDepthAndHeight(r+1),l.height>e&&(e=l.height)}this.height=e+1},n.prototype.getNodeById=function(r){if(this.getId()===r)return this;for(var e=0,o=this.children,l=o.length;e<l;e++){var c=o[e].getNodeById(r);if(c)return c}},n.prototype.contains=function(r){if(r===this)return!0;for(var e=0,o=this.children,l=o.length;e<l;e++){var c=o[e].contains(r);if(c)return c}},n.prototype.getAncestors=function(r){for(var e=[],o=r?this:this.parentNode;o;)e.push(o),o=o.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var r=[],e=this;e;)r.push(e.dataIndex),e=e.parentNode;return r.reverse(),r},n.prototype.getDescendantIndices=function(){var r=[];return this.eachNode(function(e){r.push(e.dataIndex)}),r},n.prototype.getValue=function(r){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(r||"value"),this.dataIndex)},n.prototype.setLayout=function(r,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,r,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(r){if(!(this.dataIndex<0)){var e=this.hostTree,o=e.data.getItemModel(this.dataIndex);return o.getModel(r)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(r,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,r,e)},n.prototype.getVisual=function(r){return this.hostTree.data.getItemVisual(this.dataIndex,r)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var r=this.parentNode.children,e=0;e<r.length;++e)if(r[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(r){for(var e=r.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(r){return r!==this&&r.isAncestorOf(this)},n}(),g$=function(){function n(r){this.type="tree",this._nodes=[],this.hostModel=r}return n.prototype.eachNode=function(r,e,o){this.root.eachNode(r,e,o)},n.prototype.getNodeByDataIndex=function(r){var e=this.data.getRawIndex(r);return this._nodes[e]},n.prototype.getNodeById=function(r){return this.root.getNodeById(r)},n.prototype.update=function(){for(var r=this.data,e=this._nodes,o=0,l=e.length;o<l;o++)e[o].dataIndex=-1;for(var o=0,l=r.count();o<l;o++)e[r.getRawIndex(o)].dataIndex=o},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(r,e,o){var l=new n(e),c=[],f=1;d(r);function d(b,x){var S=b.value;f=Math.max(f,Ut(S)?S.length:1),c.push(b);var T=new p$(Pa(b.name,""),l);x?qF(T,x):l.root=T,l._nodes.push(T);var A=b.children;if(A)for(var E=0;E<A.length;E++)d(A[E],T)}l.root.updateDepthAndHeight(0);var p=bv(c,{coordDimensions:["value"],dimensionsCount:f}).dimensions,y=new zo(p,e);return y.initData(c),o&&o(y),VE({mainData:y,struct:l,structAttr:"tree"}),l.update(),l},n}();function qF(n,r){var e=r.children;n.parentNode!==r&&(e.push(n),n.parentNode=r)}var Pn=g$;function W1(n,r,e){if(n&&Xe(r,n.type)>=0){var o=e.getData().tree.root,l=n.targetNode;if(oe(l)&&(l=o.getNodeById(l)),l&&o.contains(l))return{node:l};var c=n.targetNodeId;if(c!=null&&(l=o.getNodeById(c)))return{node:l}}}function ZF(n){for(var r=[];n;)n=n.parentNode,n&&r.push(n);return r.reverse()}function GE(n,r){var e=ZF(n);return Xe(e,r)>=0}function fa(n,r){for(var e=[];n;){var o=n.dataIndex;e.push({name:n.name,dataIndex:o,value:r.getRawValue(o)}),n=n.parentNode}return e.reverse(),e}var KF=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return r.prototype.getInitialData=function(e){var o={name:e.name,children:e.data},l=e.leaves||{},c=new an(l,this,this.ecModel),f=Pn.createTree(o,this,d);function d(x){x.wrapMethod("getItemModel",function(S,T){var A=f.getNodeByDataIndex(T);return A&&A.children.length&&A.isExpand||(S.parentModel=c),S})}var p=0;f.eachNode("preorder",function(x){x.depth>p&&(p=x.depth)});var y=e.expandAndCollapse,b=y&&e.initialTreeDepth>=0?e.initialTreeDepth:p;return f.root.eachNode("preorder",function(x){var S=x.hostTree.data.getRawDataItem(x.dataIndex);x.isExpand=S&&S.collapsed!=null?!S.collapsed:x.depth<=b}),f.data},r.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},r.prototype.setZoom=function(e){this.option.zoom=e},r.prototype.setCenter=function(e){this.option.center=e},r.prototype.formatTooltip=function(e,o,l){for(var c=this.getData().tree,f=c.root.children[0],d=c.getNodeByDataIndex(e),p=d.getValue(),y=d.name;d&&d!==f;)y=d.parentNode.name+"."+y,d=d.parentNode;return Li("nameValue",{name:y,value:p,noValue:isNaN(p)||p==null})},r.prototype.getDataParams=function(e){var o=n.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=fa(l,this),o.collapsed=!l.isExpand,o},r.type="series.tree",r.layoutMode="box",r.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:Rt.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},r}(ai),y$=KF;function m$(n,r,e){for(var o=[n],l=[],c;c=o.pop();)if(l.push(c),c.isExpand){var f=c.children;if(f.length)for(var d=0;d<f.length;d++)o.push(f[d])}for(;c=l.pop();)r(c,e)}function Un(n,r){for(var e=[n],o;o=e.pop();)if(r(o),o.isExpand){var l=o.children;if(l.length)for(var c=l.length-1;c>=0;c--)e.push(l[c])}}function QF(n,r){n.eachSeriesByType("tree",function(e){JF(e,r)})}function JF(n,r){var e=ya(n,r).refContainer,o=Wn(n.getBoxLayoutParams(),e);n.layoutInfo=o;var l=n.get("layout"),c=0,f=0,d=null;l==="radial"?(c=2*Math.PI,f=Math.min(o.height,o.width)/2,d=jh(function(W,X){return(W.parentNode===X.parentNode?1:2)/W.depth})):(c=o.width,f=o.height,d=jh());var p=n.getData().tree.root,y=p.children[0];if(y){FF(p),m$(y,l$,d),p.hierNode.modifier=-y.hierNode.prelim,Un(y,j1);var b=y,x=y,S=y;Un(y,function(W){var X=W.getLayout().x;X<b.getLayout().x&&(b=W),X>x.getLayout().x&&(x=W),W.depth>S.depth&&(S=W)});var T=b===x?1:d(b,x)/2,A=T-b.getLayout().x,E=0,L=0,I=0,N=0;if(l==="radial")E=c/(x.getLayout().x+T+A),L=f/(S.depth-1||1),Un(y,function(W){I=(W.getLayout().x+A)*E,N=(W.depth-1)*L;var X=V1(I,N);W.setLayout({x:X.x,y:X.y,rawX:I,rawY:N},!0)});else{var F=n.getOrient();F==="RL"||F==="LR"?(L=f/(x.getLayout().x+T+A),E=c/(S.depth-1||1),Un(y,function(W){N=(W.getLayout().x+A)*L,I=F==="LR"?(W.depth-1)*E:c-(W.depth-1)*E,W.setLayout({x:I,y:N},!0)})):(F==="TB"||F==="BT")&&(E=c/(x.getLayout().x+T+A),L=f/(S.depth-1||1),Un(y,function(W){I=(W.getLayout().x+A)*E,N=F==="TB"?(W.depth-1)*L:f-(W.depth-1)*L,W.setLayout({x:I,y:N},!0)}))}}}function b$(n){n.eachSeriesByType("tree",function(r){var e=r.getData(),o=e.tree;o.eachNode(function(l){var c=l.getModel(),f=c.getModel("itemStyle").getItemStyle(),d=e.ensureUniqueItemVisual(l.dataIndex,"style");Wt(d,f)})})}function _$(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(r,e){e.eachComponent({mainType:"series",subType:"tree",query:r},function(o){var l=r.dataIndex,c=o.getData().tree,f=c.getNodeByDataIndex(l);f.isExpand=!f.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(r,e,o){e.eachComponent({mainType:"series",subType:"tree",query:r},function(l){var c=l.coordinateSystem,f=D1(c,r,l.get("scaleLimit"));l.setCenter(f.center),l.setZoom(f.zoom)})})}function x$(n){n.registerChartView(YF),n.registerSeriesModel(y$),n.registerLayout(QF),n.registerVisual(b$),_$(n)}var t6=["treemapZoomToNode","treemapRender","treemapMove"];function w$(n){for(var r=0;r<t6.length;r++)n.registerAction({type:t6[r],update:"updateView"},_t);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,o){o.eachComponent({mainType:"series",subType:"treemap",query:e},l);function l(c,f){var d=["treemapZoomToNode","treemapRootToNode"],p=W1(e,d,c);if(p){var y=c.getViewRoot();y&&(e.direction=GE(y,p.node)?"rollUp":"drillDown"),c.resetViewRoot(p.node)}}})}function Ur(n){var r=n.getData(),e=r.tree,o={};e.eachNode(function(l){for(var c=l;c&&c.depth>1;)c=c.parentNode;var f=xA(n.ecModel,c.name||c.dataIndex+"",o);l.setVisual("decal",f)})}var S$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.preventUsingHoverLayer=!0,e}return r.prototype.getInitialData=function(e,o){var l={name:e.name,children:e.data};e6(l);var c=e.levels||[],f=this.designatedVisualItemStyle={},d=new an({itemStyle:f},this,o);c=e.levels=M$(c,o);var p=Gt(c||[],function(x){return new an(x,d,o)},this),y=Pn.createTree(l,this,b);function b(x){x.wrapMethod("getItemModel",function(S,T){var A=y.getNodeByDataIndex(T),E=A?p[A.depth]:null;return S.parentModel=E||d,S})}return y.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.formatTooltip=function(e,o,l){var c=this.getData(),f=this.getRawValue(e),d=c.getName(e);return Li("nameValue",{name:d,value:f})},r.prototype.getDataParams=function(e){var o=n.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(e);return o.treeAncestors=fa(l,this),o.treePathInfo=o.treeAncestors,o},r.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Wt(this.layoutInfo,e)},r.prototype.mapIdToIndex=function(e){var o=this._idIndexMap;o||(o=this._idIndexMap=ve(),this._idIndexMapCount=0);var l=o.get(e);return l==null&&o.set(e,l=this._idIndexMapCount++),l},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;(!e||e!==o&&!o.contains(e))&&(this._viewRoot=o)},r.prototype.enableAriaDecal=function(){Ur(this)},r.type="series.treemap",r.layoutMode="box",r.defaultOption={progressive:0,coordinateSystemUsage:"box",left:Rt.size.l,top:Rt.size.xxxl,right:Rt.size.l,bottom:Rt.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:Rt.size.m,emptyItemWidth:25,itemStyle:{color:Rt.color.backgroundShade,textStyle:{color:Rt.color.secondary}},emphasis:{itemStyle:{color:Rt.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:Rt.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:Rt.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},r}(ai);function e6(n){var r=0;it(n.children,function(o){e6(o);var l=o.value;Ut(l)&&(l=l[0]),r+=l});var e=n.value;Ut(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=r),e<0&&(e=0),Ut(n.value)?n.value[0]=e:n.value=e}function M$(n,r){var e=An(r.get("color")),o=An(r.get(["aria","decal","decals"]));if(e){n=n||[];var l,c;it(n,function(d){var p=new an(d),y=p.get("color"),b=p.get("decal");(p.get(["itemStyle","color"])||y&&y!=="none")&&(l=!0),(p.get(["itemStyle","decal"])||b&&b!=="none")&&(c=!0)});var f=n[0]||(n[0]={});return l||(f.color=e.slice()),!c&&o&&(f.decal=o.slice()),n}}var T$=S$,O$=8,r6=8,WE=5,A$=function(){function n(r){this.group=new Ye,r.add(this.group)}return n.prototype.render=function(r,e,o,l){var c=r.getModel("breadcrumb"),f=this.group;if(f.removeAll(),!(!c.get("show")||!o)){var d=c.getModel("itemStyle"),p=c.getModel("emphasis"),y=d.getModel("textStyle"),b=p.getModel(["itemStyle","textStyle"]),x=ya(r,e).refContainer,S={left:c.get("left"),right:c.get("right"),top:c.get("top"),bottom:c.get("bottom")},T={emptyItemWidth:c.get("emptyItemWidth"),totalWidth:0,renderList:[]},A=Wn(S,x);this._prepare(o,T,y),this._renderContent(r,T,A,d,p,y,b,l),Yl(f,S,x)}},n.prototype._prepare=function(r,e,o){for(var l=r;l;l=l.parentNode){var c=Pa(l.getModel().get("name"),""),f=o.getTextRect(c),d=Math.max(f.width+O$*2,e.emptyItemWidth);e.totalWidth+=d+r6,e.renderList.push({node:l,text:c,width:d})}},n.prototype._renderContent=function(r,e,o,l,c,f,d,p){for(var y=0,b=e.emptyItemWidth,x=r.get(["breadcrumb","height"]),S=e.totalWidth,T=e.renderList,A=c.getModel("itemStyle").getItemStyle(),E=T.length-1;E>=0;E--){var L=T[E],I=L.node,N=L.width,F=L.text;S>o.width&&(S-=N-b,N=b,F=null);var W=new xo({shape:{points:C$(y,0,N,x,E===T.length-1,E===0)},style:je(l.getItemStyle(),{lineJoin:"bevel"}),textContent:new Hr({style:Gn(f,{text:F})}),textConfig:{position:"inside"},z2:Lp*1e4,onclick:hr(p,I)});W.disableLabelAnimation=!0,W.getTextContent().ensureState("emphasis").style=Gn(d,{text:F}),W.ensureState("emphasis").style=A,ri(W,c.get("focus"),c.get("blurScope"),c.get("disabled")),this.group.add(W),P$(W,r,I),y+=N+r6}},n.prototype.remove=function(){this.group.removeAll()},n}();function C$(n,r,e,o,l,c){var f=[[l?n:n-WE,r],[n+e,r],[n+e,r+o],[l?n:n-WE,r+o]];return!c&&f.splice(2,0,[n+e+WE,r+o/2]),!l&&f.push([n,r+o/2]),f}function P$(n,r,e){nr(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&fa(e,r)}}var E$=A$,A2=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(r,e,o,l,c){return this._elExistsMap[r.id]?!1:(this._elExistsMap[r.id]=!0,this._storage.push({el:r,target:e,duration:o,delay:l,easing:c}),!0)},n.prototype.finished=function(r){return this._finishedCallback=r,this},n.prototype.start=function(){for(var r=this,e=this._storage.length,o=function(){e--,e<=0&&(r._storage.length=0,r._elExistsMap={},r._finishedCallback&&r._finishedCallback())},l=0,c=this._storage.length;l<c;l++){var f=this._storage[l];f.el.animateTo(f.target,{duration:f.duration,delay:f.delay,easing:f.easing,setToFinal:!0,done:o,aborted:o})}return this},n}();function HE(){return new A2}var Vh=Ye,Gh=kr,Dv=3,Iv="label",qg="upperLabel",oc=Lp*10,k$=Lp*2,L$=Lp*3,Rv=jf([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),n6=function(n){var r=Rv(n);return r.stroke=r.fill=r.lineWidth=null,r},C2=br(),D$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._state="ready",e._storage=H1(),e}return r.prototype.render=function(e,o,l,c){var f=o.findComponents({mainType:"series",subType:"treemap",query:c});if(!(Xe(f,e)<0)){this.seriesModel=e,this.api=l,this.ecModel=o;var d=["treemapZoomToNode","treemapRootToNode"],p=W1(c,d,e),y=c&&c.type,b=e.layoutInfo,x=!this._oldTree,S=this._storage,T=y==="treemapRootToNode"&&p&&S?{rootNodeGroup:S.nodeGroup[p.node.getRawIndex()],direction:c.direction}:null,A=this._giveContainerGroup(b),E=e.get("animation"),L=this._doRender(A,e,T);E&&!x&&(!y||y==="treemapZoomToNode"||y==="treemapRootToNode")?this._doAnimation(A,L,e,T):L.renderFinally(),this._resetController(l),this._renderBreadcrumb(e,l,p)}},r.prototype._giveContainerGroup=function(e){var o=this._containerGroup;return o||(o=this._containerGroup=new Vh,this._initEvents(o),this.group.add(o)),o.x=e.x,o.y=e.y,o},r.prototype._doRender=function(e,o,l){var c=o.getData().tree,f=this._oldTree,d=H1(),p=H1(),y=this._storage,b=[];function x(N,F,W,X){return i6(o,p,y,l,d,b,N,F,W,X)}E(c.root?[c.root]:[],f&&f.root?[f.root]:[],e,c===f||!f,0);var S=L(y);if(this._oldTree=c,this._storage=p,this._controllerHost){var T=this.seriesModel.layoutInfo,A=c.root.getLayout();A.width===T.width&&A.height===T.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:d,willDeleteEls:S,renderFinally:I};function E(N,F,W,X,$){X?(F=N,it(N,function(at,ot){!at.isRemoved()&&et(ot,ot)})):new qu(F,N,K,K).add(et).update(et).remove(hr(et,null)).execute();function K(at){return at.getId()}function et(at,ot){var ht=at!=null?N[at]:null,yt=ot!=null?F[ot]:null,vt=x(ht,yt,W,$);vt&&E(ht&&ht.viewChildren||[],yt&&yt.viewChildren||[],vt,X,$+1)}}function L(N){var F=H1();return N&&it(N,function(W,X){var $=F[X];it(W,function(K){K&&($.push(K),C2(K).willDelete=!0)})}),F}function I(){it(S,function(N){it(N,function(F){F.parent&&F.parent.remove(F)})}),it(b,function(N){N.invisible=!0,N.dirty()})}},r.prototype._doAnimation=function(e,o,l,c){var f=l.get("animationDurationUpdate"),d=l.get("animationEasing"),p=(ze(f)?0:f)||0,y=(ze(d)?null:d)||"cubicOut",b=HE();it(o.willDeleteEls,function(x,S){it(x,function(T,A){if(!T.invisible){var E=T.parent,L,I=C2(E);if(c&&c.direction==="drillDown")L=E===c.rootNodeGroup?{shape:{x:0,y:0,width:I.nodeWidth,height:I.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var N=0,F=0;I.willDelete||(N=I.nodeWidth/2,F=I.nodeHeight/2),L=S==="nodeGroup"?{x:N,y:F,style:{opacity:0}}:{shape:{x:N,y:F,width:0,height:0},style:{opacity:0}}}L&&b.add(T,L,p,0,y)}})}),it(this._storage,function(x,S){it(x,function(T,A){var E=o.lastsForAnimation[S][A],L={};E&&(T instanceof Ye?E.oldX!=null&&(L.x=T.x,L.y=T.y,T.x=E.oldX,T.y=E.oldY):(E.oldShape&&(L.shape=Wt({},T.shape),T.setShape(E.oldShape)),E.fadein?(T.setStyle("opacity",0),L.style={opacity:1}):T.style.opacity!==1&&(L.style={opacity:1})),b.add(T,L,p,0,y))})},this),this._state="animating",b.finished(ue(function(){this._state="ready",o.renderFinally()},this)).start()},r.prototype._resetController=function(e){var o=this,l=this._controller,c=this._controllerHost;c||(this._controllerHost={target:this.group},c=this._controllerHost);var f=this.seriesModel;l||(l=this._controller=new Cv(e.getZr()),l.on("pan",ue(this._onPan,this)),l.on("zoom",ue(this._onZoom,this))),l.enable(f.get("roam"),{api:e,zInfo:{component:f},triggerInfo:{roamTrigger:f.get("roamTrigger"),isInSelf:function(d,p,y){var b=o._containerGroup;return b?b.getBoundingRect().contain(p-b.x,y-b.y):!1}}}),c.zoomLimit=f.get("scaleLimit"),c.zoom=f.get("zoom")},r.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},r.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>Dv||Math.abs(e.dy)>Dv)){var o=this.seriesModel.getData().tree.root;if(!o)return;var l=o.getLayout();if(!l)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x+e.dx,y:l.y+e.dy,width:l.width,height:l.height}})}},r.prototype._onZoom=function(e){var o=e.originX,l=e.originY,c=e.scale;if(this._state!=="animating"){var f=this.seriesModel.getData().tree.root;if(!f)return;var d=f.getLayout();if(!d)return;var p=new Je(d.x,d.y,d.width,d.height),y=null,b=this._controllerHost;y=b.zoomLimit;var x=b.zoom=b.zoom||1;if(x*=c,y){var S=y.min||0,T=y.max||1/0;x=Math.max(Math.min(T,x),S)}var A=x/b.zoom;b.zoom=x;var E=this.seriesModel.layoutInfo;o-=E.x,l-=E.y;var L=no();xc(L,L,[-o,-l]),VI(L,L,[A,A]),xc(L,L,[o,l]),p.applyTransform(L),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:p.x,y:p.y,width:p.width,height:p.height}})}},r.prototype._initEvents=function(e){var o=this;e.on("click",function(l){if(o._state==="ready"){var c=o.seriesModel.get("nodeClick",!0);if(c){var f=o.findTarget(l.offsetX,l.offsetY);if(f){var d=f.node;if(d.getLayout().isLeafRoot)o._rootToNode(f);else if(c==="zoomToNode")o._zoomToNode(f);else if(c==="link"){var p=d.hostTree.data.getItemModel(d.dataIndex),y=p.get("link",!0),b=p.get("target",!0)||"blank";y&&Mx(y,b)}}}}},this)},r.prototype._renderBreadcrumb=function(e,o,l){var c=this;l||(l=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),l||(l={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new E$(this.group))).render(e,o,l.node,function(f){c._state!=="animating"&&(GE(e.getViewRoot(),f)?c._rootToNode({node:f}):c._zoomToNode({node:f}))})},r.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=H1(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},r.prototype.dispose=function(){this._clearController()},r.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},r.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},r.prototype.findTarget=function(e,o){var l,c=this.seriesModel.getViewRoot();return c.eachNode({attr:"viewChildren",order:"preorder"},function(f){var d=this._storage.background[f.getRawIndex()];if(d){var p=d.transformCoordToLocal(e,o),y=d.shape;if(y.x<=p[0]&&p[0]<=y.x+y.width&&y.y<=p[1]&&p[1]<=y.y+y.height)l={node:f,offsetX:p[0],offsetY:p[1]};else return!1}},this),l},r.type="treemap",r}(Hn);function H1(){return{nodeGroup:[],background:[],content:[]}}function i6(n,r,e,o,l,c,f,d,p,y){if(!f)return;var b=f.getLayout(),x=n.getData(),S=f.getModel();if(x.setItemGraphicEl(f.dataIndex,null),!b||!b.isInView)return;var T=b.width,A=b.height,E=b.borderWidth,L=b.invisible,I=f.getRawIndex(),N=d&&d.getRawIndex(),F=f.viewChildren,W=b.upperHeight,X=F&&F.length,$=S.getModel("itemStyle"),K=S.getModel(["emphasis","itemStyle"]),et=S.getModel(["blur","itemStyle"]),at=S.getModel(["select","itemStyle"]),ot=$.get("borderRadius")||0,ht=Qe("nodeGroup",Vh);if(!ht)return;if(p.add(ht),ht.x=b.x||0,ht.y=b.y||0,ht.markRedraw(),C2(ht).nodeWidth=T,C2(ht).nodeHeight=A,b.isAboveViewRoot)return ht;var yt=Qe("background",Gh,y,k$);yt&&zt(ht,yt,X&&b.upperLabelHeight);var vt=S.getModel("emphasis"),bt=vt.get("focus"),Mt=vt.get("blurScope"),St=vt.get("disabled"),Pt=bt==="ancestor"?f.getAncestorsIndices():bt==="descendant"?f.getDescendantIndices():bt;if(X)I0(ht)&&Bd(ht,!1),yt&&(Bd(yt,!St),x.setItemGraphicEl(f.dataIndex,yt),Ip(yt,Pt,Mt));else{var Et=Qe("content",Gh,y,L$);Et&&Ht(ht,Et),yt.disableMorphing=!0,yt&&I0(yt)&&Bd(yt,!1),Bd(ht,!St),x.setItemGraphicEl(f.dataIndex,ht);var Lt=S.getShallow("cursor");Lt&&Et.attr("cursor",Lt),Ip(ht,Pt,Mt)}return ht;function zt(dr,Ge,Mr){var Pe=nr(Ge);if(Pe.dataIndex=f.dataIndex,Pe.seriesIndex=n.seriesIndex,Ge.setShape({x:0,y:0,width:T,height:A,r:ot}),L)qt(Ge);else{Ge.invisible=!1;var fr=f.getVisual("style"),_n=fr.stroke,Xr=n6($);Xr.fill=_n;var xn=Rv(K);xn.fill=K.get("borderColor");var kn=Rv(et);kn.fill=et.get("borderColor");var wa=Rv(at);if(wa.fill=at.get("borderColor"),Mr){var Us=T-2*E;ne(Ge,_n,fr.opacity,{x:E,y:0,width:Us,height:W})}else Ge.removeTextContent();Ge.setStyle(Xr),Ge.ensureState("emphasis").style=xn,Ge.ensureState("blur").style=kn,Ge.ensureState("select").style=wa,La(Ge)}dr.add(Ge)}function Ht(dr,Ge){var Mr=nr(Ge);Mr.dataIndex=f.dataIndex,Mr.seriesIndex=n.seriesIndex;var Pe=Math.max(T-2*E,0),fr=Math.max(A-2*E,0);if(Ge.culling=!0,Ge.setShape({x:E,y:E,width:Pe,height:fr,r:ot}),L)qt(Ge);else{Ge.invisible=!1;var _n=f.getVisual("style"),Xr=_n.fill,xn=n6($);xn.fill=Xr,xn.decal=_n.decal;var kn=Rv(K),wa=Rv(et),Us=Rv(at);ne(Ge,Xr,_n.opacity,null),Ge.setStyle(xn),Ge.ensureState("emphasis").style=kn,Ge.ensureState("blur").style=wa,Ge.ensureState("select").style=Us,La(Ge)}dr.add(Ge)}function qt(dr){!dr.invisible&&c.push(dr)}function ne(dr,Ge,Mr,Pe){var fr=S.getModel(Pe?qg:Iv),_n=Pa(S.get("name"),null),Xr=fr.getShallow("show");Da(dr,ga(S,Pe?qg:Iv),{defaultText:Xr?_n:null,inheritColor:Ge,defaultOpacity:Mr,labelFetcher:n,labelDataIndex:f.dataIndex});var xn=dr.getTextContent();if(xn){var kn=xn.style,wa=_u(kn.padding||0);Pe&&(dr.setTextConfig({layoutRect:Pe}),xn.disableLabelLayout=!0),xn.beforeUpdate=function(){var hs=Math.max((Pe?Pe.width:dr.shape.width)-wa[1]-wa[3],0),fd=Math.max((Pe?Pe.height:dr.shape.height)-wa[0]-wa[2],0);(kn.width!==hs||kn.height!==fd)&&xn.setStyle({width:hs,height:fd})},kn.truncateMinChar=2,kn.lineOverflow="truncate",Ce(kn,Pe,b);var Us=xn.getState("emphasis");Ce(Us?Us.style:null,Pe,b)}}function Ce(dr,Ge,Mr){var Pe=dr?dr.text:null;if(!Ge&&Mr.isLeafRoot&&Pe!=null){var fr=n.get("drillDownIcon",!0);dr.text=fr?fr+" "+Pe:Pe}}function Qe(dr,Ge,Mr,Pe){var fr=N!=null&&e[dr][N],_n=l[dr];return fr?(e[dr][N]=null,jr(_n,fr)):L||(fr=new Ge,fr instanceof Fi&&(fr.z2=a6(Mr,Pe)),wn(_n,fr)),r[dr][I]=fr}function jr(dr,Ge){var Mr=dr[I]={};Ge instanceof Vh?(Mr.oldX=Ge.x,Mr.oldY=Ge.y):Mr.oldShape=Wt({},Ge.shape)}function wn(dr,Ge){var Mr=dr[I]={},Pe=f.parentNode,fr=Ge instanceof Ye;if(Pe&&(!o||o.direction==="drillDown")){var _n=0,Xr=0,xn=l.background[Pe.getRawIndex()];!o&&xn&&xn.oldShape&&(_n=xn.oldShape.width,Xr=xn.oldShape.height),fr?(Mr.oldX=0,Mr.oldY=Xr):Mr.oldShape={x:_n,y:Xr,width:0,height:0}}Mr.fadein=!fr}}function a6(n,r){return n*oc+r}var I$=D$,Y1=it,o6=ce,Zg=-1,P2=function(){function n(r){var e=r.mappingMethod,o=r.type,l=this.option=Ne(r);this.type=o,this.mappingMethod=e,this._normalizeData=l6[e];var c=n.visualHandlers[o];this.applyVisual=c.applyVisual,this.getColorMapper=c.getColorMapper,this._normalizedToVisual=c._normalizedToVisual[e],e==="piecewise"?(Nv(l),E2(l)):e==="category"?l.categories?s6(l):Nv(l,!0):(ei(e!=="linear"||l.dataExtent),Nv(l))}return n.prototype.mapValueToVisual=function(r){var e=this._normalizeData(r);return this._normalizedToVisual(e,r)},n.prototype.getNormalizer=function(){return ue(this._normalizeData,this)},n.listVisualTypes=function(){return vr(n.visualHandlers)},n.isValidType=function(r){return n.visualHandlers.hasOwnProperty(r)},n.eachVisual=function(r,e,o){ce(r)?it(r,e,o):e.call(o,r)},n.mapVisual=function(r,e,o){var l,c=Ut(r)?[]:ce(r)?{}:(l=!0,null);return n.eachVisual(r,function(f,d){var p=e.call(o,f,d);l?c=p:c[d]=p}),c},n.retrieveVisuals=function(r){var e={},o;return r&&Y1(n.visualHandlers,function(l,c){r.hasOwnProperty(c)&&(e[c]=r[c],o=!0)}),o?e:null},n.prepareVisualTypes=function(r){if(Ut(r))r=r.slice();else if(o6(r)){var e=[];Y1(r,function(o,l){e.push(l)}),r=e}else return[];return r.sort(function(o,l){return l==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),r},n.dependsOn=function(r,e){return e==="color"?!!(r&&r.indexOf(e)===0):r===e},n.findPieceIndex=function(r,e,o){for(var l,c=1/0,f=0,d=e.length;f<d;f++){var p=e[f].value;if(p!=null){if(p===r||oe(p)&&p===r+"")return f;o&&S(p,f)}}for(var f=0,d=e.length;f<d;f++){var y=e[f],b=y.interval,x=y.close;if(b){if(b[0]===-1/0){if(k2(x[1],r,b[1]))return f}else if(b[1]===1/0){if(k2(x[0],b[0],r))return f}else if(k2(x[0],b[0],r)&&k2(x[1],r,b[1]))return f;o&&S(b[0],f),o&&S(b[1],f)}}if(o)return r===1/0?e.length-1:r===-1/0?0:l;function S(T,A){var E=Math.abs(T-r);E<c&&(c=E,l=A)}},n.visualHandlers={color:{applyVisual:U1("color"),getColorMapper:function(){var r=this.option;return ue(r.mappingMethod==="category"?function(e,o){return!o&&(e=this._normalizeData(e)),Kg.call(this,e)}:function(e,o,l){var c=!!l;return!o&&(e=this._normalizeData(e)),l=$T(e,r.parsedVisual,l),c?l:Il(l,"rgba")},this)},_normalizedToVisual:{linear:function(r){return Il($T(r,this.option.parsedVisual),"rgba")},category:Kg,piecewise:function(r,e){var o=nf.call(this,e);return o==null&&(o=Il($T(r,this.option.parsedVisual),"rgba")),o},fixed:sc}},colorHue:Ba(function(r,e){return Au(r,e)}),colorSaturation:Ba(function(r,e){return Au(r,null,e)}),colorLightness:Ba(function(r,e){return Au(r,null,null,e)}),colorAlpha:Ba(function(r,e){return ZT(r,e)}),decal:{applyVisual:U1("decal"),_normalizedToVisual:{linear:null,category:Kg,piecewise:null,fixed:null}},opacity:{applyVisual:U1("opacity"),_normalizedToVisual:rf([0,1])},liftZ:{applyVisual:U1("liftZ"),_normalizedToVisual:{linear:sc,category:sc,piecewise:sc,fixed:sc}},symbol:{applyVisual:function(r,e,o){var l=this.mapValueToVisual(r);o("symbol",l)},_normalizedToVisual:{linear:YE,category:Kg,piecewise:function(r,e){var o=nf.call(this,e);return o==null&&(o=YE.call(this,r)),o},fixed:sc}},symbolSize:{applyVisual:U1("symbolSize"),_normalizedToVisual:rf([0,1])}},n}();function E2(n){var r=n.pieceList;n.hasSpecialVisual=!1,it(r,function(e,o){e.originIndex=o,e.visual!=null&&(n.hasSpecialVisual=!0)})}function s6(n){var r=n.categories,e=n.categoryMap={},o=n.visual;if(Y1(r,function(f,d){e[f]=d}),!Ut(o)){var l=[];ce(o)?Y1(o,function(f,d){var p=e[d];l[p!=null?p:Zg]=f}):l[Zg]=o,o=UE(n,l)}for(var c=r.length-1;c>=0;c--)o[c]==null&&(delete e[r[c]],r.pop())}function Nv(n,r){var e=n.visual,o=[];ce(e)?Y1(e,function(c){o.push(c)}):e!=null&&o.push(e);var l={color:1,symbol:1};!r&&o.length===1&&!l.hasOwnProperty(n.type)&&(o[1]=o[0]),UE(n,o)}function Ba(n){return{applyVisual:function(r,e,o){var l=this.mapValueToVisual(r);o("color",n(e("color"),l))},_normalizedToVisual:rf([0,1])}}function YE(n){var r=this.option.visual;return r[Math.round(vn(n,[0,1],[0,r.length-1],!0))]||{}}function U1(n){return function(r,e,o){o(n,this.mapValueToVisual(r))}}function Kg(n){var r=this.option.visual;return r[this.option.loop&&n!==Zg?n%r.length:n]}function sc(){return this.option.visual[0]}function rf(n){return{linear:function(r){return vn(r,n,this.option.visual,!0)},category:Kg,piecewise:function(r,e){var o=nf.call(this,e);return o==null&&(o=vn(r,n,this.option.visual,!0)),o},fixed:sc}}function nf(n){var r=this.option,e=r.pieceList;if(r.hasSpecialVisual){var o=P2.findPieceIndex(n,e),l=e[o];if(l&&l.visual)return l.visual[this.type]}}function UE(n,r){return n.visual=r,n.type==="color"&&(n.parsedVisual=Gt(r,function(e){var o=$o(e);return o||[0,0,0,1]})),r}var l6={linear:function(n){return vn(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var r=this.option.pieceList,e=P2.findPieceIndex(n,r,!0);if(e!=null)return vn(e,[0,r.length-1],[0,1],!0)},category:function(n){var r=this.option.categories?this.option.categoryMap[n]:n;return r==null?Zg:r},fixed:_t};function k2(n,r,e){return n?r<=e:r<e}var hi=P2,u6="itemStyle",X1=br(),XE={seriesType:"treemap",reset:function(n){var r=n.getData().tree,e=r.root;e.isRemoved()||$E(e,{},n.getViewRoot().getAncestors(),n)}};function $E(n,r,e,o){var l=n.getModel(),c=n.getLayout(),f=n.hostTree.data;if(!(!c||c.invisible||!c.isInView)){var d=l.getModel(u6),p=R$(d,r,o),y=f.ensureUniqueItemVisual(n.dataIndex,"style"),b=d.get("borderColor"),x=d.get("borderColorSaturation"),S;x!=null&&(S=c6(p),b=qE(x,S)),y.stroke=b;var T=n.viewChildren;if(!T||!T.length)S=c6(p),y.fill=S;else{var A=N$(n,l,c,d,p,T);it(T,function(E,L){if(E.depth>=e.length||E===e[E.depth]){var I=B$(l,p,E,L,A,o);$E(E,I,e,o)}})}}}function R$(n,r,e){var o=Wt({},r),l=e.designatedVisualItemStyle;return it(["color","colorAlpha","colorSaturation"],function(c){l[c]=r[c];var f=n.get(c);l[c]=null,f!=null&&(o[c]=f)}),o}function c6(n){var r=L2(n,"color");if(r){var e=L2(n,"colorAlpha"),o=L2(n,"colorSaturation");return o&&(r=Au(r,null,null,o)),e&&(r=ZT(r,e)),r}}function qE(n,r){return r!=null?Au(r,null,null,n):null}function L2(n,r){var e=n[r];if(e!=null&&e!=="none")return e}function N$(n,r,e,o,l,c){if(!(!c||!c.length)){var f=ZE(r,"color")||l.color!=null&&l.color!=="none"&&(ZE(r,"colorAlpha")||ZE(r,"colorSaturation"));if(f){var d=r.get("visualMin"),p=r.get("visualMax"),y=e.dataExtent.slice();d!=null&&d<y[0]&&(y[0]=d),p!=null&&p>y[1]&&(y[1]=p);var b=r.get("colorMappingBy"),x={type:f.name,dataExtent:y,visual:f.range};x.type==="color"&&(b==="index"||b==="id")?(x.mappingMethod="category",x.loop=!0):x.mappingMethod="linear";var S=new hi(x);return X1(S).drColorMappingBy=b,S}}}function ZE(n,r){var e=n.get(r);return Ut(e)&&e.length?{name:r,range:e}:null}function B$(n,r,e,o,l,c){var f=Wt({},r);if(l){var d=l.type,p=d==="color"&&X1(l).drColorMappingBy,y=p==="index"?o:p==="id"?c.mapIdToIndex(e.getId()):e.getValue(n.get("visualDimension"));f[d]=l.mapValueToVisual(y)}return f}var lc=Math.max,KE=Math.min,QE=mn,JE=it,z$=["itemStyle","borderWidth"],di=["itemStyle","gapWidth"],f6=["upperLabel","show"],F$=["upperLabel","height"],h6={seriesType:"treemap",reset:function(n,r,e,o){var l=n.option,c=ya(n,e).refContainer,f=Wn(n.getBoxLayoutParams(),c),d=l.size||[],p=de(QE(f.width,d[0]),c.width),y=de(QE(f.height,d[1]),c.height),b=o&&o.type,x=["treemapZoomToNode","treemapRootToNode"],S=W1(o,x,n),T=b==="treemapRender"||b==="treemapMove"?o.rootRect:null,A=n.getViewRoot(),E=ZF(A);if(b!=="treemapMove"){var L=b==="treemapZoomToNode"?m6(n,S,A,p,y):T?[T.width,T.height]:[p,y],I=l.sort;I&&I!=="asc"&&I!=="desc"&&(I="desc");var N={squareRatio:l.squareRatio,sort:I,leafDepth:l.leafDepth};A.hostTree.clearLayouts();var F={x:0,y:0,width:L[0],height:L[1],area:L[0]*L[1]};A.setLayout(F),d6(A,N,!1,0),F=A.getLayout(),JE(E,function(X,$){var K=(E[$+1]||A).getValue();X.setLayout(Wt({dataExtent:[K,K],borderWidth:0,upperHeight:0},F))})}var W=n.getData().tree.root;W.setLayout(G$(f,T,S),!0),n.setLayoutInfo(f),tk(W,new Je(-f.x,-f.y,e.getWidth(),e.getHeight()),E,A,0)}};function d6(n,r,e,o){var l,c;if(!n.isRemoved()){var f=n.getLayout();l=f.width,c=f.height;var d=n.getModel(),p=d.get(z$),y=d.get(di)/2,b=b6(d),x=Math.max(p,b),S=p-y,T=x-y;n.setLayout({borderWidth:p,upperHeight:x,upperLabelHeight:b},!0),l=lc(l-2*S,0),c=lc(c-S-T,0);var A=l*c,E=v6(n,d,A,r,e,o);if(E.length){var L={x:S,y:T,width:l,height:c},I=KE(l,c),N=1/0,F=[];F.area=0;for(var W=0,X=E.length;W<X;){var $=E[W];F.push($),F.area+=$.getLayout().area;var K=g6(F,I,r.squareRatio);K<=N?(W++,N=K):(F.area-=F.pop().getLayout().area,y6(F,I,L,y,!1),I=KE(L.width,L.height),F.length=F.area=0,N=1/0)}if(F.length&&y6(F,I,L,y,!0),!e){var et=d.get("childrenVisibleMin");et!=null&&A<et&&(e=!0)}for(var W=0,X=E.length;W<X;W++)d6(E[W],r,e,o+1)}}}function v6(n,r,e,o,l,c){var f=n.children||[],d=o.sort;d!=="asc"&&d!=="desc"&&(d=null);var p=o.leafDepth!=null&&o.leafDepth<=c;if(l&&!p)return n.viewChildren=[];f=Zr(f,function(T){return!T.isRemoved()}),p6(f,d);var y=V$(r,f,d);if(y.sum===0)return n.viewChildren=[];if(y.sum=j$(r,e,y.sum,d,f),y.sum===0)return n.viewChildren=[];for(var b=0,x=f.length;b<x;b++){var S=f[b].getValue()/y.sum*e;f[b].setLayout({area:S})}return p&&(f.length&&n.setLayout({isLeafRoot:!0},!0),f.length=0),n.viewChildren=f,n.setLayout({dataExtent:y.dataExtent},!0),f}function j$(n,r,e,o,l){if(!o)return e;for(var c=n.get("visibleMin"),f=l.length,d=f,p=f-1;p>=0;p--){var y=l[o==="asc"?f-p-1:p].getValue();y/e*r<c&&(d=p,e-=y)}return o==="asc"?l.splice(0,f-d):l.splice(d,f-d),e}function p6(n,r){return r&&n.sort(function(e,o){var l=r==="asc"?e.getValue()-o.getValue():o.getValue()-e.getValue();return l===0?r==="asc"?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:l}),n}function V$(n,r,e){for(var o=0,l=0,c=r.length;l<c;l++)o+=r[l].getValue();var f=n.get("visualDimension"),d;return!r||!r.length?d=[NaN,NaN]:f==="value"&&e?(d=[r[r.length-1].getValue(),r[0].getValue()],e==="asc"&&d.reverse()):(d=[1/0,-1/0],JE(r,function(p){var y=p.getValue(f);y<d[0]&&(d[0]=y),y>d[1]&&(d[1]=y)})),{sum:o,dataExtent:d}}function g6(n,r,e){for(var o=0,l=1/0,c=0,f=void 0,d=n.length;c<d;c++)f=n[c].getLayout().area,f&&(f<l&&(l=f),f>o&&(o=f));var p=n.area*n.area,y=r*r*e;return p?lc(y*o/p,p/(y*l)):1/0}function y6(n,r,e,o,l){var c=r===e.width?0:1,f=1-c,d=["x","y"],p=["width","height"],y=e[d[c]],b=r?n.area/r:0;(l||b>e[p[f]])&&(b=e[p[f]]);for(var x=0,S=n.length;x<S;x++){var T=n[x],A={},E=b?T.getLayout().area/b:0,L=A[p[f]]=lc(b-2*o,0),I=e[d[c]]+e[p[c]]-y,N=x===S-1||I<E?I:E,F=A[p[c]]=lc(N-2*o,0);A[d[f]]=e[d[f]]+KE(o,L/2),A[d[c]]=y+KE(o,F/2),y+=N,T.setLayout(A,!0)}e[d[f]]+=b,e[p[f]]-=b}function m6(n,r,e,o,l){var c=(r||{}).node,f=[o,l];if(!c||c===e)return f;for(var d,p=o*l,y=p*n.option.zoomToNodeRatio;d=c.parentNode;){for(var b=0,x=d.children,S=0,T=x.length;S<T;S++)b+=x[S].getValue();var A=c.getValue();if(A===0)return f;y*=b/A;var E=d.getModel(),L=E.get(z$),I=Math.max(L,b6(E));y+=4*L*L+(3*L+I)*Math.pow(y,.5),y>AR&&(y=AR),c=d}y<p&&(y=p);var N=Math.pow(y/p,.5);return[o*N,l*N]}function G$(n,r,e){if(r)return{x:r.x,y:r.y};var o={x:0,y:0};if(!e)return o;var l=e.node,c=l.getLayout();if(!c)return o;for(var f=[c.width/2,c.height/2],d=l;d;){var p=d.getLayout();f[0]+=p.x,f[1]+=p.y,d=d.parentNode}return{x:n.width/2-f[0],y:n.height/2-f[1]}}function tk(n,r,e,o,l){var c=n.getLayout(),f=e[l],d=f&&f===n;if(!(f&&!d||l===e.length&&n!==o)){n.setLayout({isInView:!0,invisible:!d&&!r.intersect(c),isAboveViewRoot:d},!0);var p=new Je(r.x-c.x,r.y-c.y,r.width,r.height);JE(n.viewChildren||[],function(y){tk(y,p,e,o,l+1)})}}function b6(n){return n.get(f6)?n.get(F$):0}function _6(n){n.registerSeriesModel(T$),n.registerChartView(I$),n.registerVisual(XE),n.registerLayout(h6),w$(n)}function W$(n){var r=n.findComponents({mainType:"legend"});!r||!r.length||n.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),l=e.getGraph(),c=l.data,f=o.mapArray(o.getName);c.filterSelf(function(d){var p=c.getItemModel(d),y=p.getShallow("category");if(y!=null){qe(y)&&(y=f[y]);for(var b=0;b<r.length;b++)if(!r[b].isSelected(y))return!1}return!0})})}function x6(n){var r={};n.eachSeriesByType("graph",function(e){var o=e.getCategoriesData(),l=e.getData(),c={};o.each(function(f){var d=o.getName(f);c["ec-"+d]=f;var p=o.getItemModel(f),y=p.getModel("itemStyle").getItemStyle();y.fill||(y.fill=e.getColorFromPalette(d,r)),o.setItemVisual(f,"style",y);for(var b=["symbol","symbolSize","symbolKeepAspect"],x=0;x<b.length;x++){var S=p.getShallow(b[x],!0);S!=null&&o.setItemVisual(f,b[x],S)}}),o.count()&&l.each(function(f){var d=l.getItemModel(f),p=d.getShallow("category");if(p!=null){oe(p)&&(p=c["ec-"+p]);var y=o.getItemVisual(p,"style"),b=l.ensureUniqueItemVisual(f,"style");Wt(b,y);for(var x=["symbol","symbolSize","symbolKeepAspect"],S=0;S<x.length;S++)l.setItemVisual(f,x[S],o.getItemVisual(p,x[S]))}})})}function D2(n){return n instanceof Array||(n=[n,n]),n}function w6(n){n.eachSeriesByType("graph",function(r){var e=r.getGraph(),o=r.getEdgeData(),l=D2(r.get("edgeSymbol")),c=D2(r.get("edgeSymbolSize"));o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",c&&c[0]),o.setVisual("toSymbolSize",c&&c[1]),o.setVisual("style",r.getModel("lineStyle").getLineStyle()),o.each(function(f){var d=o.getItemModel(f),p=e.getEdgeByIndex(f),y=D2(d.getShallow("symbol",!0)),b=D2(d.getShallow("symbolSize",!0)),x=d.getModel("lineStyle").getLineStyle(),S=o.ensureUniqueItemVisual(f,"style");switch(Wt(S,x),S.stroke){case"source":{var T=p.node1.getVisual("style");S.stroke=T&&T.fill;break}case"target":{var T=p.node2.getVisual("style");S.stroke=T&&T.fill;break}}y[0]&&p.setVisual("fromSymbol",y[0]),y[1]&&p.setVisual("toSymbol",y[1]),b[0]&&p.setVisual("fromSymbolSize",b[0]),b[1]&&p.setVisual("toSymbolSize",b[1])})})}var ek="-->",$1=function(n){return n.get("autoCurveness")||null},S6=function(n,r){var e=$1(n),o=20,l=[];if(qe(e))o=e;else if(Ut(e)){n.__curvenessList=e;return}r>o&&(o=r);var c=o%2?o+2:o+3;l=[];for(var f=0;f<c;f++)l.push((f%2?f+1:f)/10*(f%2?-1:1));n.__curvenessList=l},Qg=function(n,r,e){var o=[n.id,n.dataIndex].join("."),l=[r.id,r.dataIndex].join(".");return[e.uid,o,l].join(ek)},M6=function(n){var r=n.split(ek);return[r[0],r[2],r[1]].join(ek)},T6=function(n,r){var e=Qg(n.node1,n.node2,r);return r.__edgeMap[e]},H$=function(n,r){var e=I2(Qg(n.node1,n.node2,r),r),o=I2(Qg(n.node2,n.node1,r),r);return e+o},I2=function(n,r){var e=r.__edgeMap;return e[n]?e[n].length:0};function Y$(n){$1(n)&&(n.__curvenessList=[],n.__edgeMap={},S6(n))}function O6(n,r,e,o){if($1(e)){var l=Qg(n,r,e),c=e.__edgeMap,f=c[M6(l)];c[l]&&!f?c[l].isForward=!0:f&&c[l]&&(f.isForward=!0,c[l].isForward=!1),c[l]=c[l]||[],c[l].push(o)}}function rk(n,r,e,o){var l=$1(r),c=Ut(l);if(!l)return null;var f=T6(n,r);if(!f)return null;for(var d=-1,p=0;p<f.length;p++)if(f[p]===e){d=p;break}var y=H$(n,r);S6(r,y),n.lineStyle=n.lineStyle||{};var b=Qg(n.node1,n.node2,r),x=r.__curvenessList,S=c||y%2?0:1;if(f.isForward)return x[S+d];var T=M6(b),A=I2(T,r),E=x[d+A+S];return o?c?l&&l[0]===0?(A+S)%2?E:-E:((A%2?0:1)+S)%2?E:-E:(A+S)%2?E:-E:x[d+A+S]}function nk(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view")){var e=n.getGraph();e.eachNode(function(o){var l=o.getModel();o.setLayout([+l.get("x"),+l.get("y")])}),ik(e,n)}}function ik(n,r){n.eachEdge(function(e,o){var l=Ui(e.getModel().get(["lineStyle","curveness"]),-rk(e,r,o,!0),0),c=gi(e.node1.getLayout()),f=gi(e.node2.getLayout()),d=[c,f];+l&&d.push([(c[0]+f[0])/2-(c[1]-f[1])*l,(c[1]+f[1])/2-(f[0]-c[0])*l]),e.setLayout(d)})}function A6(n,r){n.eachSeriesByType("graph",function(e){var o=e.get("layout"),l=e.coordinateSystem;if(l&&l.type!=="view"){var c=e.getData(),f=[];it(l.dimensions,function(S){f=f.concat(c.mapDimensionsAll(S))});for(var d=0;d<c.count();d++){for(var p=[],y=!1,b=0;b<f.length;b++){var x=c.get(f[b],d);isNaN(x)||(y=!0),p.push(x)}y?c.setItemLayout(d,l.dataToPoint(p)):c.setItemLayout(d,[NaN,NaN])}ik(c.graph,e)}else(!o||o==="none")&&nk(e)})}function q1(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var e=n.option.nodeScaleRatio,o=r.scaleX,l=r.getZoom(),c=(l-1)*e+1;return c/o}function Jg(n){var r=n.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}var C6=Math.PI,R2=[];function ak(n,r,e,o){var l=n.coordinateSystem;if(!(l&&l.type!=="view")){var c=l.getBoundingRect(),f=n.getData(),d=f.graph,p=c.width/2+c.x,y=c.height/2+c.y,b=Math.min(c.width,c.height)/2,x=f.count();if(f.setLayout({cx:p,cy:y}),!!x){if(e){var S=l.pointToData(o),T=S[0],A=S[1],E=[T-p,A-y];go(E,E),xu(E,E,b),e.setLayout([p+E[0],y+E[1]],!0);var L=n.get(["circular","rotateLabel"]);E6(e,L,p,y)}P6[r](n,d,f,b,p,y,x),d.eachEdge(function(I,N){var F=Ui(I.getModel().get(["lineStyle","curveness"]),rk(I,n,N),0),W=gi(I.node1.getLayout()),X=gi(I.node2.getLayout()),$,K=(W[0]+X[0])/2,et=(W[1]+X[1])/2;+F&&(F*=3,$=[p*F+K*(1-F),y*F+et*(1-F)]),I.setLayout([W,X,$])})}}}var P6={value:function(n,r,e,o,l,c,f){var d=0,p=e.getSum("value"),y=Math.PI*2/(p||f);r.eachNode(function(b){var x=b.getValue("value"),S=y*(p?x:1)/2;d+=S,b.setLayout([o*Math.cos(d)+l,o*Math.sin(d)+c]),d+=S})},symbolSize:function(n,r,e,o,l,c,f){var d=0;R2.length=f;var p=q1(n);r.eachNode(function(x){var S=Jg(x);isNaN(S)&&(S=2),S<0&&(S=0),S*=p;var T=Math.asin(S/2/o);isNaN(T)&&(T=C6/2),R2[x.dataIndex]=T,d+=T*2});var y=(2*C6-d)/f/2,b=0;r.eachNode(function(x){var S=y+R2[x.dataIndex];b+=S,(!x.getLayout()||!x.getLayout().fixed)&&x.setLayout([o*Math.cos(b)+l,o*Math.sin(b)+c]),b+=S})}};function E6(n,r,e,o){var l=n.getGraphicEl();if(l){var c=n.getModel(),f=c.get(["label","rotate"])||0,d=l.getSymbolPath();if(r){var p=n.getLayout(),y=Math.atan2(p[1]-o,p[0]-e);y<0&&(y=Math.PI*2+y);var b=p[0]<e;b&&(y=y-Math.PI);var x=b?"left":"right";d.setTextConfig({rotation:-y,position:x,origin:"center"});var S=d.ensureState("emphasis");Wt(S.textConfig||(S.textConfig={}),{position:x})}else d.setTextConfig({rotation:f*=Math.PI/180})}}function k6(n){n.eachSeriesByType("graph",function(r){r.get("layout")==="circular"&&ak(r,"symbolSize")})}var ty=bc;function L6(n,r,e){for(var o=n,l=r,c=e.rect,f=c.width,d=c.height,p=[c.x+f/2,c.y+d/2],y=e.gravity==null?.1:e.gravity,b=0;b<o.length;b++){var x=o[b];x.p||(x.p=ps(f*(Math.random()-.5)+p[0],d*(Math.random()-.5)+p[1])),x.pp=gi(x.p),x.edges=null}var S=e.friction==null?.6:e.friction,T=S,A,E;return{warmUp:function(){T=S*.8},setFixed:function(L){o[L].fixed=!0},setUnfixed:function(L){o[L].fixed=!1},beforeStep:function(L){A=L},afterStep:function(L){E=L},step:function(L){A&&A(o,l);for(var I=[],N=o.length,F=0;F<l.length;F++){var W=l[F];if(!W.ignoreForceLayout){var X=W.n1,$=W.n2;Lo(I,$.p,X.p);var K=lp(I)-W.d,et=$.w/(X.w+$.w);isNaN(et)&&(et=0),go(I,I),!X.fixed&&ty(X.p,X.p,I,et*K*T),!$.fixed&&ty($.p,$.p,I,-(1-et)*K*T)}}for(var F=0;F<N;F++){var at=o[F];at.fixed||(Lo(I,p,at.p),ty(at.p,at.p,I,y*T))}for(var F=0;F<N;F++)for(var X=o[F],ot=F+1;ot<N;ot++){var $=o[ot];Lo(I,$.p,X.p);var K=lp(I);K===0&&(Tf(I,Math.random()-.5,Math.random()-.5),K=1);var ht=(X.rep+$.rep)/K/K;!X.fixed&&ty(X.pp,X.pp,I,ht),!$.fixed&&ty($.pp,$.pp,I,-ht)}for(var yt=[],F=0;F<N;F++){var at=o[F];at.fixed||(Lo(yt,at.p,at.pp),ty(at.p,at.p,yt,T),ki(at.pp,at.p))}T=T*.992;var vt=T<.01;E&&E(o,l,vt),L&&L(vt)}}}function U$(n){n.eachSeriesByType("graph",function(r){var e=r.coordinateSystem;if(!(e&&e.type!=="view"))if(r.get("layout")==="force"){var o=r.preservedPoints||{},l=r.getGraph(),c=l.data,f=l.edgeData,d=r.getModel("force"),p=d.get("initLayout");r.preservedPoints?c.each(function(F){var W=c.getId(F);c.setItemLayout(F,o[W]||[NaN,NaN])}):!p||p==="none"?nk(r):p==="circular"&&ak(r,"value");var y=c.getDataExtent("value"),b=f.getDataExtent("value"),x=d.get("repulsion"),S=d.get("edgeLength"),T=Ut(x)?x:[x,x],A=Ut(S)?S:[S,S];A=[A[1],A[0]];var E=c.mapArray("value",function(F,W){var X=c.getItemLayout(W),$=vn(F,y,T);return isNaN($)&&($=(T[0]+T[1])/2),{w:$,rep:$,fixed:c.getItemModel(W).get("fixed"),p:!X||isNaN(X[0])||isNaN(X[1])?null:X}}),L=f.mapArray("value",function(F,W){var X=l.getEdgeByIndex(W),$=vn(F,b,A);isNaN($)&&($=(A[0]+A[1])/2);var K=X.getModel(),et=Ui(X.getModel().get(["lineStyle","curveness"]),-rk(X,r,W,!0),0);return{n1:E[X.node1.dataIndex],n2:E[X.node2.dataIndex],d:$,curveness:et,ignoreForceLayout:K.get("ignoreForceLayout")}}),I=e.getBoundingRect(),N=L6(E,L,{rect:I,gravity:d.get("gravity"),friction:d.get("friction")});N.beforeStep(function(F,W){for(var X=0,$=F.length;X<$;X++)F[X].fixed&&ki(F[X].p,l.getNodeByIndex(X).getLayout())}),N.afterStep(function(F,W,X){for(var $=0,K=F.length;$<K;$++)F[$].fixed||l.getNodeByIndex($).setLayout(F[$].p),o[c.getId($)]=F[$].p;for(var $=0,K=W.length;$<K;$++){var et=W[$],at=l.getEdgeByIndex($),ot=et.n1.p,ht=et.n2.p,yt=at.getLayout();yt=yt?yt.slice():[],yt[0]=yt[0]||[],yt[1]=yt[1]||[],ki(yt[0],ot),ki(yt[1],ht),+et.curveness&&(yt[2]=[(ot[0]+ht[0])/2-(ot[1]-ht[1])*et.curveness,(ot[1]+ht[1])/2-(ht[0]-ot[0])*et.curveness]),at.setLayout(yt)}}),r.forceLayout=N,r.preservedPoints=o,N.step()}else r.forceLayout=null})}function D6(n,r,e){var o=ya(n,r),l=Wt(n.getBoxLayoutParams(),{aspect:e}),c=Wn(l,o.refContainer);return WN(n,c,e)}function X$(n,r){var e=[];return n.eachSeriesByType("graph",function(o){ii({targetModel:o,coordSysType:"view",coordSysProvider:l,isDefaultDataCoordSys:!0});function l(){var c=o.getData(),f=c.mapArray(function(A){var E=c.getItemModel(A);return[+E.get("x"),+E.get("y")]}),d=[],p=[];W_(f,d,p),p[0]-d[0]===0&&(p[0]+=1,d[0]-=1),p[1]-d[1]===0&&(p[1]+=1,d[1]-=1);var y=(p[0]-d[0])/(p[1]-d[1]),b=D6(o,r,y);isNaN(y)&&(d=[b.x,b.y],p=[b.x+b.width,b.y+b.height]);var x=p[0]-d[0],S=p[1]-d[1],T=new Lv(null,{api:r,ecModel:n});return T.zoomLimit=o.get("scaleLimit"),T.setBoundingRect(d[0],d[1],x,S),T.setViewRect(b.x,b.y,b.width,b.height),T.setCenter(o.get("center")),T.setZoom(o.get("zoom")),e.push(T),T}}),e}var ok=ua.prototype,sk=ci.prototype,lk=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),_nt=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(lk);function N2(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var $$=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="ec-line",o}return r.prototype.getDefaultStyle=function(){return{stroke:Rt.color.neutral99,fill:null}},r.prototype.getDefaultShape=function(){return new lk},r.prototype.buildPath=function(e,o){N2(o)?ok.buildPath.call(this,e,o):sk.buildPath.call(this,e,o)},r.prototype.pointAt=function(e){return N2(this.shape)?ok.pointAt.call(this,e):sk.pointAt.call(this,e)},r.prototype.tangentAt=function(e){var o=this.shape,l=N2(o)?[o.x2-o.x1,o.y2-o.y1]:sk.tangentAt.call(this,e);return go(l,l)},r}(Sr),uk=$$,ck=["fromSymbol","toSymbol"];function I6(n){return"_"+n+"Type"}function R6(n,r,e){var o=r.getItemVisual(e,n);if(!o||o==="none")return o;var l=r.getItemVisual(e,n+"Size"),c=r.getItemVisual(e,n+"Rotate"),f=r.getItemVisual(e,n+"Offset"),d=r.getItemVisual(e,n+"KeepAspect"),p=hh(l),y=dh(f||0,p);return o+p+y+(c||"")+(d||"")}function N6(n,r,e){var o=r.getItemVisual(e,n);if(!(!o||o==="none")){var l=r.getItemVisual(e,n+"Size"),c=r.getItemVisual(e,n+"Rotate"),f=r.getItemVisual(e,n+"Offset"),d=r.getItemVisual(e,n+"KeepAspect"),p=hh(l),y=dh(f||0,p),b=ia(o,-p[0]/2+y[0],-p[1]/2+y[1],p[0],p[1],null,d);return b.__specifiedRotation=c==null||isNaN(c)?void 0:+c*Math.PI/180||0,b.name=n,b}}function B6(n){var r=new uk({name:"line",subPixelOptimize:!0});return Z1(r.shape,n),r}function Z1(n,r){n.x1=r[0][0],n.y1=r[0][1],n.x2=r[1][0],n.y2=r[1][1],n.percent=1;var e=r[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var fk=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this)||this;return c._createLine(e,o,l),c}return r.prototype._createLine=function(e,o,l){var c=e.hostModel,f=e.getItemLayout(o),d=e.getItemVisual(o,"z2"),p=B6(f);p.shape.percent=0,ni(p,{z2:fe(d,0),shape:{percent:1}},c,o),this.add(p),it(ck,function(y){var b=N6(y,e,o);this.add(b),this[I6(y)]=R6(y,e,o)},this),this._updateCommonStl(e,o,l)},r.prototype.updateData=function(e,o,l){var c=e.hostModel,f=this.childOfName("line"),d=e.getItemLayout(o),p={shape:{}};Z1(p.shape,d),Qr(f,p,c,o),it(ck,function(y){var b=R6(y,e,o),x=I6(y);if(this[x]!==b){this.remove(this.childOfName(y));var S=N6(y,e,o);this.add(S)}this[x]=b},this),this._updateCommonStl(e,o,l)},r.prototype.getLinePath=function(){return this.childAt(0)},r.prototype._updateCommonStl=function(e,o,l){var c=e.hostModel,f=this.childOfName("line"),d=l&&l.emphasisLineStyle,p=l&&l.blurLineStyle,y=l&&l.selectLineStyle,b=l&&l.labelStatesModels,x=l&&l.emphasisDisabled,S=l&&l.focus,T=l&&l.blurScope;if(!l||e.hasItemOption){var A=e.getItemModel(o),E=A.getModel("emphasis");d=E.getModel("lineStyle").getLineStyle(),p=A.getModel(["blur","lineStyle"]).getLineStyle(),y=A.getModel(["select","lineStyle"]).getLineStyle(),x=E.get("disabled"),S=E.get("focus"),T=E.get("blurScope"),b=ga(A)}var L=e.getItemVisual(o,"style"),I=L.stroke;f.useStyle(L),f.style.fill=null,f.style.strokeNoScale=!0,f.ensureState("emphasis").style=d,f.ensureState("blur").style=p,f.ensureState("select").style=y,it(ck,function($){var K=this.childOfName($);if(K){K.setColor(I),K.style.opacity=L.opacity;for(var et=0;et<Ro.length;et++){var at=Ro[et],ot=f.getState(at);if(ot){var ht=ot.style||{},yt=K.ensureState(at),vt=yt.style||(yt.style={});ht.stroke!=null&&(vt[K.__isEmptyBrush?"stroke":"fill"]=ht.stroke),ht.opacity!=null&&(vt.opacity=ht.opacity)}}K.markRedraw()}},this);var N=c.getRawValue(o);Da(this,b,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function($,K){return c.getFormattedLabel($,K,e.dataType)}},inheritColor:I||Rt.color.neutral99,defaultOpacity:L.opacity,defaultText:(N==null?e.getName(o):isFinite(N)?sa(N):N)+""});var F=this.getTextContent();if(F){var W=b.normal;F.__align=F.style.align,F.__verticalAlign=F.style.verticalAlign,F.__position=W.get("position")||"middle";var X=W.get("distance");Ut(X)||(X=[X,X]),F.__labelDistance=X}this.setTextConfig({position:null,local:!0,inside:!1}),ri(this,S,T,x)},r.prototype.highlight=function(){Pc(this)},r.prototype.downplay=function(){Bu(this)},r.prototype.updateLayout=function(e,o){this.setLinePoints(e.getItemLayout(o))},r.prototype.setLinePoints=function(e){var o=this.childOfName("line");Z1(o.shape,e),o.dirty()},r.prototype.beforeUpdate=function(){var e=this,o=e.childOfName("fromSymbol"),l=e.childOfName("toSymbol"),c=e.getTextContent();if(!o&&!l&&(!c||c.ignore))return;for(var f=1,d=this.parent;d;)d.scaleX&&(f/=d.scaleX),d=d.parent;var p=e.childOfName("line");if(!this.__dirty&&!p.__dirty)return;var y=p.shape.percent,b=p.pointAt(0),x=p.pointAt(y),S=Lo([],x,b);go(S,S);function T(ot,ht){var yt=ot.__specifiedRotation;if(yt==null){var vt=p.tangentAt(ht);ot.attr("rotation",(ht===1?-1:1)*Math.PI/2-Math.atan2(vt[1],vt[0]))}else ot.attr("rotation",yt)}if(o&&(o.setPosition(b),T(o,0),o.scaleX=o.scaleY=f*y,o.markRedraw()),l&&(l.setPosition(x),T(l,1),l.scaleX=l.scaleY=f*y,l.markRedraw()),c&&!c.ignore){c.x=c.y=0,c.originX=c.originY=0;var A=void 0,E=void 0,L=c.__labelDistance,I=L[0]*f,N=L[1]*f,F=y/2,W=p.tangentAt(F),X=[W[1],-W[0]],$=p.pointAt(F);X[1]>0&&(X[0]=-X[0],X[1]=-X[1]);var K=W[0]<0?-1:1;if(c.__position!=="start"&&c.__position!=="end"){var et=-Math.atan2(W[1],W[0]);x[0]<b[0]&&(et=Math.PI+et),c.rotation=et}var at=void 0;switch(c.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":at=-N,E="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":at=N,E="top";break;default:at=0,E="middle"}switch(c.__position){case"end":c.x=S[0]*I+x[0],c.y=S[1]*N+x[1],A=S[0]>.8?"left":S[0]<-.8?"right":"center",E=S[1]>.8?"top":S[1]<-.8?"bottom":"middle";break;case"start":c.x=-S[0]*I+b[0],c.y=-S[1]*N+b[1],A=S[0]>.8?"right":S[0]<-.8?"left":"center",E=S[1]>.8?"bottom":S[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":c.x=I*K+b[0],c.y=b[1]+at,A=W[0]<0?"right":"left",c.originX=-I*K,c.originY=-at;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":c.x=$[0],c.y=$[1]+at,A="center",c.originY=-at;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":c.x=-I*K+x[0],c.y=x[1]+at,A=W[0]>=0?"right":"left",c.originX=I*K,c.originY=-at;break}c.scaleX=c.scaleY=f,c.setStyle({verticalAlign:c.__verticalAlign||E,align:c.__align||A})}},r}(Ye),ey=fk,K1=function(){function n(r){this.group=new Ye,this._LineCtor=r||ey}return n.prototype.updateData=function(r){var e=this;this._progressiveEls=null;var o=this,l=o.group,c=o._lineData;o._lineData=r,c||l.removeAll();var f=hk(r);r.diff(c).add(function(d){e._doAdd(r,d,f)}).update(function(d,p){e._doUpdate(c,r,p,d,f)}).remove(function(d){l.remove(c.getItemGraphicEl(d))}).execute()},n.prototype.updateLayout=function(){var r=this._lineData;r&&r.eachItemGraphicEl(function(e,o){e.updateLayout(r,o)},this)},n.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=hk(r),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(r,e){this._progressiveEls=[];function o(d){!d.isGroup&&!z6(d)&&(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var l=r.start;l<r.end;l++){var c=e.getItemLayout(l);if(vk(c)){var f=new this._LineCtor(e,l,this._seriesScope);f.traverse(o),this.group.add(f),e.setItemGraphicEl(l,f),this._progressiveEls.push(f)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(r){Wc(this._progressiveEls||this.group,r)},n.prototype._doAdd=function(r,e,o){var l=r.getItemLayout(e);if(vk(l)){var c=new this._LineCtor(r,e,o);r.setItemGraphicEl(e,c),this.group.add(c)}},n.prototype._doUpdate=function(r,e,o,l,c){var f=r.getItemGraphicEl(o);if(!vk(e.getItemLayout(l))){this.group.remove(f);return}f?f.updateData(e,l,c):f=new this._LineCtor(e,l,c),e.setItemGraphicEl(l,f),this.group.add(f)},n}();function z6(n){return n.animators&&n.animators.length>0}function hk(n){var r=n.hostModel,e=r.getModel("emphasis");return{lineStyle:r.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:r.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:r.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:ga(r)}}function dk(n){return isNaN(n[0])||isNaN(n[1])}function vk(n){return n&&!dk(n[0])&&!dk(n[1])}var pl=K1,af=[],B2=[],F6=[],Wh=io,pk=cp,j6=Math.abs;function V6(n,r,e){for(var o=n[0],l=n[1],c=n[2],f=1/0,d,p=e*e,y=.1,b=.1;b<=.9;b+=.1){af[0]=Wh(o[0],l[0],c[0],b),af[1]=Wh(o[1],l[1],c[1],b);var x=j6(pk(af,r)-p);x<f&&(f=x,d=b)}for(var S=0;S<32;S++){var T=d+y;B2[0]=Wh(o[0],l[0],c[0],d),B2[1]=Wh(o[1],l[1],c[1],d),F6[0]=Wh(o[0],l[0],c[0],T),F6[1]=Wh(o[1],l[1],c[1],T);var x=pk(B2,r)-p;if(j6(x)<.01)break;var A=pk(F6,r)-p;y/=2,x<0?A>=0?d=d+y:d=d-y:A>=0?d=d-y:d=d+y}return d}function ry(n,r){var e=[],o=d_,l=[[],[],[]],c=[[],[]],f=[];r/=2,n.eachEdge(function(d,p){var y=d.getLayout(),b=d.getVisual("fromSymbol"),x=d.getVisual("toSymbol");y.__original||(y.__original=[gi(y[0]),gi(y[1])],y[2]&&y.__original.push(gi(y[2])));var S=y.__original;if(y[2]!=null){if(ki(l[0],S[0]),ki(l[1],S[2]),ki(l[2],S[1]),b&&b!=="none"){var T=Jg(d.node1),A=V6(l,S[0],T*r);o(l[0][0],l[1][0],l[2][0],A,e),l[0][0]=e[3],l[1][0]=e[4],o(l[0][1],l[1][1],l[2][1],A,e),l[0][1]=e[3],l[1][1]=e[4]}if(x&&x!=="none"){var T=Jg(d.node2),A=V6(l,S[1],T*r);o(l[0][0],l[1][0],l[2][0],A,e),l[1][0]=e[1],l[2][0]=e[2],o(l[0][1],l[1][1],l[2][1],A,e),l[1][1]=e[1],l[2][1]=e[2]}ki(y[0],l[0]),ki(y[1],l[2]),ki(y[2],l[1])}else{if(ki(c[0],S[0]),ki(c[1],S[1]),Lo(f,c[1],c[0]),go(f,f),b&&b!=="none"){var T=Jg(d.node1);bc(c[0],c[0],f,T*r)}if(x&&x!=="none"){var T=Jg(d.node2);bc(c[1],c[1],f,-T*r)}ki(y[0],c[0]),ki(y[1],c[1])}})}var G6=br();function z2(n){if(n)return G6(n).bridge}function W6(n,r){n&&(G6(n).bridge=r)}function H6(n){return n.type==="view"}var q$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o){var l=new xS,c=new pl,f=this.group,d=new Ye;this._controller=new Cv(o.getZr()),this._controllerHost={target:d},d.add(l.group),d.add(c.group),f.add(d),this._symbolDraw=l,this._lineDraw=c,this._mainGroup=d,this._firstRender=!0},r.prototype.render=function(e,o,l){var c=this,f=e.coordinateSystem,d=!1;this._model=e,this._api=l,this._active=!0;var p=this._getThumbnailInfo();p&&p.bridge.reset(l);var y=this._symbolDraw,b=this._lineDraw;if(H6(f)){var x={x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY};this._firstRender?this._mainGroup.attr(x):Qr(this._mainGroup,x,e)}ry(e.getGraph(),q1(e));var S=e.getData();y.updateData(S);var T=e.getEdgeData();b.updateData(T),this._updateNodeAndLinkScale(),this._updateController(null,e,l),clearTimeout(this._layoutTimeout);var A=e.forceLayout,E=e.get(["force","layoutAnimation"]);A&&(d=!0,this._startForceLayoutIteration(A,l,E));var L=e.get("layout");S.graph.eachNode(function(W){var X=W.dataIndex,$=W.getGraphicEl(),K=W.getModel();if($){$.off("drag").off("dragend");var et=K.get("draggable");et&&$.on("drag",function(ot){switch(L){case"force":A.warmUp(),!c._layouting&&c._startForceLayoutIteration(A,l,E),A.setFixed(X),S.setItemLayout(X,[$.x,$.y]);break;case"circular":S.setItemLayout(X,[$.x,$.y]),W.setLayout({fixed:!0},!0),ak(e,"symbolSize",W,[ot.offsetX,ot.offsetY]),c.updateLayout(e);break;case"none":default:S.setItemLayout(X,[$.x,$.y]),ik(e.getGraph(),e),c.updateLayout(e);break}}).on("dragend",function(){A&&A.setUnfixed(X)}),$.setDraggable(et,!!K.get("cursor"));var at=K.get(["emphasis","focus"]);at==="adjacency"&&(nr($).focus=W.getAdjacentDataIndices())}}),S.graph.eachEdge(function(W){var X=W.getGraphicEl(),$=W.getModel().get(["emphasis","focus"]);X&&$==="adjacency"&&(nr(X).focus={edge:[W.dataIndex],node:[W.node1.dataIndex,W.node2.dataIndex]})});var I=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),N=S.getLayout("cx"),F=S.getLayout("cy");S.graph.eachNode(function(W){E6(W,I,N,F)}),this._firstRender=!1,d||this._renderThumbnail(e,l,this._symbolDraw,this._lineDraw)},r.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype._startForceLayoutIteration=function(e,o,l){var c=this,f=!1;(function d(){e.step(function(p){c.updateLayout(c._model),(p||!f)&&(f=!0,c._renderThumbnail(c._model,o,c._symbolDraw,c._lineDraw)),(c._layouting=!p)&&(l?c._layoutTimeout=setTimeout(d,16):d())})})()},r.prototype._updateController=function(e,o,l){var c=this._controller,f=this._controllerHost,d=o.coordinateSystem;if(!H6(d)){c.disable();return}c.enable(o.get("roam"),{api:l,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(p,y,b){return d.containPoint([y,b])},isInClip:function(p,y,b){return!e||e.contain(y,b)}}}),f.zoomLimit=o.get("scaleLimit"),f.zoom=d.getZoom(),c.off("pan").off("zoom").on("pan",function(p){l.dispatchAction({seriesId:o.id,type:"graphRoam",dx:p.dx,dy:p.dy})}).on("zoom",function(p){l.dispatchAction({seriesId:o.id,type:"graphRoam",zoom:p.scale,originX:p.originX,originY:p.originY})})},r.prototype.updateViewOnPan=function(e,o,l){this._active&&(a2(this._controllerHost,l.dx,l.dy),this._updateThumbnailWindow())},r.prototype.updateViewOnZoom=function(e,o,l){this._active&&(bE(this._controllerHost,l.zoom,l.originX,l.originY),this._updateNodeAndLinkScale(),ry(e.getGraph(),q1(e)),this._lineDraw.updateLayout(),o.updateLabelLayout(),this._updateThumbnailWindow())},r.prototype._updateNodeAndLinkScale=function(){var e=this._model,o=e.getData(),l=q1(e);o.eachItemGraphicEl(function(c,f){c&&c.setSymbolScale(l)})},r.prototype.updateLayout=function(e){this._active&&(ry(e.getGraph(),q1(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},r.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},r.prototype._getThumbnailInfo=function(){var e=this._model,o=e.coordinateSystem;if(o.type==="view"){var l=z2(e);if(l)return{bridge:l,coordSys:o}}},r.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},r.prototype._renderThumbnail=function(e,o,l,c){var f=this._getThumbnailInfo();if(f){var d=new Ye,p=l.group.children(),y=c.group.children(),b=new Ye,x=new Ye;d.add(x),d.add(b);for(var S=0;S<p.length;S++){var T=p[S],A=T.children()[0],E=T.x,L=T.y,I=Ne(A.shape),N=Wt(I,{width:A.scaleX,height:A.scaleY,x:E-A.scaleX/2,y:L-A.scaleY/2}),F=Ne(A.style),W=new A.constructor({shape:N,style:F,z2:151});x.add(W)}for(var S=0;S<y.length;S++){var T=y[S],X=T.children()[0],F=Ne(X.style),N=Ne(X.shape),$=new uk({style:F,shape:N,z2:151});b.add($)}f.bridge.renderContent({api:o,roamType:e.get("roam"),viewportRect:null,group:d,targetTrans:f.coordSys.transform})}},r.type="graph",r}(Hn),Z$=q$;function of(n){return"_EC_"+n}var K$=function(){function n(r){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=r||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(r,e){r=r==null?""+e:""+r;var o=this._nodesMap;if(!o[of(r)]){var l=new Bv(r,e);return l.hostGraph=this,this.nodes.push(l),o[of(r)]=l,l}},n.prototype.getNodeByIndex=function(r){var e=this.data.getRawIndex(r);return this.nodes[e]},n.prototype.getNodeById=function(r){return this._nodesMap[of(r)]},n.prototype.addEdge=function(r,e,o){var l=this._nodesMap,c=this._edgesMap;if(qe(r)&&(r=this.nodes[r]),qe(e)&&(e=this.nodes[e]),r instanceof Bv||(r=l[of(r)]),e instanceof Bv||(e=l[of(e)]),!(!r||!e)){var f=r.id+"-"+e.id,d=new Y6(r,e,o);return d.hostGraph=this,this._directed&&(r.outEdges.push(d),e.inEdges.push(d)),r.edges.push(d),r!==e&&e.edges.push(d),this.edges.push(d),c[f]=d,d}},n.prototype.getEdgeByIndex=function(r){var e=this.edgeData.getRawIndex(r);return this.edges[e]},n.prototype.getEdge=function(r,e){r instanceof Bv&&(r=r.id),e instanceof Bv&&(e=e.id);var o=this._edgesMap;return this._directed?o[r+"-"+e]:o[r+"-"+e]||o[e+"-"+r]},n.prototype.eachNode=function(r,e){for(var o=this.nodes,l=o.length,c=0;c<l;c++)o[c].dataIndex>=0&&r.call(e,o[c],c)},n.prototype.eachEdge=function(r,e){for(var o=this.edges,l=o.length,c=0;c<l;c++)o[c].dataIndex>=0&&o[c].node1.dataIndex>=0&&o[c].node2.dataIndex>=0&&r.call(e,o[c],c)},n.prototype.breadthFirstTraverse=function(r,e,o,l){if(e instanceof Bv||(e=this._nodesMap[of(e)]),!!e){for(var c=o==="out"?"outEdges":o==="in"?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!r.call(l,e,null))for(var d=[e];d.length;)for(var p=d.shift(),y=p[c],f=0;f<y.length;f++){var b=y[f],x=b.node1===p?b.node2:b.node1;if(!x.__visited){if(r.call(l,x,p))return;d.push(x),x.__visited=!0}}}},n.prototype.update=function(){for(var r=this.data,e=this.edgeData,o=this.nodes,l=this.edges,c=0,f=o.length;c<f;c++)o[c].dataIndex=-1;for(var c=0,f=r.count();c<f;c++)o[r.getRawIndex(c)].dataIndex=c;e.filterSelf(function(d){var p=l[e.getRawIndex(d)];return p.node1.dataIndex>=0&&p.node2.dataIndex>=0});for(var c=0,f=l.length;c<f;c++)l[c].dataIndex=-1;for(var c=0,f=e.count();c<f;c++)l[e.getRawIndex(c)].dataIndex=c},n.prototype.clone=function(){for(var r=new n(this._directed),e=this.nodes,o=this.edges,l=0;l<e.length;l++)r.addNode(e[l].id,e[l].dataIndex);for(var l=0;l<o.length;l++){var c=o[l];r.addEdge(c.node1.id,c.node2.id,c.dataIndex)}return r},n}(),Bv=function(){function n(r,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=r==null?"":r,this.dataIndex=e==null?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(r){if(!(this.dataIndex<0)){var e=this.hostGraph,o=e.data.getItemModel(this.dataIndex);return o.getModel(r)}},n.prototype.getAdjacentDataIndices=function(){for(var r={edge:[],node:[]},e=0;e<this.edges.length;e++){var o=this.edges[e];o.dataIndex<0||(r.edge.push(o.dataIndex),r.node.push(o.node1.dataIndex,o.node2.dataIndex))}return r},n.prototype.getTrajectoryDataIndices=function(){for(var r=ve(),e=ve(),o=0,l=this.edges.length;o<l;o++){var c=this.edges[o];if(!(c.dataIndex<0)){r.set(c.dataIndex,!0);for(var f=[c.node1],d=[c.node2],p=0;p<f.length;){var y=f[p];p++,e.set(y.dataIndex,!0);for(var b=y.inEdges,x=0,S=b.length,T=void 0,A=void 0;x<S;x++)T=b[x],A=T.dataIndex,A>=0&&!r.hasKey(A)&&(r.set(A,!0),f.push(T.node1))}for(p=0;p<d.length;){var E=d[p];p++,e.set(E.dataIndex,!0);for(var L=E.outEdges,x=0,I=L.length,N=void 0,F=void 0;x<I;x++)N=L[x],F=N.dataIndex,F>=0&&!r.hasKey(F)&&(r.set(F,!0),d.push(N.node2))}}}return{edge:r.keys(),node:e.keys()}},n}(),Y6=function(){function n(r,e,o){this.dataIndex=-1,this.node1=r,this.node2=e,this.dataIndex=o==null?-1:o}return n.prototype.getModel=function(r){if(!(this.dataIndex<0)){var e=this.hostGraph,o=e.edgeData.getItemModel(this.dataIndex);return o.getModel(r)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var r=ve(),e=ve();r.set(this.dataIndex,!0);for(var o=[this.node1],l=[this.node2],c=0;c<o.length;){var f=o[c];c++,e.set(f.dataIndex,!0);for(var d=f.inEdges,p=0,y=d.length,b=void 0,x=void 0;p<y;p++)b=f.inEdges[p],x=b.dataIndex,x>=0&&!r.hasKey(x)&&(r.set(x,!0),o.push(b.node1))}for(c=0;c<l.length;){var S=l[c];c++,e.set(S.dataIndex,!0);for(var T=S.outEdges,p=0,y=T.length,A=void 0,E=void 0;p<y;p++)A=S.outEdges[p],E=A.dataIndex,E>=0&&!r.hasKey(E)&&(r.set(E,!0),l.push(A.node2))}return{edge:r.keys(),node:e.keys()}},n}();function U6(n,r){return{getValue:function(e){var o=this[n][r];return o.getStore().get(o.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,o){this.dataIndex>=0&&this[n][r].setItemVisual(this.dataIndex,e,o)},getVisual:function(e){return this[n][r].getItemVisual(this.dataIndex,e)},setLayout:function(e,o){this.dataIndex>=0&&this[n][r].setItemLayout(this.dataIndex,e,o)},getLayout:function(){return this[n][r].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][r].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][r].getRawIndex(this.dataIndex)}}}Ln(Bv,U6("hostGraph","data")),Ln(Y6,U6("hostGraph","edgeData"));var X6=K$;function F2(n,r,e,o,l){for(var c=new X6(o),f=0;f<n.length;f++)c.addNode(mn(n[f].id,n[f].name,f),f);for(var d=[],p=[],y=0,f=0;f<r.length;f++){var b=r[f],x=b.source,S=b.target;c.addEdge(x,S,y)&&(p.push(b),d.push(mn(Pa(b.id,null),x+" > "+S)),y++)}var T=e.get("coordinateSystem"),A;if(T==="cartesian2d"||T==="polar"||T==="matrix")A=iu(n,e);else{var E=Y0.get(T),L=E?E.dimensions||[]:[];Xe(L,"value")<0&&L.concat(["value"]);var I=bv(n,{coordDimensions:L,encodeDefine:e.getEncode()}).dimensions;A=new zo(I,e),A.initData(n)}var N=new zo(["value"],e);return N.initData(p,d),l&&l(A,N),VE({mainData:A,struct:c,structAttr:"graph",datas:{node:A,edge:N},datasAttr:{node:"data",edge:"edgeData"}}),c.update(),c}var Q$=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e}return r.prototype.init=function(e){n.prototype.init.apply(this,arguments);var o=this;function l(){return o._categoriesData}this.legendVisualProvider=new kg(l,l),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},r.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},r.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Bf(e,"edgeLabel",["show"])},r.prototype.getInitialData=function(e,o){var l=e.edges||e.links||[],c=e.data||e.nodes||[],f=this;if(c&&l){Y$(this);var d=F2(c,l,this,!0,p);return it(d.edges,function(y){O6(y.node1,y.node2,this,y.dataIndex)},this),d.data}function p(y,b){y.wrapMethod("getItemModel",function(A){var E=f._categoriesModels,L=A.getShallow("category"),I=E[L];return I&&(I.parentModel=A.parentModel,A.parentModel=I),A});var x=an.prototype.getModel;function S(A,E){var L=x.call(this,A,E);return L.resolveParentPath=T,L}b.wrapMethod("getItemModel",function(A){return A.resolveParentPath=T,A.getModel=S,A});function T(A){if(A&&(A[0]==="label"||A[1]==="label")){var E=A.slice();return A[0]==="label"?E[0]="edgeLabel":A[1]==="label"&&(E[1]="edgeLabel"),E}return A}}},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.getCategoriesData=function(){return this._categoriesData},r.prototype.formatTooltip=function(e,o,l){if(l==="edge"){var c=this.getData(),f=this.getDataParams(e,l),d=c.graph.getEdgeByIndex(e),p=c.getName(d.node1.dataIndex),y=c.getName(d.node2.dataIndex),b=[];return p!=null&&b.push(p),y!=null&&b.push(y),Li("nameValue",{name:b.join(" > "),value:f.value,noValue:f.value==null})}var x=N5({series:this,dataIndex:e,multipleSeries:o});return x},r.prototype._updateCategoriesData=function(){var e=Gt(this.option.categories||[],function(l){return l.value!=null?l:Wt({value:0},l)}),o=new zo(["value"],this);o.initData(e),this._categoriesData=o,this._categoriesModels=o.mapArray(function(l){return o.getItemModel(l)})},r.prototype.setZoom=function(e){this.option.zoom=e},r.prototype.setCenter=function(e){this.option.center=e},r.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},r.type="series.graph",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:Rt.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:Rt.color.primary}}},r}(ai),$6=Q$;function uu(n){n.registerChartView(Z$),n.registerSeriesModel($6),n.registerProcessor(W$),n.registerVisual(x6),n.registerVisual(w6),n.registerLayout(A6),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,k6),n.registerLayout(U$),n.registerCoordinateSystem("graphView",{dimensions:Lv.dimensions,create:X$}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},_t),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},_t),n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(r,e,o){e.eachComponent({mainType:"series",query:r},function(l){var c=o.getViewOfSeriesModel(l);c&&(r.dx!=null&&r.dy!=null&&c.updateViewOnPan(l,o,r),r.zoom!=null&&r.originX!=null&&r.originY!=null&&c.updateViewOnZoom(l,o,r));var f=l.coordinateSystem,d=D1(f,r,l.get("scaleLimit"));l.setCenter&&l.setCenter(d.center),l.setZoom&&l.setZoom(d.zoom)})})}var zv=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this)||this;nr(c).dataType="node",c.z2=2;var f=new Hr;return c.setTextContent(f),c.updateData(e,o,l,!0),c}return r.prototype.updateData=function(e,o,l,c){var f=this,d=e.graph.getNodeByIndex(o),p=e.hostModel,y=d.getModel(),b=y.getModel("emphasis"),x=e.getItemLayout(o),S=Wt(Ns(y.getModel("itemStyle"),x,!0),x),T=this;if(isNaN(S.startAngle)){T.setShape(S);return}c?T.setShape(S):Qr(T,{shape:S},p,o);var A=Wt(Ns(y.getModel("itemStyle"),x,!0),x);f.setShape(A),f.useStyle(e.getItemVisual(o,"style")),pa(f,y),this._updateLabel(p,y,d),e.setItemGraphicEl(o,T),pa(T,y,"itemStyle");var E=b.get("focus");ri(this,E==="adjacency"?d.getAdjacentDataIndices():E,b.get("blurScope"),b.get("disabled"))},r.prototype._updateLabel=function(e,o,l){var c=this.getTextContent(),f=l.getLayout(),d=(f.startAngle+f.endAngle)/2,p=Math.cos(d),y=Math.sin(d),b=o.getModel("label");c.ignore=!b.get("show");var x=ga(o),S=l.getVisual("style");Da(c,x,{labelFetcher:{getFormattedLabel:function(N,F,W,X,$,K){return e.getFormattedLabel(N,F,"node",X,Ui($,x.normal&&x.normal.get("formatter"),o.get("name")),K)}},labelDataIndex:l.dataIndex,defaultText:l.dataIndex+"",inheritColor:S.fill,defaultOpacity:S.opacity,defaultOutsidePosition:"startArc"});var T=b.get("position")||"outside",A=b.get("distance")||0,E;T==="outside"?E=f.r+A:E=(f.r+f.r0)/2,this.textConfig={inside:T!=="outside"};var L=T!=="outside"?b.get("align")||"center":p>0?"left":"right",I=T!=="outside"?b.get("verticalAlign")||"middle":y>0?"top":"bottom";c.attr({x:p*E+f.cx,y:y*E+f.cy,rotation:0,style:{align:L,verticalAlign:I}})},r}(uo),q6=zv,Q1=function(){function n(){this.s1=[0,0],this.s2=[0,0],this.sStartAngle=0,this.sEndAngle=0,this.t1=[0,0],this.t2=[0,0],this.tStartAngle=0,this.tEndAngle=0,this.cx=0,this.cy=0,this.r=0,this.clockwise=!0}return n}(),J$=function(n){Ot(r,n);function r(e,o,l,c){var f=n.call(this)||this;return nr(f).dataType="edge",f.updateData(e,o,l,c,!0),f}return r.prototype.buildPath=function(e,o){e.moveTo(o.s1[0],o.s1[1]);var l=.7,c=o.clockwise;e.arc(o.cx,o.cy,o.r,o.sStartAngle,o.sEndAngle,!c),e.bezierCurveTo((o.cx-o.s2[0])*l+o.s2[0],(o.cy-o.s2[1])*l+o.s2[1],(o.cx-o.t1[0])*l+o.t1[0],(o.cy-o.t1[1])*l+o.t1[1],o.t1[0],o.t1[1]),e.arc(o.cx,o.cy,o.r,o.tStartAngle,o.tEndAngle,!c),e.bezierCurveTo((o.cx-o.t2[0])*l+o.t2[0],(o.cy-o.t2[1])*l+o.t2[1],(o.cx-o.s1[0])*l+o.s1[0],(o.cy-o.s1[1])*l+o.s1[1],o.s1[0],o.s1[1]),e.closePath()},r.prototype.updateData=function(e,o,l,c,f){var d=e.hostModel,p=o.graph.getEdgeByIndex(l),y=p.getLayout(),b=p.node1.getModel(),x=o.getItemModel(p.dataIndex),S=x.getModel("lineStyle"),T=x.getModel("emphasis"),A=T.get("focus"),E=Wt(Ns(b.getModel("itemStyle"),y,!0),y),L=this;if(isNaN(E.sStartAngle)||isNaN(E.tStartAngle)){L.setShape(E);return}f?(L.setShape(E),gk(L,p,e,S)):(Ha(L),gk(L,p,e,S),Qr(L,{shape:E},d,l)),ri(this,A==="adjacency"?p.getAdjacentDataIndices():A,T.get("blurScope"),T.get("disabled")),pa(L,x,"lineStyle"),o.setItemGraphicEl(p.dataIndex,L)},r}(Sr);function gk(n,r,e,o){var l=r.node1,c=r.node2,f=n.style;n.setStyle(o.getLineStyle());var d=o.get("color");switch(d){case"source":f.fill=e.getItemVisual(l.dataIndex,"style").fill,f.decal=l.getVisual("style").decal;break;case"target":f.fill=e.getItemVisual(c.dataIndex,"style").fill,f.decal=c.getVisual("style").decal;break;case"gradient":var p=e.getItemVisual(l.dataIndex,"style").fill,y=e.getItemVisual(c.dataIndex,"style").fill;if(oe(p)&&oe(y)){var b=n.shape,x=(b.s1[0]+b.s2[0])/2,S=(b.s1[1]+b.s2[1])/2,T=(b.t1[0]+b.t2[0])/2,A=(b.t1[1]+b.t2[1])/2;f.fill=new Vc(x,S,T,A,[{offset:0,color:p},{offset:1,color:y}],!0)}break}}var tq=Math.PI/180,J1=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o){},r.prototype.render=function(e,o,l){var c=e.getData(),f=this._data,d=this.group,p=-e.get("startAngle")*tq;if(c.diff(f).add(function(b){var x=c.getItemLayout(b);if(x){var S=new q6(c,b,p);nr(S).dataIndex=b,d.add(S)}}).update(function(b,x){var S=f.getItemGraphicEl(x),T=c.getItemLayout(b);if(!T){S&&Ki(S,e,x);return}S?S.updateData(c,b,p):S=new q6(c,b,p),d.add(S)}).remove(function(b){var x=f.getItemGraphicEl(b);x&&Ki(x,e,b)}).execute(),!f){var y=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=de(y[0],l.getWidth()),this.group.originY=de(y[1],l.getHeight()),ni(this.group,{scaleX:1,scaleY:1},e)}this._data=c,this.renderEdges(e,p)},r.prototype.renderEdges=function(e,o){var l=e.getData(),c=e.getEdgeData(),f=this._edgeData,d=this.group;c.diff(f).add(function(p){var y=new J$(l,c,p,o);nr(y).dataIndex=p,d.add(y)}).update(function(p,y){var b=f.getItemGraphicEl(y);b.updateData(l,c,p,o),d.add(b)}).remove(function(p){var y=f.getItemGraphicEl(p);y&&Ki(y,e,p)}).execute(),this._edgeData=c},r.prototype.dispose=function(){},r.type="chord",r}(Hn),eq=J1,rq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this.legendVisualProvider=new kg(ue(this.getData,this),ue(this.getRawData,this))},r.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links)},r.prototype.getInitialData=function(e,o){var l=e.edges||e.links||[],c=e.data||e.nodes||[];if(c&&l){var f=F2(c,l,this,!0,d);return f.data}function d(p,y){var b=an.prototype.getModel;function x(T,A){var E=b.call(this,T,A);return E.resolveParentPath=S,E}y.wrapMethod("getItemModel",function(T){return T.resolveParentPath=S,T.getModel=x,T});function S(T){if(T&&(T[0]==="label"||T[1]==="label")){var A=T.slice();return T[0]==="label"?A[0]="edgeLabel":T[1]==="label"&&(A[1]="edgeLabel"),A}return T}}},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.formatTooltip=function(e,o,l){var c=this.getDataParams(e,l);if(l==="edge"){var f=this.getData(),d=f.graph.getEdgeByIndex(e),p=f.getName(d.node1.dataIndex),y=f.getName(d.node2.dataIndex),b=[];return p!=null&&b.push(p),y!=null&&b.push(y),Li("nameValue",{name:b.join(" > "),value:c.value,noValue:c.value==null})}return Li("nameValue",{name:c.name,value:c.value,noValue:c.value==null})},r.prototype.getDataParams=function(e,o){var l=n.prototype.getDataParams.call(this,e,o);if(o==="node"){var c=this.getData(),f=this.getGraph().getNodeByIndex(e);if(l.name==null&&(l.name=c.getName(e)),l.value==null){var d=f.getLayout().value;l.value=d}}return l},r.type="series.chord",r.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},r}(ai),nq=rq,yk=Math.PI/180;function iq(n,r){n.eachSeriesByType("chord",function(e){aq(e,r)})}function aq(n,r){var e=n.getData(),o=e.graph,l=n.getEdgeData(),c=l.count();if(c){var f=GN(n,r),d=f.cx,p=f.cy,y=f.r,b=f.r0,x=Math.max((n.get("padAngle")||0)*yk,0),S=Math.max((n.get("minAngle")||0)*yk,0),T=-n.get("startAngle")*yk,A=T+Math.PI*2,E=n.get("clockwise"),L=E?1:-1,I=[T,A];Xf(I,!E);var N=I[0],F=I[1],W=F-N,X=e.getSum("value")===0&&l.getSum("value")===0,$=[],K=0;o.eachEdge(function(Lt){var zt=X?1:Lt.getValue("value");X&&(zt>0||S)&&(K+=2);var Ht=Lt.node1.dataIndex,qt=Lt.node2.dataIndex;$[Ht]=($[Ht]||0)+zt,$[qt]=($[qt]||0)+zt});var et=0;if(o.eachNode(function(Lt){var zt=Lt.getValue("value");isNaN(zt)||($[Lt.dataIndex]=Math.max(zt,$[Lt.dataIndex]||0)),!X&&($[Lt.dataIndex]>0||S)&&K++,et+=$[Lt.dataIndex]||0}),!(K===0||et===0)){x*K>=Math.abs(W)&&(x=Math.max(0,(Math.abs(W)-S*K)/K)),(x+S)*K>=Math.abs(W)&&(S=(Math.abs(W)-x*K)/K);var at=(W-x*K*L)/et,ot=0,ht=0,yt=0,vt=1/0;o.eachNode(function(Lt){var zt=$[Lt.dataIndex]||0,Ht=at*(et?zt:1)*L;Math.abs(Ht)<S?ot+=S-Math.abs(Ht):(vt=Math.min(vt,Math.abs(Ht)-S),ht+=Math.abs(Ht)-S,yt+=Math.abs(Ht)),Lt.setLayout({angle:Ht,value:zt})});var bt=!1;if(ot>ht){var Mt=ot/ht;o.eachNode(function(Lt){var zt=Lt.getLayout().angle;Math.abs(zt)>=S?Lt.setLayout({angle:zt*Mt,ratio:Mt},!0):Lt.setLayout({angle:S,ratio:S===0?1:zt/S},!0)})}else o.eachNode(function(Lt){if(!bt){var zt=Lt.getLayout().angle,Ht=Math.min(zt/yt,1),qt=Ht*ot;zt-qt<S&&(bt=!0)}});var St=ot;o.eachNode(function(Lt){if(!(St<=0)){var zt=Lt.getLayout().angle;if(zt>S&&S>0){var Ht=bt?1:Math.min(zt/yt,1),qt=zt-S,ne=Math.min(qt,Math.min(St,ot*Ht));St-=ne,Lt.setLayout({angle:zt-ne,ratio:(zt-ne)/zt},!0)}else S>0&&Lt.setLayout({angle:S,ratio:zt===0?1:S/zt},!0)}});var Pt=N,Et=[];o.eachNode(function(Lt){var zt=Math.max(Lt.getLayout().angle,S);Lt.setLayout({cx:d,cy:p,r0:b,r:y,startAngle:Pt,endAngle:Pt+zt*L,clockwise:E},!0),Et[Lt.dataIndex]=Pt,Pt+=(zt+x)*L}),o.eachEdge(function(Lt){var zt=X?1:Lt.getValue("value"),Ht=at*(et?zt:1)*L,qt=Lt.node1.dataIndex,ne=Et[qt]||0,Ce=Math.abs((Lt.node1.getLayout().ratio||1)*Ht),Qe=ne+Ce*L,jr=[d+b*Math.cos(ne),p+b*Math.sin(ne)],wn=[d+b*Math.cos(Qe),p+b*Math.sin(Qe)],dr=Lt.node2.dataIndex,Ge=Et[dr]||0,Mr=Math.abs((Lt.node2.getLayout().ratio||1)*Ht),Pe=Ge+Mr*L,fr=[d+b*Math.cos(Ge),p+b*Math.sin(Ge)],_n=[d+b*Math.cos(Pe),p+b*Math.sin(Pe)];Lt.setLayout({s1:jr,s2:wn,sStartAngle:ne,sEndAngle:Qe,t1:fr,t2:_n,tStartAngle:Ge,tEndAngle:Pe,cx:d,cy:p,r:b,value:zt,clockwise:E}),Et[qt]=Qe,Et[dr]=Pe})}}}function oq(n){n.registerChartView(eq),n.registerSeriesModel(nq),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,iq),n.registerProcessor(Pg("chord"))}var sq=function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n}(),Z6=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="pointer",o}return r.prototype.getDefaultShape=function(){return new sq},r.prototype.buildPath=function(e,o){var l=Math.cos,c=Math.sin,f=o.r,d=o.width,p=o.angle,y=o.x-l(p)*d*(d>=f/3?1:2),b=o.y-c(p)*d*(d>=f/3?1:2);p=o.angle-Math.PI/2,e.moveTo(y,b),e.lineTo(o.x+l(p)*d,o.y+c(p)*d),e.lineTo(o.x+l(o.angle)*f,o.y+c(o.angle)*f),e.lineTo(o.x-l(p)*d,o.y-c(p)*d),e.lineTo(y,b)},r}(Sr),K6=Z6;function lq(n,r){var e=n.get("center"),o=r.getWidth(),l=r.getHeight(),c=Math.min(o,l),f=de(e[0],r.getWidth()),d=de(e[1],r.getHeight()),p=de(n.get("radius"),c/2);return{cx:f,cy:d,r:p}}function j2(n,r){var e=n==null?"":n+"";return r&&(oe(r)?e=r.replace("{value}",e):ze(r)&&(e=r(n))),e}var Q6=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){this.group.removeAll();var c=e.get(["axisLine","lineStyle","color"]),f=lq(e,l);this._renderMain(e,o,l,c,f),this._data=e.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(e,o,l,c,f){var d=this.group,p=e.get("clockwise"),y=-e.get("startAngle")/180*Math.PI,b=-e.get("endAngle")/180*Math.PI,x=e.getModel("axisLine"),S=x.get("roundCap"),T=S?wv:uo,A=x.get("show"),E=x.getModel("lineStyle"),L=E.get("width"),I=[y,b];Xf(I,!p),y=I[0],b=I[1];for(var N=b-y,F=y,W=[],X=0;A&&X<c.length;X++){var $=Math.min(Math.max(c[X][0],0),1);b=y+N*$;var K=new T({shape:{startAngle:F,endAngle:b,cx:f.cx,cy:f.cy,clockwise:p,r0:f.r-L,r:f.r},silent:!0});K.setStyle({fill:c[X][1]}),K.setStyle(E.getLineStyle(["color","width"])),W.push(K),F=b}W.reverse(),it(W,function(at){return d.add(at)});var et=function(at){if(at<=0)return c[0][1];var ot;for(ot=0;ot<c.length;ot++)if(c[ot][0]>=at&&(ot===0?0:c[ot-1][0])<at)return c[ot][1];return c[ot-1][1]};this._renderTicks(e,o,l,et,f,y,b,p,L),this._renderTitleAndDetail(e,o,l,et,f),this._renderAnchor(e,f),this._renderPointer(e,o,l,et,f,y,b,p,L)},r.prototype._renderTicks=function(e,o,l,c,f,d,p,y,b){for(var x=this.group,S=f.cx,T=f.cy,A=f.r,E=+e.get("min"),L=+e.get("max"),I=e.getModel("splitLine"),N=e.getModel("axisTick"),F=e.getModel("axisLabel"),W=e.get("splitNumber"),X=N.get("splitNumber"),$=de(I.get("length"),A),K=de(N.get("length"),A),et=d,at=(p-d)/W,ot=at/X,ht=I.getModel("lineStyle").getLineStyle(),yt=N.getModel("lineStyle").getLineStyle(),vt=I.get("distance"),bt,Mt,St=0;St<=W;St++){if(bt=Math.cos(et),Mt=Math.sin(et),I.get("show")){var Pt=vt?vt+b:b,Et=new ua({shape:{x1:bt*(A-Pt)+S,y1:Mt*(A-Pt)+T,x2:bt*(A-$-Pt)+S,y2:Mt*(A-$-Pt)+T},style:ht,silent:!0});ht.stroke==="auto"&&Et.setStyle({stroke:c(St/W)}),x.add(Et)}if(F.get("show")){var Pt=F.get("distance")+vt,Lt=j2(sa(St/W*(L-E)+E),F.get("formatter")),zt=c(St/W),Ht=bt*(A-$-Pt)+S,qt=Mt*(A-$-Pt)+T,ne=F.get("rotate"),Ce=0;ne==="radial"?(Ce=-et+2*Math.PI,Ce>Math.PI/2&&(Ce+=Math.PI)):ne==="tangential"?Ce=-et-Math.PI/2:qe(ne)&&(Ce=ne*Math.PI/180),Ce===0?x.add(new Hr({style:Gn(F,{text:Lt,x:Ht,y:qt,verticalAlign:Mt<-.8?"top":Mt>.8?"bottom":"middle",align:bt<-.4?"left":bt>.4?"right":"center"},{inheritColor:zt}),silent:!0})):x.add(new Hr({style:Gn(F,{text:Lt,x:Ht,y:qt,verticalAlign:"middle",align:"center"},{inheritColor:zt}),silent:!0,originX:Ht,originY:qt,rotation:Ce}))}if(N.get("show")&&St!==W){var Pt=N.get("distance");Pt=Pt?Pt+b:b;for(var Qe=0;Qe<=X;Qe++){bt=Math.cos(et),Mt=Math.sin(et);var jr=new ua({shape:{x1:bt*(A-Pt)+S,y1:Mt*(A-Pt)+T,x2:bt*(A-K-Pt)+S,y2:Mt*(A-K-Pt)+T},silent:!0,style:yt});yt.stroke==="auto"&&jr.setStyle({stroke:c((St+Qe/X)/W)}),x.add(jr),et+=ot}et-=ot}else et+=at}},r.prototype._renderPointer=function(e,o,l,c,f,d,p,y,b){var x=this.group,S=this._data,T=this._progressEls,A=[],E=e.get(["pointer","show"]),L=e.getModel("progress"),I=L.get("show"),N=e.getData(),F=N.mapDimension("value"),W=+e.get("min"),X=+e.get("max"),$=[W,X],K=[d,p];function et(ot,ht){var yt=N.getItemModel(ot),vt=yt.getModel("pointer"),bt=de(vt.get("width"),f.r),Mt=de(vt.get("length"),f.r),St=e.get(["pointer","icon"]),Pt=vt.get("offsetCenter"),Et=de(Pt[0],f.r),Lt=de(Pt[1],f.r),zt=vt.get("keepAspect"),Ht;return St?Ht=ia(St,Et-bt/2,Lt-Mt,bt,Mt,null,zt):Ht=new K6({shape:{angle:-Math.PI/2,width:bt,r:Mt,x:Et,y:Lt}}),Ht.rotation=-(ht+Math.PI/2),Ht.x=f.cx,Ht.y=f.cy,Ht}function at(ot,ht){var yt=L.get("roundCap"),vt=yt?wv:uo,bt=L.get("overlap"),Mt=bt?L.get("width"):b/N.count(),St=bt?f.r-Mt:f.r-(ot+1)*Mt,Pt=bt?f.r:f.r-ot*Mt,Et=new vt({shape:{startAngle:d,endAngle:ht,cx:f.cx,cy:f.cy,clockwise:y,r0:St,r:Pt}});return bt&&(Et.z2=vn(N.get(F,ot),[W,X],[100,0],!0)),Et}(I||E)&&(N.diff(S).add(function(ot){var ht=N.get(F,ot);if(E){var yt=et(ot,d);ni(yt,{rotation:-((isNaN(+ht)?K[0]:vn(ht,$,K,!0))+Math.PI/2)},e),x.add(yt),N.setItemGraphicEl(ot,yt)}if(I){var vt=at(ot,d),bt=L.get("clip");ni(vt,{shape:{endAngle:vn(ht,$,K,bt)}},e),x.add(vt),Q_(e.seriesIndex,N.dataType,ot,vt),A[ot]=vt}}).update(function(ot,ht){var yt=N.get(F,ot);if(E){var vt=S.getItemGraphicEl(ht),bt=vt?vt.rotation:d,Mt=et(ot,bt);Mt.rotation=bt,Qr(Mt,{rotation:-((isNaN(+yt)?K[0]:vn(yt,$,K,!0))+Math.PI/2)},e),x.add(Mt),N.setItemGraphicEl(ot,Mt)}if(I){var St=T[ht],Pt=St?St.shape.endAngle:d,Et=at(ot,Pt),Lt=L.get("clip");Qr(Et,{shape:{endAngle:vn(yt,$,K,Lt)}},e),x.add(Et),Q_(e.seriesIndex,N.dataType,ot,Et),A[ot]=Et}}).execute(),N.each(function(ot){var ht=N.getItemModel(ot),yt=ht.getModel("emphasis"),vt=yt.get("focus"),bt=yt.get("blurScope"),Mt=yt.get("disabled");if(E){var St=N.getItemGraphicEl(ot),Pt=N.getItemVisual(ot,"style"),Et=Pt.fill;if(St instanceof ka){var Lt=St.style;St.useStyle(Wt({image:Lt.image,x:Lt.x,y:Lt.y,width:Lt.width,height:Lt.height},Pt))}else St.useStyle(Pt),St.type!=="pointer"&&St.setColor(Et);St.setStyle(ht.getModel(["pointer","itemStyle"]).getItemStyle()),St.style.fill==="auto"&&St.setStyle("fill",c(vn(N.get(F,ot),$,[0,1],!0))),St.z2EmphasisLift=0,pa(St,ht),ri(St,vt,bt,Mt)}if(I){var zt=A[ot];zt.useStyle(N.getItemVisual(ot,"style")),zt.setStyle(ht.getModel(["progress","itemStyle"]).getItemStyle()),zt.z2EmphasisLift=0,pa(zt,ht),ri(zt,vt,bt,Mt)}}),this._progressEls=A)},r.prototype._renderAnchor=function(e,o){var l=e.getModel("anchor"),c=l.get("show");if(c){var f=l.get("size"),d=l.get("icon"),p=l.get("offsetCenter"),y=l.get("keepAspect"),b=ia(d,o.cx-f/2+de(p[0],o.r),o.cy-f/2+de(p[1],o.r),f,f,null,y);b.z2=l.get("showAbove")?1:0,b.setStyle(l.getModel("itemStyle").getItemStyle()),this.group.add(b)}},r.prototype._renderTitleAndDetail=function(e,o,l,c,f){var d=this,p=e.getData(),y=p.mapDimension("value"),b=+e.get("min"),x=+e.get("max"),S=new Ye,T=[],A=[],E=e.isAnimationEnabled(),L=e.get(["pointer","showAbove"]);p.diff(this._data).add(function(I){T[I]=new Hr({silent:!0}),A[I]=new Hr({silent:!0})}).update(function(I,N){T[I]=d._titleEls[N],A[I]=d._detailEls[N]}).execute(),p.each(function(I){var N=p.getItemModel(I),F=p.get(y,I),W=new Ye,X=c(vn(F,[b,x],[0,1],!0)),$=N.getModel("title");if($.get("show")){var K=$.get("offsetCenter"),et=f.cx+de(K[0],f.r),at=f.cy+de(K[1],f.r),ot=T[I];ot.attr({z2:L?0:2,style:Gn($,{x:et,y:at,text:p.getName(I),align:"center",verticalAlign:"middle"},{inheritColor:X})}),W.add(ot)}var ht=N.getModel("detail");if(ht.get("show")){var yt=ht.get("offsetCenter"),vt=f.cx+de(yt[0],f.r),bt=f.cy+de(yt[1],f.r),Mt=de(ht.get("width"),f.r),St=de(ht.get("height"),f.r),Pt=e.get(["progress","show"])?p.getItemVisual(I,"style").fill:X,ot=A[I],Et=ht.get("formatter");ot.attr({z2:L?0:2,style:Gn(ht,{x:vt,y:bt,text:j2(F,Et),width:isNaN(Mt)?null:Mt,height:isNaN(St)?null:St,align:"center",verticalAlign:"middle"},{inheritColor:Pt})}),TN(ot,{normal:ht},F,function(zt){return j2(zt,Et)}),E&&ON(ot,I,p,e,{getFormattedLabel:function(zt,Ht,qt,ne,Ce,Qe){return j2(Qe?Qe.interpolatedValue:F,Et)}}),W.add(ot)}S.add(W)}),this.group.add(S),this._titleEls=T,this._detailEls=A},r.type="gauge",r}(Hn),uq=Q6,cq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.visualStyleAccessPath="itemStyle",e}return r.prototype.getInitialData=function(e,o){return Sv(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,Rt.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:Rt.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:Rt.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:Rt.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:Rt.color.neutral00,borderWidth:0,borderColor:Rt.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:Rt.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:Rt.color.transparent,borderWidth:0,borderColor:Rt.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:Rt.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r}(ai),fq=cq;function J6(n){n.registerChartView(uq),n.registerSeriesModel(fq)}var t8=["itemStyle","opacity"],hq=function(n){Ot(r,n);function r(e,o){var l=n.call(this)||this,c=l,f=new Xa,d=new Hr;return c.setTextContent(d),l.setTextGuideLine(f),l.updateData(e,o,!0),l}return r.prototype.updateData=function(e,o,l){var c=this,f=e.hostModel,d=e.getItemModel(o),p=e.getItemLayout(o),y=d.getModel("emphasis"),b=d.get(t8);b=b==null?1:b,l||Ha(c),c.useStyle(e.getItemVisual(o,"style")),c.style.lineJoin="round",l?(c.setShape({points:p.points}),c.style.opacity=0,ni(c,{style:{opacity:b}},f,o)):Qr(c,{style:{opacity:b},shape:{points:p.points}},f,o),pa(c,d),this._updateLabel(e,o),ri(this,y.get("focus"),y.get("blurScope"),y.get("disabled"))},r.prototype._updateLabel=function(e,o){var l=this,c=this.getTextGuideLine(),f=l.getTextContent(),d=e.hostModel,p=e.getItemModel(o),y=e.getItemLayout(o),b=y.label,x=e.getItemVisual(o,"style"),S=x.fill;Da(f,ga(p),{labelFetcher:e.hostModel,labelDataIndex:o,defaultOpacity:x.opacity,defaultText:e.getName(o)},{normal:{align:b.textAlign,verticalAlign:b.verticalAlign}});var T=p.getModel("label"),A=T.get("color"),E=A==="inherit"?S:null;l.setTextConfig({local:!0,inside:!!b.inside,insideStroke:E,outsideFill:E});var L=b.linePoints;c.setShape({points:L}),l.textGuideLineConfig={anchor:L?new Ke(L[0][0],L[0][1]):null},Qr(f,{style:{x:b.x,y:b.y}},d,o),f.attr({rotation:b.rotation,originX:b.x,originY:b.y,z2:10}),Kw(l,Qw(p),{stroke:S})},r}(xo),dq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.ignoreLabelLineUpdate=!0,e}return r.prototype.render=function(e,o,l){var c=e.getData(),f=this._data,d=this.group;c.diff(f).add(function(p){var y=new hq(c,p);c.setItemGraphicEl(p,y),d.add(y)}).update(function(p,y){var b=f.getItemGraphicEl(y);b.updateData(c,p),d.add(b),c.setItemGraphicEl(p,b)}).remove(function(p){var y=f.getItemGraphicEl(p);Ki(y,e,p)}).execute(),this._data=c},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.prototype.dispose=function(){},r.type="funnel",r}(Hn),vq=dq,pq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new kg(ue(this.getData,this),ue(this.getRawData,this)),this._defaultLabelLine(e)},r.prototype.getInitialData=function(e,o){return Sv(this,{coordDimensions:["value"],encodeDefaulter:hr($0,this)})},r.prototype._defaultLabelLine=function(e){Bf(e,"labelLine",["show"]);var o=e.labelLine,l=e.emphasis.labelLine;o.show=o.show&&e.label.show,l.show=l.show&&e.emphasis.label.show},r.prototype.getDataParams=function(e){var o=this.getData(),l=n.prototype.getDataParams.call(this,e),c=o.mapDimension("value"),f=o.getSum(c);return l.percent=f?+(o.get(c,e)/f*100).toFixed(2):0,l.$vars.push("percent"),l},r.type="series.funnel",r.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:Rt.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:Rt.color.primary}}},r}(ai),e8=pq;function gq(n,r){for(var e=n.mapDimension("value"),o=n.mapArray(e,function(p){return p}),l=[],c=r==="ascending",f=0,d=n.count();f<d;f++)l[f]=f;return ze(r)?l.sort(r):r!=="none"&&l.sort(function(p,y){return c?o[p]-o[y]:o[y]-o[p]}),l}function yq(n){var r=n.hostModel,e=r.get("orient");n.each(function(o){var l=n.getItemModel(o),c=l.getModel("label"),f=c.get("position"),d=l.getModel("labelLine"),p=n.getItemLayout(o),y=p.points,b=f==="inner"||f==="inside"||f==="center"||f==="insideLeft"||f==="insideRight",x,S,T,A;if(b)f==="insideLeft"?(S=(y[0][0]+y[3][0])/2+5,T=(y[0][1]+y[3][1])/2,x="left"):f==="insideRight"?(S=(y[1][0]+y[2][0])/2-5,T=(y[1][1]+y[2][1])/2,x="right"):(S=(y[0][0]+y[1][0]+y[2][0]+y[3][0])/4,T=(y[0][1]+y[1][1]+y[2][1]+y[3][1])/4,x="center"),A=[[S,T],[S,T]];else{var E=void 0,L=void 0,I=void 0,N=void 0,F=d.get("length");f==="left"?(E=(y[3][0]+y[0][0])/2,L=(y[3][1]+y[0][1])/2,I=E-F,S=I-5,x="right"):f==="right"?(E=(y[1][0]+y[2][0])/2,L=(y[1][1]+y[2][1])/2,I=E+F,S=I+5,x="left"):f==="top"?(E=(y[3][0]+y[0][0])/2,L=(y[3][1]+y[0][1])/2,N=L-F,T=N-5,x="center"):f==="bottom"?(E=(y[1][0]+y[2][0])/2,L=(y[1][1]+y[2][1])/2,N=L+F,T=N+5,x="center"):f==="rightTop"?(E=e==="horizontal"?y[3][0]:y[1][0],L=e==="horizontal"?y[3][1]:y[1][1],e==="horizontal"?(N=L-F,T=N-5,x="center"):(I=E+F,S=I+5,x="top")):f==="rightBottom"?(E=y[2][0],L=y[2][1],e==="horizontal"?(N=L+F,T=N+5,x="center"):(I=E+F,S=I+5,x="bottom")):f==="leftTop"?(E=y[0][0],L=e==="horizontal"?y[0][1]:y[1][1],e==="horizontal"?(N=L-F,T=N-5,x="center"):(I=E-F,S=I-5,x="right")):f==="leftBottom"?(E=e==="horizontal"?y[1][0]:y[3][0],L=e==="horizontal"?y[1][1]:y[2][1],e==="horizontal"?(N=L+F,T=N+5,x="center"):(I=E-F,S=I-5,x="right")):(E=(y[1][0]+y[2][0])/2,L=(y[1][1]+y[2][1])/2,e==="horizontal"?(N=L+F,T=N+5,x="center"):(I=E+F,S=I+5,x="left")),e==="horizontal"?(I=E,S=I):(N=L,T=N),A=[[E,L],[I,N]]}p.label={linePoints:A,x:S,y:T,verticalAlign:"middle",textAlign:x,inside:b}})}function mq(n,r){n.eachSeriesByType("funnel",function(e){var o=e.getData(),l=o.mapDimension("value"),c=e.get("sort"),f=ya(e,r),d=Wn(e.getBoxLayoutParams(),f.refContainer),p=e.get("orient"),y=d.width,b=d.height,x=gq(o,c),S=d.x,T=d.y,A=p==="horizontal"?[de(e.get("minSize"),b),de(e.get("maxSize"),b)]:[de(e.get("minSize"),y),de(e.get("maxSize"),y)],E=o.getDataExtent(l),L=e.get("min"),I=e.get("max");L==null&&(L=Math.min(E[0],0)),I==null&&(I=E[1]);var N=e.get("funnelAlign"),F=e.get("gap"),W=p==="horizontal"?y:b,X=(W-F*(o.count()-1))/o.count(),$=function(Mt,St){if(p==="horizontal"){var Pt=o.get(l,Mt)||0,Et=vn(Pt,[L,I],A,!0),Lt=void 0;switch(N){case"top":Lt=T;break;case"center":Lt=T+(b-Et)/2;break;case"bottom":Lt=T+(b-Et);break}return[[St,Lt],[St,Lt+Et]]}var zt=o.get(l,Mt)||0,Ht=vn(zt,[L,I],A,!0),qt;switch(N){case"left":qt=S;break;case"center":qt=S+(y-Ht)/2;break;case"right":qt=S+y-Ht;break}return[[qt,St],[qt+Ht,St]]};c==="ascending"&&(X=-X,F=-F,p==="horizontal"?S+=y:T+=b,x=x.reverse());for(var K=0;K<x.length;K++){var et=x[K],at=x[K+1],ot=o.getItemModel(et);if(p==="horizontal"){var ht=ot.get(["itemStyle","width"]);ht==null?ht=X:(ht=de(ht,y),c==="ascending"&&(ht=-ht));var yt=$(et,S),vt=$(at,S+ht);S+=ht+F,o.setItemLayout(et,{points:yt.concat(vt.slice().reverse())})}else{var bt=ot.get(["itemStyle","height"]);bt==null?bt=X:(bt=de(bt,b),c==="ascending"&&(bt=-bt));var yt=$(et,T),vt=$(at,T+bt);T+=bt+F,o.setItemLayout(et,{points:yt.concat(vt.slice().reverse())})}}yq(o)})}function bq(n){n.registerChartView(vq),n.registerSeriesModel(e8),n.registerLayout(mq),n.registerProcessor(Pg("funnel"))}var _q=.3,xq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._dataGroup=new Ye,e._initialized=!1,e}return r.prototype.init=function(){this.group.add(this._dataGroup)},r.prototype.render=function(e,o,l,c){this._progressiveEls=null;var f=this._dataGroup,d=e.getData(),p=this._data,y=e.coordinateSystem,b=y.dimensions,x=r8(e);d.diff(p).add(S).update(T).remove(A).execute();function S(L){var I=_k(d,f,L,b,y);xk(I,d,L,x)}function T(L,I){var N=p.getItemGraphicEl(I),F=bk(d,L,b,y);d.setItemGraphicEl(L,N),Qr(N,{shape:{points:F}},e,L),Ha(N),xk(N,d,L,x)}function A(L){var I=p.getItemGraphicEl(L);f.remove(I)}if(!this._initialized){this._initialized=!0;var E=mk(y,e,function(){setTimeout(function(){f.removeClipPath()})});f.setClipPath(E)}this._data=d},r.prototype.incrementalPrepareRender=function(e,o,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},r.prototype.incrementalRender=function(e,o,l){for(var c=o.getData(),f=o.coordinateSystem,d=f.dimensions,p=r8(o),y=this._progressiveEls=[],b=e.start;b<e.end;b++){var x=_k(c,this._dataGroup,b,d,f);x.incremental=!0,xk(x,c,b,p),y.push(x)}},r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},r.type="parallel",r}(Hn);function mk(n,r,e){var o=n.model,l=n.getRect(),c=new kr({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),f=o.get("layout")==="horizontal"?"width":"height";return c.setShape(f,0),ni(c,{shape:{width:l.width,height:l.height}},r,e),c}function bk(n,r,e,o){for(var l=[],c=0;c<e.length;c++){var f=e[c],d=n.get(n.mapDimension(f),r);wq(d,o.getAxis(f).type)||l.push(o.dataToPoint(d,f))}return l}function _k(n,r,e,o,l){var c=bk(n,e,o,l),f=new Xa({shape:{points:c},z2:10});return r.add(f),n.setItemGraphicEl(e,f),f}function r8(n){var r=n.get("smooth",!0);return r===!0&&(r=_q),r=si(r),Pi(r)&&(r=0),{smooth:r}}function xk(n,r,e,o){n.useStyle(r.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",o.smooth);var l=r.getItemModel(e),c=l.getModel("emphasis");pa(n,l,"lineStyle"),ri(n,c.get("focus"),c.get("blurScope"),c.get("disabled"))}function wq(n,r){return r==="category"?n==null:n==null||isNaN(n)}var Sq=xq,Mq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return r.prototype.getInitialData=function(e,o){return iu(null,this,{useEncodeDefaulter:ue(n8,null,this)})},r.prototype.getRawIndicesByActiveState=function(e){var o=this.coordinateSystem,l=this.getData(),c=[];return o.eachActiveState(l,function(f,d){e===f&&c.push(l.getRawIndex(d))}),c},r.type="series.parallel",r.dependencies=["parallel"],r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},r}(ai);function n8(n){var r=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(r){var e={};return it(r.dimensions,function(o){var l=i8(o);e[o]=l}),e}}function i8(n){return+n.replace("dim","")}var Tq=Mq,wk=["lineStyle","opacity"],Oq={seriesType:"parallel",reset:function(n,r){var e=n.coordinateSystem,o={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(l,c){e.eachActiveState(c,function(f,d){var p=o[f];if(f==="normal"&&c.hasItemOption){var y=c.getItemModel(d).get(wk,!0);y!=null&&(p=y)}var b=c.ensureUniqueItemVisual(d,"style");b.opacity=p},l.start,l.end)}}}},Aq=Oq;function Cq(n){Pq(n),ny(n)}function Pq(n){if(!n.parallel){var r=!1;it(n.series,function(e){e&&e.type==="parallel"&&(r=!0)}),r&&(n.parallel=[{}])}}function ny(n){var r=An(n.parallelAxis);it(r,function(e){if(ce(e)){var o=e.parallelIndex||0,l=An(n.parallel)[o];l&&l.parallelAxisDefault&&lr(e,l.parallelAxisDefault,!1)}})}var a8=5,Eq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){this._model=e,this._api=l,this._handlers||(this._handlers={},it(o8,function(c,f){l.getZr().on(f,this._handlers[f]=ue(c,this))},this)),ks(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},r.prototype.dispose=function(e,o){Yu(this,"_throttledDispatchExpand"),it(this._handlers,function(l,c){o.getZr().off(c,l)}),this._handlers=null},r.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},r.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Wt({type:"parallelAxisExpand"},e))},r.type="parallel",r}(ui),o8={mousedown:function(n){Sk(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var r=this._mouseDownPoint;if(Sk(this,"click")&&r){var e=[n.offsetX,n.offsetY],o=Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2);if(o>a8)return;var l=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);l.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:l.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!Sk(this,"mousemove"))){var r=this._model,e=r.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),o=e.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(r.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function Sk(n,r){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===r}var kq=Eq,Lq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},r.prototype.mergeOption=function(e){var o=this.option;e&&lr(o,e,!0),this._initDimensions()},r.prototype.contains=function(e,o){var l=e.get("parallelIndex");return l!=null&&o.getComponent("parallel",l)===this},r.prototype.setAxisExpand=function(e){it(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(o){e.hasOwnProperty(o)&&(this.option[o]=e[o])},this)},r.prototype._initDimensions=function(){var e=this.dimensions=[],o=this.parallelAxisIndex=[],l=Zr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(c){return(c.get("parallelIndex")||0)===this.componentIndex},this);it(l,function(c){e.push("dim"+c.get("dim")),o.push(c.componentIndex)})},r.type="parallel",r.dependencies=["parallelAxis"],r.layoutMode="box",r.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},r}(Yr),Dq=Lq,Iq=function(n){Ot(r,n);function r(e,o,l,c,f){var d=n.call(this,e,o,l)||this;return d.type=c||"value",d.axisIndex=f,d}return r.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},r}(au),Rq=Iq;function Hh(n,r,e,o,l,c){n=n||0;var f=e[1]-e[0];if(l!=null&&(l=iy(l,[0,f])),c!=null&&(c=Math.max(c,l!=null?l:0)),o==="all"){var d=Math.abs(r[1]-r[0]);d=iy(d,[0,f]),l=c=iy(d,[l,c]),o=0}r[0]=iy(r[0],e),r[1]=iy(r[1],e);var p=Mk(r,o);r[o]+=n;var y=l||0,b=e.slice();p.sign<0?b[0]+=y:b[1]-=y,r[o]=iy(r[o],b);var x;return x=Mk(r,o),l!=null&&(x.sign!==p.sign||x.span<l)&&(r[1-o]=r[o]+p.sign*l),x=Mk(r,o),c!=null&&x.span>c&&(r[1-o]=r[o]+x.sign*c),r}function Mk(n,r){var e=n[r]-n[1-r];return{span:Math.abs(e),sign:e>0?-1:e<0?1:r?-1:1}}function iy(n,r){return Math.min(r[1]!=null?r[1]:1/0,Math.max(r[0]!=null?r[0]:-1/0,n))}var Tk=it,s8=Math.min,l8=Math.max,u8=Math.floor,Fv=Math.ceil,tb=sa,Nq=Math.PI,Bq=function(){function n(r,e,o){this.type="parallel",this._axesMap=ve(),this._axesLayout={},this.dimensions=r.dimensions,this._model=r,this._init(r,e,o)}return n.prototype._init=function(r,e,o){var l=r.dimensions,c=r.parallelAxisIndex;Tk(l,function(f,d){var p=c[d],y=e.getComponent("parallelAxis",p),b=this._axesMap.set(f,new Rq(f,HS(y),[0,0],y.get("type"),p)),x=b.type==="category";b.onBand=x&&y.get("boundaryGap"),b.inverse=y.get("inverse"),y.axis=b,b.model=y,b.coordinateSystem=y.coordinateSystem=this},this)},n.prototype.update=function(r,e){this._updateAxesFromSeries(this._model,r)},n.prototype.containPoint=function(r){var e=this._makeLayoutInfo(),o=e.axisBase,l=e.layoutBase,c=e.pixelDimIndex,f=r[1-c],d=r[c];return f>=o&&f<=o+e.axisLength&&d>=l&&d<=l+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(r,e){e.eachSeries(function(o){if(r.contains(o,e)){var l=o.getData();Tk(this.dimensions,function(c){var f=this._axesMap.get(c);f.scale.unionExtentFromData(l,l.mapDimension(c)),Rg(f.scale,f.model)},this)}},this)},n.prototype.resize=function(r,e){var o=ya(r,e).refContainer;this._rect=Wn(r.getBoxLayoutParams(),o),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var r=this._model,e=this._rect,o=["x","y"],l=["width","height"],c=r.get("layout"),f=c==="horizontal"?0:1,d=e[l[f]],p=[0,d],y=this.dimensions.length,b=V2(r.get("axisExpandWidth"),p),x=V2(r.get("axisExpandCount")||0,[0,y]),S=r.get("axisExpandable")&&y>3&&y>x&&x>1&&b>0&&d>0,T=r.get("axisExpandWindow"),A;if(T)A=V2(T[1]-T[0],p),T[1]=T[0]+A;else{A=V2(b*(x-1),p);var E=r.get("axisExpandCenter")||u8(y/2);T=[b*E-A/2],T[1]=T[0]+A}var L=(d-A)/(y-x);L<3&&(L=0);var I=[u8(tb(T[0]/b,1))+1,Fv(tb(T[1]/b,1))-1],N=L/b*T[0];return{layout:c,pixelDimIndex:f,layoutBase:e[o[f]],layoutLength:d,axisBase:e[o[1-f]],axisLength:e[l[1-f]],axisExpandable:S,axisExpandWidth:b,axisCollapseWidth:L,axisExpandWindow:T,axisCount:y,winInnerIndices:I,axisExpandWindow0Pos:N}},n.prototype._layoutAxes=function(){var r=this._rect,e=this._axesMap,o=this.dimensions,l=this._makeLayoutInfo(),c=l.layout;e.each(function(f){var d=[0,l.axisLength],p=f.inverse?1:0;f.setExtent(d[p],d[1-p])}),Tk(o,function(f,d){var p=(l.axisExpandable?Yh:c8)(d,l),y={horizontal:{x:p.position,y:l.axisLength},vertical:{x:0,y:p.position}},b={horizontal:Nq/2,vertical:0},x=[y[c].x+r.x,y[c].y+r.y],S=b[c],T=no();Cf(T,T,S),xc(T,T,x),this._axesLayout[f]={position:x,rotation:S,transform:T,axisNameAvailableWidth:p.axisNameAvailableWidth,axisLabelShow:p.axisLabelShow,nameTruncateMaxWidth:p.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(r){return this._axesMap.get(r)},n.prototype.dataToPoint=function(r,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(r),e)},n.prototype.eachActiveState=function(r,e,o,l){o==null&&(o=0),l==null&&(l=r.count());var c=this._axesMap,f=this.dimensions,d=[],p=[];it(f,function(L){d.push(r.mapDimension(L)),p.push(c.get(L).model)});for(var y=this.hasAxisBrushed(),b=o;b<l;b++){var x=void 0;if(!y)x="normal";else{x="active";for(var S=r.getValues(d,b),T=0,A=f.length;T<A;T++){var E=p[T].getActiveState(S[T]);if(E==="inactive"){x="inactive";break}}}e(x,b)}},n.prototype.hasAxisBrushed=function(){for(var r=this.dimensions,e=this._axesMap,o=!1,l=0,c=r.length;l<c;l++)e.get(r[l]).model.getActiveState()!=="normal"&&(o=!0);return o},n.prototype.axisCoordToPoint=function(r,e){var o=this._axesLayout[e];return Ql([r,0],o.transform)},n.prototype.getAxisLayout=function(r){return Ne(this._axesLayout[r])},n.prototype.getSlidedAxisExpandWindow=function(r){var e=this._makeLayoutInfo(),o=e.pixelDimIndex,l=e.axisExpandWindow.slice(),c=l[1]-l[0],f=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(r))return{behavior:"none",axisExpandWindow:l};var d=r[o]-e.layoutBase-e.axisExpandWindow0Pos,p,y="slide",b=e.axisCollapseWidth,x=this._model.get("axisExpandSlideTriggerArea"),S=x[0]!=null;if(b)S&&b&&d<c*x[0]?(y="jump",p=d-c*x[2]):S&&b&&d>c*(1-x[0])?(y="jump",p=d-c*(1-x[2])):(p=d-c*x[1])>=0&&(p=d-c*(1-x[1]))<=0&&(p=0),p*=e.axisExpandWidth/b,p?Hh(p,l,f,"all"):y="none";else{var T=l[1]-l[0],A=f[1]*d/T;l=[l8(0,A-T/2)],l[1]=s8(f[1],l[0]+T),l[0]=l[1]-T}return{axisExpandWindow:l,behavior:y}},n}();function V2(n,r){return s8(l8(n,r[0]),r[1])}function c8(n,r){var e=r.layoutLength/(r.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function Yh(n,r){var e=r.layoutLength,o=r.axisExpandWidth,l=r.axisCount,c=r.axisCollapseWidth,f=r.winInnerIndices,d,p=c,y=!1,b;return n<f[0]?(d=n*c,b=c):n<=f[1]?(d=r.axisExpandWindow0Pos+n*o-r.axisExpandWindow[0],p=o,y=!0):(d=e-(l-1-n)*c,b=c),{position:d,axisNameAvailableWidth:p,axisLabelShow:y,nameTruncateMaxWidth:b}}var Ok=Bq;function f8(n,r){var e=[];return n.eachComponent("parallel",function(o,l){var c=new Ok(o,n,r);c.name="parallel_"+l,c.resize(o,r),o.coordinateSystem=c,c.model=o,e.push(c)}),n.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var l=o.getReferringComponents("parallel",bi).models[0];o.coordinateSystem=l.coordinateSystem}}),e}var zq={create:f8},h8=zq,Ak=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.activeIntervals=[],e}return r.prototype.getAreaSelectStyle=function(){return jf([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},r.prototype.setActiveIntervals=function(e){var o=this.activeIntervals=Ne(e);if(o)for(var l=o.length-1;l>=0;l--)bs(o[l])},r.prototype.getActiveState=function(e){var o=this.activeIntervals;if(!o.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(o.length===1){var l=o[0];if(l[0]<=e&&e<=l[1])return"active"}else for(var c=0,f=o.length;c<f;c++)if(o[c][0]<=e&&e<=o[c][1])return"active";return"inactive"},r}(Yr);Ln(Ak,s1);var Ck=Ak,jv=!0,eb=Math.min,Vv=Math.max,d8=Math.pow,Fq=1e4,v8=6,p8=6,uc="globalPan",g8={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},jq={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Pk={brushStyle:{lineWidth:2,stroke:Rt.color.backgroundTint,fill:Rt.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},Vq=0,y8=function(n){Ot(r,n);function r(e){var o=n.call(this)||this;return o._track=[],o._covers=[],o._handlers={},o._zr=e,o.group=new Ye,o._uid="brushController_"+Vq++,it(Fk,function(l,c){this._handlers[c]=ue(l,this)},o),o}return r.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},r.prototype._doEnableBrush=function(e){var o=this._zr;this._enableGlobalPan||i2(o,uc,this._uid),it(this._handlers,function(l,c){o.on(c,l)}),this._brushType=e.brushType,this._brushOption=lr(Ne(Pk),e,!0)},r.prototype._doDisableBrush=function(){var e=this._zr;GX(e,uc,this._uid),it(this._handlers,function(o,l){e.off(l,o)}),this._brushType=this._brushOption=null},r.prototype.setPanels=function(e){if(e&&e.length){var o=this._panels={};it(e,function(l){o[l.panelId]=Ne(l)})}else this._panels=null;return this},r.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=o.getLocalTransform(),this},r.prototype.updateCovers=function(e){e=Gt(e,function(S){return lr(Ne(Pk),S,!0)});var o="\0-brush-index-",l=this._covers,c=this._covers=[],f=this,d=this._creatingCover;return new qu(l,e,y,p).add(b).update(b).remove(x).execute(),this;function p(S,T){return(S.id!=null?S.id:o+T)+"-"+S.brushType}function y(S,T){return p(S.__brushOption,T)}function b(S,T){var A=e[S];if(T!=null&&l[T]===d)c[S]=l[T];else{var E=c[S]=T!=null?(l[T].__brushOption=A,l[T]):Ek(f,rb(f,A));kk(f,E)}}function x(S){l[S]!==d&&f.group.remove(l[S])}},r.prototype.unmount=function(){return this.enableBrush(!1),W2(this),this._zr.remove(this.group),this},r.prototype.dispose=function(){this.unmount(),this.off()},r}(Cl);function rb(n,r){var e=ay[r.brushType].createCover(n,r);return e.__brushOption=r,b8(e,r),n.group.add(e),e}function Ek(n,r){var e=Lk(r);return e.endCreating&&(e.endCreating(n,r),b8(r,r.__brushOption)),r}function m8(n,r){var e=r.__brushOption;Lk(r).updateCoverShape(n,r,e.range,e)}function b8(n,r){var e=r.z;e==null&&(e=Fq),n.traverse(function(o){o.z=e,o.z2=e})}function kk(n,r){Lk(r).updateCommon(n,r),m8(n,r)}function Lk(n){return ay[n.__brushOption.brushType]}function G2(n,r,e){var o=n._panels;if(!o)return jv;var l,c=n._transform;return it(o,function(f){f.isTargetByCursor(r,e,c)&&(l=f)}),l}function Dk(n,r){var e=n._panels;if(!e)return jv;var o=r.__brushOption.panelId;return o!=null?e[o]:jv}function W2(n){var r=n._covers,e=r.length;return it(r,function(o){n.group.remove(o)},n),r.length=0,!!e}function sf(n,r){var e=Gt(n._covers,function(o){var l=o.__brushOption,c=Ne(l.range);return{brushType:l.brushType,panelId:l.panelId,range:c}});n.trigger("brush",{areas:e,isEnd:!!r.isEnd,removeOnClick:!!r.removeOnClick})}function _8(n){var r=n._track;if(!r.length)return!1;var e=r[r.length-1],o=r[0],l=e[0]-o[0],c=e[1]-o[1],f=d8(l*l+c*c,.5);return f>v8}function x8(n){var r=n.length-1;return r<0&&(r=0),[n[0],n[r]]}function H2(n,r,e,o){var l=new Ye;return l.add(new kr({name:"main",style:Y2(e),silent:!0,draggable:!0,cursor:"move",drift:hr(S8,n,r,l,["n","s","w","e"]),ondragend:hr(sf,r,{isEnd:!0})})),it(o,function(c){l.add(new kr({name:c.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:hr(S8,n,r,l,c),ondragend:hr(sf,r,{isEnd:!0})}))}),l}function Gq(n,r,e,o){var l=o.brushStyle.lineWidth||0,c=Vv(l,p8),f=e[0][0],d=e[1][0],p=f-l/2,y=d-l/2,b=e[0][1],x=e[1][1],S=b-c+l/2,T=x-c+l/2,A=b-f,E=x-d,L=A+l,I=E+l;lf(n,r,"main",f,d,A,E),o.transformable&&(lf(n,r,"w",p,y,c,I),lf(n,r,"e",S,y,c,I),lf(n,r,"n",p,y,L,c),lf(n,r,"s",p,T,L,c),lf(n,r,"nw",p,y,c,c),lf(n,r,"ne",S,y,c,c),lf(n,r,"sw",p,T,c,c),lf(n,r,"se",S,T,c,c))}function Ik(n,r){var e=r.__brushOption,o=e.transformable,l=r.childAt(0);l.useStyle(Y2(e)),l.attr({silent:!o,cursor:o?"move":"default"}),it([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(c){var f=r.childOfName(c.join("")),d=c.length===1?Rk(n,c[0]):gl(n,c);f&&f.attr({silent:!o,invisible:!o,cursor:o?jq[d]+"-resize":null})})}function lf(n,r,e,o,l,c,f){var d=r.childOfName(e);d&&d.setShape(T8(cu(n,r,[[o,l],[o+c,l+f]])))}function Y2(n){return je({strokeNoScale:!0},n.brushStyle)}function w8(n,r,e,o){var l=[eb(n,e),eb(r,o)],c=[Vv(n,e),Vv(r,o)];return[[l[0],c[0]],[l[1],c[1]]]}function Wq(n){return $e(n.group)}function Rk(n,r){var e={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},l=gw(e[r],Wq(n));return o[l]}function gl(n,r){var e=[Rk(n,r[0]),Rk(n,r[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function S8(n,r,e,o,l,c){var f=e.__brushOption,d=n.toRectRange(f.range),p=M8(r,l,c);it(o,function(y){var b=g8[y];d[b[0]][b[1]]+=p[b[0]]}),f.range=n.fromRectRange(w8(d[0][0],d[1][0],d[0][1],d[1][1])),kk(r,e),sf(r,{isEnd:!1})}function Hq(n,r,e,o){var l=r.__brushOption.range,c=M8(n,e,o);it(l,function(f){f[0]+=c[0],f[1]+=c[1]}),kk(n,r),sf(n,{isEnd:!1})}function M8(n,r,e){var o=n.group,l=o.transformCoordToLocal(r,e),c=o.transformCoordToLocal(0,0);return[l[0]-c[0],l[1]-c[1]]}function cu(n,r,e){var o=Dk(n,r);return o&&o!==jv?o.clipPath(e,n._transform):Ne(e)}function T8(n){var r=eb(n[0][0],n[1][0]),e=eb(n[0][1],n[1][1]),o=Vv(n[0][0],n[1][0]),l=Vv(n[0][1],n[1][1]);return{x:r,y:e,width:o-r,height:l-e}}function Nk(n,r,e){if(!(!n._brushType||Yq(n,r.offsetX,r.offsetY))){var o=n._zr,l=n._covers,c=G2(n,r,e);if(!n._dragging)for(var f=0;f<l.length;f++){var d=l[f].__brushOption;if(c&&(c===jv||d.panelId===c.panelId)&&ay[d.brushType].contain(l[f],e[0],e[1]))return}c&&o.setCursorStyle("crosshair")}}function nb(n){var r=n.event;r.preventDefault&&r.preventDefault()}function Bk(n,r,e){return n.childOfName("main").contain(r,e)}function O8(n,r,e,o){var l=n._creatingCover,c=n._creatingPanel,f=n._brushOption,d;if(n._track.push(e.slice()),_8(n)||l){if(c&&!l){f.brushMode==="single"&&W2(n);var p=Ne(f);p.brushType=zk(p.brushType,c),p.panelId=c===jv?null:c.panelId,l=n._creatingCover=rb(n,p),n._covers.push(l)}if(l){var y=ay[zk(n._brushType,c)],b=l.__brushOption;b.range=y.getCreatingRange(cu(n,l,n._track)),o&&(Ek(n,l),y.updateCommon(n,l)),m8(n,l),d={isEnd:o}}}else o&&f.brushMode==="single"&&f.removeOnClick&&G2(n,r,e)&&W2(n)&&(d={isEnd:o,removeOnClick:!0});return d}function zk(n,r){return n==="auto"?r.defaultBrushType:n}var Fk={mousedown:function(n){if(this._dragging)U2(this,n);else if(!n.target||!n.target.draggable){nb(n);var r=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var e=this._creatingPanel=G2(this,n,r);e&&(this._dragging=!0,this._track=[r.slice()])}},mousemove:function(n){var r=n.offsetX,e=n.offsetY,o=this.group.transformCoordToLocal(r,e);if(Nk(this,n,o),this._dragging){nb(n);var l=O8(this,n,o,!1);l&&sf(this,l)}},mouseup:function(n){U2(this,n)}};function U2(n,r){if(n._dragging){nb(r);var e=r.offsetX,o=r.offsetY,l=n.group.transformCoordToLocal(e,o),c=O8(n,r,l,!0);n._dragging=!1,n._track=[],n._creatingCover=null,c&&sf(n,c)}}function Yq(n,r,e){var o=n._zr;return r<0||r>o.getWidth()||e<0||e>o.getHeight()}var ay={lineX:A8(0),lineY:A8(1),rect:{createCover:function(n,r){function e(o){return o}return H2({toRectRange:e,fromRectRange:e},n,r,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var r=x8(n);return w8(r[1][0],r[1][1],r[0][0],r[0][1])},updateCoverShape:function(n,r,e,o){Gq(n,r,e,o)},updateCommon:Ik,contain:Bk},polygon:{createCover:function(n,r){var e=new Ye;return e.add(new Xa({name:"main",style:Y2(r),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,r){r.remove(r.childAt(0)),r.add(new xo({name:"main",draggable:!0,drift:hr(Hq,n,r),ondragend:hr(sf,n,{isEnd:!0})}))},updateCoverShape:function(n,r,e,o){r.childAt(0).setShape({points:cu(n,r,e)})},updateCommon:Ik,contain:Bk}};function A8(n){return{createCover:function(r,e){return H2({toRectRange:function(o){var l=[o,[0,100]];return n&&l.reverse(),l},fromRectRange:function(o){return o[n]}},r,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(r){var e=x8(r),o=eb(e[0][n],e[1][n]),l=Vv(e[0][n],e[1][n]);return[o,l]},updateCoverShape:function(r,e,o,l){var c,f=Dk(r,e);if(f!==jv&&f.getLinearBrushOtherExtent)c=f.getLinearBrushOtherExtent(n);else{var d=r._zr;c=[0,[d.getWidth(),d.getHeight()][1-n]]}var p=[o,c];n&&p.reverse(),Gq(r,e,p,l)},updateCommon:Ik,contain:Bk}}var ib=y8;function C8(n){return n=X2(n),function(r){return lh(r,n)}}function P8(n,r){return n=X2(n),function(e){var o=r!=null?r:e,l=o?n.width:n.height,c=o?n.x:n.y;return[c,c+(l||0)]}}function E8(n,r,e){var o=X2(n);return function(l,c){return o.contain(c[0],c[1])&&!Wg(l,r,e)}}function X2(n){return Je.create(n)}var Uq=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o){n.prototype.init.apply(this,arguments),(this._brushController=new ib(o.getZr())).on("brush",ue(this._onBrush,this))},r.prototype.render=function(e,o,l,c){if(!k8(e,o,c)){this.axisModel=e,this.api=l,this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new Ye,this.group.add(this._axisGroup),!!e.get("show")){var d=L8(e,o),p=d.coordinateSystem,y=e.getAreaSelectStyle(),b=y.width,x=e.axis.dim,S=p.getAxisLayout(x),T=Wt({strokeContainThreshold:b},S),A=new ou(e,l,T);A.build(),this._axisGroup.add(A.group),this._refreshBrushController(T,y,e,d,b,l),sh(f,this._axisGroup,e)}}},r.prototype._refreshBrushController=function(e,o,l,c,f,d){var p=l.axis.getExtent(),y=p[1]-p[0],b=Math.min(30,Math.abs(y)*.1),x=Je.create({x:p[0],y:-f/2,width:y,height:f});x.x-=b,x.width+=2*b,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:C8(x),isTargetByCursor:E8(x,d,c),getLinearBrushOtherExtent:P8(x,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(Xq(l))},r.prototype._onBrush=function(e){var o=e.areas,l=this.axisModel,c=l.axis,f=Gt(o,function(d){return[c.coordToData(d.range[0],!0),c.coordToData(d.range[1],!0)]});(!l.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:l.id,intervals:f})},r.prototype.dispose=function(){this._brushController.dispose()},r.type="parallelAxis",r}(ui);function k8(n,r,e){return e&&e.type==="axisAreaSelect"&&r.findComponents({mainType:"parallelAxis",query:e})[0]===n}function Xq(n){var r=n.axis;return Gt(n.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(e[0],!0),r.dataToCoord(e[1],!0)]}})}function L8(n,r){return r.getComponent("parallel",n.get("parallelIndex"))}var $q=Uq,qq={type:"axisAreaSelect",event:"axisAreaSelected"};function Zq(n){n.registerAction(qq,function(r,e){e.eachComponent({mainType:"parallelAxis",query:r},function(o){o.axis.model.setActiveIntervals(r.intervals)})}),n.registerAction("parallelAxisExpand",function(r,e){e.eachComponent({mainType:"parallel",query:r},function(o){o.setAxisExpand(r)})})}var Kq={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function D8(n){n.registerComponentView(kq),n.registerComponentModel(Dq),n.registerCoordinateSystem("parallel",h8),n.registerPreprocessor(Cq),n.registerComponentModel(Ck),n.registerComponentView($q),Dg(n,"parallel",Ck,Kq),Zq(n)}function I8(n){_r(D8),n.registerChartView(Sq),n.registerSeriesModel(Tq),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Aq)}var Qq=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n}(),Jq=function(n){Ot(r,n);function r(e){return n.call(this,e)||this}return r.prototype.getDefaultShape=function(){return new Qq},r.prototype.buildPath=function(e,o){var l=o.extent;e.moveTo(o.x1,o.y1),e.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(e.lineTo(o.x2+l,o.y2),e.bezierCurveTo(o.cpx2+l,o.cpy2,o.cpx1+l,o.cpy1,o.x1+l,o.y1)):(e.lineTo(o.x2,o.y2+l),e.bezierCurveTo(o.cpx2,o.cpy2+l,o.cpx1,o.cpy1+l,o.x1,o.y1+l)),e.closePath()},r.prototype.highlight=function(){Pc(this)},r.prototype.downplay=function(){Bu(this)},r}(Sr),jk=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._mainGroup=new Ye,e._focusAdjacencyDisabled=!1,e}return r.prototype.init=function(e,o){this._controller=new Cv(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},r.prototype.render=function(e,o,l){var c=this,f=e.getGraph(),d=this._mainGroup,p=e.layoutInfo,y=p.width,b=p.height,x=e.getData(),S=e.getData("edge"),T=e.get("orient");this._model=e,d.removeAll(),d.x=p.x,d.y=p.y,this._updateViewCoordSys(e,l),_E(e,l,d,this._controller,this._controllerHost,null),f.eachEdge(function(A){var E=new Jq,L=nr(E);L.dataIndex=A.dataIndex,L.seriesIndex=e.seriesIndex,L.dataType="edge";var I=A.getModel(),N=I.getModel("lineStyle"),F=N.get("curveness"),W=A.node1.getLayout(),X=A.node1.getModel(),$=X.get("localX"),K=X.get("localY"),et=A.node2.getLayout(),at=A.node2.getModel(),ot=at.get("localX"),ht=at.get("localY"),yt=A.getLayout(),vt,bt,Mt,St,Pt,Et,Lt,zt;E.shape.extent=Math.max(1,yt.dy),E.shape.orient=T,T==="vertical"?(vt=($!=null?$*y:W.x)+yt.sy,bt=(K!=null?K*b:W.y)+W.dy,Mt=(ot!=null?ot*y:et.x)+yt.ty,St=ht!=null?ht*b:et.y,Pt=vt,Et=bt*(1-F)+St*F,Lt=Mt,zt=bt*F+St*(1-F)):(vt=($!=null?$*y:W.x)+W.dx,bt=(K!=null?K*b:W.y)+yt.sy,Mt=ot!=null?ot*y:et.x,St=(ht!=null?ht*b:et.y)+yt.ty,Pt=vt*(1-F)+Mt*F,Et=bt,Lt=vt*F+Mt*(1-F),zt=St),E.setShape({x1:vt,y1:bt,x2:Mt,y2:St,cpx1:Pt,cpy1:Et,cpx2:Lt,cpy2:zt}),E.useStyle(N.getItemStyle()),R8(E.style,T,A);var Ht=""+I.get("value"),qt=ga(I,"edgeLabel");Da(E,qt,{labelFetcher:{getFormattedLabel:function(Qe,jr,wn,dr,Ge,Mr){return e.getFormattedLabel(Qe,jr,"edge",dr,Ui(Ge,qt.normal&&qt.normal.get("formatter"),Ht),Mr)}},labelDataIndex:A.dataIndex,defaultText:Ht}),E.setTextConfig({position:"inside"});var ne=I.getModel("emphasis");pa(E,I,"lineStyle",function(Qe){var jr=Qe.getItemStyle();return R8(jr,T,A),jr}),d.add(E),S.setItemGraphicEl(A.dataIndex,E);var Ce=ne.get("focus");ri(E,Ce==="adjacency"?A.getAdjacentDataIndices():Ce==="trajectory"?A.getTrajectoryDataIndices():Ce,ne.get("blurScope"),ne.get("disabled"))}),f.eachNode(function(A){var E=A.getLayout(),L=A.getModel(),I=L.get("localX"),N=L.get("localY"),F=L.getModel("emphasis"),W=L.get(["itemStyle","borderRadius"])||0,X=new kr({shape:{x:I!=null?I*y:E.x,y:N!=null?N*b:E.y,width:E.dx,height:E.dy,r:W},style:L.getModel("itemStyle").getItemStyle(),z2:10});Da(X,ga(L),{labelFetcher:{getFormattedLabel:function(K,et){return e.getFormattedLabel(K,et,"node")}},labelDataIndex:A.dataIndex,defaultText:A.id}),X.disableLabelAnimation=!0,X.setStyle("fill",A.getVisual("color")),X.setStyle("decal",A.getVisual("style").decal),pa(X,L),d.add(X),x.setItemGraphicEl(A.dataIndex,X),nr(X).dataType="node";var $=F.get("focus");ri(X,$==="adjacency"?A.getAdjacentDataIndices():$==="trajectory"?A.getTrajectoryDataIndices():$,F.get("blurScope"),F.get("disabled"))}),x.eachItemGraphicEl(function(A,E){var L=x.getItemModel(E);L.get("draggable")&&(A.drift=function(I,N){c._focusAdjacencyDisabled=!0,this.shape.x+=I,this.shape.y+=N,this.dirty(),l.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:x.getRawIndex(E),localX:this.shape.x/y,localY:this.shape.y/b})},A.ondragend=function(){c._focusAdjacencyDisabled=!1},A.draggable=!0,A.cursor="move")}),!this._data&&e.isAnimationEnabled()&&d.setClipPath(tZ(d.getBoundingRect(),e,function(){d.removeClipPath()})),this._data=e.getData()},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype._updateViewCoordSys=function(e,o){var l=e.layoutInfo,c=l.width,f=l.height,d=e.coordinateSystem=new Lv(null,{api:o,ecModel:e.ecModel});d.zoomLimit=e.get("scaleLimit"),d.setBoundingRect(0,0,c,f),d.setCenter(e.get("center")),d.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:d.x,y:d.y,scaleX:d.scaleX,scaleY:d.scaleY})},r.type="sankey",r}(Hn);function R8(n,r,e){switch(n.fill){case"source":n.fill=e.node1.getVisual("color"),n.decal=e.node1.getVisual("style").decal;break;case"target":n.fill=e.node2.getVisual("color"),n.decal=e.node2.getVisual("style").decal;break;case"gradient":var o=e.node1.getVisual("color"),l=e.node2.getVisual("color");oe(o)&&oe(l)&&(n.fill=new Vc(0,0,+(r==="horizontal"),+(r==="vertical"),[{color:o,offset:0},{color:l,offset:1}]))}}function tZ(n,r,e){var o=new kr({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return ni(o,{shape:{width:n.width+20}},r,e),o}var eZ=jk,rZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getInitialData=function(e,o){var l=e.edges||e.links||[],c=e.data||e.nodes||[],f=e.levels||[];this.levelModels=[];for(var d=this.levelModels,p=0;p<f.length;p++)f[p].depth!=null&&f[p].depth>=0&&(d[f[p].depth]=new an(f[p],this,o));var y=F2(c,l,this,!0,b);return y.data;function b(x,S){x.wrapMethod("getItemModel",function(T,A){var E=T.parentModel,L=E.getData().getItemLayout(A);if(L){var I=L.depth,N=E.levelModels[I];N&&(T.parentModel=N)}return T}),S.wrapMethod("getItemModel",function(T,A){var E=T.parentModel,L=E.getGraph().getEdgeByIndex(A),I=L.node1.getLayout();if(I){var N=I.depth,F=E.levelModels[N];F&&(T.parentModel=F)}return T})}},r.prototype.setNodePosition=function(e,o){var l=this.option.data||this.option.nodes,c=l[e];c.localX=o[0],c.localY=o[1]},r.prototype.setCenter=function(e){this.option.center=e},r.prototype.setZoom=function(e){this.option.zoom=e},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.formatTooltip=function(e,o,l){function c(T){return isNaN(T)||T==null}if(l==="edge"){var f=this.getDataParams(e,l),d=f.data,p=f.value,y=d.source+" -- "+d.target;return Li("nameValue",{name:y,value:p,noValue:c(p)})}else{var b=this.getGraph().getNodeByIndex(e),x=b.getLayout().value,S=this.getDataParams(e,l).data.name;return Li("nameValue",{name:S!=null?S+"":null,value:x,noValue:c(x)})}},r.prototype.optionUpdated=function(){},r.prototype.getDataParams=function(e,o){var l=n.prototype.getDataParams.call(this,e,o);if(l.value==null&&o==="node"){var c=this.getGraph().getNodeByIndex(e),f=c.getLayout().value;l.value=f}return l},r.type="series.sankey",r.layoutMode="box",r.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:Rt.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:Rt.color.primary}},animationEasing:"linear",animationDuration:1e3},r}(ai),nZ=rZ;function iZ(n,r){n.eachSeriesByType("sankey",function(e){var o=e.get("nodeWidth"),l=e.get("nodeGap"),c=ya(e,r).refContainer,f=Wn(e.getBoxLayoutParams(),c);e.layoutInfo=f;var d=f.width,p=f.height,y=e.getGraph(),b=y.nodes,x=y.edges;N8(b);var S=Zr(b,function(L){return L.getLayout().value===0}),T=S.length!==0?0:e.get("layoutIterations"),A=e.get("orient"),E=e.get("nodeAlign");$2(b,x,o,l,d,p,T,A,E)})}function $2(n,r,e,o,l,c,f,d,p){B8(n,r,e,l,c,d,p),F8(n,r,c,l,o,f,d),dZ(n,d)}function N8(n){it(n,function(r){var e=fu(r.outEdges,sy),o=fu(r.inEdges,sy),l=r.getValue()||0,c=Math.max(e,o,l);r.setLayout({value:c},!0)})}function B8(n,r,e,o,l,c,f){for(var d=[],p=[],y=[],b=[],x=0,S=0;S<r.length;S++)d[S]=1;for(var S=0;S<n.length;S++)p[S]=n[S].inEdges.length,p[S]===0&&y.push(n[S]);for(var T=-1;y.length;){for(var A=0;A<y.length;A++){var E=y[A],L=E.hostGraph.data.getRawDataItem(E.dataIndex),I=L.depth!=null&&L.depth>=0;I&&L.depth>T&&(T=L.depth),E.setLayout({depth:I?L.depth:x},!0),c==="vertical"?E.setLayout({dy:e},!0):E.setLayout({dx:e},!0);for(var N=0;N<E.outEdges.length;N++){var F=E.outEdges[N],W=r.indexOf(F);d[W]=0;var X=F.node2,$=n.indexOf(X);--p[$]===0&&b.indexOf(X)<0&&b.push(X)}}++x,y=b,b=[]}for(var S=0;S<d.length;S++)if(d[S]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var K=T>x-1?T:x-1;f&&f!=="left"&&aZ(n,f,c,K);var et=c==="vertical"?(l-e)/K:(o-e)/K;sZ(n,et,c)}function z8(n){var r=n.hostGraph.data.getRawDataItem(n.dataIndex);return r.depth!=null&&r.depth>=0}function aZ(n,r,e,o){if(r==="right"){for(var l=[],c=n,f=0;c.length;){for(var d=0;d<c.length;d++){var p=c[d];p.setLayout({skNodeHeight:f},!0);for(var y=0;y<p.inEdges.length;y++){var b=p.inEdges[y];l.indexOf(b.node1)<0&&l.push(b.node1)}}c=l,l=[],++f}it(n,function(x){z8(x)||x.setLayout({depth:Math.max(0,o-x.getLayout().skNodeHeight)},!0)})}else r==="justify"&&oZ(n,o)}function oZ(n,r){it(n,function(e){!z8(e)&&!e.outEdges.length&&e.setLayout({depth:r},!0)})}function sZ(n,r,e){it(n,function(o){var l=o.getLayout().depth*r;e==="vertical"?o.setLayout({y:l},!0):o.setLayout({x:l},!0)})}function F8(n,r,e,o,l,c,f){var d=j8(n,f);lZ(d,r,e,o,l,f),q2(d,l,e,o,f);for(var p=1;c>0;c--)p*=.99,uZ(d,p,f),q2(d,l,e,o,f),V8(d,p,f),q2(d,l,e,o,f)}function j8(n,r){var e=[],o=r==="vertical"?"y":"x",l=jR(n,function(c){return c.getLayout()[o]});return l.keys.sort(function(c,f){return c-f}),it(l.keys,function(c){e.push(l.buckets.get(c))}),e}function lZ(n,r,e,o,l,c){var f=1/0;it(n,function(d){var p=d.length,y=0;it(d,function(x){y+=x.getLayout().value});var b=c==="vertical"?(o-(p-1)*l)/y:(e-(p-1)*l)/y;b<f&&(f=b)}),it(n,function(d){it(d,function(p,y){var b=p.getLayout().value*f;c==="vertical"?(p.setLayout({x:y},!0),p.setLayout({dx:b},!0)):(p.setLayout({y},!0),p.setLayout({dy:b},!0))})}),it(r,function(d){var p=+d.getValue()*f;d.setLayout({dy:p},!0)})}function q2(n,r,e,o,l){var c=l==="vertical"?"x":"y";it(n,function(f){f.sort(function(E,L){return E.getLayout()[c]-L.getLayout()[c]});for(var d,p,y,b=0,x=f.length,S=l==="vertical"?"dx":"dy",T=0;T<x;T++)p=f[T],y=b-p.getLayout()[c],y>0&&(d=p.getLayout()[c]+y,l==="vertical"?p.setLayout({x:d},!0):p.setLayout({y:d},!0)),b=p.getLayout()[c]+p.getLayout()[S]+r;var A=l==="vertical"?o:e;if(y=b-r-A,y>0){d=p.getLayout()[c]-y,l==="vertical"?p.setLayout({x:d},!0):p.setLayout({y:d},!0),b=d;for(var T=x-2;T>=0;--T)p=f[T],y=p.getLayout()[c]+p.getLayout()[S]+r-b,y>0&&(d=p.getLayout()[c]-y,l==="vertical"?p.setLayout({x:d},!0):p.setLayout({y:d},!0)),b=p.getLayout()[c]}})}function uZ(n,r,e){it(n.slice().reverse(),function(o){it(o,function(l){if(l.outEdges.length){var c=fu(l.outEdges,cZ,e)/fu(l.outEdges,sy);if(isNaN(c)){var f=l.outEdges.length;c=f?fu(l.outEdges,fZ,e)/f:0}if(e==="vertical"){var d=l.getLayout().x+(c-Uh(l,e))*r;l.setLayout({x:d},!0)}else{var p=l.getLayout().y+(c-Uh(l,e))*r;l.setLayout({y:p},!0)}}})})}function cZ(n,r){return Uh(n.node2,r)*n.getValue()}function fZ(n,r){return Uh(n.node2,r)}function oy(n,r){return Uh(n.node1,r)*n.getValue()}function hZ(n,r){return Uh(n.node1,r)}function Uh(n,r){return r==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function sy(n){return n.getValue()}function fu(n,r,e){for(var o=0,l=n.length,c=-1;++c<l;){var f=+r(n[c],e);isNaN(f)||(o+=f)}return o}function V8(n,r,e){it(n,function(o){it(o,function(l){if(l.inEdges.length){var c=fu(l.inEdges,oy,e)/fu(l.inEdges,sy);if(isNaN(c)){var f=l.inEdges.length;c=f?fu(l.inEdges,hZ,e)/f:0}if(e==="vertical"){var d=l.getLayout().x+(c-Uh(l,e))*r;l.setLayout({x:d},!0)}else{var p=l.getLayout().y+(c-Uh(l,e))*r;l.setLayout({y:p},!0)}}})})}function dZ(n,r){var e=r==="vertical"?"x":"y";it(n,function(o){o.outEdges.sort(function(l,c){return l.node2.getLayout()[e]-c.node2.getLayout()[e]}),o.inEdges.sort(function(l,c){return l.node1.getLayout()[e]-c.node1.getLayout()[e]})}),it(n,function(o){var l=0,c=0;it(o.outEdges,function(f){f.setLayout({sy:l},!0),l+=f.getLayout().dy}),it(o.inEdges,function(f){f.setLayout({ty:c},!0),c+=f.getLayout().dy})})}function vZ(n){n.eachSeriesByType("sankey",function(r){var e=r.getGraph(),o=e.nodes,l=e.edges;if(o.length){var c=1/0,f=-1/0;it(o,function(d){var p=d.getLayout().value;p<c&&(c=p),p>f&&(f=p)}),it(o,function(d){var p=new hi({type:"color",mappingMethod:"linear",dataExtent:[c,f],visual:r.get("color")}),y=p.mapValueToVisual(d.getLayout().value),b=d.getModel().get(["itemStyle","color"]);b!=null?(d.setVisual("color",b),d.setVisual("style",{fill:b})):(d.setVisual("color",y),d.setVisual("style",{fill:y}))})}l.length&&it(l,function(d){var p=d.getModel().get("lineStyle");d.setVisual("style",p)})})}function pZ(n){n.registerChartView(eZ),n.registerSeriesModel(nZ),n.registerLayout(iZ),n.registerVisual(vZ),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(r,e){e.eachComponent({mainType:"series",subType:"sankey",query:r},function(o){o.setNodePosition(r.dataIndex,[r.localX,r.localY])})}),n.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(r,e,o){e.eachComponent({mainType:"series",subType:"sankey",query:r},function(l){var c=l.coordinateSystem,f=D1(c,r,l.get("scaleLimit"));l.setCenter(f.center),l.setZoom(f.zoom)})})}var G8=function(){function n(){}return n.prototype._hasEncodeRule=function(r){var e=this.getEncode();return e&&e.get(r)!=null},n.prototype.getInitialData=function(r,e){var o,l=e.getComponent("xAxis",this.get("xAxisIndex")),c=e.getComponent("yAxis",this.get("yAxisIndex")),f=l.get("type"),d=c.get("type"),p;f==="category"?(r.layout="horizontal",o=l.getOrdinalMeta(),p=!this._hasEncodeRule("x")):d==="category"?(r.layout="vertical",o=c.getOrdinalMeta(),p=!this._hasEncodeRule("y")):r.layout=r.layout||"horizontal";var y=["x","y"],b=r.layout==="horizontal"?0:1,x=this._baseAxisDim=y[b],S=y[1-b],T=[l,c],A=T[b].get("type"),E=T[1-b].get("type"),L=r.data;if(L&&p){var I=[];it(L,function(W,X){var $;Ut(W)?($=W.slice(),W.unshift(X)):Ut(W.value)?($=Wt({},W),$.value=$.value.slice(),W.value.unshift(X)):$=W,I.push($)}),r.data=I}var N=this.defaultValueDimensions,F=[{name:x,type:gS(A),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:S,type:gS(E),dimsDef:N.slice()}];return Sv(this,{coordDimensions:F,dimensionsCount:N.length+1,encodeDefaulter:hr(nH,F,this)})},n.prototype.getBaseAxis=function(){var r=this._baseAxisDim;return this.ecModel.getComponent(r+"Axis",this.get(r+"AxisIndex")).axis},n}(),W8=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return r.type="series.boxplot",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:Rt.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:Rt.color.shadow}},animationDuration:800},r}(ai);Ln(W8,G8,!0);var gZ=W8,yZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=e.getData(),f=this.group,d=this._data;this._data||f.removeAll();var p=e.get("layout")==="horizontal"?1:0;c.diff(d).add(function(y){if(c.hasValue(y)){var b=c.getItemLayout(y),x=H8(b,c,y,p,!0);c.setItemGraphicEl(y,x),f.add(x)}}).update(function(y,b){var x=d.getItemGraphicEl(b);if(!c.hasValue(y)){f.remove(x);return}var S=c.getItemLayout(y);x?(Ha(x),Y8(S,x,c,y)):x=H8(S,c,y,p),f.add(x),c.setItemGraphicEl(y,x)}).remove(function(y){var b=d.getItemGraphicEl(y);b&&f.remove(b)}).execute(),this._data=c},r.prototype.remove=function(e){var o=this.group,l=this._data;this._data=null,l&&l.eachItemGraphicEl(function(c){c&&o.remove(c)})},r.type="boxplot",r}(Hn),mZ=function(){function n(){}return n}(),bZ=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="boxplotBoxPath",o}return r.prototype.getDefaultShape=function(){return new mZ},r.prototype.buildPath=function(e,o){var l=o.points,c=0;for(e.moveTo(l[c][0],l[c][1]),c++;c<4;c++)e.lineTo(l[c][0],l[c][1]);for(e.closePath();c<l.length;c++)e.moveTo(l[c][0],l[c][1]),c++,e.lineTo(l[c][0],l[c][1])},r}(Sr);function H8(n,r,e,o,l){var c=n.ends,f=new bZ({shape:{points:l?_Z(c,o,n):c}});return Y8(n,f,r,e,l),f}function Y8(n,r,e,o,l){var c=e.hostModel,f=me[l?"initProps":"updateProps"];f(r,{shape:{points:n.ends}},c,o),r.useStyle(e.getItemVisual(o,"style")),r.style.strokeNoScale=!0,r.z2=100;var d=e.getItemModel(o),p=d.getModel("emphasis");pa(r,d),ri(r,p.get("focus"),p.get("blurScope"),p.get("disabled"))}function _Z(n,r,e){return Gt(n,function(o){return o=o.slice(),o[r]=e.initBaseline,o})}var xZ=yZ,ab=it;function wZ(n){var r=U8(n);ab(r,function(e){var o=e.seriesModels;o.length&&(SZ(e),ab(o,function(l,c){X8(l,e.boxOffsetList[c],e.boxWidthList[c])}))})}function U8(n){var r=[],e=[];return n.eachSeriesByType("boxplot",function(o){var l=o.getBaseAxis(),c=Xe(e,l);c<0&&(c=e.length,e[c]=l,r[c]={axis:l,seriesModels:[]}),r[c].seriesModels.push(o)}),r}function SZ(n){var r=n.axis,e=n.seriesModels,o=e.length,l=n.boxWidthList=[],c=n.boxOffsetList=[],f=[],d;if(r.type==="category")d=r.getBandWidth();else{var p=0;ab(e,function(A){p=Math.max(p,A.getData().count())});var y=r.getExtent();d=Math.abs(y[1]-y[0])/p}ab(e,function(A){var E=A.get("boxWidth");Ut(E)||(E=[E,E]),f.push([de(E[0],d)||0,de(E[1],d)||0])});var b=d*.8-2,x=b/o*.3,S=(b-x*(o-1))/o,T=S/2-b/2;ab(e,function(A,E){c.push(T),T+=x+S,l.push(Math.min(Math.max(S,f[E][0]),f[E][1]))})}function X8(n,r,e){var o=n.coordinateSystem,l=n.getData(),c=e/2,f=n.get("layout")==="horizontal"?0:1,d=1-f,p=["x","y"],y=l.mapDimension(p[f]),b=l.mapDimensionsAll(p[d]);if(y==null||b.length<5)return;for(var x=0;x<l.count();x++){var S=l.get(y,x),T=F(S,b[2],x),A=F(S,b[0],x),E=F(S,b[1],x),L=F(S,b[3],x),I=F(S,b[4],x),N=[];W(N,E,!1),W(N,L,!0),N.push(A,E,I,L),X(N,A),X(N,I),X(N,T),l.setItemLayout(x,{initBaseline:T[d],ends:N})}function F($,K,et){var at=l.get(K,et),ot=[];ot[f]=$,ot[d]=at;var ht;return isNaN($)||isNaN(at)?ht=[NaN,NaN]:(ht=o.dataToPoint(ot),ht[f]+=r),ht}function W($,K,et){var at=K.slice(),ot=K.slice();at[f]+=c,ot[f]-=c,et?$.push(at,ot):$.push(ot,at)}function X($,K){var et=K.slice(),at=K.slice();et[f]-=c,at[f]+=c,$.push(et,at)}}function ob(n,r){r=r||{};for(var e=[],o=[],l=r.boundIQR,c=l==="none"||l===0,f=0;f<n.length;f++){var d=bs(n[f].slice()),p=xO(d,.25),y=xO(d,.5),b=xO(d,.75),x=d[0],S=d[d.length-1],T=(l==null?1.5:l)*(b-p),A=c?x:Math.max(x,p-T),E=c?S:Math.min(S,b+T),L=r.itemNameFormatter,I=ze(L)?L({value:f}):oe(L)?L.replace("{value}",f+""):f+"";e.push([I,A,p,y,b,E]);for(var N=0;N<d.length;N++){var F=d[N];if(F<A||F>E){var W=[I,F];o.push(W)}}}return{boxData:e,outliers:o}}var MZ={type:"echarts:boxplot",transform:function(r){var e=r.upstream;if(e.sourceFormat!==Ya){var o="";un(o)}var l=ob(e.getRawData(),r.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:l.boxData},{data:l.outliers}]}};function TZ(n){n.registerSeriesModel(gZ),n.registerChartView(xZ),n.registerLayout(wZ),n.registerTransform(MZ)}var OZ=["itemStyle","borderColor"],AZ=["itemStyle","borderColor0"],$8=["itemStyle","borderColorDoji"],ly=["itemStyle","color"],CZ=["itemStyle","color0"];function Z2(n,r){return r.get(n>0?ly:CZ)}function sb(n,r){return r.get(n===0?$8:n>0?OZ:AZ)}var PZ={seriesType:"candlestick",plan:ju(),performRawSeries:!0,reset:function(n,r){if(!r.isSeriesFiltered(n)){var e=n.pipelineContext.large;return!e&&{progress:function(o,l){for(var c;(c=o.next())!=null;){var f=l.getItemModel(c),d=l.getItemLayout(c).sign,p=f.getItemStyle();p.fill=Z2(d,f),p.stroke=sb(d,f)||p.fill;var y=l.ensureUniqueItemVisual(c,"style");Wt(y,p)}}}}}},EZ=PZ,Vk=["color","borderColor"],kZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},r.prototype.incrementalPrepareRender=function(e,o,l){this._clear(),this._updateDrawMode(e)},r.prototype.incrementalRender=function(e,o,l,c){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,o):this._incrementalRenderNormal(e,o)},r.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},r.prototype._updateDrawMode=function(e){var o=e.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},r.prototype._renderNormal=function(e){var o=e.getData(),l=this._data,c=this.group,f=o.getLayout("isSimpleBox"),d=e.get("clip",!0),p=e.coordinateSystem,y=p.getArea&&p.getArea();this._data||c.removeAll(),o.diff(l).add(function(b){if(o.hasValue(b)){var x=o.getItemLayout(b);if(d&&lb(y,x))return;var S=Wk(x,b,!0);ni(S,{shape:{points:x.ends}},e,b),uy(S,o,b,f),c.add(S),o.setItemGraphicEl(b,S)}}).update(function(b,x){var S=l.getItemGraphicEl(x);if(!o.hasValue(b)){c.remove(S);return}var T=o.getItemLayout(b);if(d&&lb(y,T)){c.remove(S);return}S?(Qr(S,{shape:{points:T.ends}},e,b),Ha(S)):S=Wk(T,b),uy(S,o,b,f),c.add(S),o.setItemGraphicEl(b,S)}).remove(function(b){var x=l.getItemGraphicEl(b);x&&c.remove(x)}).execute(),this._data=o},r.prototype._renderLarge=function(e){this._clear(),Hk(e,this.group);var o=e.get("clip",!0)?Kc(e.coordinateSystem,!1,e):null;o?this.group.setClipPath(o):this.group.removeClipPath()},r.prototype._incrementalRenderNormal=function(e,o){for(var l=o.getData(),c=l.getLayout("isSimpleBox"),f;(f=e.next())!=null;){var d=l.getItemLayout(f),p=Wk(d,f);uy(p,l,f,c),p.incremental=!0,this.group.add(p),this._progressiveEls.push(p)}},r.prototype._incrementalRenderLarge=function(e,o){Hk(o,this.group,this._progressiveEls,!0)},r.prototype.remove=function(e){this._clear()},r.prototype._clear=function(){this.group.removeAll(),this._data=null},r.type="candlestick",r}(Hn),q8=function(){function n(){}return n}(),Gk=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="normalCandlestickBox",o}return r.prototype.getDefaultShape=function(){return new q8},r.prototype.buildPath=function(e,o){var l=o.points;this.__simpleBox?(e.moveTo(l[4][0],l[4][1]),e.lineTo(l[6][0],l[6][1])):(e.moveTo(l[0][0],l[0][1]),e.lineTo(l[1][0],l[1][1]),e.lineTo(l[2][0],l[2][1]),e.lineTo(l[3][0],l[3][1]),e.closePath(),e.moveTo(l[4][0],l[4][1]),e.lineTo(l[5][0],l[5][1]),e.moveTo(l[6][0],l[6][1]),e.lineTo(l[7][0],l[7][1]))},r}(Sr);function Wk(n,r,e){var o=n.ends;return new Gk({shape:{points:e?LZ(o,n):o},z2:100})}function lb(n,r){for(var e=!0,o=0;o<r.ends.length;o++)if(n.contain(r.ends[o][0],r.ends[o][1])){e=!1;break}return e}function uy(n,r,e,o){var l=r.getItemModel(e);n.useStyle(r.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=o,pa(n,l);var c=r.getItemLayout(e).sign;it(n.states,function(d,p){var y=l.getModel(p),b=Z2(c,y),x=sb(c,y)||b,S=d.style||(d.style={});b&&(S.fill=b),x&&(S.stroke=x)});var f=l.getModel("emphasis");ri(n,f.get("focus"),f.get("blurScope"),f.get("disabled"))}function LZ(n,r){return Gt(n,function(e){return e=e.slice(),e[1]=r.initBaseline,e})}var Z8=function(){function n(){}return n}(),K2=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o.type="largeCandlestickBox",o}return r.prototype.getDefaultShape=function(){return new Z8},r.prototype.buildPath=function(e,o){for(var l=o.points,c=0;c<l.length;)if(this.__sign===l[c++]){var f=l[c++];e.moveTo(f,l[c++]),e.lineTo(f,l[c++])}else c+=3},r}(Sr);function Hk(n,r,e,o){var l=n.getData(),c=l.getLayout("largePoints"),f=new K2({shape:{points:c},__sign:1,ignoreCoarsePointer:!0});r.add(f);var d=new K2({shape:{points:c},__sign:-1,ignoreCoarsePointer:!0});r.add(d);var p=new K2({shape:{points:c},__sign:0,ignoreCoarsePointer:!0});r.add(p),Yk(1,f,n,l),Yk(-1,d,n,l),Yk(0,p,n,l),o&&(f.incremental=!0,d.incremental=!0),e&&e.push(f,d)}function Yk(n,r,e,o){var l=sb(n,e)||Z2(n,e),c=e.getModel("itemStyle").getItemStyle(Vk);r.useStyle(c),r.style.fill=null,r.style.stroke=l}var DZ=kZ,Xh=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return r.prototype.getShadowDim=function(){return"open"},r.prototype.brushSelector=function(e,o,l){var c=o.getItemLayout(e);return c&&l.rect(c.brushRect)},r.type="series.candlestick",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},r}(ai);Ln(Xh,G8,!0);var cy=Xh;function IZ(n){!n||!Ut(n.series)||it(n.series,function(r){ce(r)&&r.type==="k"&&(r.type="candlestick")})}var RZ={seriesType:"candlestick",plan:ju(),reset:function(n){var r=n.coordinateSystem,e=n.getData(),o=K8(n,e),l=0,c=1,f=["x","y"],d=e.getDimensionIndex(e.mapDimension(f[l])),p=Gt(e.mapDimensionsAll(f[c]),e.getDimensionIndex,e),y=p[0],b=p[1],x=p[2],S=p[3];if(e.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),d<0||p.length<4)return;return{progress:n.pipelineContext.large?A:T};function T(E,L){for(var I,N=L.getStore();(I=E.next())!=null;){var F=N.get(d,I),W=N.get(y,I),X=N.get(b,I),$=N.get(x,I),K=N.get(S,I),et=Math.min(W,X),at=Math.max(W,X),ot=Pt(et,F),ht=Pt(at,F),yt=Pt($,F),vt=Pt(K,F),bt=[];Et(bt,ht,0),Et(bt,ot,1),bt.push(zt(vt),zt(ht),zt(yt),zt(ot));var Mt=L.getItemModel(I),St=!!Mt.get(["itemStyle","borderColorDoji"]);L.setItemLayout(I,{sign:Uk(N,I,W,X,b,St),initBaseline:W>X?ht[c]:ot[c],ends:bt,brushRect:Lt($,K,F)})}function Pt(Ht,qt){var ne=[];return ne[l]=qt,ne[c]=Ht,isNaN(qt)||isNaN(Ht)?[NaN,NaN]:r.dataToPoint(ne)}function Et(Ht,qt,ne){var Ce=qt.slice(),Qe=qt.slice();Ce[l]=pw(Ce[l]+o/2,1,!1),Qe[l]=pw(Qe[l]-o/2,1,!0),ne?Ht.push(Ce,Qe):Ht.push(Qe,Ce)}function Lt(Ht,qt,ne){var Ce=Pt(Ht,ne),Qe=Pt(qt,ne);return Ce[l]-=o/2,Qe[l]-=o/2,{x:Ce[0],y:Ce[1],width:c?o:Qe[0]-Ce[0],height:c?Qe[1]-Ce[1]:o}}function zt(Ht){return Ht[l]=pw(Ht[l],1),Ht}}function A(E,L){for(var I=Zu(E.count*4),N=0,F,W=[],X=[],$,K=L.getStore(),et=!!n.get(["itemStyle","borderColorDoji"]);($=E.next())!=null;){var at=K.get(d,$),ot=K.get(y,$),ht=K.get(b,$),yt=K.get(x,$),vt=K.get(S,$);if(isNaN(at)||isNaN(yt)||isNaN(vt)){I[N++]=NaN,N+=3;continue}I[N++]=Uk(K,$,ot,ht,b,et),W[l]=at,W[c]=yt,F=r.dataToPoint(W,null,X),I[N++]=F?F[0]:NaN,I[N++]=F?F[1]:NaN,W[c]=vt,F=r.dataToPoint(W,null,X),I[N++]=F?F[1]:NaN}L.setLayout("largePoints",I)}}};function Uk(n,r,e,o,l,c){var f;return e>o?f=-1:e<o?f=1:f=c?0:r>0?n.get(l,r-1)<=o?1:-1:1,f}function K8(n,r){var e=n.getBaseAxis(),o,l=e.type==="category"?e.getBandWidth():(o=e.getExtent(),Math.abs(o[1]-o[0])/r.count()),c=de(fe(n.get("barMaxWidth"),l),l),f=de(fe(n.get("barMinWidth"),1),l),d=n.get("barWidth");return d!=null?de(d,l):Math.max(Math.min(l/2,c),f)}var NZ=RZ;function Q8(n){n.registerChartView(DZ),n.registerSeriesModel(cy),n.registerPreprocessor(IZ),n.registerVisual(EZ),n.registerLayout(NZ)}function J8(n,r){var e=r.rippleEffectColor||r.color;n.eachChild(function(o){o.attr({z:r.z,zlevel:r.zlevel,style:{stroke:r.brushType==="stroke"?e:null,fill:r.brushType==="fill"?e:null}})})}var BZ=function(n){Ot(r,n);function r(e,o){var l=n.call(this)||this,c=new Tg(e,o),f=new Ye;return l.add(c),l.add(f),l.updateData(e,o),l}return r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},r.prototype.startEffectAnimation=function(e){for(var o=e.symbolType,l=e.color,c=e.rippleNumber,f=this.childAt(1),d=0;d<c;d++){var p=ia(o,-1,-1,2,2,l);p.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var y=-d/c*e.period+e.effectOffset;p.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(y).start(),p.animateStyle(!0).when(e.period,{opacity:0}).delay(y).start(),f.add(p)}J8(f,e)},r.prototype.updateEffectAnimation=function(e){for(var o=this._effectCfg,l=this.childAt(1),c=["symbolType","period","rippleScale","rippleNumber"],f=0;f<c.length;f++){var d=c[f];if(o[d]!==e[d]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}J8(l,e)},r.prototype.highlight=function(){Pc(this)},r.prototype.downplay=function(){Bu(this)},r.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},r.prototype.updateData=function(e,o){var l=this,c=e.hostModel;this.childAt(0).updateData(e,o);var f=this.childAt(1),d=e.getItemModel(o),p=e.getItemVisual(o,"symbol"),y=hh(e.getItemVisual(o,"symbolSize")),b=e.getItemVisual(o,"style"),x=b&&b.fill,S=d.getModel("emphasis");f.setScale(y),f.traverse(function(L){L.setStyle("fill",x)});var T=dh(e.getItemVisual(o,"symbolOffset"),y);T&&(f.x=T[0],f.y=T[1]);var A=e.getItemVisual(o,"symbolRotate");f.rotation=(A||0)*Math.PI/180||0;var E={};E.showEffectOn=c.get("showEffectOn"),E.rippleScale=d.get(["rippleEffect","scale"]),E.brushType=d.get(["rippleEffect","brushType"]),E.period=d.get(["rippleEffect","period"])*1e3,E.effectOffset=o/e.count(),E.z=c.getShallow("z")||0,E.zlevel=c.getShallow("zlevel")||0,E.symbolType=p,E.color=x,E.rippleEffectColor=d.get(["rippleEffect","color"]),E.rippleNumber=d.get(["rippleEffect","number"]),E.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(E):this.startEffectAnimation(E),this._effectCfg=E):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(L){L==="emphasis"?E.showEffectOn!=="render"&&l.startEffectAnimation(E):L==="normal"&&E.showEffectOn!=="render"&&l.stopEffectAnimation()}),this._effectCfg=E,ri(this,S.get("focus"),S.get("blurScope"),S.get("disabled"))},r.prototype.fadeOut=function(e){e&&e()},r}(Ye),zZ=BZ,FZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(){this._symbolDraw=new xS(zZ)},r.prototype.render=function(e,o,l){var c=e.getData(),f=this._symbolDraw;f.updateData(c,{clipShape:this._getClipShape(e)}),this.group.add(f.group)},r.prototype._getClipShape=function(e){var o=e.coordinateSystem,l=o&&o.getArea&&o.getArea();return e.get("clip",!0)?l:null},r.prototype.updateTransform=function(e,o,l){var c=e.getData();this.group.dirty();var f=Jm("").reset(e,o,l);f.progress&&f.progress({start:0,end:c.count(),count:c.count()},c),this._symbolDraw.updateLayout()},r.prototype._updateGroupTransform=function(e){var o=e.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=$et(o.getRoamTransform()),this.group.decomposeTransform())},r.prototype.remove=function(e,o){this._symbolDraw&&this._symbolDraw.remove(!0)},r.type="effectScatter",r}(Hn),jZ=FZ,Xk=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e}return r.prototype.getInitialData=function(e,o){return iu(null,this,{useEncodeDefaulter:!0})},r.prototype.brushSelector=function(e,o,l){return l.point(o.getItemLayout(e))},r.type="series.effectScatter",r.dependencies=["grid","polar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},r}(ai),VZ=Xk;function GZ(n){n.registerChartView(jZ),n.registerSeriesModel(VZ),n.registerLayout(Jm("effectScatter"))}var $k=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this)||this;return c.add(c.createLine(e,o,l)),c._updateEffectSymbol(e,o),c}return r.prototype.createLine=function(e,o,l){return new ey(e,o,l)},r.prototype._updateEffectSymbol=function(e,o){var l=e.getItemModel(o),c=l.getModel("effect"),f=c.get("symbolSize"),d=c.get("symbol");Ut(f)||(f=[f,f]);var p=e.getItemVisual(o,"style"),y=c.get("color")||p&&p.stroke,b=this.childAt(1);this._symbolType!==d&&(this.remove(b),b=ia(d,-.5,-.5,1,1,y),b.z2=100,b.culling=!0,this.add(b)),b&&(b.setStyle("shadowColor",y),b.setStyle(c.getItemStyle(["color"])),b.scaleX=f[0],b.scaleY=f[1],b.setColor(y),this._symbolType=d,this._symbolScale=f,this._updateEffectAnimation(e,c,o))},r.prototype._updateEffectAnimation=function(e,o,l){var c=this.childAt(1);if(c){var f=e.getItemLayout(l),d=o.get("period")*1e3,p=o.get("loop"),y=o.get("roundTrip"),b=o.get("constantSpeed"),x=mn(o.get("delay"),function(T){return T/e.count()*d/3});if(c.ignore=!0,this._updateAnimationPoints(c,f),b>0&&(d=this._getLineLength(c)/b*1e3),d!==this._period||p!==this._loop||y!==this._roundTrip){c.stopAnimation();var S=void 0;ze(x)?S=x(l):S=x,c.__t>0&&(S=-d*c.__t),this._animateSymbol(c,d,S,p,y)}this._period=d,this._loop=p,this._roundTrip=y}},r.prototype._animateSymbol=function(e,o,l,c,f){if(o>0){e.__t=0;var d=this,p=e.animate("",c).when(f?o*2:o,{__t:f?2:1}).delay(l).during(function(){d._updateSymbolPosition(e)});c||p.done(function(){d.remove(e)}),p.start()}},r.prototype._getLineLength=function(e){return wu(e.__p1,e.__cp1)+wu(e.__cp1,e.__p2)},r.prototype._updateAnimationPoints=function(e,o){e.__p1=o[0],e.__p2=o[1],e.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},r.prototype.updateData=function(e,o,l){this.childAt(0).updateData(e,o,l),this._updateEffectSymbol(e,o)},r.prototype._updateSymbolPosition=function(e){var o=e.__p1,l=e.__p2,c=e.__cp1,f=e.__t<1?e.__t:2-e.__t,d=[e.x,e.y],p=d.slice(),y=io,b=eR;d[0]=y(o[0],c[0],l[0],f),d[1]=y(o[1],c[1],l[1],f);var x=e.__t<1?b(o[0],c[0],l[0],f):b(l[0],c[0],o[0],1-f),S=e.__t<1?b(o[1],c[1],l[1],f):b(l[1],c[1],o[1],1-f);e.rotation=-Math.atan2(S,x)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=wu(p,d)*1.05,f===1&&(d[0]=p[0]+(d[0]-p[0])/2,d[1]=p[1]+(d[1]-p[1])/2)):e.__lastT===1?e.scaleY=2*wu(o,d):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=d[0],e.y=d[1]},r.prototype.updateLayout=function(e,o){this.childAt(0).updateLayout(e,o);var l=e.getItemModel(o).getModel("effect");this._updateEffectAnimation(e,l,o)},r}(Ye),qk=$k,tj=function(n){Ot(r,n);function r(e,o,l){var c=n.call(this)||this;return c._createPolyline(e,o,l),c}return r.prototype._createPolyline=function(e,o,l){var c=e.getItemLayout(o),f=new Xa({shape:{points:c}});this.add(f),this._updateCommonStl(e,o,l)},r.prototype.updateData=function(e,o,l){var c=e.hostModel,f=this.childAt(0),d={shape:{points:e.getItemLayout(o)}};Qr(f,d,c,o),this._updateCommonStl(e,o,l)},r.prototype._updateCommonStl=function(e,o,l){var c=this.childAt(0),f=e.getItemModel(o),d=l&&l.emphasisLineStyle,p=l&&l.focus,y=l&&l.blurScope,b=l&&l.emphasisDisabled;if(!l||e.hasItemOption){var x=f.getModel("emphasis");d=x.getModel("lineStyle").getLineStyle(),b=x.get("disabled"),p=x.get("focus"),y=x.get("blurScope")}c.useStyle(e.getItemVisual(o,"style")),c.style.fill=null,c.style.strokeNoScale=!0;var S=c.ensureState("emphasis");S.style=d,ri(this,p,y,b)},r.prototype.updateLayout=function(e,o){var l=this.childAt(0);l.setShape("points",e.getItemLayout(o))},r}(Ye),ej=tj,WZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return r.prototype.createLine=function(e,o,l){return new ej(e,o,l)},r.prototype._updateAnimationPoints=function(e,o){this._points=o;for(var l=[0],c=0,f=1;f<o.length;f++){var d=o[f-1],p=o[f];c+=wu(d,p),l.push(c)}if(c===0){this._length=0;return}for(var f=0;f<l.length;f++)l[f]/=c;this._offsets=l,this._length=c},r.prototype._getLineLength=function(){return this._length},r.prototype._updateSymbolPosition=function(e){var o=e.__t<1?e.__t:2-e.__t,l=this._points,c=this._offsets,f=l.length;if(c){var d=this._lastFrame,p;if(o<this._lastFramePercent){var y=Math.min(d+1,f-1);for(p=y;p>=0&&!(c[p]<=o);p--);p=Math.min(p,f-2)}else{for(p=d;p<f&&!(c[p]>o);p++);p=Math.min(p-1,f-2)}var b=(o-c[p])/(c[p+1]-c[p]),x=l[p],S=l[p+1];e.x=x[0]*(1-b)+b*S[0],e.y=x[1]*(1-b)+b*S[1];var T=e.__t<1?S[0]-x[0]:x[0]-S[0],A=e.__t<1?S[1]-x[1]:x[1]-S[1];e.rotation=-Math.atan2(A,T)-Math.PI/2,this._lastFrame=p,this._lastFramePercent=o,e.ignore=!1}},r}(qk),HZ=WZ,rj=function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n}(),nj=function(n){Ot(r,n);function r(e){var o=n.call(this,e)||this;return o._off=0,o.hoverDataIdx=-1,o}return r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.getDefaultStyle=function(){return{stroke:Rt.color.neutral99,fill:null}},r.prototype.getDefaultShape=function(){return new rj},r.prototype.buildPath=function(e,o){var l=o.segs,c=o.curveness,f;if(o.polyline)for(f=this._off;f<l.length;){var d=l[f++];if(d>0){e.moveTo(l[f++],l[f++]);for(var p=1;p<d;p++)e.lineTo(l[f++],l[f++])}}else for(f=this._off;f<l.length;){var y=l[f++],b=l[f++],x=l[f++],S=l[f++];if(e.moveTo(y,b),c>0){var T=(y+x)/2-(b-S)*c,A=(b+S)/2-(x-y)*c;e.quadraticCurveTo(T,A,x,S)}else e.lineTo(x,S)}this.incremental&&(this._off=f,this.notClear=!0)},r.prototype.findDataIndex=function(e,o){var l=this.shape,c=l.segs,f=l.curveness,d=this.style.lineWidth;if(l.polyline)for(var p=0,y=0;y<c.length;){var b=c[y++];if(b>0)for(var x=c[y++],S=c[y++],T=1;T<b;T++){var A=c[y++],E=c[y++];if(ws(x,S,A,E,d,e,o))return p}p++}else for(var p=0,y=0;y<c.length;){var x=c[y++],S=c[y++],A=c[y++],E=c[y++];if(f>0){var L=(x+A)/2-(S-E)*f,I=(S+E)/2-(A-x)*f;if(Vl(x,S,L,I,A,E,d,e,o))return p}else if(ws(x,S,A,E,d,e,o))return p;p++}return-1},r.prototype.contain=function(e,o){var l=this.transformCoordToLocal(e,o),c=this.getBoundingRect();if(e=l[0],o=l[1],c.contain(e,o)){var f=this.hoverDataIdx=this.findDataIndex(e,o);return f>=0}return this.hoverDataIdx=-1,!1},r.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var o=this.shape,l=o.segs,c=1/0,f=1/0,d=-1/0,p=-1/0,y=0;y<l.length;){var b=l[y++],x=l[y++];c=Math.min(b,c),d=Math.max(b,d),f=Math.min(x,f),p=Math.max(x,p)}e=this._rect=new Je(c,f,d,p)}return e},r}(Sr),ij=function(){function n(){this.group=new Ye}return n.prototype.updateData=function(r){this._clear();var e=this._create();e.setShape({segs:r.getLayout("linesPoints")}),this._setCommon(e,r)},n.prototype.incrementalPrepareUpdate=function(r){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(r,e){var o=this._newAdded[0],l=e.getLayout("linesPoints"),c=o&&o.shape.segs;if(c&&c.length<2e4){var f=c.length,d=new Float32Array(f+l.length);d.set(c),d.set(l,f),o.setShape({segs:d})}else{this._newAdded=[];var p=this._create();p.incremental=!0,p.setShape({segs:l}),this._setCommon(p,e),p.__startIndex=r.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},n.prototype._create=function(){var r=new nj({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(r),this.group.add(r),r},n.prototype._setCommon=function(r,e,o){var l=e.hostModel;r.setShape({polyline:l.get("polyline"),curveness:l.get(["lineStyle","curveness"])}),r.useStyle(l.getModel("lineStyle").getLineStyle()),r.style.strokeNoScale=!0;var c=e.getVisual("style");c&&c.stroke&&r.setStyle("stroke",c.stroke),r.setStyle("fill",null);var f=nr(r);f.seriesIndex=l.seriesIndex,r.on("mousemove",function(d){f.dataIndex=null;var p=r.hoverDataIdx;p>0&&(f.dataIndex=p+r.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),Zk=ij,YZ={seriesType:"lines",plan:ju(),reset:function(n){var r=n.coordinateSystem;if(r){var e=n.get("polyline"),o=n.pipelineContext.large;return{progress:function(l,c){var f=[];if(o){var d=void 0,p=l.end-l.start;if(e){for(var y=0,b=l.start;b<l.end;b++)y+=n.getLineCoordsCount(b);d=new Float32Array(p+y*2)}else d=new Float32Array(p*4);for(var x=0,S=[],b=l.start;b<l.end;b++){var T=n.getLineCoords(b,f);e&&(d[x++]=T);for(var A=0;A<T;A++)S=r.dataToPoint(f[A],!1,S),d[x++]=S[0],d[x++]=S[1]}c.setLayout("linesPoints",d)}else for(var b=l.start;b<l.end;b++){var E=c.getItemModel(b),T=n.getLineCoords(b,f),L=[];if(e)for(var I=0;I<T;I++)L.push(r.dataToPoint(f[I]));else{L[0]=r.dataToPoint(f[0]),L[1]=r.dataToPoint(f[1]);var N=E.get(["lineStyle","curveness"]);+N&&(L[2]=[(L[0][0]+L[1][0])/2-(L[0][1]-L[1][1])*N,(L[0][1]+L[1][1])/2-(L[1][0]-L[0][0])*N])}c.setItemLayout(b,L)}}}}}},aj=YZ,oj=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=e.getData(),f=this._updateLineDraw(c,e),d=e.get("zlevel"),p=e.get(["effect","trailLength"]),y=l.getZr(),b=y.painter.getType()==="svg";b||y.painter.getLayer(d).clear(!0),this._lastZlevel!=null&&!b&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&p>0&&(b||y.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})),f.updateData(c);var x=e.get("clip",!0)&&Kc(e.coordinateSystem,!1,e);x?this.group.setClipPath(x):this.group.removeClipPath(),this._lastZlevel=d,this._finished=!0},r.prototype.incrementalPrepareRender=function(e,o,l){var c=e.getData(),f=this._updateLineDraw(c,e);f.incrementalPrepareUpdate(c),this._clearLayer(l),this._finished=!1},r.prototype.incrementalRender=function(e,o,l){this._lineDraw.incrementalUpdate(e,o.getData()),this._finished=e.end===o.getData().count()},r.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},r.prototype.updateTransform=function(e,o,l){var c=e.getData(),f=e.pipelineContext;if(!this._finished||f.large||f.progressiveRender)return{update:!0};var d=aj.reset(e,o,l);d.progress&&d.progress({start:0,end:c.count(),count:c.count()},c),this._lineDraw.updateLayout(),this._clearLayer(l)},r.prototype._updateLineDraw=function(e,o){var l=this._lineDraw,c=this._showEffect(o),f=!!o.get("polyline"),d=o.pipelineContext,p=d.large;return(!l||c!==this._hasEffet||f!==this._isPolyline||p!==this._isLargeDraw)&&(l&&l.remove(),l=this._lineDraw=p?new Zk:new pl(f?c?HZ:ej:c?qk:ey),this._hasEffet=c,this._isPolyline=f,this._isLargeDraw=p),this.group.add(l.group),l},r.prototype._showEffect=function(e){return!!e.get(["effect","show"])},r.prototype._clearLayer=function(e){var o=e.getZr(),l=o.painter.getType()==="svg";!l&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},r.prototype.remove=function(e,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},r.prototype.dispose=function(e,o){this.remove(e,o)},r.type="lines",r}(Hn),UZ=oj,sj=typeof Uint32Array=="undefined"?Array:Uint32Array,ub=typeof Float64Array=="undefined"?Array:Float64Array;function lj(n){var r=n.data;r&&r[0]&&r[0][0]&&r[0][0].coord&&(n.data=Gt(r,function(e){var o=[e[0].coord,e[1].coord],l={coords:o};return e[0].name&&(l.fromName=e[0].name),e[1].name&&(l.toName=e[1].name),Ol([l,e[0],e[1]])}))}var XZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return r.prototype.init=function(e){e.data=e.data||[],lj(e);var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count)),n.prototype.init.apply(this,arguments)},r.prototype.mergeOption=function(e){if(lj(e),e.data){var o=this._processFlatCoordsArray(e.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(e.data=new Float32Array(o.count))}n.prototype.mergeOption.apply(this,arguments)},r.prototype.appendData=function(e){var o=this._processFlatCoordsArray(e.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=ha(this._flatCoords,o.flatCoords),this._flatCoordsOffset=ha(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),e.data=new Float32Array(o.count)),this.getRawData().appendData(e.data)},r.prototype._getCoordsFromItemModel=function(e){var o=this.getData().getItemModel(e),l=o.option instanceof Array?o.option:o.getShallow("coords");return l},r.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},r.prototype.getLineCoords=function(e,o){if(this._flatCoordsOffset){for(var l=this._flatCoordsOffset[e*2],c=this._flatCoordsOffset[e*2+1],f=0;f<c;f++)o[f]=o[f]||[],o[f][0]=this._flatCoords[l+f*2],o[f][1]=this._flatCoords[l+f*2+1];return c}else{for(var d=this._getCoordsFromItemModel(e),f=0;f<d.length;f++)o[f]=o[f]||[],o[f][0]=d[f][0],o[f][1]=d[f][1];return d.length}},r.prototype._processFlatCoordsArray=function(e){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),qe(e[0])){for(var l=e.length,c=new sj(l),f=new ub(l),d=0,p=0,y=0,b=0;b<l;){y++;var x=e[b++];c[p++]=d+o,c[p++]=x;for(var S=0;S<x;S++){var T=e[b++],A=e[b++];f[d++]=T,f[d++]=A,b>l}}return{flatCoordsOffset:new Uint32Array(c.buffer,0,p),flatCoords:f,count:y}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},r.prototype.getInitialData=function(e,o){if(0)var l;var c=new zo(["value"],this);return c.hasItemOption=!1,c.initData(e.data,[],function(f,d,p,y){if(f instanceof Array)return NaN;c.hasItemOption=!0;var b=f.value;if(b!=null)return b instanceof Array?b[y]:b}),c},r.prototype.formatTooltip=function(e,o,l){var c=this.getData(),f=c.getItemModel(e),d=f.get("name");if(d)return d;var p=f.get("fromName"),y=f.get("toName"),b=[];return p!=null&&b.push(p),y!=null&&b.push(y),Li("nameValue",{name:b.join(" > ")})},r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},r.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?1e4:this.get("progressive"):e},r.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?2e4:this.get("progressiveThreshold"):e},r.prototype.getZLevelKey=function(){var e=this.getModel("effect"),o=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&o>0?o+"":""},r.type="series.lines",r.dependencies=["grid","polar","geo","calendar"],r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},r}(ai),Kk=XZ;function fy(n){return n instanceof Array||(n=[n,n]),n}var Qk={seriesType:"lines",reset:function(n){var r=fy(n.get("symbol")),e=fy(n.get("symbolSize")),o=n.getData();o.setVisual("fromSymbol",r&&r[0]),o.setVisual("toSymbol",r&&r[1]),o.setVisual("fromSymbolSize",e&&e[0]),o.setVisual("toSymbolSize",e&&e[1]);function l(c,f){var d=c.getItemModel(f),p=fy(d.getShallow("symbol",!0)),y=fy(d.getShallow("symbolSize",!0));p[0]&&c.setItemVisual(f,"fromSymbol",p[0]),p[1]&&c.setItemVisual(f,"toSymbol",p[1]),y[0]&&c.setItemVisual(f,"fromSymbolSize",y[0]),y[1]&&c.setItemVisual(f,"toSymbolSize",y[1])}return{dataEach:o.hasItemOption?l:null}}},Jk=Qk;function uj(n){n.registerChartView(UZ),n.registerSeriesModel(Kk),n.registerLayout(aj),n.registerVisual(Jk)}var cj=256,$Z=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var r=zr.createCanvas();this.canvas=r}return n.prototype.update=function(r,e,o,l,c,f){var d=this._getBrush(),p=this._getGradient(c,"inRange"),y=this._getGradient(c,"outOfRange"),b=this.pointSize+this.blurSize,x=this.canvas,S=x.getContext("2d"),T=r.length;x.width=e,x.height=o;for(var A=0;A<T;++A){var E=r[A],L=E[0],I=E[1],N=E[2],F=l(N);S.globalAlpha=F,S.drawImage(d,L-b,I-b)}if(!x.width||!x.height)return x;for(var W=S.getImageData(0,0,x.width,x.height),X=W.data,$=0,K=X.length,et=this.minOpacity,at=this.maxOpacity,ot=at-et;$<K;){var F=X[$+3]/256,ht=Math.floor(F*(cj-1))*4;if(F>0){var yt=f(F)?p:y;F>0&&(F=F*ot+et),X[$++]=yt[ht],X[$++]=yt[ht+1],X[$++]=yt[ht+2],X[$++]=yt[ht+3]*F*256}else $+=4}return S.putImageData(W,0,0),x},n.prototype._getBrush=function(){var r=this._brushCanvas||(this._brushCanvas=zr.createCanvas()),e=this.pointSize+this.blurSize,o=e*2;r.width=o,r.height=o;var l=r.getContext("2d");return l.clearRect(0,0,o,o),l.shadowOffsetX=o,l.shadowBlur=this.blurSize,l.shadowColor=Rt.color.neutral99,l.beginPath(),l.arc(-e,e,this.pointSize,0,Math.PI*2,!0),l.closePath(),l.fill(),r},n.prototype._getGradient=function(r,e){for(var o=this._gradientPixels,l=o[e]||(o[e]=new Uint8ClampedArray(256*4)),c=[0,0,0,0],f=0,d=0;d<256;d++)r[e](d/255,!0,c),l[f++]=c[0],l[f++]=c[1],l[f++]=c[2],l[f++]=c[3];return l},n}(),Q2=$Z;function qZ(n,r,e){var o=n[1]-n[0];r=Gt(r,function(f){return{interval:[(f.interval[0]-n[0])/o,(f.interval[1]-n[0])/o]}});var l=r.length,c=0;return function(f){var d;for(d=c;d<l;d++){var p=r[d].interval;if(p[0]<=f&&f<=p[1]){c=d;break}}if(d===l)for(d=c-1;d>=0;d--){var p=r[d].interval;if(p[0]<=f&&f<=p[1]){c=d;break}}return d>=0&&d<l&&e[d]}}function ZZ(n,r){var e=n[1]-n[0];return r=[(r[0]-n[0])/e,(r[1]-n[0])/e],function(o){return o>=r[0]&&o<=r[1]}}function tL(n){var r=n.dimensions;return r[0]==="lng"&&r[1]==="lat"}var fj=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c;o.eachComponent("visualMap",function(d){d.eachTargetSeries(function(p){p===e&&(c=d)})}),this._progressiveEls=null,this.group.removeAll();var f=e.coordinateSystem;f.type==="cartesian2d"||f.type==="calendar"||f.type==="matrix"?this._renderOnGridLike(e,l,0,e.getData().count()):tL(f)&&this._renderOnGeo(f,e,c,l)},r.prototype.incrementalPrepareRender=function(e,o,l){this.group.removeAll()},r.prototype.incrementalRender=function(e,o,l,c){var f=o.coordinateSystem;f&&(tL(f)?this.render(o,l,c):(this._progressiveEls=[],this._renderOnGridLike(o,c,e.start,e.end,!0)))},r.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},r.prototype._renderOnGridLike=function(e,o,l,c,f){var d=e.coordinateSystem,p=Qu(d,"cartesian2d"),y=Qu(d,"matrix"),b,x,S,T;if(p){var A=d.getAxis("x"),E=d.getAxis("y");b=A.getBandWidth()+.5,x=E.getBandWidth()+.5,S=A.scale.getExtent(),T=E.scale.getExtent()}for(var L=this.group,I=e.getData(),N=e.getModel(["emphasis","itemStyle"]).getItemStyle(),F=e.getModel(["blur","itemStyle"]).getItemStyle(),W=e.getModel(["select","itemStyle"]).getItemStyle(),X=e.get(["itemStyle","borderRadius"]),$=ga(e),K=e.getModel("emphasis"),et=K.get("focus"),at=K.get("blurScope"),ot=K.get("disabled"),ht=p||y?[I.mapDimension("x"),I.mapDimension("y"),I.mapDimension("value")]:[I.mapDimension("time"),I.mapDimension("value")],yt=l;yt<c;yt++){var vt=void 0,bt=I.getItemVisual(yt,"style");if(p){var Mt=I.get(ht[0],yt),St=I.get(ht[1],yt);if(isNaN(I.get(ht[2],yt))||isNaN(Mt)||isNaN(St)||Mt<S[0]||Mt>S[1]||St<T[0]||St>T[1])continue;var Pt=d.dataToPoint([Mt,St]);vt=new kr({shape:{x:Pt[0]-b/2,y:Pt[1]-x/2,width:b,height:x},style:bt})}else if(y){var Et=d.dataToLayout([I.get(ht[0],yt),I.get(ht[1],yt)]).rect;if(Pi(Et.x))continue;vt=new kr({z2:1,shape:Et,style:bt})}else{if(isNaN(I.get(ht[1],yt)))continue;var Lt=d.dataToLayout([I.get(ht[0],yt)]),Et=Lt.contentRect||Lt.rect;if(Pi(Et.x)||Pi(Et.y))continue;vt=new kr({z2:1,shape:Et,style:bt})}if(I.hasItemOption){var zt=I.getItemModel(yt),Ht=zt.getModel("emphasis");N=Ht.getModel("itemStyle").getItemStyle(),F=zt.getModel(["blur","itemStyle"]).getItemStyle(),W=zt.getModel(["select","itemStyle"]).getItemStyle(),X=zt.get(["itemStyle","borderRadius"]),et=Ht.get("focus"),at=Ht.get("blurScope"),ot=Ht.get("disabled"),$=ga(zt)}vt.shape.r=X;var qt=e.getRawValue(yt),ne="-";qt&&qt[2]!=null&&(ne=qt[2]+""),Da(vt,$,{labelFetcher:e,labelDataIndex:yt,defaultOpacity:bt.opacity,defaultText:ne}),vt.ensureState("emphasis").style=N,vt.ensureState("blur").style=F,vt.ensureState("select").style=W,ri(vt,et,at,ot),vt.incremental=f,f&&(vt.states.emphasis.hoverLayer=!0),L.add(vt),I.setItemGraphicEl(yt,vt),this._progressiveEls&&this._progressiveEls.push(vt)}},r.prototype._renderOnGeo=function(e,o,l,c){var f=l.targetVisuals.inRange,d=l.targetVisuals.outOfRange,p=o.getData(),y=this._hmLayer||this._hmLayer||new Q2;y.blurSize=o.get("blurSize"),y.pointSize=o.get("pointSize"),y.minOpacity=o.get("minOpacity"),y.maxOpacity=o.get("maxOpacity");var b=e.getViewRect().clone(),x=e.getRoamTransform();b.applyTransform(x);var S=Math.max(b.x,0),T=Math.max(b.y,0),A=Math.min(b.width+b.x,c.getWidth()),E=Math.min(b.height+b.y,c.getHeight()),L=A-S,I=E-T,N=[p.mapDimension("lng"),p.mapDimension("lat"),p.mapDimension("value")],F=p.mapArray(N,function(K,et,at){var ot=e.dataToPoint([K,et]);return ot[0]-=S,ot[1]-=T,ot.push(at),ot}),W=l.getExtent(),X=l.type==="visualMap.continuous"?ZZ(W,l.option.range):qZ(W,l.getPieceList(),l.option.selected);y.update(F,L,I,f.color.getNormalizer(),{inRange:f.color.getColorMapper(),outOfRange:d.color.getColorMapper()},X);var $=new ka({style:{width:L,height:I,x:S,y:T,image:y.canvas},silent:!0});this.group.add($)},r.type="heatmap",r}(Hn),eL=fj,KZ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getInitialData=function(e,o){return iu(null,this,{generateCoord:"value"})},r.prototype.preventIncremental=function(){var e=Y0.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},r.type="series.heatmap",r.dependencies=["grid","geo","calendar","matrix"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:Rt.color.primary}}},r}(ai),QZ=KZ;function JZ(n){n.registerChartView(eL),n.registerSeriesModel(QZ)}var tK=["itemStyle","borderWidth"],hj=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],rL=new nh,eK=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=this.group,f=e.getData(),d=this._data,p=e.coordinateSystem,y=p.getBaseAxis(),b=y.isHorizontal(),x=p.master.getRect(),S={ecSize:{width:l.getWidth(),height:l.getHeight()},seriesModel:e,coordSys:p,coordSysExtent:[[x.x,x.x+x.width],[x.y,x.y+x.height]],isHorizontal:b,valueDim:hj[+b],categoryDim:hj[1-+b]};f.diff(d).add(function(A){if(f.hasValue(A)){var E=oL(f,A),L=dj(f,A,E,S),I=mj(f,S,L);f.setItemGraphicEl(A,I),c.add(I),dy(I,S,L)}}).update(function(A,E){var L=d.getItemGraphicEl(E);if(!f.hasValue(A)){c.remove(L);return}var I=oL(f,A),N=dj(f,A,I,S),F=_j(f,N);L&&F!==L.__pictorialShapeStr&&(c.remove(L),f.setItemGraphicEl(A,null),L=null),L?oK(L,S,N):L=mj(f,S,N,!0),f.setItemGraphicEl(A,L),L.__pictorialSymbolMeta=N,c.add(L),dy(L,S,N)}).remove(function(A){var E=d.getItemGraphicEl(A);E&&bj(d,A,E.__pictorialSymbolMeta.animationModel,E)}).execute();var T=e.get("clip",!0)?Kc(e.coordinateSystem,!1,e):null;return T?c.setClipPath(T):c.removeClipPath(),this._data=f,this.group},r.prototype.remove=function(e,o){var l=this.group,c=this._data;e.get("animation")?c&&c.eachItemGraphicEl(function(f){bj(c,nr(f).dataIndex,e,f)}):l.removeAll()},r.type="pictorialBar",r}(Hn);function dj(n,r,e,o){var l=n.getItemLayout(r),c=e.get("symbolRepeat"),f=e.get("symbolClip"),d=e.get("symbolPosition")||"start",p=e.get("symbolRotate"),y=(p||0)*Math.PI/180||0,b=e.get("symbolPatternSize")||2,x=e.isAnimationEnabled(),S={dataIndex:r,layout:l,itemModel:e,symbolType:n.getItemVisual(r,"symbol")||"circle",style:n.getItemVisual(r,"style"),symbolClip:f,symbolRepeat:c,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:b,rotation:y,animationModel:x?e:null,hoverScale:x&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};rK(e,c,l,o,S),vj(n,r,l,c,f,S.boundingLength,S.pxSign,b,o,S),nK(e,S.symbolScale,y,o,S);var T=S.symbolSize,A=dh(e.get("symbolOffset"),T);return iK(e,T,l,c,f,A,d,S.valueLineWidth,S.boundingLength,S.repeatCutLength,o,S),S}function rK(n,r,e,o,l){var c=o.valueDim,f=n.get("symbolBoundingData"),d=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),p=d.toGlobalCoord(d.dataToCoord(0)),y=1-+(e[c.wh]<=0),b;if(Ut(f)){var x=[nL(d,f[0])-p,nL(d,f[1])-p];x[1]<x[0]&&x.reverse(),b=x[y]}else f!=null?b=nL(d,f)-p:r?b=o.coordSysExtent[c.index][y]-p:b=e[c.wh];l.boundingLength=b,r&&(l.repeatCutLength=e[c.wh]);var S=c.xy==="x",T=d.inverse;l.pxSign=S&&!T||!S&&T?b>=0?1:-1:b>0?1:-1}function nL(n,r){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(r)))}function vj(n,r,e,o,l,c,f,d,p,y){var b=p.valueDim,x=p.categoryDim,S=Math.abs(e[x.wh]),T=n.getItemVisual(r,"symbolSize"),A;Ut(T)?A=T.slice():T==null?A=["100%","100%"]:A=[T,T],A[x.index]=de(A[x.index],S),A[b.index]=de(A[b.index],o?S:Math.abs(c)),y.symbolSize=A;var E=y.symbolScale=[A[0]/d,A[1]/d];E[b.index]*=(p.isHorizontal?-1:1)*f}function nK(n,r,e,o,l){var c=n.get(tK)||0;c&&(rL.attr({scaleX:r[0],scaleY:r[1],rotation:e}),rL.updateTransform(),c/=rL.getLineScale(),c*=r[o.valueDim.index]),l.valueLineWidth=c||0}function iK(n,r,e,o,l,c,f,d,p,y,b,x){var S=b.categoryDim,T=b.valueDim,A=x.pxSign,E=Math.max(r[T.index]+d,0),L=E;if(o){var I=Math.abs(p),N=mn(n.get("symbolMargin"),"15%")+"",F=!1;N.lastIndexOf("!")===N.length-1&&(F=!0,N=N.slice(0,N.length-1));var W=de(N,r[T.index]),X=Math.max(E+W*2,0),$=F?0:W*2,K=h0(o),et=K?o:lL((I+$)/X),at=I-et*E;W=at/2/(F?et:Math.max(et-1,1)),X=E+W*2,$=F?0:W*2,!K&&o!=="fixed"&&(et=y?lL((Math.abs(y)+$)/X):0),L=et*X-$,x.repeatTimes=et,x.symbolMargin=W}var ot=A*(L/2),ht=x.pathPosition=[];ht[S.index]=e[S.wh]/2,ht[T.index]=f==="start"?ot:f==="end"?p-ot:p/2,c&&(ht[0]+=c[0],ht[1]+=c[1]);var yt=x.bundlePosition=[];yt[S.index]=e[S.xy],yt[T.index]=e[T.xy];var vt=x.barRectShape=Wt({},e);vt[T.wh]=A*Math.max(Math.abs(e[T.wh]),Math.abs(ht[T.index]+ot)),vt[S.wh]=e[S.wh];var bt=x.clipShape={};bt[S.xy]=-e[S.xy],bt[S.wh]=b.ecSize[S.wh],bt[T.xy]=0,bt[T.wh]=e[T.wh]}function pj(n){var r=n.symbolPatternSize,e=ia(n.symbolType,-r/2,-r/2,r,r);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function gj(n,r,e,o){var l=n.__pictorialBundle,c=e.symbolSize,f=e.valueLineWidth,d=e.pathPosition,p=r.valueDim,y=e.repeatTimes||0,b=0,x=c[r.valueDim.index]+f+e.symbolMargin*2;for(sL(n,function(E){E.__pictorialAnimationIndex=b,E.__pictorialRepeatTimes=y,b<y?hy(E,null,A(b),e,o):hy(E,null,{scaleX:0,scaleY:0},e,o,function(){l.remove(E)}),b++});b<y;b++){var S=pj(e);S.__pictorialAnimationIndex=b,S.__pictorialRepeatTimes=y,l.add(S);var T=A(b);hy(S,{x:T.x,y:T.y,scaleX:0,scaleY:0},{scaleX:T.scaleX,scaleY:T.scaleY,rotation:T.rotation},e,o)}function A(E){var L=d.slice(),I=e.pxSign,N=E;return(e.symbolRepeatDirection==="start"?I>0:I<0)&&(N=y-1-E),L[p.index]=x*(N-y/2+.5)+d[p.index],{x:L[0],y:L[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function iL(n,r,e,o){var l=n.__pictorialBundle,c=n.__pictorialMainPath;c?hy(c,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,o):(c=n.__pictorialMainPath=pj(e),l.add(c),hy(c,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,o))}function uf(n,r,e){var o=Wt({},r.barRectShape),l=n.__pictorialBarRect;l?hy(l,null,{shape:o},r,e):(l=n.__pictorialBarRect=new kr({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),l.disableMorphing=!0,n.add(l))}function aL(n,r,e,o){if(e.symbolClip){var l=n.__pictorialClipPath,c=Wt({},e.clipShape),f=r.valueDim,d=e.animationModel,p=e.dataIndex;if(l)Qr(l,{shape:c},d,p);else{c[f.wh]=0,l=new kr({shape:c}),n.__pictorialBundle.setClipPath(l),n.__pictorialClipPath=l;var y={};y[f.wh]=e.clipShape[f.wh],me[o?"updateProps":"initProps"](l,{shape:y},d,p)}}}function oL(n,r){var e=n.getItemModel(r);return e.getAnimationDelayParams=yj,e.isAnimationEnabled=aK,e}function yj(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function aK(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function mj(n,r,e,o){var l=new Ye,c=new Ye;return l.add(c),l.__pictorialBundle=c,c.x=e.bundlePosition[0],c.y=e.bundlePosition[1],e.symbolRepeat?gj(l,r,e):iL(l,r,e),uf(l,e,o),aL(l,r,e,o),l.__pictorialShapeStr=_j(n,e),l.__pictorialSymbolMeta=e,l}function oK(n,r,e){var o=e.animationModel,l=e.dataIndex,c=n.__pictorialBundle;Qr(c,{x:e.bundlePosition[0],y:e.bundlePosition[1]},o,l),e.symbolRepeat?gj(n,r,e,!0):iL(n,r,e,!0),uf(n,e,!0),aL(n,r,e,!0)}function bj(n,r,e,o){var l=o.__pictorialBarRect;l&&l.removeTextContent();var c=[];sL(o,function(f){c.push(f)}),o.__pictorialMainPath&&c.push(o.__pictorialMainPath),o.__pictorialClipPath&&(e=null),it(c,function(f){Vn(f,{scaleX:0,scaleY:0},e,r,function(){o.parent&&o.parent.remove(o)})}),n.setItemGraphicEl(r,null)}function _j(n,r){return[n.getItemVisual(r.dataIndex,"symbol")||"none",!!r.symbolRepeat,!!r.symbolClip].join(":")}function sL(n,r,e){it(n.__pictorialBundle.children(),function(o){o!==n.__pictorialBarRect&&r.call(e,o)})}function hy(n,r,e,o,l,c){r&&n.attr(r),o.symbolClip&&!l?e&&n.attr(e):e&&me[l?"updateProps":"initProps"](n,e,o.animationModel,o.dataIndex,c)}function dy(n,r,e){var o=e.dataIndex,l=e.itemModel,c=l.getModel("emphasis"),f=c.getModel("itemStyle").getItemStyle(),d=l.getModel(["blur","itemStyle"]).getItemStyle(),p=l.getModel(["select","itemStyle"]).getItemStyle(),y=l.getShallow("cursor"),b=c.get("focus"),x=c.get("blurScope"),S=c.get("scale");sL(n,function(E){if(E instanceof ka){var L=E.style;E.useStyle(Wt({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},e.style))}else E.useStyle(e.style);var I=E.ensureState("emphasis");I.style=f,S&&(I.scaleX=E.scaleX*1.1,I.scaleY=E.scaleY*1.1),E.ensureState("blur").style=d,E.ensureState("select").style=p,y&&(E.cursor=y),E.z2=e.z2});var T=r.valueDim.posDesc[+(e.boundingLength>0)],A=n.__pictorialBarRect;A.ignoreClip=!0,Da(A,ga(l),{labelFetcher:r.seriesModel,labelDataIndex:o,defaultText:xh(r.seriesModel.getData(),o),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:T}),ri(n,b,x,c.get("disabled"))}function lL(n){var r=Math.round(n);return Math.abs(n-r)<1e-4?r:Math.ceil(n)}var xj=eK,sK=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return r.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},r.type="series.pictorialBar",r.dependencies=["grid"],r.defaultOption=Jf(e1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:Rt.color.primary}}}),r}(e1),wj=sK;function lK(n){n.registerChartView(xj),n.registerSeriesModel(wj),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,hr(j4,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,V4("pictorialBar"))}var Sj=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._layers=[],e}return r.prototype.render=function(e,o,l){var c=e.getData(),f=this,d=this.group,p=e.getLayerSeries(),y=c.getLayout("layoutInfo"),b=y.rect,x=y.boundaryGap;d.x=0,d.y=b.y+x[0];function S(L){return L.name}var T=new qu(this._layersSeries||[],p,S,S),A=[];T.add(ue(E,this,"add")).update(ue(E,this,"update")).remove(ue(E,this,"remove")).execute();function E(L,I,N){var F=f._layers;if(L==="remove"){d.remove(F[I]);return}for(var W=[],X=[],$,K=p[I].indices,et=0;et<K.length;et++){var at=c.getItemLayout(K[et]),ot=at.x,ht=at.y0,yt=at.y;W.push(ot,ht),X.push(ot,ht+yt),$=c.getItemVisual(K[et],"style")}var vt,bt=c.getItemLayout(K[0]),Mt=e.getModel("label"),St=Mt.get("margin"),Pt=e.getModel("emphasis");if(L==="add"){var Et=A[I]=new Ye;vt=new eU({shape:{points:W,stackedOnPoints:X,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Et.add(vt),d.add(Et),e.isAnimationEnabled()&&vt.setClipPath(uK(vt.getBoundingRect(),e,function(){vt.removeClipPath()}))}else{var Et=F[N];vt=Et.childAt(0),d.add(Et),A[I]=Et,Qr(vt,{shape:{points:W,stackedOnPoints:X}},e),Ha(vt)}Da(vt,ga(e),{labelDataIndex:K[et-1],defaultText:c.getName(K[et-1]),inheritColor:$.fill},{normal:{verticalAlign:"middle"}}),vt.setTextConfig({position:null,local:!0});var Lt=vt.getTextContent();Lt&&(Lt.x=bt.x-St,Lt.y=bt.y0+bt.y/2),vt.useStyle($),c.setItemGraphicEl(I,vt),pa(vt,e),ri(vt,Pt.get("focus"),Pt.get("blurScope"),Pt.get("disabled"))}this._layersSeries=p,this._layers=A},r.type="themeRiver",r}(Hn);function uK(n,r,e){var o=new kr({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return ni(o,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},r,e),o}var xnt=Sj,cb=2,cK=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new kg(ue(this.getData,this),ue(this.getRawData,this))},r.prototype.fixData=function(e){var o=e.length,l={},c=jR(e,function(S){return l.hasOwnProperty(S[0]+"")||(l[S[0]+""]=-1),S[2]}),f=[];c.buckets.each(function(S,T){f.push({name:T,dataList:S})});for(var d=f.length,p=0;p<d;++p){for(var y=f[p].name,b=0;b<f[p].dataList.length;++b){var x=f[p].dataList[b][0]+"";l[x]=p}for(var x in l)l.hasOwnProperty(x)&&l[x]!==p&&(l[x]=p,e[o]=[x,0,y],o++)}return e},r.prototype.getInitialData=function(e,o){for(var l=this.getReferringComponents("singleAxis",bi).models[0],c=l.get("type"),f=Zr(e.data,function(A){return A[2]!==void 0}),d=this.fixData(f||[]),p=[],y=this.nameMap=ve(),b=0,x=0;x<d.length;++x)p.push(d[x][cb]),y.get(d[x][cb])||(y.set(d[x][cb],b),b++);var S=bv(d,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:gS(c)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,T=new zo(S,this);return T.initData(d),T},r.prototype.getLayerSeries=function(){for(var e=this.getData(),o=e.count(),l=[],c=0;c<o;++c)l[c]=c;var f=e.mapDimension("single"),d=jR(l,function(y){return e.get("name",y)}),p=[];return d.buckets.each(function(y,b){y.sort(function(x,S){return e.get(f,x)-e.get(f,S)}),p.push({name:b,indices:y})}),p},r.prototype.getAxisTooltipData=function(e,o,l){Ut(e)||(e=e?[e]:[]);for(var c=this.getData(),f=this.getLayerSeries(),d=[],p=f.length,y,b=0;b<p;++b){for(var x=Number.MAX_VALUE,S=-1,T=f[b].indices.length,A=0;A<T;++A){var E=c.get(e[0],f[b].indices[A]),L=Math.abs(E-o);L<=x&&(y=E,x=L,S=f[b].indices[A])}d.push(S)}return{dataIndices:d,nestestValue:y}},r.prototype.formatTooltip=function(e,o,l){var c=this.getData(),f=c.getName(e),d=c.get(c.mapDimension("value"),e);return Li("nameValue",{name:f,value:d})},r.type="series.themeRiver",r.dependencies=["singleAxis"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},r}(ai),fK=cK;function hK(n,r){n.eachSeriesByType("themeRiver",function(e){var o=e.getData(),l=e.coordinateSystem,c={},f=l.getRect();c.rect=f;var d=e.get("boundaryGap"),p=l.getAxis();if(c.boundaryGap=d,p.orient==="horizontal"){d[0]=de(d[0],f.height),d[1]=de(d[1],f.height);var y=f.height-d[0]-d[1];fb(o,e,y)}else{d[0]=de(d[0],f.width),d[1]=de(d[1],f.width);var b=f.width-d[0]-d[1];fb(o,e,b)}o.setLayout("layoutInfo",c)})}function fb(n,r,e){if(n.count())for(var o=r.coordinateSystem,l=r.getLayerSeries(),c=n.mapDimension("single"),f=n.mapDimension("value"),d=Gt(l,function(L){return Gt(L.indices,function(I){var N=o.dataToPoint(n.get(c,I));return N[1]=n.get(f,I),N})}),p=dK(d),y=p.y0,b=e/p.max,x=l.length,S=l[0].indices.length,T,A=0;A<S;++A){T=y[A]*b,n.setItemLayout(l[0].indices[A],{layerIndex:0,x:d[0][A][0],y0:T,y:d[0][A][1]*b});for(var E=1;E<x;++E)T+=d[E-1][A][1]*b,n.setItemLayout(l[E].indices[A],{layerIndex:E,x:d[E][A][0],y0:T,y:d[E][A][1]*b})}}function dK(n){for(var r=n.length,e=n[0].length,o=[],l=[],c=0,f=0;f<e;++f){for(var d=0,p=0;p<r;++p)d+=n[p][f][1];d>c&&(c=d),o.push(d)}for(var y=0;y<e;++y)l[y]=(c-o[y])/2;c=0;for(var b=0;b<e;++b){var x=o[b]+l[b];x>c&&(c=x)}return{y0:l,max:c}}function hb(n){n.registerChartView(xnt),n.registerSeriesModel(fK),n.registerLayout(hK),n.registerProcessor(Pg("themeRiver"))}var wnt=2,vK=4,pK=function(n){Ot(r,n);function r(e,o,l,c){var f=n.call(this)||this;f.z2=wnt,f.textConfig={inside:!0},nr(f).seriesIndex=o.seriesIndex;var d=new Hr({z2:vK,silent:e.getModel().get(["label","silent"])});return f.setTextContent(d),f.updateData(!0,e,o,l,c),f}return r.prototype.updateData=function(e,o,l,c,f){this.node=o,o.piece=this,l=l||this._seriesModel,c=c||this._ecModel;var d=this;nr(d).dataIndex=o.dataIndex;var p=o.getModel(),y=p.getModel("emphasis"),b=o.getLayout(),x=Wt({},b);x.label=null;var S=o.getVisual("style");S.lineJoin="bevel";var T=o.getVisual("decal");T&&(S.decal=dv(T,f));var A=Ns(p.getModel("itemStyle"),x,!0);Wt(x,A),it(Ro,function(N){var F=d.ensureState(N),W=p.getModel([N,"itemStyle"]);F.style=W.getItemStyle();var X=Ns(W,x);X&&(F.shape=X)}),e?(d.setShape(x),d.shape.r=b.r0,ni(d,{shape:{r:b.r}},l,o.dataIndex)):(Qr(d,{shape:x},l),Ha(d)),d.useStyle(S),this._updateLabel(l);var E=p.getShallow("cursor");E&&d.attr("cursor",E),this._seriesModel=l||this._seriesModel,this._ecModel=c||this._ecModel;var L=y.get("focus"),I=L==="relative"?ha(o.getAncestorsIndices(),o.getDescendantIndices()):L==="ancestor"?o.getAncestorsIndices():L==="descendant"?o.getDescendantIndices():L;ri(this,I,y.get("blurScope"),y.get("disabled"))},r.prototype._updateLabel=function(e){var o=this,l=this.node.getModel(),c=l.getModel("label"),f=this.node.getLayout(),d=f.endAngle-f.startAngle,p=(f.startAngle+f.endAngle)/2,y=Math.cos(p),b=Math.sin(p),x=this,S=x.getTextContent(),T=this.node.dataIndex,A=c.get("minAngle")/180*Math.PI,E=c.get("show")&&!(A!=null&&Math.abs(d)<A);S.ignore=!E,it(P0,function(I){var N=I==="normal"?l.getModel("label"):l.getModel([I,"label"]),F=I==="normal",W=F?S:S.ensureState(I),X=e.getFormattedLabel(T,I);F&&(X=X||o.node.name),W.style=Gn(N,{},null,I!=="normal",!0),X&&(W.style.text=X);var $=N.get("show");$!=null&&!F&&(W.ignore=!$);var K=L(N,"position"),et=F?x:x.states[I],at=et.style.fill;et.textConfig={outsideFill:N.get("color")==="inherit"?at:null,inside:K!=="outside"};var ot,ht=L(N,"distance")||0,yt=L(N,"align"),vt=L(N,"rotate"),bt=Math.PI*.5,Mt=Math.PI*1.5,St=Ss(vt==="tangential"?Math.PI/2-p:p),Pt=St>bt&&!f0(St-bt)&&St<Mt;K==="outside"?(ot=f.r+ht,yt=Pt?"right":"left"):!yt||yt==="center"?(d===2*Math.PI&&f.r0===0?ot=0:ot=(f.r+f.r0)/2,yt="center"):yt==="left"?(ot=f.r0+ht,yt=Pt?"right":"left"):yt==="right"&&(ot=f.r-ht,yt=Pt?"left":"right"),W.style.align=yt,W.style.verticalAlign=L(N,"verticalAlign")||"middle",W.x=ot*y+f.cx,W.y=ot*b+f.cy;var Et=0;vt==="radial"?Et=Ss(-p)+(Pt?Math.PI:0):vt==="tangential"?Et=Ss(Math.PI/2-p)+(Pt?Math.PI:0):qe(vt)&&(Et=vt*Math.PI/180),W.rotation=Ss(Et)});function L(I,N){var F=I.get(N);return F==null?c.get(N):F}S.dirtyStyle()},r}(uo),Mj=pK,db="sunburstRootToNode",vy="sunburstHighlight",gK="sunburstUnhighlight";function J2(n){n.registerAction({type:db,update:"updateView"},function(r,e){e.eachComponent({mainType:"series",subType:"sunburst",query:r},o);function o(l,c){var f=W1(r,[db],l);if(f){var d=l.getViewRoot();d&&(r.direction=GE(d,f.node)?"rollUp":"drillDown"),l.resetViewRoot(f.node)}}}),n.registerAction({type:vy,update:"none"},function(r,e,o){r=Wt({},r),e.eachComponent({mainType:"series",subType:"sunburst",query:r},l);function l(c){var f=W1(r,[vy],c);f&&(r.dataIndex=f.node.dataIndex)}o.dispatchAction(Wt(r,{type:"highlight"}))}),n.registerAction({type:gK,update:"updateView"},function(r,e,o){r=Wt({},r),o.dispatchAction(Wt(r,{type:"downplay"}))})}var Snt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l,c){var f=this;this.seriesModel=e,this.api=l,this.ecModel=o;var d=e.getData(),p=d.tree.root,y=e.getViewRoot(),b=this.group,x=e.get("renderLabelForZeroData"),S=[];y.eachNode(function(N){S.push(N)});var T=this._oldChildren||[];A(S,T),I(p,y),this._initEvents(),this._oldChildren=S;function A(N,F){if(N.length===0&&F.length===0)return;new qu(F,N,W,W).add(X).update(X).remove(hr(X,null)).execute();function W($){return $.getId()}function X($,K){var et=$==null?null:N[$],at=K==null?null:F[K];E(et,at)}}function E(N,F){if(!x&&N&&!N.getValue()&&(N=null),N!==p&&F!==p){if(F&&F.piece)N?(F.piece.updateData(!1,N,e,o,l),d.setItemGraphicEl(N.dataIndex,F.piece)):L(F);else if(N){var W=new Mj(N,e,o,l);b.add(W),d.setItemGraphicEl(N.dataIndex,W)}}}function L(N){N&&N.piece&&(b.remove(N.piece),N.piece=null)}function I(N,F){F.depth>0?(f.virtualPiece?f.virtualPiece.updateData(!1,N,e,o,l):(f.virtualPiece=new Mj(N,e,o,l),b.add(f.virtualPiece)),F.piece.off("click"),f.virtualPiece.on("click",function(W){f._rootToNode(F.parentNode)})):f.virtualPiece&&(b.remove(f.virtualPiece),f.virtualPiece=null)}},r.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(o){var l=!1,c=e.seriesModel.getViewRoot();c.eachNode(function(f){if(!l&&f.piece&&f.piece===o.target){var d=f.getModel().get("nodeClick");if(d==="rootToNode")e._rootToNode(f);else if(d==="link"){var p=f.getModel(),y=p.get("link");if(y){var b=p.get("target",!0)||"_blank";Mx(y,b)}}l=!0}})})},r.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:db,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},r.prototype.containPoint=function(e,o){var l=o.getData(),c=l.getItemLayout(0);if(c){var f=e[0]-c.cx,d=e[1]-c.cy,p=Math.sqrt(f*f+d*d);return p<=c.r&&p>=c.r0}},r.type="sunburst",r}(Hn),yK=Snt,uL=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.ignoreStyleOnData=!0,e}return r.prototype.getInitialData=function(e,o){var l={name:e.name,children:e.data};Tj(l);var c=this._levelModels=Gt(e.levels||[],function(p){return new an(p,this,o)},this),f=Pn.createTree(l,this,d);function d(p){p.wrapMethod("getItemModel",function(y,b){var x=f.getNodeByDataIndex(b),S=c[x.depth];return S&&(y.parentModel=S),y})}return f.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.getDataParams=function(e){var o=n.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(e);return o.treePathInfo=fa(l,this),o},r.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var o=this.getRawData().tree.root;(!e||e!==o&&!o.contains(e))&&(this._viewRoot=o)},r.prototype.enableAriaDecal=function(){Ur(this)},r.type="series.sunburst",r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},r}(ai);function Tj(n){var r=0;it(n.children,function(o){Tj(o);var l=o.value;Ut(l)&&(l=l[0]),r+=l});var e=n.value;Ut(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=r),e<0&&(e=0),Ut(n.value)?n.value[0]=e:n.value=e}var yl=uL,Oj=Math.PI/180;function $h(n,r,e){r.eachSeriesByType(n,function(o){var l=o.get("center"),c=o.get("radius");Ut(c)||(c=[0,c]),Ut(l)||(l=[l,l]);var f=e.getWidth(),d=e.getHeight(),p=Math.min(f,d),y=de(l[0],f),b=de(l[1],d),x=de(c[0],p/2),S=de(c[1],p/2),T=-o.get("startAngle")*Oj,A=o.get("minAngle")*Oj,E=o.getData().tree.root,L=o.getViewRoot(),I=L.depth,N=o.get("sort");N!=null&&Aj(L,N);var F=0;it(L.children,function(St){!isNaN(St.getValue())&&F++});var W=L.getValue(),X=Math.PI/(W||F)*2,$=L.depth>0,K=L.height-($?-1:1),et=(S-x)/(K||1),at=o.get("clockwise"),ot=o.get("stillShowZeroSum"),ht=at?1:-1,yt=function(St,Pt){if(St){var Et=Pt;if(St!==E){var Lt=St.getValue(),zt=W===0&&ot?X:Lt*X;zt<A&&(zt=A),Et=Pt+ht*zt;var Ht=St.depth-I-($?-1:1),qt=x+et*Ht,ne=x+et*(Ht+1),Ce=o.getLevelModel(St);if(Ce){var Qe=Ce.get("r0",!0),jr=Ce.get("r",!0),wn=Ce.get("radius",!0);wn!=null&&(Qe=wn[0],jr=wn[1]),Qe!=null&&(qt=de(Qe,p/2)),jr!=null&&(ne=de(jr,p/2))}St.setLayout({angle:zt,startAngle:Pt,endAngle:Et,clockwise:at,cx:y,cy:b,r0:qt,r:ne})}if(St.children&&St.children.length){var dr=0;it(St.children,function(Ge){dr+=yt(Ge,Pt+dr)})}return Et-Pt}};if($){var vt=x,bt=x+et,Mt=Math.PI*2;E.setLayout({angle:Mt,startAngle:T,endAngle:T+Mt,clockwise:at,cx:y,cy:b,r0:vt,r:bt})}yt(L,T)})}function Aj(n,r){var e=n.children||[];n.children=mK(e,r),e.length&&it(n.children,function(o){Aj(o,r)})}function mK(n,r){if(ze(r)){var e=Gt(n,function(l,c){var f=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return f}},index:c}});return e.sort(function(l,c){return r(l.params,c.params)}),Gt(e,function(l){return n[l.index]})}else{var o=r==="asc";return n.sort(function(l,c){var f=(l.getValue()-c.getValue())*(o?1:-1);return f===0?(l.dataIndex-c.dataIndex)*(o?-1:1):f})}}function bK(n){var r={};function e(o,l,c){if(o.depth===0)return Rt.color.neutral50;for(var f=o;f&&f.depth>1;)f=f.parentNode;var d=l.getColorFromPalette(f.name||f.dataIndex+"",r);return o.depth>1&&oe(d)&&(d=oR(d,(o.depth-1)/(c-1)*.5)),d}n.eachSeriesByType("sunburst",function(o){var l=o.getData(),c=l.tree;c.eachNode(function(f){var d=f.getModel(),p=d.getModel("itemStyle").getItemStyle();p.fill||(p.fill=e(f,o,c.root.height));var y=l.ensureUniqueItemVisual(f.dataIndex,"style");Wt(y,p)})})}function _K(n){n.registerChartView(yK),n.registerSeriesModel(yl),n.registerLayout(hr($h,"sunburst")),n.registerProcessor(hr(Pg,"sunburst")),n.registerVisual(bK),J2(n)}var Cj={color:"fill",borderColor:"stroke"},xK={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},cf=br(),wK=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},r.prototype.getInitialData=function(e,o){return iu(null,this)},r.prototype.getDataParams=function(e,o,l){var c=n.prototype.getDataParams.call(this,e,o);return l&&(c.info=cf(l).info),c},r.type="series.custom",r.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},r}(ai),SK=wK;function cL(n,r){return r=r||[0,0],Gt(["x","y"],function(e,o){var l=this.getAxis(e),c=r[o],f=n[o]/2;return l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(c-f)-l.dataToCoord(c+f))},this)}function MK(n){var r=n.master.getRect();return{coordSys:{type:"cartesian2d",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(e){return n.dataToPoint(e)},size:ue(cL,n)}}}function Pj(n,r){return r=r||[0,0],Gt([0,1],function(e){var o=r[e],l=n[e]/2,c=[],f=[];return c[e]=o-l,f[e]=o+l,c[1-e]=f[1-e]=r[1-e],Math.abs(this.dataToPoint(c)[e]-this.dataToPoint(f)[e])},this)}function TK(n){var r=n.getBoundingRect();return{coordSys:{type:"geo",x:r.x,y:r.y,width:r.width,height:r.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:ue(Pj,n)}}}function fL(n,r){var e=this.getAxis(),o=r instanceof Array?r[0]:r,l=(n instanceof Array?n[0]:n)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(o-l)-e.dataToCoord(o+l))}function Ej(n){var r=n.getRect();return{coordSys:{type:"singleAxis",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(e){return n.dataToPoint(e)},size:ue(fL,n)}}}function OK(n,r){return r=r||[0,0],Gt(["Radius","Angle"],function(e,o){var l="get"+e+"Axis",c=this[l](),f=r[o],d=n[o]/2,p=c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(f-d)-c.dataToCoord(f+d));return e==="Angle"&&(p=p*Math.PI/180),p},this)}function kj(n){var r=n.getRadiusAxis(),e=n.getAngleAxis(),o=r.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:o[1],r0:o[0]},api:{coord:function(l){var c=r.dataToRadius(l[0]),f=e.dataToAngle(l[1]),d=n.coordToPoint([c,f]);return d.push(c,f*Math.PI/180),d},size:ue(OK,n)}}}function tM(n){var r=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(o,l){return n.dataToPoint(o,l)},layout:function(o,l){return n.dataToLayout(o,l)}}}}function eM(n){var r=n.getRect();return{coordSys:{type:"matrix",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(e,o){return n.dataToPoint(e,o)},layout:function(e,o){return n.dataToLayout(e,o)}}}}var AK={};function hL(n,r,e,o){return n&&(n.legacy||n.legacy!==!1&&!e&&!o&&r!=="tspan"&&(r==="text"||gt(n,"text")))}function dL(n,r,e){var o=n,l,c,f;if(r==="text")f=o;else{f={},gt(o,"text")&&(f.text=o.text),gt(o,"rich")&&(f.rich=o.rich),gt(o,"textFill")&&(f.fill=o.textFill),gt(o,"textStroke")&&(f.stroke=o.textStroke),gt(o,"fontFamily")&&(f.fontFamily=o.fontFamily),gt(o,"fontSize")&&(f.fontSize=o.fontSize),gt(o,"fontStyle")&&(f.fontStyle=o.fontStyle),gt(o,"fontWeight")&&(f.fontWeight=o.fontWeight),c={type:"text",style:f,silent:!0},l={};var d=gt(o,"textPosition");e?l.position=d?o.textPosition:"inside":d&&(l.position=o.textPosition),gt(o,"textPosition")&&(l.position=o.textPosition),gt(o,"textOffset")&&(l.offset=o.textOffset),gt(o,"textRotation")&&(l.rotation=o.textRotation),gt(o,"textDistance")&&(l.distance=o.textDistance)}return Lj(f,n),it(f.rich,function(p){Lj(p,p)}),{textConfig:l,textContent:c}}function Lj(n,r){r&&(r.font=r.textFont||r.font,gt(r,"textStrokeWidth")&&(n.lineWidth=r.textStrokeWidth),gt(r,"textAlign")&&(n.align=r.textAlign),gt(r,"textVerticalAlign")&&(n.verticalAlign=r.textVerticalAlign),gt(r,"textLineHeight")&&(n.lineHeight=r.textLineHeight),gt(r,"textWidth")&&(n.width=r.textWidth),gt(r,"textHeight")&&(n.height=r.textHeight),gt(r,"textBackgroundColor")&&(n.backgroundColor=r.textBackgroundColor),gt(r,"textPadding")&&(n.padding=r.textPadding),gt(r,"textBorderColor")&&(n.borderColor=r.textBorderColor),gt(r,"textBorderWidth")&&(n.borderWidth=r.textBorderWidth),gt(r,"textBorderRadius")&&(n.borderRadius=r.textBorderRadius),gt(r,"textBoxShadowColor")&&(n.shadowColor=r.textBoxShadowColor),gt(r,"textBoxShadowBlur")&&(n.shadowBlur=r.textBoxShadowBlur),gt(r,"textBoxShadowOffsetX")&&(n.shadowOffsetX=r.textBoxShadowOffsetX),gt(r,"textBoxShadowOffsetY")&&(n.shadowOffsetY=r.textBoxShadowOffsetY))}function vL(n,r,e){var o=n;o.textPosition=o.textPosition||e.position||"inside",e.offset!=null&&(o.textOffset=e.offset),e.rotation!=null&&(o.textRotation=e.rotation),e.distance!=null&&(o.textDistance=e.distance);var l=o.textPosition.indexOf("inside")>=0,c=n.fill||Rt.color.neutral99;pL(o,r);var f=o.textFill==null;return l?f&&(o.textFill=e.insideFill||Rt.color.neutral00,!o.textStroke&&e.insideStroke&&(o.textStroke=e.insideStroke),!o.textStroke&&(o.textStroke=c),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(f&&(o.textFill=n.fill||e.outsideFill||Rt.color.neutral00),!o.textStroke&&e.outsideStroke&&(o.textStroke=e.outsideStroke)),o.text=r.text,o.rich=r.rich,it(r.rich,function(d){pL(d,d)}),o}function pL(n,r){r&&(gt(r,"fill")&&(n.textFill=r.fill),gt(r,"stroke")&&(n.textStroke=r.fill),gt(r,"lineWidth")&&(n.textStrokeWidth=r.lineWidth),gt(r,"font")&&(n.font=r.font),gt(r,"fontStyle")&&(n.fontStyle=r.fontStyle),gt(r,"fontWeight")&&(n.fontWeight=r.fontWeight),gt(r,"fontSize")&&(n.fontSize=r.fontSize),gt(r,"fontFamily")&&(n.fontFamily=r.fontFamily),gt(r,"align")&&(n.textAlign=r.align),gt(r,"verticalAlign")&&(n.textVerticalAlign=r.verticalAlign),gt(r,"lineHeight")&&(n.textLineHeight=r.lineHeight),gt(r,"width")&&(n.textWidth=r.width),gt(r,"height")&&(n.textHeight=r.height),gt(r,"backgroundColor")&&(n.textBackgroundColor=r.backgroundColor),gt(r,"padding")&&(n.textPadding=r.padding),gt(r,"borderColor")&&(n.textBorderColor=r.borderColor),gt(r,"borderWidth")&&(n.textBorderWidth=r.borderWidth),gt(r,"borderRadius")&&(n.textBorderRadius=r.borderRadius),gt(r,"shadowColor")&&(n.textBoxShadowColor=r.shadowColor),gt(r,"shadowBlur")&&(n.textBoxShadowBlur=r.shadowBlur),gt(r,"shadowOffsetX")&&(n.textBoxShadowOffsetX=r.shadowOffsetX),gt(r,"shadowOffsetY")&&(n.textBoxShadowOffsetY=r.shadowOffsetY),gt(r,"textShadowColor")&&(n.textShadowColor=r.textShadowColor),gt(r,"textShadowBlur")&&(n.textShadowBlur=r.textShadowBlur),gt(r,"textShadowOffsetX")&&(n.textShadowOffsetX=r.textShadowOffsetX),gt(r,"textShadowOffsetY")&&(n.textShadowOffsetY=r.textShadowOffsetY))}function CK(n,r){if(0)var e}var Dj={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Ij=vr(Dj),PK=pi(Pu,function(n,r){return n[r]=1,n},{}),EK=Pu.join(", "),rM=["","style","shape","extra"],py=br();function gL(n,r,e,o,l){var c=n+"Animation",f=Rp(n,o,l)||{},d=py(r).userDuring;return f.duration>0&&(f.during=d?ue(Bj,{el:r,userDuring:d}):null,f.setToFinal=!0,f.scope=n),Wt(f,e[c]),f}function nM(n,r,e,o){o=o||{};var l=o.dataIndex,c=o.isInit,f=o.clearStyle,d=e.isAnimationEnabled(),p=py(n),y=r.style;p.userDuring=r.during;var b={},x={};if(aM(n,r,x),n.type==="compound")for(var S=n.shape.paths,T=r.shape.paths,A=0;A<T.length;A++){var E=T[A];yL("shape",E,S[A])}else yL("shape",r,x),yL("extra",r,x);if(!c&&d&&(IK(n,r,b),zj("shape",n,r,b),zj("extra",n,r,b),Fj(n,r,y,b)),x.style=y,kK(n,x,f),LK(n,r),d)if(c){var L={};it(rM,function(N){var F=N?r[N]:r;F&&F.enterFrom&&(N&&(L[N]=L[N]||{}),Wt(N?L[N]:L,F.enterFrom))});var I=gL("enter",n,r,e,l);I.duration>0&&n.animateFrom(L,I)}else Rj(n,r,l||0,e,b);vb(n,r),y?n.dirty():n.markRedraw()}function vb(n,r){for(var e=py(n).leaveToProps,o=0;o<rM.length;o++){var l=rM[o],c=l?r[l]:r;c&&c.leaveTo&&(e||(e=py(n).leaveToProps={}),l&&(e[l]=e[l]||{}),Wt(l?e[l]:e,c.leaveTo))}}function iM(n,r,e,o){if(n){var l=n.parent,c=py(n).leaveToProps;if(c){var f=gL("update",n,r,e,0);f.done=function(){l&&l.remove(n),o&&o()},n.animateTo(c,f)}else l&&l.remove(n),o&&o()}}function qh(n){return n==="all"}function kK(n,r,e){var o=r.style;if(!n.isGroup&&o){if(e){n.useStyle({});for(var l=n.animators,c=0;c<l.length;c++){var f=l[c];f.targetName==="style"&&f.changeTarget(n.style)}}n.setStyle(o)}r&&(r.style=null,r&&n.attr(r),r.style=o)}function Rj(n,r,e,o,l){if(l){var c=gL("update",n,r,o,e);c.duration>0&&n.animateFrom(l,c)}}function LK(n,r){gt(r,"silent")&&(n.silent=r.silent),gt(r,"ignore")&&(n.ignore=r.ignore),n instanceof Fi&&gt(r,"invisible")&&(n.invisible=r.invisible),n instanceof Sr&&gt(r,"autoBatch")&&(n.autoBatch=r.autoBatch)}var os={},Nj={setTransform:function(n,r){return os.el[n]=r,this},getTransform:function(n){return os.el[n]},setShape:function(n,r){var e=os.el,o=e.shape||(e.shape={});return o[n]=r,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var r=os.el.shape;if(r)return r[n]},setStyle:function(n,r){var e=os.el,o=e.style;return o&&(o[n]=r,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var r=os.el.style;if(r)return r[n]},setExtra:function(n,r){var e=os.el.extra||(os.el.extra={});return e[n]=r,this},getExtra:function(n){var r=os.el.extra;if(r)return r[n]}};function DK(n){}function Bj(){var n=this,r=n.el;if(r){var e=py(r).userDuring,o=n.userDuring;if(e!==o){n.el=n.userDuring=null;return}os.el=r,o(Nj)}}function zj(n,r,e,o){var l=e[n];if(l){var c=r[n],f;if(c){var d=e.transition,p=l.transition;if(p)if(!f&&(f=o[n]={}),qh(p))Wt(f,c);else for(var y=An(p),b=0;b<y.length;b++){var x=y[b],S=c[x];f[x]=S}else if(qh(d)||Xe(d,n)>=0){!f&&(f=o[n]={});for(var T=vr(c),b=0;b<T.length;b++){var x=T[b],S=c[x];jj(l[x],S)&&(f[x]=S)}}}}}function yL(n,r,e){var o=r[n];if(o)for(var l=e[n]={},c=vr(o),f=0;f<c.length;f++){var d=c[f];l[d]=__(o[d])}}function IK(n,r,e){for(var o=r.transition,l=qh(o)?Pu:An(o||[]),c=0;c<l.length;c++){var f=l[c];if(!(f==="style"||f==="shape"||f==="extra")){var d=n[f];e[f]=d}}}function aM(n,r,e){for(var o=0;o<Ij.length;o++){var l=Ij[o],c=Dj[l],f=r[l];f&&(e[c[0]]=f[0],e[c[1]]=f[1])}for(var o=0;o<Pu.length;o++){var d=Pu[o];r[d]!=null&&(e[d]=r[d])}}function Fj(n,r,e,o){if(e){var l=n.style,c;if(l){var f=e.transition,d=r.transition;if(f&&!qh(f)){var p=An(f);!c&&(c=o.style={});for(var y=0;y<p.length;y++){var b=p[y],x=l[b];c[b]=x}}else if(n.getAnimationStyleProps&&(qh(d)||qh(f)||Xe(d,"style")>=0)){var S=n.getAnimationStyleProps(),T=S?S.style:null;if(T){!c&&(c=o.style={});for(var A=vr(e),y=0;y<A.length;y++){var b=A[y];if(T[b]){var x=l[b];c[b]=x}}}}}}}function jj(n,r){return vi(n)?n!==r:n!=null&&isFinite(n)}var RK,Vj=br(),NK=["percent","easing","shape","style","extra"];function mL(n){n.stopAnimation("keyframe"),n.attr(Vj(n))}function oM(n,r,e){if(!(!e.isAnimationEnabled()||!r)){if(Ut(r)){it(r,function(d){oM(n,d,e)});return}var o=r.keyframes,l=r.duration;if(e&&l==null){var c=Rp("enter",e,0);l=c&&c.duration}if(!(!o||!l)){var f=Vj(n);it(rM,function(d){if(!(d&&!n[d])){var p,y=!1;o.sort(function(b,x){return b.percent-x.percent}),it(o,function(b){var x=n.animators,S=d?b[d]:b;if(S){var T=vr(S);if(d||(T=Zr(T,function(L){return Xe(NK,L)<0})),!!T.length){p||(p=n.animate(d,r.loop,!0),p.scope="keyframe");for(var A=0;A<x.length;A++)x[A]!==p&&x[A].targetName===p.targetName&&x[A].stopTracks(T);d&&(f[d]=f[d]||{});var E=d?f[d]:f;it(T,function(L){E[L]=((d?n[d]:n)||{})[L]}),p.whenWithKeys(l*b.percent,S,T,b.easing)}}}),p&&p.delay(r.delay||0).duration(l).start(r.easing)}})}}}var cc="emphasis",Zh="normal",bL="blur",_L="select",ff=[Zh,cc,bL,_L],xL={normal:["itemStyle"],emphasis:[cc,"itemStyle"],blur:[bL,"itemStyle"],select:[_L,"itemStyle"]},wL={normal:["label"],emphasis:[cc,"label"],blur:[bL,"label"],select:[_L,"label"]},Gj=["x","y"],Wj="e\0\0",ss={normal:{},emphasis:{},blur:{},select:{}},SL={cartesian2d:MK,geo:TK,single:Ej,polar:kj,calendar:tM,matrix:eM};function Gv(n){return n instanceof Sr}function pb(n){return n instanceof Fi}function Hj(n,r){r.copyTransform(n),pb(r)&&pb(n)&&(r.setStyle(n.style),r.z=n.z,r.z2=n.z2,r.zlevel=n.zlevel,r.invisible=n.invisible,r.ignore=n.ignore,Gv(r)&&Gv(n)&&r.setShape(n.shape))}var BK=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l,c){this._progressiveEls=null;var f=this._data,d=e.getData(),p=this.group,y=Xj(e,d,o,l);f||p.removeAll(),d.diff(f).add(function(x){sM(l,null,x,y(x,c),e,p,d)}).remove(function(x){var S=f.getItemGraphicEl(x);S&&iM(S,cf(S).option,e)}).update(function(x,S){var T=f.getItemGraphicEl(S);sM(l,T,x,y(x,c),e,p,d)}).execute();var b=e.get("clip",!0)?Kc(e.coordinateSystem,!1,e):null;b?p.setClipPath(b):p.removeClipPath(),this._data=d},r.prototype.incrementalPrepareRender=function(e,o,l){this.group.removeAll(),this._data=null},r.prototype.incrementalRender=function(e,o,l,c,f){var d=o.getData(),p=Xj(o,d,l,c),y=this._progressiveEls=[];function b(T){T.isGroup||(T.incremental=!0,T.ensureState("emphasis").hoverLayer=!0)}for(var x=e.start;x<e.end;x++){var S=sM(null,null,x,p(x,f),o,this.group,d);S&&(S.traverse(b),y.push(S))}},r.prototype.eachRendered=function(e){Wc(this._progressiveEls||this.group,e)},r.prototype.filterForExposedEvent=function(e,o,l,c){var f=o.element;if(f==null||l.name===f)return!0;for(;(l=l.__hostTarget||l.parent)&&l!==this.group;)if(l.name===f)return!0;return!1},r.type="custom",r}(Hn),Yj=BK;function Oo(n){var r=n.type,e;if(r==="path"){var o=n.shape,l=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,c=AL(o);e=vw(c,null,l,o.layout||"center"),cf(e).customPathData=c}else if(r==="image")e=new ka({}),cf(e).customImagePath=n.style.image;else if(r==="text")e=new Hr({});else if(r==="group")e=new Ye;else if(r==="compoundPath"){var o=n.shape;if(!o||!o.paths){var f="";un(f)}var d=Gt(o.paths,function(b){if(b.type==="path")return vw(b.shape.pathData,b,null);var x=Hu(b.type);if(!x){var S="";un(S)}return new x});e=new mm({shape:{paths:d}})}else{var p=Hu(r);if(!p){var f="";un(f)}e=new p}return cf(e).customGraphicType=r,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function ML(n,r,e,o,l,c,f){mL(r);var d=l&&l.normal.cfg;d&&r.setTextConfig(d),o&&o.transition==null&&(o.transition=Gj);var p=o&&o.style;if(p){if(r.type==="text"){var y=p;gt(y,"textFill")&&(y.fill=y.textFill),gt(y,"textStroke")&&(y.stroke=y.textStroke)}var b=void 0,x=Gv(r)?p.decal:null;n&&x&&(x.dirty=!0,b=dv(x,n)),p.__decalPattern=b}if(pb(r)&&p){var b=p.__decalPattern;b&&(p.decal=b)}nM(r,o,c,{dataIndex:e,isInit:f,clearStyle:!0}),oM(r,o.keyframeAnimation,c)}function Uj(n,r,e,o,l){var c=r.isGroup?null:r,f=l&&l[n].cfg;if(c){var d=c.ensureState(n);if(o===!1){var p=c.getState(n);p&&(p.style=null)}else d.style=o||null;f&&(d.textConfig=f),La(c)}}function zK(n,r,e){if(!n.isGroup){var o=n,l=e.currentZ,c=e.currentZLevel;o.z=l,o.zlevel=c;var f=r.z2;f!=null&&(o.z2=f||0);for(var d=0;d<ff.length;d++)FK(o,r,ff[d])}}function FK(n,r,e){var o=e===Zh,l=o?r:uM(r,e),c=l?l.z2:null,f;c!=null&&(f=o?n:n.ensureState(e),f.z2=c||0)}function Xj(n,r,e,o){var l=n.get("renderItem");if(typeof l=="string"){var c=bB(l);c&&(l=c)}var f=n.coordinateSystem,d={};f&&(d=f.prepareCustoms?f.prepareCustoms(f):SL[f.type](f));for(var p=je({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:X,style:K,ordinalRawValue:$,styleEmphasis:et,visual:ht,barLayout:yt,currentSeriesIndices:vt,font:bt},d.api||{}),y={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:d.coordSys,dataInsideLength:r.count(),encode:jK(n.getData()),itemPayload:n.get("itemPayload")||{}},b,x,S={},T={},A={},E={},L=0;L<ff.length;L++){var I=ff[L];A[I]=n.getModel(xL[I]),E[I]=n.getModel(wL[I])}function N(Mt){return Mt===b?x||(x=r.getItemModel(Mt)):r.getItemModel(Mt)}function F(Mt,St){return r.hasItemOption?Mt===b?S[St]||(S[St]=N(Mt).getModel(xL[St])):N(Mt).getModel(xL[St]):A[St]}function W(Mt,St){return r.hasItemOption?Mt===b?T[St]||(T[St]=N(Mt).getModel(wL[St])):N(Mt).getModel(wL[St]):E[St]}return function(Mt,St){return b=Mt,x=null,S={},T={},l&&l(je({dataIndexInside:Mt,dataIndex:r.getRawIndex(Mt),actionType:St?St.type:null},y),p)};function X(Mt,St){return St==null&&(St=b),r.getStore().get(r.getDimensionIndex(Mt||0),St)}function $(Mt,St){St==null&&(St=b),Mt=Mt||0;var Pt=r.getDimensionInfo(Mt);if(!Pt){var Et=r.getDimensionIndex(Mt);return Et>=0?r.getStore().get(Et,St):void 0}var Lt=r.get(Pt.name,St),zt=Pt&&Pt.ordinalMeta;return zt?zt.categories[Lt]:Lt}function K(Mt,St){St==null&&(St=b);var Pt=r.getItemVisual(St,"style"),Et=Pt&&Pt.fill,Lt=Pt&&Pt.opacity,zt=F(St,Zh).getItemStyle();Et!=null&&(zt.fill=Et),Lt!=null&&(zt.opacity=Lt);var Ht={inheritColor:oe(Et)?Et:Rt.color.neutral99},qt=W(St,Zh),ne=Gn(qt,null,Ht,!1,!0);ne.text=qt.getShallow("show")?fe(n.getFormattedLabel(St,Zh),xh(r,St)):null;var Ce=B0(qt,Ht,!1);return ot(Mt,zt),zt=vL(zt,ne,Ce),Mt&&at(zt,Mt),zt.legacy=!0,zt}function et(Mt,St){St==null&&(St=b);var Pt=F(St,cc).getItemStyle(),Et=W(St,cc),Lt=Gn(Et,null,null,!0,!0);Lt.text=Et.getShallow("show")?Ui(n.getFormattedLabel(St,cc),n.getFormattedLabel(St,Zh),xh(r,St)):null;var zt=B0(Et,null,!0);return ot(Mt,Pt),Pt=vL(Pt,Lt,zt),Mt&&at(Pt,Mt),Pt.legacy=!0,Pt}function at(Mt,St){for(var Pt in St)gt(St,Pt)&&(Mt[Pt]=St[Pt])}function ot(Mt,St){Mt&&(Mt.textFill&&(St.textFill=Mt.textFill),Mt.textPosition&&(St.textPosition=Mt.textPosition))}function ht(Mt,St){if(St==null&&(St=b),gt(Cj,Mt)){var Pt=r.getItemVisual(St,"style");return Pt?Pt[Cj[Mt]]:null}if(gt(xK,Mt))return r.getItemVisual(St,Mt)}function yt(Mt){if(f.type==="cartesian2d"){var St=f.getBaseAxis();return aU(je({axis:St},Mt))}}function vt(){return e.getCurrentSeriesIndices()}function bt(Mt){return z0(Mt,e)}}function jK(n){var r={};return it(n.dimensions,function(e){var o=n.getDimensionInfo(e);if(!o.isExtraCoord){var l=o.coordDim,c=r[l]=r[l]||[];c[o.coordDimIndex]=n.getDimensionIndex(e)}}),r}function sM(n,r,e,o,l,c,f){if(!o){c.remove(r);return}var d=lM(n,r,e,o,l,c);return d&&f.setItemGraphicEl(e,d),d&&ri(d,o.focus,o.blurScope,o.emphasisDisabled),d}function lM(n,r,e,o,l,c){var f=-1,d=r;r&&$j(r,o,l)&&(f=Xe(c.childrenRef(),r),r=null);var p=!r,y=r;y?y.clearStates():(y=Oo(o),d&&Hj(d,y)),o.morph===!1?y.disableMorphing=!0:y.disableMorphing&&(y.disableMorphing=!1),o.tooltipDisabled&&(y.tooltipDisabled=!0),ss.normal.cfg=ss.normal.conOpt=ss.emphasis.cfg=ss.emphasis.conOpt=ss.blur.cfg=ss.blur.conOpt=ss.select.cfg=ss.select.conOpt=null,ss.isLegacy=!1,Mnt(y,e,o,l,p,ss),qj(y,e,o,l,p),ML(n,y,e,o,ss,l,p),gt(o,"info")&&(cf(y).info=o.info);for(var b=0;b<ff.length;b++){var x=ff[b];if(x!==Zh){var S=uM(o,x),T=cM(o,S,x);Uj(x,y,S,T,ss)}}return zK(y,o,l),o.type==="group"&&VK(n,y,e,o,l),f>=0?c.replaceAt(y,f):c.add(y),y}function $j(n,r,e){var o=cf(n),l=r.type,c=r.shape,f=r.style;return e.isUniversalTransitionEnabled()||l!=null&&l!==o.customGraphicType||l==="path"&&Jj(c)&&AL(c)!==o.customPathData||l==="image"&&gt(f,"image")&&f.image!==o.customImagePath}function qj(n,r,e,o,l){var c=e.clipPath;if(c===!1)n&&n.getClipPath()&&n.removeClipPath();else if(c){var f=n.getClipPath();f&&$j(f,c,o)&&(f=null),f||(f=Oo(c),n.setClipPath(f)),ML(null,f,r,c,null,o,l)}}function Mnt(n,r,e,o,l,c){if(!(n.isGroup||n.type==="compoundPath")){TL(e,null,c),TL(e,cc,c);var f=c.normal.conOpt,d=c.emphasis.conOpt,p=c.blur.conOpt,y=c.select.conOpt;if(f!=null||d!=null||y!=null||p!=null){var b=n.getTextContent();if(f===!1)b&&n.removeTextContent();else{f=c.normal.conOpt=f||{type:"text"},b?b.clearStates():(b=Oo(f),n.setTextContent(b)),ML(null,b,r,f,null,o,l);for(var x=f&&f.style,S=0;S<ff.length;S++){var T=ff[S];if(T!==Zh){var A=c[T].conOpt;Uj(T,b,A,cM(f,A,T),null)}}x?b.dirty():b.markRedraw()}}}}function TL(n,r,e){var o=r?uM(n,r):n,l=r?cM(n,o,cc):n.style,c=n.type,f=o?o.textConfig:null,d=n.textContent,p=d?r?uM(d,r):d:null;if(l&&(e.isLegacy||hL(l,c,!!f,!!p))){e.isLegacy=!0;var y=dL(l,c,!r);!f&&y.textConfig&&(f=y.textConfig),!p&&y.textContent&&(p=y.textContent)}if(!r&&p){var b=p;!b.type&&(b.type="text")}var x=r?e[r]:e.normal;x.cfg=f,x.conOpt=p}function uM(n,r){return r?n?n[r]:null:n}function cM(n,r,e){var o=r&&r.style;return o==null&&e===cc&&n&&(o=n.styleEmphasis),o}function VK(n,r,e,o,l){var c=o.children,f=c?c.length:0,d=o.$mergeChildren,p=d==="byName"||o.diffChildrenByName,y=d===!1;if(!(!f&&!p&&!y)){if(p){GK({api:n,oldChildren:r.children()||[],newChildren:c||[],dataIndex:e,seriesModel:l,group:r});return}y&&r.removeAll();for(var b=0;b<f;b++){var x=c[b],S=r.childAt(b);x?(x.ignore==null&&(x.ignore=!1),lM(n,S,e,x,l,r)):S.ignore=!0}for(var T=r.childCount()-1;T>=b;T--){var A=r.childAt(T);Zj(r,A,l)}}}function Zj(n,r,e){r&&iM(r,cf(n).option,e)}function GK(n){new qu(n.oldChildren,n.newChildren,OL,OL,n).add(Kj).update(Kj).remove(Qj).execute()}function OL(n,r){var e=n&&n.name;return e!=null?e:Wj+r}function Kj(n,r){var e=this.context,o=n!=null?e.newChildren[n]:null,l=r!=null?e.oldChildren[r]:null;lM(e.api,l,e.dataIndex,o,e.seriesModel,e.group)}function Qj(n){var r=this.context,e=r.oldChildren[n];e&&iM(e,cf(e).option,r.seriesModel)}function AL(n){return n&&(n.pathData||n.d)}function Jj(n){return n&&(gt(n,"pathData")||gt(n,"d"))}function tV(n){n.registerChartView(Yj),n.registerSeriesModel(SK)}var Kh=br(),CL=Ne,PL=ue,WK=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(r,e,o,l){var c=e.get("value"),f=e.get("status");if(this._axisModel=r,this._axisPointerModel=e,this._api=o,!(!l&&this._lastValue===c&&this._lastStatus===f)){this._lastValue=c,this._lastStatus=f;var d=this._group,p=this._handle;if(!f||f==="hide"){d&&d.hide(),p&&p.hide();return}d&&d.show(),p&&p.show();var y={};this.makeElOption(y,c,r,e,o);var b=y.graphicKey;b!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=b;var x=this._moveAnimation=this.determineAnimation(r,e);if(!d)d=this._group=new Ye,this.createPointerEl(d,y,r,e),this.createLabelEl(d,y,r,e),o.getZr().add(d);else{var S=hr(HK,e,x);this.updatePointerEl(d,y,S),this.updateLabelEl(d,y,S,e)}eV(d,e,!0),this._renderHandle(c)}},n.prototype.remove=function(r){this.clear(r)},n.prototype.dispose=function(r){this.clear(r)},n.prototype.determineAnimation=function(r,e){var o=e.get("animation"),l=r.axis,c=l.type==="category",f=e.get("snap");if(!f&&!c)return!1;if(o==="auto"||o==null){var d=this.animationThreshold;if(c&&l.getBandWidth()>d)return!0;if(f){var p=dE(r).seriesDataCount,y=l.getExtent();return Math.abs(y[0]-y[1])/p>d}return!1}return o===!0},n.prototype.makeElOption=function(r,e,o,l,c){},n.prototype.createPointerEl=function(r,e,o,l){var c=e.pointer;if(c){var f=Kh(r).pointerEl=new me[c.type](CL(e.pointer));r.add(f)}},n.prototype.createLabelEl=function(r,e,o,l){if(e.label){var c=Kh(r).labelEl=new Hr(CL(e.label));r.add(c),kL(c,l)}},n.prototype.updatePointerEl=function(r,e,o){var l=Kh(r).pointerEl;l&&e.pointer&&(l.setStyle(e.pointer.style),o(l,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(r,e,o,l){var c=Kh(r).labelEl;c&&(c.setStyle(e.label.style),o(c,{x:e.label.x,y:e.label.y}),kL(c,l))},n.prototype._renderHandle=function(r){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,o=this._api.getZr(),l=this._handle,c=e.getModel("handle"),f=e.get("status");if(!c.get("show")||!f||f==="hide"){l&&o.remove(l),this._handle=null;return}var d;this._handle||(d=!0,l=this._handle=ov(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(y){_c(y.event)},onmousedown:PL(this._onHandleDragMove,this,0,0),drift:PL(this._onHandleDragMove,this),ondragend:PL(this._onHandleDragEnd,this)}),o.add(l)),eV(l,e,!1),l.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var p=c.get("size");Ut(p)||(p=[p,p]),l.scaleX=p[0]/2,l.scaleY=p[1]/2,ks(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(r,d)}},n.prototype._moveHandleToValue=function(r,e){HK(this._axisPointerModel,!e&&this._moveAnimation,this._handle,LL(this.getHandleTransform(r,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(r,e){var o=this._handle;if(o){this._dragging=!0;var l=this.updateHandleTransform(LL(o),[r,e],this._axisModel,this._axisPointerModel);this._payloadInfo=l,o.stopAnimation(),o.attr(LL(l)),Kh(o).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var r=this._handle;if(r){var e=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var r=this._handle;if(r){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(r){this._lastValue=null,this._lastStatus=null;var e=r.getZr(),o=this._group,l=this._handle;e&&o&&(this._lastGraphicKey=null,o&&e.remove(o),l&&e.remove(l),this._group=null,this._handle=null,this._payloadInfo=null),Yu(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(r,e,o){return o=o||0,{x:r[o],y:r[1-o],width:e[o],height:e[1-o]}},n}();function HK(n,r,e,o){EL(Kh(e).lastProp,o)||(Kh(e).lastProp=o,r?Qr(e,o,n):(e.stopAnimation(),e.attr(o)))}function EL(n,r){if(ce(n)&&ce(r)){var e=!0;return it(r,function(o,l){e=e&&EL(n[l],o)}),!!e}else return n===r}function kL(n,r){n[r.get(["label","show"])?"show":"hide"]()}function LL(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function eV(n,r,e){var o=r.get("z"),l=r.get("zlevel");n&&n.traverse(function(c){c.type!=="group"&&(o!=null&&(c.z=o),l!=null&&(c.zlevel=l),c.silent=e)})}var gb=WK;function Wv(n){var r=n.get("type"),e=n.getModel(r+"Style"),o;return r==="line"?(o=e.getLineStyle(),o.fill=null):r==="shadow"&&(o=e.getAreaStyle(),o.stroke=null),o}function yb(n,r,e,o,l){var c=e.get("value"),f=rV(c,r.axis,r.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),d=e.getModel("label"),p=Vp(d.get("padding")||0),y=d.getFont(),b=C_(f,y),x=l.position,S=b.width+p[1]+p[3],T=b.height+p[0]+p[2],A=l.align;A==="right"&&(x[0]-=S),A==="center"&&(x[0]-=S/2);var E=l.verticalAlign;E==="bottom"&&(x[1]-=T),E==="middle"&&(x[1]-=T/2),YK(x,S,T,o);var L=d.get("backgroundColor");(!L||L==="auto")&&(L=r.get(["axisLine","lineStyle","color"])),n.label={x:x[0],y:x[1],style:Gn(d,{text:f,font:y,fill:d.getTextColor(),padding:p,backgroundColor:L}),z2:10}}function YK(n,r,e,o){var l=o.getWidth(),c=o.getHeight();n[0]=Math.min(n[0]+r,l)-r,n[1]=Math.min(n[1]+e,c)-e,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function rV(n,r,e,o,l){n=r.scale.parse(n);var c=r.scale.getLabel({value:n},{precision:l.precision}),f=l.formatter;if(f){var d={value:v1(r,{value:n}),axisDimension:r.dim,axisIndex:r.index,seriesData:[]};it(o,function(p){var y=e.getSeriesByIndex(p.seriesIndex),b=p.dataIndexInside,x=y&&y.getDataParams(b);x&&d.seriesData.push(x)}),oe(f)?c=f.replace("{value}",c):ze(f)&&(c=f(d))}return c}function fM(n,r,e){var o=no();return Cf(o,o,e.rotation),xc(o,o,e.position),Ql([n.dataToCoord(r),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],o)}function nV(n,r,e,o,l,c){var f=ou.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=l.get(["label","margin"]),yb(r,o,l,c,{position:fM(o.axis,n,e),align:f.textAlign,verticalAlign:f.textVerticalAlign})}function DL(n,r,e){return e=e||0,{x1:n[e],y1:n[1-e],x2:r[e],y2:r[1-e]}}function iV(n,r,e){return e=e||0,{x:n[e],y:n[1-e],width:r[e],height:r[1-e]}}function aV(n,r,e,o,l,c){return{cx:n,cy:r,r0:e,r:o,startAngle:l,endAngle:c,clockwise:!0}}var UK=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.makeElOption=function(e,o,l,c,f){var d=l.axis,p=d.grid,y=c.get("type"),b=oV(p,d).getOtherAxis(d).getGlobalExtent(),x=d.toGlobalCoord(d.dataToCoord(o,!0));if(y&&y!=="none"){var S=Wv(c),T=XK[y](d,x,b);T.style=S,e.graphicKey=T.type,e.pointer=T}var A=QS(p.getRect(),l);nV(o,e,A,l,c,f)},r.prototype.getHandleTransform=function(e,o,l){var c=QS(o.axis.grid.getRect(),o,{labelInside:!1});c.labelMargin=l.get(["handle","margin"]);var f=fM(o.axis,e,c);return{x:f[0],y:f[1],rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(e,o,l,c){var f=l.axis,d=f.grid,p=f.getGlobalExtent(!0),y=oV(d,f).getOtherAxis(f).getGlobalExtent(),b=f.dim==="x"?0:1,x=[e.x,e.y];x[b]+=o[b],x[b]=Math.min(p[1],x[b]),x[b]=Math.max(p[0],x[b]);var S=(y[1]+y[0])/2,T=[S,S];T[b]=x[b];var A=[{verticalAlign:"middle"},{align:"center"}];return{x:x[0],y:x[1],rotation:e.rotation,cursorPoint:T,tooltipOption:A[b]}},r}(gb);function oV(n,r){var e={};return e[r.dim+"AxisIndex"]=r.index,n.getCartesian(e)}var XK={line:function(n,r,e){var o=DL([r,e[0]],[r,e[1]],sV(n));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(n,r,e){var o=Math.max(1,n.getBandWidth()),l=e[1]-e[0];return{type:"Rect",shape:iV([r-o/2,e[0]],[o,l],sV(n))}}};function sV(n){return n.dim==="x"?0:1}var lV=UK,$K=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="axisPointer",r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:Rt.color.border,width:1,type:"dashed"},shadowStyle:{color:Rt.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:Rt.color.neutral00,padding:[5,7,5,7],backgroundColor:Rt.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:Rt.color.accent40,throttle:40}},r}(Yr),uV=$K,hf=br(),df=it;function cV(n,r,e){if(!cr.node){var o=r.getZr();hf(o).records||(hf(o).records={}),qK(o,r);var l=hf(o).records[n]||(hf(o).records[n]={});l.handler=e}}function qK(n,r){if(hf(n).initialized)return;hf(n).initialized=!0,e("click",hr(fV,"click")),e("mousemove",hr(fV,"mousemove")),e("globalout",KK);function e(o,l){n.on(o,function(c){var f=QK(r);df(hf(n).records,function(d){d&&l(d,c,f.dispatchAction)}),ZK(f.pendings,r)})}}function ZK(n,r){var e=n.showTip.length,o=n.hideTip.length,l;e?l=n.showTip[e-1]:o&&(l=n.hideTip[o-1]),l&&(l.dispatchAction=null,r.dispatchAction(l))}function KK(n,r,e){n.handler("leave",null,e)}function fV(n,r,e,o){r.handler(n,e,o)}function QK(n){var r={showTip:[],hideTip:[]},e=function(o){var l=r[o.type];l?l.push(o):(o.dispatchAction=e,n.dispatchAction(o))};return{dispatchAction:e,pendings:r}}function IL(n,r){if(!cr.node){var e=r.getZr(),o=(hf(e).records||{})[n];o&&(hf(e).records[n]=null)}}var hV=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=o.getComponent("tooltip"),f=e.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";cV("axisPointer",l,function(d,p,y){f!=="none"&&(d==="leave"||f.indexOf(d)>=0)&&y({type:"updateAxisPointer",currTrigger:d,x:p&&p.offsetX,y:p&&p.offsetY})})},r.prototype.remove=function(e,o){IL("axisPointer",o)},r.prototype.dispose=function(e,o){IL("axisPointer",o)},r.type="axisPointer",r}(ui),JK=hV;function RL(n,r){var e=[],o=n.seriesIndex,l;if(o==null||!(l=r.getSeriesByIndex(o)))return{point:[]};var c=l.getData(),f=Op(c,n);if(f==null||f<0||Ut(f))return{point:[]};var d=c.getItemGraphicEl(f),p=l.coordinateSystem;if(l.getTooltipPosition)e=l.getTooltipPosition(f)||[];else if(p&&p.dataToPoint)if(n.isStacked){var y=p.getBaseAxis(),b=p.getOtherAxis(y),x=b.dim,S=y.dim,T=x==="x"||x==="radius"?1:0,A=c.mapDimension(S),E=[];E[T]=c.get(A,f),E[1-T]=c.get(c.getCalculationInfo("stackResultDimension"),f),e=p.dataToPoint(E)||[]}else e=p.dataToPoint(c.getValues(Gt(p.dimensions,function(I){return c.mapDimension(I)}),f))||[];else if(d){var L=d.getBoundingRect().clone();L.applyTransform(d.transform),e=[L.x+L.width/2,L.y+L.height/2]}return{point:e,el:d}}var NL=br();function BL(n,r,e){var o=n.currTrigger,l=[n.x,n.y],c=n,f=n.dispatchAction||ue(e.dispatchAction,e),d=r.getComponent("axisPointer").coordSysAxesInfo;if(d){dM(l)&&(l=RL({seriesIndex:c.seriesIndex,dataIndex:c.dataIndex},r).point);var p=dM(l),y=c.axesInfo,b=d.axesInfo,x=o==="leave"||dM(l),S={},T={},A={list:[],map:{}},E={showPointer:hr(eQ,T),showTooltip:hr(rQ,A)};it(d.coordSysMap,function(I,N){var F=p||I.containPoint(l);it(d.coordSysAxesInfo[N],function(W,X){var $=W.axis,K=aQ(y,W);if(!x&&F&&(!y||K)){var et=K&&K.value;et==null&&!p&&(et=$.pointToData(l)),et!=null&&zL(W,et,E,!1,S)}})});var L={};return it(b,function(I,N){var F=I.linkGroup;F&&!T[N]&&it(F.axesInfo,function(W,X){var $=T[X];if(W!==I&&$){var K=$.value;F.mapper&&(K=I.axis.scale.parse(F.mapper(K,dV(W),dV(I)))),L[I.key]=K}})}),it(L,function(I,N){zL(b[N],I,E,!0,S)}),nQ(T,b,S),hM(A,l,n,f),iQ(b,f,e),S}}function zL(n,r,e,o,l){var c=n.axis;if(!(c.scale.isBlank()||!c.containData(r))){if(!n.involveSeries){e.showPointer(n,r);return}var f=tQ(r,n),d=f.payloadBatch,p=f.snapToValue;d[0]&&l.seriesIndex==null&&Wt(l,d[0]),!o&&n.snap&&c.containData(p)&&p!=null&&(r=p),e.showPointer(n,r,d),e.showTooltip(n,f,p)}}function tQ(n,r){var e=r.axis,o=e.dim,l=n,c=[],f=Number.MAX_VALUE,d=-1;return it(r.seriesModels,function(p,y){var b=p.getData().mapDimensionsAll(o),x,S;if(p.getAxisTooltipData){var T=p.getAxisTooltipData(b,n,e);S=T.dataIndices,x=T.nestestValue}else{if(S=p.indicesOfNearest(o,b[0],n,e.type==="category"?.5:null),!S.length)return;x=p.getData().get(b[0],S[0])}if(!(x==null||!isFinite(x))){var A=n-x,E=Math.abs(A);E<=f&&((E<f||A>=0&&d<0)&&(f=E,d=A,l=x,c.length=0),it(S,function(L){c.push({seriesIndex:p.seriesIndex,dataIndexInside:L,dataIndex:p.getData().getRawIndex(L)})}))}}),{payloadBatch:c,snapToValue:l}}function eQ(n,r,e,o){n[r.key]={value:e,payloadBatch:o}}function rQ(n,r,e,o){var l=e.payloadBatch,c=r.axis,f=c.model,d=r.axisPointerModel;if(!(!r.triggerTooltip||!l.length)){var p=r.coordSys.model,y=Fg(p),b=n.map[y];b||(b=n.map[y]={coordSysId:p.id,coordSysIndex:p.componentIndex,coordSysType:p.type,coordSysMainType:p.mainType,dataByAxis:[]},n.list.push(b)),b.dataByAxis.push({axisDim:c.dim,axisIndex:f.componentIndex,axisType:f.type,axisId:f.id,value:o,valueLabelOpt:{precision:d.get(["label","precision"]),formatter:d.get(["label","formatter"])},seriesDataIndices:l.slice()})}}function nQ(n,r,e){var o=e.axesInfo=[];it(r,function(l,c){var f=l.axisPointerModel.option,d=n[c];d?(!l.useHandle&&(f.status="show"),f.value=d.value,f.seriesDataIndices=(d.payloadBatch||[]).slice()):!l.useHandle&&(f.status="hide"),f.status==="show"&&o.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:f.value})})}function hM(n,r,e,o){if(dM(r)||!n.list.length){o({type:"hideTip"});return}var l=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:r[0],y:r[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:n.list})}function iQ(n,r,e){var o=e.getZr(),l="axisPointerLastHighlights",c=NL(o)[l]||{},f=NL(o)[l]={};it(n,function(y,b){var x=y.axisPointerModel.option;x.status==="show"&&y.triggerEmphasis&&it(x.seriesDataIndices,function(S){var T=S.seriesIndex+" | "+S.dataIndex;f[T]=S})});var d=[],p=[];it(c,function(y,b){!f[b]&&p.push(y)}),it(f,function(y,b){!c[b]&&d.push(y)}),p.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:p}),d.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:d})}function aQ(n,r){for(var e=0;e<(n||[]).length;e++){var o=n[e];if(r.axis.dim===o.axisDim&&r.axis.model.componentIndex===o.axisIndex)return o}}function dV(n){var r=n.axis.model,e={},o=e.axisDim=n.axis.dim;return e.axisIndex=e[o+"AxisIndex"]=r.componentIndex,e.axisName=e[o+"AxisName"]=r.name,e.axisId=e[o+"AxisId"]=r.id,e}function dM(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Hv(n){Av.registerAxisPointerClass("CartesianAxisPointer",lV),n.registerComponentModel(uV),n.registerComponentView(JK),n.registerPreprocessor(function(r){if(r){(!r.axisPointer||r.axisPointer.length===0)&&(r.axisPointer={});var e=r.axisPointer.link;e&&!Ut(e)&&(r.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(r,e){r.getComponent("axisPointer").coordSysAxesInfo=SX(r,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},BL)}function vV(n){_r(M1),_r(Hv)}var pV=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.makeElOption=function(e,o,l,c,f){var d=l.axis;d.dim==="angle"&&(this.animationThreshold=Math.PI/18);var p=d.polar,y=p.getOtherAxis(d),b=y.getExtent(),x=d.dataToCoord(o),S=c.get("type");if(S&&S!=="none"){var T=Wv(c),A=sQ[S](d,p,x,b);A.style=T,e.graphicKey=A.type,e.pointer=A}var E=c.get(["label","margin"]),L=oQ(o,l,c,p,E);yb(e,l,c,f,L)},r}(gb);function oQ(n,r,e,o,l){var c=r.axis,f=c.dataToCoord(n),d=o.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var p=o.getRadiusAxis().getExtent(),y,b,x;if(c.dim==="radius"){var S=no();Cf(S,S,d),xc(S,S,[o.cx,o.cy]),y=Ql([f,-l],S);var T=r.getModel("axisLabel").get("rotate")||0,A=ou.innerTextLayout(d,T*Math.PI/180,-1);b=A.textAlign,x=A.textVerticalAlign}else{var E=p[1];y=o.coordToPoint([E+l,f]);var L=o.cx,I=o.cy;b=Math.abs(y[0]-L)/E<.3?"center":y[0]>L?"left":"right",x=Math.abs(y[1]-I)/E<.3?"middle":y[1]>I?"top":"bottom"}return{position:y,align:b,verticalAlign:x}}var sQ={line:function(n,r,e,o){return n.dim==="angle"?{type:"Line",shape:DL(r.coordToPoint([o[0],e]),r.coordToPoint([o[1],e]))}:{type:"Circle",shape:{cx:r.cx,cy:r.cy,r:e}}},shadow:function(n,r,e,o){var l=Math.max(1,n.getBandWidth()),c=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:aV(r.cx,r.cy,o[0],o[1],(-e-l/2)*c,(-e+l/2)*c)}:{type:"Sector",shape:aV(r.cx,r.cy,e-l/2,e+l/2,0,Math.PI*2)}}},lQ=pV,uQ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.findAxisModel=function(e){var o,l=this.ecModel;return l.eachComponent(e,function(c){c.getCoordSysModel()===this&&(o=c)},this),o},r.type="polar",r.dependencies=["radiusAxis","angleAxis"],r.defaultOption={z:0,center:["50%","50%"],radius:"80%"},r}(Yr),cQ=uQ,Yv=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",bi).models[0]},r.type="polarAxis",r}(Yr);Ln(Yv,s1);var vM=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="angleAxis",r}(Yv),gV=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="radiusAxis",r}(Yv),pM=function(n){Ot(r,n);function r(e,o){return n.call(this,"radius",e,o)||this}return r.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)[this.dim==="radius"?0:1]},r}(au);pM.prototype.dataToRadius=au.prototype.dataToCoord,pM.prototype.radiusToData=au.prototype.coordToData;var FL=pM,yV=br(),Qh=function(n){Ot(r,n);function r(e,o){return n.call(this,"angle",e,o||[0,360])||this}return r.prototype.pointToData=function(e,o){return this.polar.pointToData(e,o)[this.dim==="radius"?0:1]},r.prototype.calculateCategoryInterval=function(){var e=this,o=e.getLabelModel(),l=e.scale,c=l.getExtent(),f=l.count();if(c[1]-c[0]<1)return 0;var d=c[0],p=e.dataToCoord(d+1)-e.dataToCoord(d),y=Math.abs(p),b=C_(d==null?"":d+"",o.getFont(),"center","top"),x=Math.max(b.height,7),S=x/y;isNaN(S)&&(S=1/0);var T=Math.max(0,Math.floor(S)),A=yV(e.model),E=A.lastAutoInterval,L=A.lastTickCount;return E!=null&&L!=null&&Math.abs(E-T)<=1&&Math.abs(L-f)<=1&&E>T?T=E:(A.lastTickCount=f,A.lastAutoInterval=T),T},r}(au);Qh.prototype.dataToAngle=au.prototype.dataToCoord,Qh.prototype.angleToData=au.prototype.coordToData;var vf=Qh,fQ=["radius","angle"],Tnt=function(){function n(r){this.dimensions=fQ,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new FL,this._angleAxis=new vf,this.axisPointerEnabled=!0,this.name=r||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(r){var e=this.pointToCoord(r);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(r){return this._radiusAxis.containData(r[0])&&this._angleAxis.containData(r[1])},n.prototype.getAxis=function(r){var e="_"+r+"Axis";return this[e]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(r){var e=[],o=this._angleAxis,l=this._radiusAxis;return o.scale.type===r&&e.push(o),l.scale.type===r&&e.push(l),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(r){var e=this._angleAxis;return r===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(r){var e=r!=null&&r!=="auto"?this.getAxis(r):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(r,e,o){return this.coordToPoint([this._radiusAxis.dataToRadius(r[0],e),this._angleAxis.dataToAngle(r[1],e)],o)},n.prototype.pointToData=function(r,e,o){o=o||[];var l=this.pointToCoord(r);return o[0]=this._radiusAxis.radiusToData(l[0],e),o[1]=this._angleAxis.angleToData(l[1],e),o},n.prototype.pointToCoord=function(r){var e=r[0]-this.cx,o=r[1]-this.cy,l=this.getAngleAxis(),c=l.getExtent(),f=Math.min(c[0],c[1]),d=Math.max(c[0],c[1]);l.inverse?f=d-360:d=f+360;var p=Math.sqrt(e*e+o*o);e/=p,o/=p;for(var y=Math.atan2(-o,e)/Math.PI*180,b=y<f?1:-1;y<f||y>d;)y+=b*360;return[p,y]},n.prototype.coordToPoint=function(r,e){e=e||[];var o=r[0],l=r[1]/180*Math.PI;return e[0]=Math.cos(l)*o+this.cx,e[1]=-Math.sin(l)*o+this.cy,e},n.prototype.getArea=function(){var r=this.getAngleAxis(),e=this.getRadiusAxis(),o=e.getExtent().slice();o[0]>o[1]&&o.reverse();var l=r.getExtent(),c=Math.PI/180,f=1e-4;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-l[0]*c,endAngle:-l[1]*c,clockwise:r.inverse,contain:function(d,p){var y=d-this.cx,b=p-this.cy,x=y*y+b*b,S=this.r,T=this.r0;return S!==T&&x-f<=S*S&&x+f>=T*T},x:this.cx-o[1],y:this.cy-o[1],width:o[1]*2,height:o[1]*2}},n.prototype.convertToPixel=function(r,e,o){var l=Pr(e);return l===this?this.dataToPoint(o):null},n.prototype.convertFromPixel=function(r,e,o){var l=Pr(e);return l===this?this.pointToData(o):null},n}();function Pr(n){var r=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||r&&r.coordinateSystem}var mV=Tnt;function hn(n,r,e){var o=r.get("center"),l=ya(r,e).refContainer;n.cx=de(o[0],l.width)+l.x,n.cy=de(o[1],l.height)+l.y;var c=n.getRadiusAxis(),f=Math.min(l.width,l.height)/2,d=r.get("radius");d==null?d=[0,"100%"]:Ut(d)||(d=[0,d]);var p=[de(d[0],f),de(d[1],f)];c.inverse?c.setExtent(p[1],p[0]):c.setExtent(p[0],p[1])}function aa(n,r){var e=this,o=e.getAngleAxis(),l=e.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),n.eachSeries(function(d){if(d.coordinateSystem===e){var p=d.getData();it(p1(p,"radius"),function(y){l.scale.unionExtentFromData(p,y)}),it(p1(p,"angle"),function(y){o.scale.unionExtentFromData(p,y)})}}),Rg(o.scale,o.model),Rg(l.scale,l.model),o.type==="category"&&!o.onBand){var c=o.getExtent(),f=360/o.scale.count();o.inverse?c[1]+=f:c[1]-=f,o.setExtent(c[0],c[1])}}function bV(n){return n.mainType==="angleAxis"}function ls(n,r){var e;if(n.type=r.get("type"),n.scale=HS(r),n.onBand=r.get("boundaryGap")&&n.type==="category",n.inverse=r.get("inverse"),bV(r)){n.inverse=n.inverse!==r.get("clockwise");var o=r.get("startAngle"),l=(e=r.get("endAngle"))!==null&&e!==void 0?e:o+(n.inverse?-360:360);n.setExtent(o,l)}r.axis=n,n.model=r}var Ao={dimensions:fQ,create:function(n,r){var e=[];return n.eachComponent("polar",function(o,l){var c=new mV(l+"");c.update=aa;var f=c.getRadiusAxis(),d=c.getAngleAxis(),p=o.findAxisModel("radiusAxis"),y=o.findAxisModel("angleAxis");ls(f,p),ls(d,y),hn(c,o,r),e.push(c),o.coordinateSystem=c,c.model=o}),n.eachSeries(function(o){if(o.get("coordinateSystem")==="polar"){var l=o.getReferringComponents("polar",bi).models[0];o.coordinateSystem=l.coordinateSystem}}),e}},Wi=Ao,En=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function pf(n,r,e){r[1]>r[0]&&(r=r.slice().reverse());var o=n.coordToPoint([r[0],e]),l=n.coordToPoint([r[1],e]);return{x1:o[0],y1:o[1],x2:l[0],y2:l[1]}}function ml(n){var r=n.getRadiusAxis();return r.inverse?0:1}function en(n){var r=n[0],e=n[n.length-1];r&&e&&Math.abs(Math.abs(r.coord-e.coord)-360)<1e-4&&n.pop()}var gM=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.axisPointerClass="PolarAxisPointer",e}return r.prototype.render=function(e,o){if(this.group.removeAll(),!!e.get("show")){var l=e.axis,c=l.polar,f=c.getRadiusAxis().getExtent(),d=l.getTicksCoords({breakTicks:"none"}),p=l.getMinorTicksCoords(),y=Gt(l.getViewLabels(),function(b){b=Ne(b);var x=l.scale,S=x.type==="ordinal"?x.getRawOrdinalNumber(b.tickValue):b.tickValue;return b.coord=l.dataToCoord(S),b});en(y),en(d),it(En,function(b){e.get([b,"show"])&&(!l.scale.isBlank()||b==="axisLine")&&_V[b](this.group,e,c,d,p,f,y)},this)}},r.type="angleAxis",r}(Av),_V={axisLine:function(n,r,e,o,l,c){var f=r.getModel(["axisLine","lineStyle"]),d=e.getAngleAxis(),p=Math.PI/180,y=d.getExtent(),b=ml(e),x=b?0:1,S,T=Math.abs(y[1]-y[0])===360?"Circle":"Arc";c[x]===0?S=new me[T]({shape:{cx:e.cx,cy:e.cy,r:c[b],startAngle:-y[0]*p,endAngle:-y[1]*p,clockwise:d.inverse},style:f.getLineStyle(),z2:1,silent:!0}):S=new zn({shape:{cx:e.cx,cy:e.cy,r:c[b],r0:c[x]},style:f.getLineStyle(),z2:1,silent:!0}),S.style.fill=null,n.add(S)},axisTick:function(n,r,e,o,l,c){var f=r.getModel("axisTick"),d=(f.get("inside")?-1:1)*f.get("length"),p=c[ml(e)],y=Gt(o,function(b){return new ua({shape:pf(e,[p,p+d],b.coord)})});n.add(Kl(y,{style:je(f.getModel("lineStyle").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,r,e,o,l,c){if(l.length){for(var f=r.getModel("axisTick"),d=r.getModel("minorTick"),p=(f.get("inside")?-1:1)*d.get("length"),y=c[ml(e)],b=[],x=0;x<l.length;x++)for(var S=0;S<l[x].length;S++)b.push(new ua({shape:pf(e,[y,y+p],l[x][S].coord)}));n.add(Kl(b,{style:je(d.getModel("lineStyle").getLineStyle(),je(f.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,r,e,o,l,c,f){var d=r.getCategories(!0),p=r.getModel("axisLabel"),y=p.get("margin"),b=r.get("triggerEvent");it(f,function(x,S){var T=p,A=x.tickValue,E=c[ml(e)],L=e.coordToPoint([E+y,x.coord]),I=e.cx,N=e.cy,F=Math.abs(L[0]-I)/E<.3?"center":L[0]>I?"left":"right",W=Math.abs(L[1]-N)/E<.3?"middle":L[1]>N?"top":"bottom";if(d&&d[A]){var X=d[A];ce(X)&&X.textStyle&&(T=new an(X.textStyle,p,p.ecModel))}var $=new Hr({silent:ou.isLabelSilent(r),style:Gn(T,{x:L[0],y:L[1],fill:T.getTextColor()||r.get(["axisLine","lineStyle","color"]),text:x.formattedLabel,align:F,verticalAlign:W})});if(n.add($),uh({el:$,componentModel:r,itemName:x.formattedLabel,formatterParamsExtra:{isTruncated:function(){return $.isTruncated},value:x.rawLabel,tickIndex:S}}),b){var K=ou.makeAxisEventDataBase(r);K.targetType="axisLabel",K.value=x.rawLabel,nr($).eventData=K}},this)},splitLine:function(n,r,e,o,l,c){var f=r.getModel("splitLine"),d=f.getModel("lineStyle"),p=d.get("color"),y=0;p=p instanceof Array?p:[p];for(var b=[],x=0;x<o.length;x++){var S=y++%p.length;b[S]=b[S]||[],b[S].push(new ua({shape:pf(e,c,o[x].coord)}))}for(var x=0;x<b.length;x++)n.add(Kl(b[x],{style:je({stroke:p[x%p.length]},d.getLineStyle()),silent:!0,z:r.get("z")}))},minorSplitLine:function(n,r,e,o,l,c){if(l.length){for(var f=r.getModel("minorSplitLine"),d=f.getModel("lineStyle"),p=[],y=0;y<l.length;y++)for(var b=0;b<l[y].length;b++)p.push(new ua({shape:pf(e,c,l[y][b].coord)}));n.add(Kl(p,{style:d.getLineStyle(),silent:!0,z:r.get("z")}))}},splitArea:function(n,r,e,o,l,c){if(o.length){var f=r.getModel("splitArea"),d=f.getModel("areaStyle"),p=d.get("color"),y=0;p=p instanceof Array?p:[p];for(var b=[],x=Math.PI/180,S=-o[0].coord*x,T=Math.min(c[0],c[1]),A=Math.max(c[0],c[1]),E=r.get("clockwise"),L=1,I=o.length;L<=I;L++){var N=L===I?o[0].coord:o[L].coord,F=y++%p.length;b[F]=b[F]||[],b[F].push(new uo({shape:{cx:e.cx,cy:e.cy,r0:T,r:A,startAngle:S,endAngle:-N*x,clockwise:E},silent:!0})),S=-N*x}for(var L=0;L<b.length;L++)n.add(Kl(b[L],{style:je({fill:p[L%p.length]},d.getAreaStyle()),silent:!0}))}}},Ont=gM,Ant=["splitLine","splitArea","minorSplitLine"],yM=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.axisPointerClass="PolarAxisPointer",e}return r.prototype.render=function(e,o,l){if(this.group.removeAll(),!!e.get("show")){var c=this._axisGroup,f=this._axisGroup=new Ye;this.group.add(f);var d=e.axis,p=d.polar,y=p.getAngleAxis(),b=d.getTicksCoords(),x=d.getMinorTicksCoords(),S=y.getExtent()[0],T=d.getExtent(),A=Fr(p,e,S),E=new ou(e,l,A);E.build(),f.add(E.group),sh(c,f,e),it(Ant,function(L){e.get([L,"show"])&&!d.scale.isBlank()&&jL[L](this.group,e,p,S,T,b,x)},this)}},r.type="radiusAxis",r}(Av),jL={splitLine:function(n,r,e,o,l,c){var f=r.getModel("splitLine"),d=f.getModel("lineStyle"),p=d.get("color"),y=0,b=e.getAngleAxis(),x=Math.PI/180,S=b.getExtent(),T=Math.abs(S[1]-S[0])===360?"Circle":"Arc";p=p instanceof Array?p:[p];for(var A=[],E=0;E<c.length;E++){var L=y++%p.length;A[L]=A[L]||[],A[L].push(new me[T]({shape:{cx:e.cx,cy:e.cy,r:Math.max(c[E].coord,0),startAngle:-S[0]*x,endAngle:-S[1]*x,clockwise:b.inverse}}))}for(var E=0;E<A.length;E++)n.add(Kl(A[E],{style:je({stroke:p[E%p.length],fill:null},d.getLineStyle()),silent:!0}))},minorSplitLine:function(n,r,e,o,l,c,f){if(f.length){for(var d=r.getModel("minorSplitLine"),p=d.getModel("lineStyle"),y=[],b=0;b<f.length;b++)for(var x=0;x<f[b].length;x++)y.push(new nh({shape:{cx:e.cx,cy:e.cy,r:f[b][x].coord}}));n.add(Kl(y,{style:je({fill:null},p.getLineStyle()),silent:!0}))}},splitArea:function(n,r,e,o,l,c){if(c.length){var f=r.getModel("splitArea"),d=f.getModel("areaStyle"),p=d.get("color"),y=0;p=p instanceof Array?p:[p];for(var b=[],x=c[0].coord,S=1;S<c.length;S++){var T=y++%p.length;b[T]=b[T]||[],b[T].push(new uo({shape:{cx:e.cx,cy:e.cy,r0:x,r:c[S].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),x=c[S].coord}for(var S=0;S<b.length;S++)n.add(Kl(b[S],{style:je({fill:p[S%p.length]},d.getAreaStyle()),silent:!0}))}}};function Fr(n,r,e){return{position:[n.cx,n.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}}var bl=yM;function Vo(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function mM(n,r){return r.dim+n.model.componentIndex}function xV(n,r,e){var o={},l=_l(Zr(r.getSeriesByType(n),function(c){return!r.isSeriesFiltered(c)&&c.coordinateSystem&&c.coordinateSystem.type==="polar"}));r.eachSeriesByType(n,function(c){if(c.coordinateSystem.type==="polar"){var f=c.getData(),d=c.coordinateSystem,p=d.getBaseAxis(),y=mM(d,p),b=Vo(c),x=l[y][b],S=x.offset,T=x.width,A=d.getOtherAxis(p),E=c.coordinateSystem.cx,L=c.coordinateSystem.cy,I=c.get("barMinHeight")||0,N=c.get("barMinAngle")||0;o[b]=o[b]||[];for(var F=f.mapDimension(A.dim),W=f.mapDimension(p.dim),X=Zc(f,F),$=p.dim!=="radius"||!c.get("roundCap",!0),K=A.model,et=K.get("startValue"),at=A.dataToCoord(et||0),ot=0,ht=f.count();ot<ht;ot++){var yt=f.get(F,ot),vt=f.get(W,ot),bt=yt>=0?"p":"n",Mt=at;X&&(o[b][vt]||(o[b][vt]={p:at,n:at}),Mt=o[b][vt][bt]);var St=void 0,Pt=void 0,Et=void 0,Lt=void 0;if(A.dim==="radius"){var zt=A.dataToCoord(yt)-at,Ht=p.dataToCoord(vt);Math.abs(zt)<I&&(zt=(zt<0?-1:1)*I),St=Mt,Pt=Mt+zt,Et=Ht-S,Lt=Et-T,X&&(o[b][vt][bt]=Pt)}else{var qt=A.dataToCoord(yt,$)-at,ne=p.dataToCoord(vt);Math.abs(qt)<N&&(qt=(qt<0?-1:1)*N),St=ne+S,Pt=St+T,Et=Mt,Lt=Mt+qt,X&&(o[b][vt][bt]=Lt)}f.setItemLayout(ot,{cx:E,cy:L,r0:St,r:Pt,startAngle:-Et*Math.PI/180,endAngle:-Lt*Math.PI/180,clockwise:Et>=Lt})}}})}function _l(n){var r={};it(n,function(o,l){var c=o.getData(),f=o.coordinateSystem,d=f.getBaseAxis(),p=mM(f,d),y=d.getExtent(),b=d.type==="category"?d.getBandWidth():Math.abs(y[1]-y[0])/c.count(),x=r[p]||{bandWidth:b,remainedWidth:b,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=x.stacks;r[p]=x;var T=Vo(o);S[T]||x.autoWidthCount++,S[T]=S[T]||{width:0,maxWidth:0};var A=de(o.get("barWidth"),b),E=de(o.get("barMaxWidth"),b),L=o.get("barGap"),I=o.get("barCategoryGap");A&&!S[T].width&&(A=Math.min(x.remainedWidth,A),S[T].width=A,x.remainedWidth-=A),E&&(S[T].maxWidth=E),L!=null&&(x.gap=L),I!=null&&(x.categoryGap=I)});var e={};return it(r,function(o,l){e[l]={};var c=o.stacks,f=o.bandWidth,d=de(o.categoryGap,f),p=de(o.gap,1),y=o.remainedWidth,b=o.autoWidthCount,x=(y-d)/(b+(b-1)*p);x=Math.max(x,0),it(c,function(E,L){var I=E.maxWidth;I&&I<x&&(I=Math.min(I,y),E.width&&(I=Math.min(I,E.width)),y-=I,E.width=I,b--)}),x=(y-d)/(b+(b-1)*p),x=Math.max(x,0);var S=0,T;it(c,function(E,L){E.width||(E.width=x),T=E,S+=E.width*(1+p)}),T&&(S-=T.width*p);var A=-S/2;it(c,function(E,L){e[l][L]=e[l][L]||{offset:A,width:E.width},A+=E.width*(1+p)})}),e}var Cnt=xV,xl={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},VL={splitNumber:5},GL=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="polar",r}(ui);function wV(n){_r(Hv),Av.registerAxisPointerClass("PolarAxisPointer",lQ),n.registerCoordinateSystem("polar",Wi),n.registerComponentModel(cQ),n.registerComponentView(GL),Dg(n,"angle",vM,xl),Dg(n,"radius",gV,VL),n.registerComponentView(Ont),n.registerComponentView(bl),n.registerLayout(hr(Cnt,"bar"))}function bM(n,r){r=r||{};var e=n.coordinateSystem,o=n.axis,l={},c=o.position,f=o.orient,d=e.getRect(),p=[d.x,d.x+d.width,d.y,d.y+d.height],y={horizontal:{top:p[2],bottom:p[3]},vertical:{left:p[0],right:p[1]}};l.position=[f==="vertical"?y.vertical[c]:p[0],f==="horizontal"?y.horizontal[c]:p[3]];var b={horizontal:0,vertical:1};l.rotation=Math.PI/2*b[f];var x={top:-1,bottom:1,right:1,left:-1};l.labelDirection=l.tickDirection=l.nameDirection=x[c],n.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),mn(r.labelInside,n.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var S=n.get(["axisLabel","rotate"]);return l.labelRotate=c==="top"?-S:S,l.z2=1,l}var WL=["splitArea","splitLine","breakArea"],HL=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.axisPointerClass="SingleAxisPointer",e}return r.prototype.render=function(e,o,l,c){var f=this.group;f.removeAll();var d=this._axisGroup;this._axisGroup=new Ye;var p=bM(e),y=new ou(e,l,p);y.build(),f.add(this._axisGroup),f.add(y.group),it(WL,function(b){e.get([b,"show"])&&Jh[b](this,this.group,this._axisGroup,e,l)},this),sh(d,this._axisGroup,e),n.prototype.render.call(this,e,o,l,c)},r.prototype.remove=function(){r2(this)},r.type="singleAxis",r}(Av),Jh={splitLine:function(n,r,e,o,l){var c=o.axis;if(!c.scale.isBlank()){var f=o.getModel("splitLine"),d=f.getModel("lineStyle"),p=d.get("color");p=p instanceof Array?p:[p];for(var y=d.get("width"),b=o.coordinateSystem.getRect(),x=c.isHorizontal(),S=[],T=0,A=c.getTicksCoords({tickModel:f,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),E=[],L=[],I=0;I<A.length;++I){var N=c.toGlobalCoord(A[I].coord);x?(E[0]=N,E[1]=b.y,L[0]=N,L[1]=b.y+b.height):(E[0]=b.x,E[1]=N,L[0]=b.x+b.width,L[1]=N);var F=new ua({shape:{x1:E[0],y1:E[1],x2:L[0],y2:L[1]},silent:!0});av(F.shape,y);var W=T++%p.length;S[W]=S[W]||[],S[W].push(F)}for(var X=d.getLineStyle(["color"]),I=0;I<S.length;++I)r.add(Kl(S[I],{style:je({stroke:p[I%p.length]},X),silent:!0}))}},splitArea:function(n,r,e,o,l){e2(n,e,o,o)},breakArea:function(n,r,e,o,l){var c=l1(),f=o.axis.scale;c&&f.type!=="ordinal"&&c.rectCoordBuildBreakAxis(r,n,o,o.coordinateSystem.getRect(),l)}},hQ=HL,SV=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getCoordSysModel=function(){return this},r.type="singleAxis",r.layoutMode="box",r.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},r}(Yr);Ln(SV,s1.prototype);var _M=SV,dQ=function(n){Ot(r,n);function r(e,o,l,c,f){var d=n.call(this,e,o,l)||this;return d.type=c||"value",d.position=f||"bottom",d}return r.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},r.prototype.pointToData=function(e,o){return this.coordinateSystem.pointToData(e)[0]},r}(au),MV=dQ,Uv=["single"],xM=function(){function n(r,e,o){this.type="single",this.dimension="single",this.dimensions=Uv,this.axisPointerEnabled=!0,this.model=r,this._init(r,e,o)}return n.prototype._init=function(r,e,o){var l=this.dimension,c=new MV(l,HS(r),[0,0],r.get("type"),r.get("position")),f=c.type==="category";c.onBand=f&&r.get("boundaryGap"),c.inverse=r.get("inverse"),c.orient=r.get("orient"),r.axis=c,c.model=r,c.coordinateSystem=this,this._axis=c},n.prototype.update=function(r,e){r.eachSeries(function(o){if(o.coordinateSystem===this){var l=o.getData();it(l.mapDimensionsAll(this.dimension),function(c){this._axis.scale.unionExtentFromData(l,c)},this),Rg(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(r,e){var o=ya(r,e).refContainer;this._rect=Wn(r.getBoxLayoutParams(),o),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var r=this._rect,e=this._axis,o=e.isHorizontal(),l=o?[0,r.width]:[0,r.height],c=e.inverse?1:0;e.setExtent(l[c],l[1-c]),this._updateAxisTransform(e,o?r.x:r.y)},n.prototype._updateAxisTransform=function(r,e){var o=r.getExtent(),l=o[0]+o[1],c=r.isHorizontal();r.toGlobalCoord=c?function(f){return f+e}:function(f){return l-f+e},r.toLocalCoord=c?function(f){return f-e}:function(f){return l-f+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(r){var e=this.getRect(),o=this.getAxis(),l=o.orient;return l==="horizontal"?o.contain(o.toLocalCoord(r[0]))&&r[1]>=e.y&&r[1]<=e.y+e.height:o.contain(o.toLocalCoord(r[1]))&&r[0]>=e.y&&r[0]<=e.y+e.height},n.prototype.pointToData=function(r,e,o){o=o||[];var l=this.getAxis();return o[0]=l.coordToData(l.toLocalCoord(r[l.orient==="horizontal"?0:1])),o},n.prototype.dataToPoint=function(r,e,o){var l=this.getAxis(),c=this.getRect();o=o||[];var f=l.orient==="horizontal"?0:1;return r instanceof Array&&(r=r[0]),o[f]=l.toGlobalCoord(l.dataToCoord(+r)),o[1-f]=f===0?c.y+c.height/2:c.x+c.width/2,o},n.prototype.convertToPixel=function(r,e,o){var l=gy(e);return l===this?this.dataToPoint(o):null},n.prototype.convertFromPixel=function(r,e,o){var l=gy(e);return l===this?this.pointToData(o):null},n}();function gy(n){var r=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||r&&r.coordinateSystem}var wM=xM;function vQ(n,r){var e=[];return n.eachComponent("singleAxis",function(o,l){var c=new wM(o,n,r);c.name="single_"+l,c.resize(o,r),o.coordinateSystem=c,e.push(c)}),n.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var l=o.getReferringComponents("singleAxis",bi).models[0];o.coordinateSystem=l&&l.coordinateSystem}}),e}var pQ={create:vQ,dimensions:Uv},SM=pQ,MM=["x","y"],YL=["width","height"],mb=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.makeElOption=function(e,o,l,c,f){var d=l.axis,p=d.coordinateSystem,y=td(p,1-Xv(d)),b=p.dataToPoint(o)[0],x=c.get("type");if(x&&x!=="none"){var S=Wv(c),T=TM[x](d,b,y);T.style=S,e.graphicKey=T.type,e.pointer=T}var A=bM(l);nV(o,e,A,l,c,f)},r.prototype.getHandleTransform=function(e,o,l){var c=bM(o,{labelInside:!1});c.labelMargin=l.get(["handle","margin"]);var f=fM(o.axis,e,c);return{x:f[0],y:f[1],rotation:c.rotation+(c.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(e,o,l,c){var f=l.axis,d=f.coordinateSystem,p=Xv(f),y=td(d,p),b=[e.x,e.y];b[p]+=o[p],b[p]=Math.min(y[1],b[p]),b[p]=Math.max(y[0],b[p]);var x=td(d,1-p),S=(x[1]+x[0])/2,T=[S,S];return T[p]=b[p],{x:b[0],y:b[1],rotation:e.rotation,cursorPoint:T,tooltipOption:{verticalAlign:"middle"}}},r}(gb),TM={line:function(n,r,e){var o=DL([r,e[0]],[r,e[1]],Xv(n));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(n,r,e){var o=n.getBandWidth(),l=e[1]-e[0];return{type:"Rect",shape:iV([r-o/2,e[0]],[o,l],Xv(n))}}};function Xv(n){return n.isHorizontal()?0:1}function td(n,r){var e=n.getRect();return[e[MM[r]],e[MM[r]]+e[YL[r]]]}var UL=mb,XL=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="single",r}(ui);function bb(n){_r(Hv),Av.registerAxisPointerClass("SingleAxisPointer",UL),n.registerComponentView(XL),n.registerComponentView(hQ),n.registerComponentModel(_M),Dg(n,"single",_M,_M.defaultOption),n.registerCoordinateSystem("single",SM)}var TV=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o,l){var c=Ud(e);n.prototype.init.apply(this,arguments),$L(e,c)},r.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),$L(this.option,e)},r.prototype.getCellSize=function(){return this.option.cellSize},r.type="calendar",r.layoutMode="box",r.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:Rt.color.axisLine,width:1,type:"solid"}},itemStyle:{color:Rt.color.neutral00,borderWidth:1,borderColor:Rt.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:Rt.size.s,color:Rt.color.secondary},monthLabel:{show:!0,position:"start",margin:Rt.size.s,align:"center",formatter:null,color:Rt.color.secondary},yearLabel:{show:!0,position:null,margin:Rt.size.xl,formatter:null,color:Rt.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},r}(Yr);function $L(n,r){var e=n.cellSize,o;Ut(e)?o=e:o=n.cellSize=[e,e],o.length===1&&(o[1]=o[0]);var l=Gt([0,1],function(c){return Wp(r,c)&&(o[c]="auto"),o[c]!=null&&o[c]!=="auto"});zu(n,r,{type:"box",ignoreSize:l})}var fc=TV,hc=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){var c=this.group;c.removeAll();var f=e.coordinateSystem,d=f.getRangeInfo(),p=f.getOrient(),y=o.getLocaleModel();this._renderDayRect(e,d,c),this._renderLines(e,d,p,c),this._renderYearText(e,d,p,c),this._renderMonthText(e,y,p,c),this._renderWeekText(e,y,d,p,c)},r.prototype._renderDayRect=function(e,o,l){for(var c=e.coordinateSystem,f=e.getModel("itemStyle").getItemStyle(),d=c.getCellWidth(),p=c.getCellHeight(),y=o.start.time;y<=o.end.time;y=c.getNextNDay(y,1).time){var b=c.dataToCalendarLayout([y],!1).tl,x=new kr({shape:{x:b[0],y:b[1],width:d,height:p},cursor:"default",style:f});l.add(x)}},r.prototype._renderLines=function(e,o,l,c){var f=this,d=e.coordinateSystem,p=e.getModel(["splitLine","lineStyle"]).getLineStyle(),y=e.get(["splitLine","show"]),b=p.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var x=o.start,S=0;x.time<=o.end.time;S++){A(x.formatedDate),S===0&&(x=d.getDateInfo(o.start.y+"-"+o.start.m));var T=x.date;T.setMonth(T.getMonth()+1),x=d.getDateInfo(T)}A(d.getNextNDay(o.end.time,1).formatedDate);function A(E){f._firstDayOfMonth.push(d.getDateInfo(E)),f._firstDayPoints.push(d.dataToCalendarLayout([E],!1).tl);var L=f._getLinePointsOfOneWeek(e,E,l);f._tlpoints.push(L[0]),f._blpoints.push(L[L.length-1]),y&&f._drawSplitline(L,p,c)}y&&this._drawSplitline(f._getEdgesPoints(f._tlpoints,b,l),p,c),y&&this._drawSplitline(f._getEdgesPoints(f._blpoints,b,l),p,c)},r.prototype._getEdgesPoints=function(e,o,l){var c=[e[0].slice(),e[e.length-1].slice()],f=l==="horizontal"?0:1;return c[0][f]=c[0][f]-o/2,c[1][f]=c[1][f]+o/2,c},r.prototype._drawSplitline=function(e,o,l){var c=new Xa({z2:20,shape:{points:e},style:o});l.add(c)},r.prototype._getLinePointsOfOneWeek=function(e,o,l){for(var c=e.coordinateSystem,f=c.getDateInfo(o),d=[],p=0;p<7;p++){var y=c.getNextNDay(f.time,p),b=c.dataToCalendarLayout([y.time],!1);d[2*y.day]=b.tl,d[2*y.day+1]=b[l==="horizontal"?"bl":"tr"]}return d},r.prototype._formatterLabel=function(e,o){return oe(e)&&e?QW(e,o):ze(e)?e(o):o.nameMap},r.prototype._yearTextPositionControl=function(e,o,l,c,f){var d=o[0],p=o[1],y=["center","bottom"];c==="bottom"?(p+=f,y=["center","top"]):c==="left"?d-=f:c==="right"?(d+=f,y=["center","top"]):p-=f;var b=0;return(c==="left"||c==="right")&&(b=Math.PI/2),{rotation:b,x:d,y:p,style:{align:y[0],verticalAlign:y[1]}}},r.prototype._renderYearText=function(e,o,l,c){var f=e.getModel("yearLabel");if(f.get("show")){var d=f.get("margin"),p=f.get("position");p||(p=l!=="horizontal"?"top":"left");var y=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],b=(y[0][0]+y[1][0])/2,x=(y[0][1]+y[1][1])/2,S=l==="horizontal"?0:1,T={top:[b,y[S][1]],bottom:[b,y[1-S][1]],left:[y[1-S][0],x],right:[y[S][0],x]},A=o.start.y;+o.end.y>+o.start.y&&(A=A+"-"+o.end.y);var E=f.get("formatter"),L={start:o.start.y,end:o.end.y,nameMap:A},I=this._formatterLabel(E,L),N=new Hr({z2:30,style:Gn(f,{text:I}),silent:f.get("silent")});N.attr(this._yearTextPositionControl(N,T[p],l,p,d)),c.add(N)}},r.prototype._monthTextPositionControl=function(e,o,l,c,f){var d="left",p="top",y=e[0],b=e[1];return l==="horizontal"?(b=b+f,o&&(d="center"),c==="start"&&(p="bottom")):(y=y+f,o&&(p="middle"),c==="start"&&(d="right")),{x:y,y:b,align:d,verticalAlign:p}},r.prototype._renderMonthText=function(e,o,l,c){var f=e.getModel("monthLabel");if(f.get("show")){var d=f.get("nameMap"),p=f.get("margin"),y=f.get("position"),b=f.get("align"),x=[this._tlpoints,this._blpoints];(!d||oe(d))&&(d&&(o=aA(d)||o),d=o.get(["time","monthAbbr"])||[]);var S=y==="start"?0:1,T=l==="horizontal"?0:1;p=y==="start"?-p:p;for(var A=b==="center",E=f.get("silent"),L=0;L<x[S].length-1;L++){var I=x[S][L].slice(),N=this._firstDayOfMonth[L];if(A){var F=this._firstDayPoints[L];I[T]=(F[T]+x[0][L+1][T])/2}var W=f.get("formatter"),X=d[+N.m-1],$={yyyy:N.y,yy:(N.y+"").slice(2),MM:N.m,M:+N.m,nameMap:X},K=this._formatterLabel(W,$),et=new Hr({z2:30,style:Wt(Gn(f,{text:K}),this._monthTextPositionControl(I,A,l,y,p)),silent:E});c.add(et)}}},r.prototype._weekTextPositionControl=function(e,o,l,c,f){var d="center",p="middle",y=e[0],b=e[1],x=l==="start";return o==="horizontal"?(y=y+c+(x?1:-1)*f[0]/2,d=x?"right":"left"):(b=b+c+(x?1:-1)*f[1]/2,p=x?"bottom":"top"),{x:y,y:b,align:d,verticalAlign:p}},r.prototype._renderWeekText=function(e,o,l,c,f){var d=e.getModel("dayLabel");if(d.get("show")){var p=e.coordinateSystem,y=d.get("position"),b=d.get("nameMap"),x=d.get("margin"),S=p.getFirstDayOfWeek();if(!b||oe(b)){b&&(o=aA(b)||o);var T=o.get(["time","dayOfWeekShort"]);b=T||Gt(o.get(["time","dayOfWeekAbbr"]),function($){return $[0]})}var A=p.getNextNDay(l.end.time,7-l.lweek).time,E=[p.getCellWidth(),p.getCellHeight()];x=de(x,Math.min(E[1],E[0])),y==="start"&&(A=p.getNextNDay(l.start.time,-(7+l.fweek)).time,x=-x);for(var L=d.get("silent"),I=0;I<7;I++){var N=p.getNextNDay(A,I),F=p.dataToCalendarLayout([N.time],!1).center,W=I;W=Math.abs((I+S)%7);var X=new Hr({z2:30,style:Wt(Gn(d,{text:b[W]}),this._weekTextPositionControl(F,c,y,x,E)),silent:L});f.add(X)}}},r.type="calendar",r}(ui),hu=hc,gf=864e5,OV=function(){function n(r,e,o){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=r,this._update(e,o)}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(r){r=Ad(r);var e=r.getFullYear(),o=r.getMonth()+1,l=o<10?"0"+o:""+o,c=r.getDate(),f=c<10?"0"+c:""+c,d=r.getDay();return d=Math.abs((d+7-this.getFirstDayOfWeek())%7),{y:e+"",m:l,d:f,day:d,time:r.getTime(),formatedDate:e+"-"+l+"-"+f,date:r}},n.prototype.getNextNDay=function(r,e){return e=e||0,e===0?this.getDateInfo(r):(r=new Date(this.getDateInfo(r).time),r.setDate(r.getDate()+e),this.getDateInfo(r))},n.prototype._update=function(r,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var o=this._rangeInfo.weeks||1,l=["width","height"],c=this._model.getCellSize().slice(),f=this._model.getBoxLayoutParams(),d=this._orient==="horizontal"?[o,7]:[7,o];it([0,1],function(x){b(c,x)&&(f[l[x]]=c[x]*d[x])});var p={width:e.getWidth(),height:e.getHeight()},y=this._rect=Wn(f,p);it([0,1],function(x){b(c,x)||(c[x]=y[l[x]]/d[x])});function b(x,S){return x[S]!=null&&x[S]!=="auto"}this._sw=c[0],this._sh=c[1]},n.prototype.dataToPoint=function(r,e,o){o=o||[],Ut(r)&&(r=r[0]),e==null&&(e=!0);var l=this.getDateInfo(r),c=this._rangeInfo,f=l.formatedDate;if(e&&!(l.time>=c.start.time&&l.time<c.end.time+gf))return o[0]=o[1]=NaN,o;var d=l.day,p=this._getRangeInfo([c.start.time,f]).nthWeek;return this._orient==="vertical"?(o[0]=this._rect.x+d*this._sw+this._sw/2,o[1]=this._rect.y+p*this._sh+this._sh/2):(o[0]=this._rect.x+p*this._sw+this._sw/2,o[1]=this._rect.y+d*this._sh+this._sh/2),o},n.prototype.pointToData=function(r){var e=this.pointToDate(r);return e&&e.time},n.prototype.dataToLayout=function(r,e,o){o=o||{};var l=o.rect=o.rect||{},c=o.contentRect=o.contentRect||{},f=this.dataToPoint(r,e);return l.x=f[0]-this._sw/2,l.y=f[1]-this._sh/2,l.width=this._sw,l.height=this._sh,Je.copy(c,l),Jl(c,this._lineWidth/2,!0,!0),o},n.prototype.dataToCalendarLayout=function(r,e){var o=this.dataToPoint(r,e);return{center:o,tl:[o[0]-this._sw/2,o[1]-this._sh/2],tr:[o[0]+this._sw/2,o[1]-this._sh/2],br:[o[0]+this._sw/2,o[1]+this._sh/2],bl:[o[0]-this._sw/2,o[1]+this._sh/2]}},n.prototype.pointToDate=function(r){var e=Math.floor((r[0]-this._rect.x)/this._sw)+1,o=Math.floor((r[1]-this._rect.y)/this._sh)+1,l=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(o,e-1,l):this._getDateByWeeksAndDay(e,o-1,l)},n.prototype.convertToPixel=function(r,e,o){var l=qL(e);return l===this?l.dataToPoint(o):null},n.prototype.convertToLayout=function(r,e,o){var l=qL(e);return l===this?l.dataToLayout(o):null},n.prototype.convertFromPixel=function(r,e,o){var l=qL(e);return l===this?l.pointToData(o):null},n.prototype.containPoint=function(r){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var r=this._model.get("range"),e;if(Ut(r)&&r.length===1&&(r=r[0]),Ut(r))e=r;else{var o=r.toString();if(/^\d{4}$/.test(o)&&(e=[o+"-01-01",o+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(o)){var l=this.getDateInfo(o),c=l.date;c.setMonth(c.getMonth()+1);var f=this.getNextNDay(c,-1);e=[l.formatedDate,f.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(o)&&(e=[o,o])}if(!e)return r;var d=this._getRangeInfo(e);return d.start.time>d.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(r){var e=[this.getDateInfo(r[0]),this.getDateInfo(r[1])],o;e[0].time>e[1].time&&(o=!0,e.reverse());var l=Math.floor(e[1].time/gf)-Math.floor(e[0].time/gf)+1,c=new Date(e[0].time),f=c.getDate(),d=e[1].date.getDate();c.setDate(f+l-1);var p=c.getDate();if(p!==d)for(var y=c.getTime()-e[1].time>0?1:-1;(p=c.getDate())!==d&&(c.getTime()-e[1].time)*y>0;)l-=y,c.setDate(p-y);var b=Math.floor((l+e[0].day+6)/7),x=o?-b+1:b-1;return o&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:l,weeks:b,nthWeek:x,fweek:e[0].day,lweek:e[1].day}},n.prototype._getDateByWeeksAndDay=function(r,e,o){var l=this._getRangeInfo(o);if(r>l.weeks||r===0&&e<l.fweek||r===l.weeks&&e>l.lweek)return null;var c=(r-1)*7-l.fweek+e,f=new Date(l.start.time);return f.setDate(+l.start.d+c),this.getDateInfo(f)},n.create=function(r,e){var o=[];return r.eachComponent("calendar",function(l){var c=new n(l,r,e);o.push(c),l.coordinateSystem=c}),r.eachComponent(function(l,c){ii({targetModel:c,coordSysType:"calendar",coordSysProvider:VN})}),o},n.dimensions=["time","value"],n}();function qL(n){var r=n.calendarModel,e=n.seriesModel,o=r?r.coordinateSystem:e?e.coordinateSystem:null;return o}var gQ=OV;function AV(n){n.registerComponentModel(fc),n.registerComponentView(hu),n.registerCoordinateSystem("calendar",gQ)}var yf={level:1,leaf:2,nonLeaf:3},mf={none:0,all:1,body:2,corner:3};function ZL(n,r,e){var o=r[pr[e]].getCell(n);return!o&&qe(n)&&n<0&&(o=r[pr[1-e]].getUnitLayoutInfo(e,Math.round(n))),o}function KL(n){var r=n||[];return r[0]=r[0]||[],r[1]=r[1]||[],r[0][0]=r[0][1]=r[1][0]=r[1][1]=NaN,r}function QL(n,r,e,o,l){JL(n[0],r,l,e,o,0),JL(n[1],r,l,e,o,1)}function JL(n,r,e,o,l,c){n[0]=1/0,n[1]=-1/0;var f=o[c],d=Ut(f)?f:[f],p=d.length,y=!!e;if(p>=1?(OM(n,r,d,y,l,c,0),p>1&&OM(n,r,d,y,l,c,p-1)):n[0]=n[1]=NaN,y){var b=-l[pr[1-c]].getLocatorCount(c),x=l[pr[c]].getLocatorCount(c)-1;e===mf.body?b=qi(0,b):e===mf.corner&&(x=ao(-1,x)),x<b&&(b=x=NaN),Pi(n[0])&&(n[0]=b),Pi(n[1])&&(n[1]=x),n[0]=qi(ao(n[0],x),b),n[1]=qi(ao(n[1],x),b)}}function OM(n,r,e,o,l,c,f){var d=ZL(e[f],l,c);if(!d){n[0]=n[1]=NaN;return}var p=d.id[pr[c]],y=p,b=PV(d);b&&(y+=b.span[pr[c]]-1),n[0]=ao(n[0],p,y),n[1]=qi(n[1],p,y)}function yy(n,r){return Pi(n[r][0])||Pi(n[r][1])}function tD(n,r,e,o){r=r||CV;for(var l=0;l<o;l++)r[l]=!1;for(;;){for(var c=!1,l=0;l<o;l++){var f=e[l];!r[l]&&f.cellMergeOwner&&_b(n,f.locatorRange)&&(r[l]=!0,c=!0)}if(!c)break}}var CV=[];function _b(n,r){return!my(n[0],r[0])||!my(n[1],r[1])?!1:(n[0][0]=ao(n[0][0],r[0][0]),n[0][1]=qi(n[0][1],r[0][1]),n[1][0]=ao(n[1][0],r[1][0]),n[1][1]=qi(n[1][1],r[1][1]),!0)}function my(n,r){return n[1]>=r[0]&&n[0]<=r[1]}function xb(n,r){n.id.set(r[0][0],r[1][0]),n.span.set(r[0][1]-n.id.x+1,r[1][1]-n.id.y+1)}function yQ(n,r){n[0][0]=r[0][0],n[0][1]=r[0][1],n[1][0]=r[1][0],n[1][1]=r[1][1]}function eD(n,r,e,o){var l=ZL(r[o][0],e,o),c=ZL(r[o][1],e,o);n[pr[o]]=n[ea[o]]=NaN,l&&c&&(n[pr[o]]=l.xy,n[ea[o]]=c.xy+c.wh-l.xy)}function by(n,r,e,o){return n[pr[r]]=e,n[pr[1-r]]=o,n}function PV(n){return n&&(n.type===yf.leaf||n.type===yf.nonLeaf)?n:null}function $v(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var rD=function(){function n(r,e){this._cells=[],this._levels=[],this.dim=r,this.dimIdx=r==="x"?0:1,this._model=e,this._uniqueValueGen=EV(r);var o=e.get("data",!0);o!=null&&!Ut(o)&&(o=[]),o?this._initByDimModelData(o):this._initBySeriesData()}return n.prototype._initByDimModelData=function(r){var e=this,o=e._cells,l=e._levels,c=[],f=0;e._leavesCount=d(r,0,0),p();return;function d(y,b,x){var S=0;return y&&it(y,function(T,A){var E=!1,L;oe(T)?L={value:T}:ce(T)?(L=T,T.value!=null&&!oe(T.value)&&(E=!0,L={value:null})):(L={value:null},T!=null&&(E=!0));var I={type:yf.nonLeaf,ordinal:NaN,level:x,firstLeafLocator:b,id:new Ke,span:by(new Ke,e.dimIdx,1,1),option:L,xy:NaN,wh:NaN,dim:e,rect:$v()};f++,(c[b]||(c[b]=[])).push(I),l[x]||(l[x]={type:yf.level,xy:NaN,wh:NaN,option:null,id:new Ke,dim:e});var N=d(L.children,b,x+1),F=Math.max(1,N);I.span[pr[e.dimIdx]]=F,S+=F,b+=F}),S}function p(){for(var y=[];o.length<f;)for(var b=0;b<c.length;b++){var x=c[b].pop();if(x){x.ordinal=y.length;var S=x.option.value;y.push(S),o.push(x),e._uniqueValueGen.calcDupBase(S)}}e._uniqueValueGen.ensureValueUnique(y,o);var T=e._ordinalMeta=new Lg({categories:y,needCollect:!1,deduplication:!1});e._scale=new Tv({ordinalMeta:T});for(var A=0;A<e._leavesCount;A++){var E=e._cells[A];E.type=yf.leaf,E.span[pr[1-e.dimIdx]]=e._levels.length-E.level}e._initCellsId(),e._initLevelIdOptions()}},n.prototype._initBySeriesData=function(){var r=this;r._leavesCount=0,r._levels=[{type:yf.level,xy:NaN,wh:NaN,option:null,id:new Ke,dim:r}],r._initLevelIdOptions();var e=r._ordinalMeta=new Lg({needCollect:!0,deduplication:!0,onCollect:function(o,l){var c=r._cells[l]={type:yf.leaf,ordinal:l,level:0,firstLeafLocator:l,id:new Ke,span:by(new Ke,r.dimIdx,1,1),option:{value:o+""},xy:NaN,wh:NaN,dim:r,rect:$v()};r._leavesCount++,r._setCellId(c)}});r._scale=new Tv({ordinalMeta:e})},n.prototype._setCellId=function(r){var e=this._levels.length,o=this.dimIdx;by(r.id,o,r.firstLeafLocator,r.level-e)},n.prototype._initCellsId=function(){var r=this._levels.length,e=this.dimIdx;it(this._cells,function(o){by(o.id,e,o.firstLeafLocator,o.level-r)})},n.prototype._initLevelIdOptions=function(){var r=this._levels.length,e=this.dimIdx,o=this._model.get("levels",!0);o=Ut(o)?o:[],it(this._levels,function(l,c){by(l.id,e,0,c-r),l.option=o[c]})},n.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},n.prototype.resetLayoutIterator=function(r,e,o,l){if(r=r||new Mc,e===this.dimIdx){var c=this._leavesCount,f=o!=null?Math.max(0,o):0;l=l!=null?Math.min(l,c):c,r.reset(this._cells,f,f+l)}else{var c=this._levels.length,f=o!=null?Math.max(0,o+c):0;l=l!=null?Math.min(l,c):c,r.reset(this._levels,f,f+l)}return r},n.prototype.resetCellIterator=function(r){return(r||new Mc).reset(this._cells,0)},n.prototype.resetLevelIterator=function(r){return(r||new Mc).reset(this._levels,0)},n.prototype.getLayout=function(r,e,o){var l=this.getUnitLayoutInfo(e,o);r[pr[e]]=l?l.xy:NaN,r[ea[e]]=l?l.wh:NaN},n.prototype.getUnitLayoutInfo=function(r,e){return r===this.dimIdx?e<this._leavesCount?this._cells[e]:void 0:this._levels[e+this._levels.length]},n.prototype.getCell=function(r){var e=this._scale.parse(r);return Pi(e)?void 0:this._cells[e]},n.prototype.getLocatorCount=function(r){return r===this.dimIdx?this._leavesCount:this._levels.length},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n}();function EV(n){var r=n.toUpperCase(),e=new RegExp("^"+r+"([0-9]+)$"),o=0;function l(d){var p;d!=null&&(p=d.match(e))&&(o=qi(o,+p[1]+1))}function c(){return""+r+o++}function f(d,p){for(var y=ve(),b=0;b<d.length;b++){var x=d[b];(x==null||y.get(x)!=null)&&(d[b]=x=c(),p[b].option=je({value:x},p[b].option)),y.set(x,!0)}}return{calcDupBase:l,ensureValueUnique:f}}var nD=function(){function n(r,e,o){this._model=e,this._dims=o,this._kind=r,this._cellMergeOwnerList=[]}return n.prototype._ensureCellMap=function(){var r=this,e=r._cellMap;return e||(e=r._cellMap=ve(),o()),e;function o(){var c=[],f=r._model.getShallow("data");f&&!Ut(f)&&(f=null),it(f,function(A,E){if(!(!ce(A)||!Ut(A.coord))){var L=KL([]),I=null;if(QL(L,I,A.coord,r._dims,A.coordClamp?mf[r._kind]:mf.none),!(yy(L,0)||yy(L,1))){var N=A&&A.mergeCells,F={id:new Ke,span:new Ke,locatorRange:L,option:A,cellMergeOwner:N};xb(F,L),c.push(F)}}});for(var d=[],p=0;p<c.length;p++){var y=c[p];if(y.cellMergeOwner){var b=y.locatorRange;tD(b,d,c,p);for(var x=0;x<p;x++)d[x]&&(c[x].cellMergeOwner=!1);if(b[0][0]!==y.id.x||b[1][0]!==y.id.y){y.cellMergeOwner=!1;var S=Wt({},y.option);S.coord=null;var T={id:new Ke,span:new Ke,locatorRange:b,option:S,cellMergeOwner:!0};xb(T,b),c.push(T)}}}it(c,function(A){var E=l(A.id.x,A.id.y);if(A.cellMergeOwner&&(E.cellMergeOwner=!0,E.span=A.span,E.locatorRange=A.locatorRange,E.spanRect=$v(),r._cellMergeOwnerList.push(E)),!(!A.cellMergeOwner&&!A.option))for(var L=0;L<A.span.y;L++)for(var I=0;I<A.span.x;I++){var N=l(A.id.x+I,A.id.y+L);N.option=A.option,A.cellMergeOwner&&(N.inSpanOf=E)}})}function l(c,f){var d=kV(c,f),p=e.get(d);return p||(p=e.set(d,{id:new Ke(c,f),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),p}},n.prototype.getCell=function(r){return this._ensureCellMap().get(kV(r[0],r[1]))},n.prototype.travelExistingCells=function(r){this._ensureCellMap().each(r)},n.prototype.expandRangeByCellMerge=function(r){if(!yy(r,0)&&!yy(r,1)&&r[0][0]===r[0][1]&&r[1][0]===r[1][1]){AM[0]=r[0][0],AM[1]=r[1][0];var e=this.getCell(AM),o=e&&e.inSpanOf;if(o){yQ(r,o.locatorRange);return}}var l=this._cellMergeOwnerList;tD(r,null,l,l.length)},n}(),AM=[];function kV(n,r){return n+"|"+r}var CM={show:!0,color:Rt.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function ed(n){return{color:"none",borderWidth:1,borderColor:n?"none":Rt.color.borderTint}}var iD={show:!0,label:CM,itemStyle:ed(!1),silent:void 0,dividerLineStyle:{width:1,color:Rt.color.border}},LV={label:CM,itemStyle:ed(!1),silent:void 0},mQ={label:CM,itemStyle:ed(!0),silent:void 0},bQ={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:iD,y:iD,body:LV,corner:mQ,backgroundStyle:{color:"none",borderColor:Rt.color.axisLine,borderWidth:1}},DV=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.optionUpdated=function(){var e=this._dimModels={x:new wb(this.get("x",!0)||{}),y:new wb(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var o=e.x.dim=new rD("x",e.x),l=e.y.dim=new rD("y",e.y),c={x:o,y:l};this._body=new nD("body",new an(this.getShallow("body")),c),this._corner=new nD("corner",new an(this.getShallow("corner")),c)},r.prototype.getDimensionModel=function(e){return this._dimModels[e]},r.prototype.getBody=function(){return this._body},r.prototype.getCorner=function(){return this._corner},r.type="matrix",r.layoutMode="box",r.defaultOption=bQ,r}(Yr),wb=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},r}(an),PM=DV,Sb=Math.round,IV=0,aD=99,_y={normal:25,special:100},EM={normal:50,special:125},kM=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o){this.group.removeAll();var l=this.group,c=e.coordinateSystem,f=c.getRect(),d=e.getDimensionModel("x"),p=e.getDimensionModel("y"),y=d.dim,b=p.dim;oD(l,e,o),LM(l,e,y,b,o);var x=e.getShallow("borderZ2",!0),S=fe(x,aD),T=S-1,A=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);A.lineWidth=0;var E=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);E.fill="none";var L=RM(f.clone(),A,IV),I=RM(f.clone(),E,S);L.silent=!0,I.silent=!0,l.add(L),l.add(I);var N=y.getUnitLayoutInfo(0,0),F=b.getUnitLayoutInfo(1,0);N&&F&&(y.shouldShow()&&l.add(RV({x1:f.x,y1:F.xy,x2:f.x+f.width,y2:F.xy},d.getModel("dividerLineStyle").getLineStyle(),T)),b.shouldShow()&&l.add(RV({x1:N.xy,y1:f.y,x2:N.xy,y2:f.y+f.height},p.getModel("dividerLineStyle").getLineStyle(),T)))},r.type="matrix",r}(ui);function oD(n,r,e){o(0),o(1);function o(l){var c=r.getDimensionModel(pr[l]),f=c.dim;if(f.shouldShow())for(var d=c.getModel("itemStyle"),p=c.getModel("label"),y=r.getShallow("tooltip",!0),b=[],x=f.resetCellIterator();x.next();){var S=x.item,T={};Je.copy(T,S.rect),Tf(b,S.id.x,S.id.y),DM(b,r,n,e,S.option,d,p,c,T,S.option.value,EM,y)}}}function LM(n,r,e,o,l){c("body",r.getBody(),e,o),e.shouldShow()&&o.shouldShow()&&c("corner",r.getCorner(),o,e);function c(f,d,p,y){var b=new an(r.getShallow(f,!0)),x=b.getModel("itemStyle"),S=b.getModel("label"),T=new Mc,A=new Mc,E=[],L=r.getShallow("tooltip",!0);for(y.resetLayoutIterator(A,1);A.next();)for(p.resetLayoutIterator(T,0);T.next();){var I=T.item,N=A.item;Tf(E,I.id.x,N.id.y);var F=d.getCell(E);if(!(F&&F.inSpanOf&&F.inSpanOf!==F)){var W={};F&&F.span?Je.copy(W,F.spanRect):(I.dim.getLayout(W,0,E[0]),N.dim.getLayout(W,1,E[1]));var X=F?F.option:null;DM(E,r,n,l,X,x,S,b,W,X?X.value:null,_y,L)}}}}function DM(n,r,e,o,l,c,f,d,p,y,b,x){var S;IM.option=l?l.itemStyle:null,IM.parentModel=c,rd.option=l,rd.parentModel=d;var T=fe(rd.getShallow("z2"),l&&l.itemStyle?b.special:b.normal),A=x&&x.show,E=RM(p,IM.getItemStyle(),T);e.add(E);var L=rd.get("cursor");L!=null&&E.attr("cursor",L);var I;if(y!=null){var N=y+"";if(xy.option=l?l.label:null,xy.parentModel=f,xy.ecModel=o,Da(E,{normal:xy},{defaultText:N,autoOverflowArea:!0,layoutRect:Ne(E.shape)}),I=E.getTextContent(),I){I.z2=T+1;var F=I.style;if(F&&F.overflow&&F.overflow!=="none"&&F.lineOverflow){var W={};Je.copy(W,p),Jl(W,(((S=E.style)===null||S===void 0?void 0:S.lineWidth)||0)/2,!0,!0),E.updateInnerText(),I.getLocalTransform(Mb),Ca(Mb,Mb),Je.applyTransform(W,W,Mb),I.setClipPath(new kr({shape:W}))}}uh({el:E,componentModel:r,itemName:N,itemTooltipOption:x,formatterParamsExtra:{xyLocator:n.slice()}})}if(I){var X=xy.get("silent");X==null&&(X=!A),I.silent=X,I.ignoreHostSilent=!0}var $=rd.get("silent");$==null&&($=!E.style||E.style.fill==="none"||!E.style.fill),E.silent=$,B_(rd),B_(IM),B_(xy)}var rd=new an,IM=new an,xy=new an,Mb=[];function RM(n,r,e){var o=r.lineWidth;if(o){var l=n.x+n.width,c=n.y+n.height;n.x=Ms(n.x,o,!0),n.y=Ms(n.y,o,!0),n.width=Ms(l,o,!0)-n.x,n.height=Ms(c,o,!0)-n.y}return new kr({shape:n,style:r,z2:e})}function RV(n,r,e){var o=r.lineWidth;return o&&(Sb(n.x1*2)===Sb(n.x2*2)&&(n.x1=n.x2=Ms(n.x1,o,!0)),Sb(n.y1*2)===Sb(n.y2*2)&&(n.y1=n.y2=Ms(n.y1,o,!0))),new ua({shape:n,style:r,silent:!0,z2:e})}var _Q=kM,NV=function(){function n(r,e,o){this.dimensions=n.dimensions,this.type="matrix",this._model=r;var l=this._dimModels={x:r.getDimensionModel("x"),y:r.getDimensionModel("y")};this._dims={x:l.x.dim,y:l.y.dim},this._resize(r,o)}return n.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},n.create=function(r,e){var o=[];return r.eachComponent("matrix",function(l){var c=new n(l,r,e);o.push(c),l.coordinateSystem=c}),r.eachComponent(function(l,c){ii({targetModel:c,coordSysType:"matrix",coordSysProvider:VN})}),o},n.prototype.getRect=function(){return this._rect},n.prototype._resize=function(r,e){var o=this._dims,l=this._dimModels,c=this._rect=Wn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});lD(l,o,c,0),lD(l,o,c,1),uD(0,o),uD(1,o),xQ(this._model.getBody(),o),xQ(this._model.getCorner(),o)},n.prototype.dataToPoint=function(r,e,o){return o=o||[],this.dataToLayout(r,e,Tb),o[0]=Tb.rect.x+Tb.rect.width/2,o[1]=Tb.rect.y+Tb.rect.height/2,o},n.prototype.dataToLayout=function(r,e,o){var l=this._dims;o=o||{};var c=o.rect=o.rect||{};c.x=c.y=c.width=c.height=NaN;var f=o.matrixXYLocatorRange=KL(o.matrixXYLocatorRange);return Ut(r)&&(QL(f,null,r,l,fe(e&&e.clamp,mf.none)),(!e||!e.ignoreMergeCells)&&((!e||e.clamp!==mf.corner)&&this._model.getBody().expandRangeByCellMerge(f),(!e||e.clamp!==mf.body)&&this._model.getCorner().expandRangeByCellMerge(f)),eD(c,f,l,0),eD(c,f,l,1)),o},n.prototype.pointToData=function(r,e,o){var l=this._dims;return zM(wl,0,l,r,e&&e.clamp),zM(wl,1,l,r,e&&e.clamp),o=o||[],o[0]=o[1]=NaN,wl.y===qa.inCorner&&wl.x===qa.inBody?cD(wl,o,0,l):wl.x===qa.inCorner&&wl.y===qa.inBody?cD(wl,o,1,l):(fD(wl,o,0,l),fD(wl,o,1,l)),o},n.prototype.convertToPixel=function(r,e,o,l){var c=wy(e);return c===this?c.dataToPoint(o,l):void 0},n.prototype.convertToLayout=function(r,e,o,l){var c=wy(e);return c===this?c.dataToLayout(o,l):void 0},n.prototype.convertFromPixel=function(r,e,o,l){var c=wy(e);return c===this?c.pointToData(o,l):void 0},n.prototype.containPoint=function(r){return this._rect.contain(r[0],r[1])},n.dimensions=["x","y","value"],n}(),Tb={rect:$v()},NM=new Mc,sD=new Mc;function lD(n,r,e,o){for(var l=1-o,c=r[pr[o]],f=r[pr[l]],d=f.shouldShow(),p=c.resetCellIterator();p.next();)p.item.wh=p.item.xy=NaN;for(var y=f.resetLayoutIterator(null,o);y.next();)y.item.wh=y.item.xy=NaN;for(var b=e[ea[o]],x=c.getLocatorCount(o)+f.getLocatorCount(o),S=new an,T=f.resetLevelIterator();T.next();)S.option=T.item.option,S.parentModel=n[pr[l]],L(T.item,d?S.get("levelSize"):0);for(var A=new an,E=c.resetCellIterator();E.next();)E.item.type===yf.leaf&&(A.option=E.item.option,A.parentModel=void 0,L(E.item,A.get("size")));function L(K,et){var at=wQ(et,o,e);Pi(at)||(K.wh=qv(at,b),b=qv(b-K.wh),x--)}var I=x?b/x:0,N=!x&&b>=1,F=e[pr[o]],W=c.getLocatorCount(o)-1,X=new Mc;for(f.resetLayoutIterator(X,o);X.next();)$(X.item);for(c.resetLayoutIterator(X,o);X.next();)$(X.item);function $(K){Pi(K.wh)&&(K.wh=I),K.xy=F,K.id[pr[o]]===W&&!N&&(K.wh=e[pr[o]]+e[ea[o]]-K.xy),F+=K.wh}}function uD(n,r){for(var e=r[pr[n]].resetCellIterator();e.next();){var o=e.item;BM(o.rect,n,o.id,o.span,r),BM(o.rect,1-n,o.id,o.span,r),o.type===yf.nonLeaf&&(o.xy=o.rect[pr[n]],o.wh=o.rect[ea[n]])}}function xQ(n,r){n.travelExistingCells(function(e){var o=e.span;if(o){var l=e.spanRect,c=e.id;BM(l,0,c,o,r),BM(l,1,c,o,r)}})}function BM(n,r,e,o,l){n[ea[r]]=0;var c=e[pr[r]],f=c<0?l[pr[1-r]]:l[pr[r]],d=f.getUnitLayoutInfo(r,e[pr[r]]);if(n[pr[r]]=d.xy,n[ea[r]]=d.wh,o[pr[r]]>1){var p=f.getUnitLayoutInfo(r,e[pr[r]]+o[pr[r]]-1);n[ea[r]]=p.xy+p.wh-d.xy}}function wQ(n,r,e){var o=Mp(n,e[ea[r]]);return qv(o,e[ea[r]])}function qv(n,r){return Math.max(Math.min(n,fe(r,1/0)),0)}function wy(n){var r=n.matrixModel,e=n.seriesModel,o=r?r.coordinateSystem:e?e.coordinateSystem:null;return o}var qa={inBody:1,inCorner:2,outside:3},wl={x:null,y:null,point:[]};function zM(n,r,e,o,l){var c=e[pr[r]],f=e[pr[1-r]],d=c.getUnitLayoutInfo(r,c.getLocatorCount(r)-1),p=c.getUnitLayoutInfo(r,0),y=f.getUnitLayoutInfo(r,-f.getLocatorCount(r)),b=f.shouldShow()?f.getUnitLayoutInfo(r,-1):null,x=n.point[r]=o[r];if(!p&&!b){n[pr[r]]=qa.outside;return}if(l===mf.body){p?(n[pr[r]]=qa.inBody,x=ao(d.xy+d.wh,qi(p.xy,x)),n.point[r]=x):n[pr[r]]=qa.outside;return}else if(l===mf.corner){b?(n[pr[r]]=qa.inCorner,x=ao(b.xy+b.wh,qi(y.xy,x)),n.point[r]=x):n[pr[r]]=qa.outside;return}var S=p?p.xy:b?b.xy+b.wh:NaN,T=y?y.xy:S,A=d?d.xy+d.wh:S;if(x<T){if(!l){n[pr[r]]=qa.outside;return}x=T}else if(x>A){if(!l){n[pr[r]]=qa.outside;return}x=A}n.point[r]=x,n[pr[r]]=S<=x&&x<=A?qa.inBody:T<=x&&x<=S?qa.inCorner:qa.outside}function cD(n,r,e,o){var l=1-e;if(n[pr[e]]!==qa.outside)for(o[pr[e]].resetCellIterator(sD);sD.next();){var c=sD.item;if(hD(n.point[e],c.rect,e)&&hD(n.point[l],c.rect,l)){r[e]=c.ordinal,r[l]=c.id[pr[l]];return}}}function fD(n,r,e,o){if(n[pr[e]]!==qa.outside){var l=n[pr[e]]===qa.inCorner?o[pr[1-e]]:o[pr[e]];for(l.resetLayoutIterator(NM,e);NM.next();)if(BV(n.point[e],NM.item)){r[e]=NM.item.id[pr[e]];return}}}function BV(n,r){return r.xy<=n&&n<=r.xy+r.wh}function hD(n,r,e){return r[pr[e]]<=n&&n<=r[pr[e]]+r[ea[e]]}var SQ=NV;function Pnt(n){n.registerComponentModel(PM),n.registerComponentView(_Q),n.registerCoordinateSystem("matrix",SQ)}function Ob(n,r){var e=n.existing;if(r.id=n.keyInfo.id,!r.type&&e&&(r.type=e.type),r.parentId==null){var o=r.parentOption;o?r.parentId=o.id:e&&(r.parentId=e.parentId)}r.parentOption=null}function FM(n,r){var e;return it(r,function(o){n[o]!=null&&n[o]!=="auto"&&(e=!0)}),e}function dD(n,r,e){var o=Wt({},e),l=n[r],c=e.$action||"merge";if(c==="merge")if(l){if(0)var f;lr(l,o,!0),zu(l,o,{ignoreSize:!0}),HN(e,l),Sy(e,l),Sy(e,l,"shape"),Sy(e,l,"style"),Sy(e,l,"extra"),e.clipPath=l.clipPath}else n[r]=o;else c==="replace"?n[r]=o:c==="remove"&&l&&(n[r]=null)}var Ab=["transition","enterFrom","leaveTo"],vD=Ab.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Sy(n,r,e){if(e&&(!n[e]&&r[e]&&(n[e]={}),n=n[e],r=r[e]),!(!n||!r))for(var o=e?Ab:vD,l=0;l<o.length;l++){var c=o[l];n[c]==null&&r[c]!=null&&(n[c]=r[c])}}function pD(n,r){if(n&&(n.hv=r.hv=[FM(r,["left","right"]),FM(r,["top","bottom"])],n.type==="group")){var e=n,o=r;e.width==null&&(e.width=o.width=0),e.height==null&&(e.height=o.height=0)}}var zV=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.preventAutoZ=!0,e}return r.prototype.mergeOption=function(e,o){var l=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,o),this.option.elements=l},r.prototype.optionUpdated=function(e,o){var l=this.option,c=(o?l:e).elements,f=l.elements=o?[]:l.elements,d=[];this._flatten(c,d,null);var p=kR(f,d,"normalMerge"),y=this._elOptionsToUpdate=[];it(p,function(b,x){var S=b.newOption;S&&(y.push(S),Ob(b,S),dD(f,x,S),pD(f[x],S))},this),l.elements=Zr(f,function(b){return b&&delete b.$action,b!=null})},r.prototype._flatten=function(e,o,l){it(e,function(c){if(c){l&&(c.parentOption=l),o.push(c);var f=c.children;f&&f.length&&this._flatten(f,o,c),delete c.children}},this)},r.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},r.type="graphic",r.defaultOption={elements:[]},r}(Yr),FV={path:null,compoundPath:null,group:Ye,image:ka,text:Hr},Gs=br(),MQ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(){this._elMap=ve()},r.prototype.render=function(e,o,l){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,l)},r.prototype._updateElements=function(e){var o=e.useElOptionsToUpdate();if(o){var l=this._elMap,c=this.group,f=e.get("z"),d=e.get("zlevel");it(o,function(p){var y=Pa(p.id,null),b=y!=null?l.get(y):null,x=Pa(p.parentId,null),S=x!=null?l.get(x):c,T=p.type,A=p.style;T==="text"&&A&&p.hv&&p.hv[1]&&(A.textVerticalAlign=A.textBaseline=A.verticalAlign=A.align=null);var E=p.textContent,L=p.textConfig;if(A&&hL(A,T,!!L,!!E)){var I=dL(A,T,!0);!L&&I.textConfig&&(L=p.textConfig=I.textConfig),!E&&I.textContent&&(E=I.textContent)}var N=GV(p),F=p.$action||"merge",W=F==="merge",X=F==="replace";if(W){var $=!b,K=b;$?K=jV(y,S,p.type,l):(K&&(Gs(K).isNew=!1),mL(K)),K&&(nM(K,N,e,{isInit:$}),VV(K,p,f,d))}else if(X){jM(b,p,l,e);var et=jV(y,S,p.type,l);et&&(nM(et,N,e,{isInit:!0}),VV(et,p,f,d))}else F==="remove"&&(vb(b,p),jM(b,p,l,e));var at=l.get(y);if(at&&E)if(W){var ot=at.getTextContent();ot?ot.attr(E):at.setTextContent(new Hr(E))}else X&&at.setTextContent(new Hr(E));if(at){var ht=p.clipPath;if(ht){var yt=ht.type,vt=void 0,$=!1;if(W){var bt=at.getClipPath();$=!bt||Gs(bt).type!==yt,vt=$?gD(yt):bt}else X&&($=!0,vt=gD(yt));at.setClipPath(vt),nM(vt,ht,e,{isInit:$}),oM(vt,ht.keyframeAnimation,e)}var Mt=Gs(at);at.setTextConfig(L),Mt.option=p,dc(at,e,p),uh({el:at,componentModel:e,itemName:at.name,itemTooltipOption:p.tooltip}),oM(at,p.keyframeAnimation,e)}})}},r.prototype._relocate=function(e,o){for(var l=e.option.elements,c=this.group,f=this._elMap,d=o.getWidth(),p=o.getHeight(),y=["x","y"],b=0;b<l.length;b++){var x=l[b],S=Pa(x.id,null),T=S!=null?f.get(S):null;if(!(!T||!T.isGroup)){var A=T.parent,E=A===c,L=Gs(T),I=Gs(A);L.width=de(L.option.width,E?d:I.width)||0,L.height=de(L.option.height,E?p:I.height)||0}}for(var b=l.length-1;b>=0;b--){var x=l[b],S=Pa(x.id,null),T=S!=null?f.get(S):null;if(T){var A=T.parent,I=Gs(A),N=A===c?{width:d,height:p}:{width:I.width,height:I.height},F={},W=Yl(T,x,N,null,{hv:x.hv,boundingMode:x.bounding},F);if(!Gs(T).isNew&&W){for(var X=x.transition,$={},K=0;K<y.length;K++){var et=y[K],at=F[et];X&&(qh(X)||Xe(X,et)>=0)?$[et]=at:T[et]=at}Qr(T,$,e,0)}else T.attr(F)}}},r.prototype._clear=function(){var e=this,o=this._elMap;o.each(function(l){jM(l,Gs(l).option,o,e._lastGraphicModel)}),this._elMap=ve()},r.prototype.dispose=function(){this._clear()},r.type="graphic",r}(ui);function gD(n){var r=gt(FV,n)?FV[n]:Hu(n),e=new r({});return Gs(e).type=n,e}function jV(n,r,e,o){var l=gD(e);return r.add(l),o.set(n,l),Gs(l).id=n,Gs(l).isNew=!0,l}function jM(n,r,e,o){var l=n&&n.parent;l&&(n.type==="group"&&n.traverse(function(c){jM(c,r,e,o)}),iM(n,r,o),e.removeKey(Gs(n).id))}function VV(n,r,e,o){n.isGroup||it([["cursor",Fi.prototype.cursor],["zlevel",o||0],["z",e||0],["z2",0]],function(l){var c=l[0];gt(r,c)?n[c]=fe(r[c],l[1]):n[c]==null&&(n[c]=l[1])}),it(vr(r),function(l){if(l.indexOf("on")===0){var c=r[l];n[l]=ze(c)?c:null}}),gt(r,"draggable")&&(n.draggable=r.draggable),r.name!=null&&(n.name=r.name),r.id!=null&&(n.id=r.id)}function GV(n){return n=Wt({},n),it(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Wd),function(r){delete n[r]}),n}function dc(n,r,e){var o=nr(n).eventData;!n.silent&&!n.ignore&&!o&&(o=nr(n).eventData={componentType:"graphic",componentIndex:r.componentIndex,name:n.name}),o&&(o.info=e.info)}function yD(n){n.registerComponentModel(zV),n.registerComponentView(MQ),n.registerPreprocessor(function(r){var e=r.graphic;Ut(e)?!e[0]||!e[0].elements?r.graphic=[{elements:e}]:r.graphic=[r.graphic[0]]:e&&!e.elements&&(r.graphic=[{elements:[e]}])})}var VM=["x","y","radius","angle","single"],TQ=["cartesian2d","polar","singleAxis"];function WV(n){var r=n.get("coordinateSystem");return Xe(TQ,r)>=0}function du(n){return n+"Axis"}function OQ(n){return n+"AxisIndex"}function Ent(n){return n+"AxisId"}function AQ(n,r){var e=ve(),o=[],l=ve();n.eachComponent({mainType:"dataZoom",query:r},function(b){l.get(b.uid)||d(b)});var c;do c=!1,n.eachComponent("dataZoom",f);while(c);function f(b){!l.get(b.uid)&&p(b)&&(d(b),c=!0)}function d(b){l.set(b.uid,!0),o.push(b),y(b)}function p(b){var x=!1;return b.eachTargetAxis(function(S,T){var A=e.get(S);A&&A[T]&&(x=!0)}),x}function y(b){b.eachTargetAxis(function(x,S){(e.get(x)||e.set(x,[]))[S]=!0})}return o}function mD(n){var r=n.ecModel,e={infoList:[],infoMap:ve()};return n.eachTargetAxis(function(o,l){var c=r.getComponent(du(o),l);if(c){var f=c.getCoordSysModel();if(f){var d=f.uid,p=e.infoMap.get(d);p||(p={model:f,axisModels:[]},e.infoList.push(p),e.infoMap.set(d,p)),p.axisModels.push(c)}}}),e}var Zv=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(r){this.indexMap[r]||(this.indexList.push(r),this.indexMap[r]=!0)},n}(),bD=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return r.prototype.init=function(e,o,l){var c=HV(e);this.settledOption=c,this.mergeDefaultAndTheme(e,l),this._doInit(c)},r.prototype.mergeOption=function(e){var o=HV(e);lr(this.option,e,!0),lr(this.settledOption,o,!0),this._doInit(o)},r.prototype._doInit=function(e){var o=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var l=this.settledOption;it([["start","startValue"],["end","endValue"]],function(c,f){this._rangePropMode[f]==="value"&&(o[c[0]]=l[c[0]]=null)},this),this._resetTarget()},r.prototype._resetTarget=function(){var e=this.get("orient",!0),o=this._targetAxisInfoMap=ve(),l=this._fillSpecifiedTargetAxis(o);l?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(c){c.indexList.length&&(this._noTarget=!1)},this)},r.prototype._fillSpecifiedTargetAxis=function(e){var o=!1;return it(VM,function(l){var c=this.getReferringComponents(du(l),cW);if(c.specified){o=!0;var f=new Zv;it(c.models,function(d){f.add(d.componentIndex)}),e.set(l,f)}},this),o},r.prototype._fillAutoTargetAxisByOrient=function(e,o){var l=this.ecModel,c=!0;if(c){var f=o==="vertical"?"y":"x",d=l.findComponents({mainType:f+"Axis"});p(d,f)}if(c){var d=l.findComponents({mainType:"singleAxis",filter:function(b){return b.get("orient",!0)===o}});p(d,"single")}function p(y,b){var x=y[0];if(x){var S=new Zv;if(S.add(x.componentIndex),e.set(b,S),c=!1,b==="x"||b==="y"){var T=x.getReferringComponents("grid",bi).models[0];T&&it(y,function(A){x.componentIndex!==A.componentIndex&&T===A.getReferringComponents("grid",bi).models[0]&&S.add(A.componentIndex)})}}}c&&it(VM,function(y){if(c){var b=l.findComponents({mainType:du(y),filter:function(S){return S.get("type",!0)==="category"}});if(b[0]){var x=new Zv;x.add(b[0].componentIndex),e.set(y,x),c=!1}}},this)},r.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(o){!e&&(e=o)},this),e==="y"?"vertical":"horizontal"},r.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},r.prototype._updateRangeUse=function(e){var o=this._rangePropMode,l=this.get("rangeMode");it([["start","startValue"],["end","endValue"]],function(c,f){var d=e[c[0]]!=null,p=e[c[1]]!=null;d&&!p?o[f]="percent":!d&&p?o[f]="value":l?o[f]=l[f]:d&&(o[f]="percent")})},r.prototype.noTarget=function(){return this._noTarget},r.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(o,l){e==null&&(e=this.ecModel.getComponent(du(o),l))},this),e},r.prototype.eachTargetAxis=function(e,o){this._targetAxisInfoMap.each(function(l,c){it(l.indexList,function(f){e.call(o,c,f)})})},r.prototype.getAxisProxy=function(e,o){var l=this.getAxisModel(e,o);if(l)return l.__dzAxisProxy},r.prototype.getAxisModel=function(e,o){var l=this._targetAxisInfoMap.get(e);if(l&&l.indexMap[o])return this.ecModel.getComponent(du(e),o)},r.prototype.setRawRange=function(e){var o=this.option,l=this.settledOption;it([["start","startValue"],["end","endValue"]],function(c){(e[c[0]]!=null||e[c[1]]!=null)&&(o[c[0]]=l[c[0]]=e[c[0]],o[c[1]]=l[c[1]]=e[c[1]])},this),this._updateRangeUse(e)},r.prototype.setCalculatedRange=function(e){var o=this.option;it(["start","startValue","end","endValue"],function(l){o[l]=e[l]})},r.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},r.prototype.getValueRange=function(e,o){if(e==null&&o==null){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataValueWindow()}else return this.getAxisProxy(e,o).getDataValueWindow()},r.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var o,l=this._targetAxisInfoMap.keys(),c=0;c<l.length;c++)for(var f=l[c],d=this._targetAxisInfoMap.get(f),p=0;p<d.indexList.length;p++){var y=this.getAxisProxy(f,d.indexList[p]);if(y.hostedBy(this))return y;o||(o=y)}return o},r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},r.prototype.getOrient=function(){return this._orient},r.type="dataZoom",r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],r.defaultOption={z:4,filterMode:"filter",start:0,end:100},r}(Yr);function HV(n){var r={};return it(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(r[e]=n[e])}),r}var Kv=bD,CQ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="dataZoom.select",r}(Kv),Cb=CQ,PQ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l,c){this.dataZoomModel=e,this.ecModel=o,this.api=l},r.type="dataZoom",r}(ui),GM=PQ,WM=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="dataZoom.select",r}(GM),YV=WM,My=it,Ty=bs,EQ=function(){function n(r,e,o,l){this._dimName=r,this._axisIndex=e,this.ecModel=l,this._dataZoomModel=o}return n.prototype.hostedBy=function(r){return this._dataZoomModel===r},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var r=[];return this.ecModel.eachSeries(function(e){if(WV(e)){var o=du(this._dimName),l=e.getReferringComponents(o,bi).models[0];l&&this._axisIndex===l.componentIndex&&r.push(e)}},this),r},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Ne(this._minMaxSpan)},n.prototype.calculateDataWindow=function(r){var e=this._dataExtent,o=this.getAxisModel(),l=o.axis.scale,c=this._dataZoomModel.getRangePropMode(),f=[0,100],d=[],p=[],y;My(["start","end"],function(S,T){var A=r[S],E=r[S+"Value"];c[T]==="percent"?(A==null&&(A=f[T]),E=l.parse(vn(A,f,e))):(y=!0,E=E==null?e[T]:l.parse(E),A=vn(E,e,f)),p[T]=E==null||isNaN(E)?e[T]:E,d[T]=A==null||isNaN(A)?f[T]:A}),Ty(p),Ty(d);var b=this._minMaxSpan;y?x(p,d,e,f,!1):x(d,p,f,e,!0);function x(S,T,A,E,L){var I=L?"Span":"ValueSpan";Hh(0,S,A,"all",b["min"+I],b["max"+I]);for(var N=0;N<2;N++)T[N]=vn(S[N],A,E,!0),L&&(T[N]=l.parse(T[N]))}return{valueWindow:p,percentWindow:d}},n.prototype.reset=function(r){if(r===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=UV(this,this._dimName,e),this._updateMinMaxSpan();var o=this.calculateDataWindow(r.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(r,e){if(r!==this._dataZoomModel)return;var o=this._dimName,l=this.getTargetSeriesModels(),c=r.get("filterMode"),f=this._valueWindow;if(c==="none")return;My(l,function(p){var y=p.getData(),b=y.mapDimensionsAll(o);if(b.length){if(c==="weakFilter"){var x=y.getStore(),S=Gt(b,function(T){return y.getDimensionIndex(T)},y);y.filterSelf(function(T){for(var A,E,L,I=0;I<b.length;I++){var N=x.get(S[I],T),F=!isNaN(N),W=N<f[0],X=N>f[1];if(F&&!W&&!X)return!0;F&&(L=!0),W&&(A=!0),X&&(E=!0)}return L&&A&&E})}else My(b,function(T){if(c==="empty")p.setData(y=y.map(T,function(E){return d(E)?E:NaN}));else{var A={};A[T]=f,y.selectRange(A)}});My(b,function(T){y.setApproximateExtent(f,T)})}});function d(p){return p>=f[0]&&p<=f[1]}},n.prototype._updateMinMaxSpan=function(){var r=this._minMaxSpan={},e=this._dataZoomModel,o=this._dataExtent;My(["min","max"],function(l){var c=e.get(l+"Span"),f=e.get(l+"ValueSpan");f!=null&&(f=this.getAxisModel().axis.scale.parse(f)),f!=null?c=vn(o[0]+f,o,[0,100],!0):c!=null&&(f=vn(c,[0,100],o,!0)-o[0]),r[l+"Span"]=c,r[l+"ValueSpan"]=f},this)},n.prototype._setAxisModel=function(){var r=this.getAxisModel(),e=this._percentWindow,o=this._valueWindow;if(e){var l=OR(o,[0,500]);l=Math.min(l,20);var c=r.axis.scale.rawExtentInfo;e[0]!==0&&c.setDeterminedMinMax("min",+o[0].toFixed(l)),e[1]!==100&&c.setDeterminedMinMax("max",+o[1].toFixed(l)),c.freeze()}},n}();function UV(n,r,e){var o=[1/0,-1/0];My(e,function(f){HU(o,f.getData(),r)});var l=n.getAxisModel(),c=mz(l.axis.scale,l,o).calculate();return[c.min,c.max]}var kQ=EQ,Pb={getTargetSeries:function(n){function r(l){n.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(f,d){var p=n.getComponent(du(f),d);l(f,d,p,c)})})}r(function(l,c,f,d){f.__dzAxisProxy=null});var e=[];r(function(l,c,f,d){f.__dzAxisProxy||(f.__dzAxisProxy=new kQ(l,c,d,n),e.push(f.__dzAxisProxy))});var o=ve();return it(e,function(l){it(l.getTargetSeriesModels(),function(c){o.set(c.uid,c)})}),o},overallReset:function(n,r){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(o,l){e.getAxisProxy(o,l).reset(e)}),e.eachTargetAxis(function(o,l){e.getAxisProxy(o,l).filterData(e,r)})}),n.eachComponent("dataZoom",function(e){var o=e.findRepresentativeAxisProxy();if(o){var l=o.getDataPercentWindow(),c=o.getDataValueWindow();e.setCalculatedRange({start:l[0],end:l[1],startValue:c[0],endValue:c[1]})}})}},Eb=Pb;function kb(n){n.registerAction("dataZoom",function(r,e){var o=AQ(e,r);it(o,function(l){l.setRawRange({start:r.start,end:r.end,startValue:r.startValue,endValue:r.endValue})})})}var Oy=!1;function Ay(n){Oy||(Oy=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Eb),kb(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function LQ(n){n.registerComponentModel(Cb),n.registerComponentView(YV),Ay(n)}var us=function(){function n(){}return n}(),XV={};function nd(n,r){XV[n]=r}function $V(n){return XV[n]}var DQ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;it(this.option.feature,function(o,l){var c=$V(l);c&&(c.getDefaultOption&&(c.defaultOption=c.getDefaultOption(e)),lr(o,c.defaultOption))})},r.type="toolbox",r.layoutMode={type:"box",ignoreSize:!0},r.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:Rt.color.border,borderRadius:0,borderWidth:0,padding:Rt.size.m,itemSize:15,itemGap:Rt.size.s,showTitle:!0,iconStyle:{borderColor:Rt.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:Rt.color.accent50}},tooltip:{show:!1,position:"bottom"}},r}(Yr),_D=DQ;function qV(n,r){var e=Vp(r.get("padding")),o=r.getItemStyle(["color","opacity"]);o.fill=r.get("backgroundColor");var l=new kr({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:r.get("borderRadius")},style:o,silent:!0,z2:-1});return l}var xD=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(e,o,l,c){var f=this.group;if(f.removeAll(),!e.get("show"))return;var d=+e.get("itemSize"),p=e.get("orient")==="vertical",y=e.get("feature")||{},b=this._features||(this._features={}),x=[];it(y,function(N,F){x.push(F)}),new qu(this._featureNames||[],x).add(S).update(S).remove(hr(S,null)).execute(),this._featureNames=x;function S(N,F){var W=x[N],X=x[F],$=y[W],K=new an($,e,e.ecModel),et;if(c&&c.newTitle!=null&&c.featureName===W&&($.title=c.newTitle),W&&!X){if(IQ(W))et={onclick:K.option.onclick,featureName:W};else{var at=$V(W);if(!at)return;et=new at}b[W]=et}else if(et=b[X],!et)return;et.uid=zp("toolbox-feature"),et.model=K,et.ecModel=o,et.api=l;var ot=et instanceof us;if(!W&&X){ot&&et.dispose&&et.dispose(o,l);return}if(!K.get("show")||ot&&et.unusable){ot&&et.remove&&et.remove(o,l);return}T(K,et,W),K.setIconStatus=function(ht,yt){var vt=this.option,bt=this.iconPaths;vt.iconStatus=vt.iconStatus||{},vt.iconStatus[ht]=yt,bt[ht]&&(yt==="emphasis"?Pc:Bu)(bt[ht])},et instanceof us&&et.render&&et.render(K,o,l,c)}function T(N,F,W){var X=N.getModel("iconStyle"),$=N.getModel(["emphasis","iconStyle"]),K=F instanceof us&&F.getIcons?F.getIcons():N.get("icon"),et=N.get("title")||{},at,ot;oe(K)?(at={},at[W]=K):at=K,oe(et)?(ot={},ot[W]=et):ot=et;var ht=N.iconPaths={};it(at,function(yt,vt){var bt=ov(yt,{},{x:-d/2,y:-d/2,width:d,height:d});bt.setStyle(X.getItemStyle());var Mt=bt.ensureState("emphasis");Mt.style=$.getItemStyle();var St=new Hr({style:{text:ot[vt],align:$.get("textAlign"),borderRadius:$.get("textBorderRadius"),padding:$.get("textPadding"),fill:null,font:z0({fontStyle:$.get("textFontStyle"),fontFamily:$.get("textFontFamily"),fontSize:$.get("textFontSize"),fontWeight:$.get("textFontWeight")},o)},ignore:!0});bt.setTextContent(St),uh({el:bt,componentModel:e,itemName:vt,formatterParamsExtra:{title:ot[vt]}}),bt.__title=ot[vt],bt.on("mouseover",function(){var Pt=$.getItemStyle(),Et=p?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";St.setStyle({fill:$.get("textFill")||Pt.fill||Pt.stroke||Rt.color.neutral99,backgroundColor:$.get("textBackgroundColor")}),bt.setTextConfig({position:$.get("textPosition")||Et}),St.ignore=!e.get("showTitle"),l.enterEmphasis(this)}).on("mouseout",function(){N.get(["iconStatus",vt])!=="emphasis"&&l.leaveEmphasis(this),St.hide()}),(N.get(["iconStatus",vt])==="emphasis"?Pc:Bu)(bt),f.add(bt),bt.on("click",ue(F.onclick,F,o,l,vt)),ht[vt]=bt})}var A=ya(e,l).refContainer,E=e.getBoxLayoutParams(),L=e.get("padding"),I=Wn(E,A,L);Yd(e.get("orient"),f,e.get("itemGap"),I.width,I.height),Yl(f,E,A,L),f.add(qV(f.getBoundingRect(),e)),p||f.eachChild(function(N){var F=N.__title,W=N.ensureState("emphasis"),X=W.textConfig||(W.textConfig={}),$=N.getTextContent(),K=$&&$.ensureState("emphasis");if(K&&!ze(K)&&F){var et=K.style||(K.style={}),at=C_(F,Hr.makeFont(et)),ot=N.x+f.x,ht=N.y+f.y+d,yt=!1;ht+at.height>l.getHeight()&&(X.position="top",yt=!0);var vt=yt?-5-at.height:d+10;ot+at.width/2>l.getWidth()?(X.position=["100%",vt],et.align="right"):ot-at.width/2<0&&(X.position=[0,vt],et.align="left")}})},r.prototype.updateView=function(e,o,l,c){it(this._features,function(f){f instanceof us&&f.updateView&&f.updateView(f.model,o,l,c)})},r.prototype.remove=function(e,o){it(this._features,function(l){l instanceof us&&l.remove&&l.remove(e,o)}),this.group.removeAll()},r.prototype.dispose=function(e,o){it(this._features,function(l){l instanceof us&&l.dispose&&l.dispose(e,o)})},r.type="toolbox",r}(ui);function IQ(n){return n.indexOf("my")===0}var wD=xD,RQ=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.onclick=function(e,o){var l=this.model,c=l.get("name")||e.get("title.0.text")||"echarts",f=o.getZr().painter.getType()==="svg",d=f?"svg":l.get("type",!0)||"png",p=o.getConnectedDataURL({type:d,backgroundColor:l.get("backgroundColor",!0)||e.get("backgroundColor")||Rt.color.neutral00,connectedBackgroundColor:l.get("connectedBackgroundColor"),excludeComponents:l.get("excludeComponents"),pixelRatio:l.get("pixelRatio")}),y=cr.browser;if(typeof MouseEvent=="function"&&(y.newEdge||!y.ie&&!y.edge)){var b=document.createElement("a");b.download=c+"."+d,b.target="_blank",b.href=p;var x=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(x)}else if(window.navigator.msSaveOrOpenBlob||f){var S=p.split(","),T=S[0].indexOf("base64")>-1,A=f?decodeURIComponent(S[1]):S[1];T&&(A=window.atob(A));var E=c+"."+d;if(window.navigator.msSaveOrOpenBlob){for(var L=A.length,I=new Uint8Array(L);L--;)I[L]=A.charCodeAt(L);var N=new Blob([I]);window.navigator.msSaveOrOpenBlob(N,E)}else{var F=document.createElement("iframe");document.body.appendChild(F);var W=F.contentWindow,X=W.document;X.open("image/svg+xml","replace"),X.write(A),X.close(),W.focus(),X.execCommand("SaveAs",!0,E),document.body.removeChild(F)}}else{var $=l.get("lang"),K='<body style="margin:0;"><img src="'+p+'" style="max-width:100%;" title="'+($&&$[0]||"")+'" /></body>',et=window.open();et.document.write(K),et.document.title=c}},r.getDefaultOption=function(e){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:Rt.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},r}(us),SD=RQ,ZV="__ec_magicType_stack__",knt=null,Lnt=null,NQ=[["line","bar"],["stack"]],BQ=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getIcons=function(){var e=this.model,o=e.get("icon"),l={};return it(e.get("type"),function(c){o[c]&&(l[c]=o[c])}),l},r.getDefaultOption=function(e){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},r.prototype.onclick=function(e,o,l){var c=this.model,f=c.get(["seriesIndex",l]);if(KV[l]){var d={series:[]},p=function(x){var S=x.subType,T=x.id,A=KV[l](S,T,x,c);A&&(je(A,x.option),d.series.push(A));var E=x.coordinateSystem;if(E&&E.type==="cartesian2d"&&(l==="line"||l==="bar")){var L=E.getAxesByScale("ordinal")[0];if(L){var I=L.dim,N=I+"Axis",F=x.getReferringComponents(N,bi).models[0],W=F.componentIndex;d[N]=d[N]||[];for(var X=0;X<=W;X++)d[N][W]=d[N][W]||{};d[N][W].boundaryGap=l==="bar"}}};it(NQ,function(x){Xe(x,l)>=0&&it(x,function(S){c.setIconStatus(S,"normal")})}),c.setIconStatus(l,"emphasis"),e.eachComponent({mainType:"series",query:f==null?null:{seriesIndex:f}},p);var y,b=l;l==="stack"&&(y=lr({stack:c.option.title.tiled,tiled:c.option.title.stack},c.option.title),c.get(["iconStatus",l])!=="emphasis"&&(b="tiled")),o.dispatchAction({type:"changeMagicType",currentType:b,newOption:d,newTitle:y,featureName:"magicType"})}},r}(us),KV={line:function(n,r,e,o){if(n==="bar")return lr({id:r,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(n,r,e,o){if(n==="line")return lr({id:r,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(n,r,e,o){var l=e.get("stack")===ZV;if(n==="line"||n==="bar")return o.setIconStatus("stack",l?"normal":"emphasis"),lr({id:r,stack:l?"":ZV},o.get(["option","stack"])||{},!0)}};_a({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,r){r.mergeOption(n.newOption)});var zQ=BQ,HM=new Array(60).join("-"),Cy="	";function FQ(n){var r={},e=[],o=[];return n.eachRawSeries(function(l){var c=l.coordinateSystem;if(c&&(c.type==="cartesian2d"||c.type==="polar")){var f=c.getBaseAxis();if(f.type==="category"){var d=f.dim+"_"+f.index;r[d]||(r[d]={categoryAxis:f,valueAxis:c.getOtherAxis(f),series:[]},o.push({axisDim:f.dim,axisIndex:f.index})),r[d].series.push(l)}else e.push(l)}else e.push(l)}),{seriesGroupByCategoryAxis:r,other:e,meta:o}}function QV(n){var r=[];return it(n,function(e,o){var l=e.categoryAxis,c=e.valueAxis,f=c.dim,d=[" "].concat(Gt(e.series,function(T){return T.name})),p=[l.model.getCategories()];it(e.series,function(T){var A=T.getRawData();p.push(T.getRawData().mapArray(A.mapDimension(f),function(E){return E}))});for(var y=[d.join(Cy)],b=0;b<p[0].length;b++){for(var x=[],S=0;S<p.length;S++)x.push(p[S][b]);y.push(x.join(Cy))}r.push(y.join(`
`))}),r.join(`

`+HM+`

`)}function JV(n){return Gt(n,function(r){var e=r.getRawData(),o=[r.name],l=[];return e.each(e.dimensions,function(){for(var c=arguments.length,f=arguments[c-1],d=e.getName(f),p=0;p<c-1;p++)l[p]=arguments[p];o.push((d?d+Cy:"")+l.join(Cy))}),o.join(`
`)}).join(`

`+HM+`

`)}function jQ(n){var r=FQ(n);return{value:Zr([QV(r.seriesGroupByCategoryAxis),JV(r.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+HM+`

`),meta:r.meta}}function Lb(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VQ(n){var r=n.slice(0,n.indexOf(`
`));if(r.indexOf(Cy)>=0)return!0}var MD=new RegExp("["+Cy+"]+","g");function tG(n){for(var r=n.split(/\n+/g),e=Lb(r.shift()).split(MD),o=[],l=Gt(e,function(p){return{name:p,data:[]}}),c=0;c<r.length;c++){var f=Lb(r[c]).split(MD);o.push(f.shift());for(var d=0;d<f.length;d++)l[d]&&(l[d].data[c]=f[d])}return{series:l,categories:o}}function GQ(n){for(var r=n.split(/\n+/g),e=Lb(r.shift()),o=[],l=0;l<r.length;l++){var c=Lb(r[l]);if(c){var f=c.split(MD),d="",p=void 0,y=!1;isNaN(f[0])?(y=!0,d=f[0],f=f.slice(1),o[l]={name:d,value:[]},p=o[l].value):p=o[l]=[];for(var b=0;b<f.length;b++)p.push(+f[b]);p.length===1&&(y?o[l].value=p[0]:o[l]=p[0])}}return{name:e,data:o}}function WQ(n,r){var e=n.split(new RegExp(`
*`+HM+`
*`,"g")),o={series:[]};return it(e,function(l,c){if(VQ(l)){var f=tG(l),d=r[c],p=d.axisDim+"Axis";d&&(o[p]=o[p]||[],o[p][d.axisIndex]={data:f.categories},o.series=o.series.concat(f.series))}else{var f=GQ(l);o.series.push(f)}}),o}var HQ=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.onclick=function(e,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var l=o.getDom(),c=this.model;this._dom&&l.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",f.style.backgroundColor=c.get("backgroundColor")||Rt.color.neutral00;var d=document.createElement("h4"),p=c.get("lang")||[];d.innerHTML=p[0]||c.get("title"),d.style.cssText="margin:10px 20px",d.style.color=c.get("textColor");var y=document.createElement("div"),b=document.createElement("textarea");y.style.cssText="overflow:auto";var x=c.get("optionToContent"),S=c.get("contentToOption"),T=jQ(e);if(ze(x)){var A=x(o.getOption());oe(A)?y.innerHTML=A:Uo(A)&&y.appendChild(A)}else{b.readOnly=c.get("readOnly");var E=b.style;E.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",E.color=c.get("textColor"),E.borderColor=c.get("textareaBorderColor"),E.backgroundColor=c.get("textareaColor"),b.value=T.value,y.appendChild(b)}var L=T.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:5px;left:0;right:0";var N="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",F=document.createElement("div"),W=document.createElement("div");N+=";background-color:"+c.get("buttonColor"),N+=";color:"+c.get("buttonTextColor");var X=this;function $(){l.removeChild(f),X._dom=null}jI(F,"click",$),jI(W,"click",function(){if(S==null&&x!=null||S!=null&&x==null){$();return}var K;try{ze(S)?K=S(y,o.getOption()):K=WQ(b.value,L)}catch(et){throw $(),new Error("Data view format error "+et)}K&&o.dispatchAction({type:"changeDataView",newOption:K}),$()}),F.innerHTML=p[1],W.innerHTML=p[2],W.style.cssText=F.style.cssText=N,!c.get("readOnly")&&I.appendChild(W),I.appendChild(F),f.appendChild(d),f.appendChild(y),f.appendChild(I),y.style.height=l.clientHeight-80+"px",l.appendChild(f),this._dom=f},r.prototype.remove=function(e,o){this._dom&&o.getDom().removeChild(this._dom)},r.prototype.dispose=function(e,o){this.remove(e,o)},r.getDefaultOption=function(e){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:Rt.color.background,textColor:Rt.color.primary,textareaColor:Rt.color.background,textareaBorderColor:Rt.color.border,buttonColor:Rt.color.accent50,buttonTextColor:Rt.color.neutral00};return o},r}(us);function YQ(n,r){return Gt(n,function(e,o){var l=r&&r[o];if(ce(l)&&!Ut(l)){var c=ce(e)&&!Ut(e);c||(e={value:e});var f=l.name!=null&&e.name==null;return e=je(e,l),f&&delete e.name,e}else return e})}_a({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,r){var e=[];it(n.newOption.series,function(o){var l=r.getSeriesByName(o.name)[0];if(!l)e.push(Wt({type:"scatter"},o));else{var c=l.get("data");e.push({name:o.name,data:YQ(o.data,c)})}}),r.mergeOption(je({series:e},n.newOption))});var Go=HQ,eG=it,rG=br();function UQ(n,r){var e=TD(n);eG(r,function(o,l){for(var c=e.length-1;c>=0;c--){var f=e[c];if(f[l])break}if(c<0){var d=n.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(d){var p=d.getPercentRange();e[0][l]={dataZoomId:l,start:p[0],end:p[1]}}}}),e.push(r)}function XQ(n){var r=TD(n),e=r[r.length-1];r.length>1&&r.pop();var o={};return eG(e,function(l,c){for(var f=r.length-1;f>=0;f--)if(l=r[f][c],l){o[c]=l;break}}),o}function $Q(n){rG(n).snapshots=null}function qQ(n){return TD(n).length}function TD(n){var r=rG(n);return r.snapshots||(r.snapshots=[{}]),r.snapshots}var ZQ=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.onclick=function(e,o){$Q(e),o.dispatchAction({type:"restore",from:this.uid})},r.getDefaultOption=function(e){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return o},r}(us);_a({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,r){r.resetOption("recreate")});var KQ=ZQ,QQ=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],JQ=function(){function n(r,e,o){var l=this;this._targetInfoList=[];var c=UM(e,r);it(nG,function(f,d){(!o||!o.include||Xe(o.include,d)>=0)&&f(c,l._targetInfoList)})}return n.prototype.setOutputRanges=function(r,e){return this.matchOutputRanges(r,e,function(o,l,c){if((o.coordRanges||(o.coordRanges=[])).push(l),!o.coordRange){o.coordRange=l;var f=id[o.brushType](0,c,l);o.__rangeOffset={offset:OD[o.brushType](f.values,o.range,[1,1]),xyMinMax:f.xyMinMax}}}),r},n.prototype.matchOutputRanges=function(r,e,o){it(r,function(l){var c=this.findTargetInfo(l,e);c&&c!==!0&&it(c.coordSyses,function(f){var d=id[l.brushType](1,f,l.range,!0);o(l,d.values,f,e)})},this)},n.prototype.setInputRanges=function(r,e){it(r,function(o){var l=this.findTargetInfo(o,e);if(o.range=o.range||[],l&&l!==!0){o.panelId=l.panelId;var c=id[o.brushType](0,l.coordSys,o.coordRange),f=o.__rangeOffset;o.range=f?OD[o.brushType](c.values,f.offset,tJ(c.xyMinMax,f.xyMinMax)):c.values}},this)},n.prototype.makePanelOpts=function(r,e){return Gt(this._targetInfoList,function(o){var l=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:e?e(o):null,clipPath:C8(l),isTargetByCursor:E8(l,r,o.coordSysModel),getLinearBrushOtherExtent:P8(l)}})},n.prototype.controlSeries=function(r,e,o){var l=this.findTargetInfo(r,o);return l===!0||l&&Xe(l.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(r,e){for(var o=this._targetInfoList,l=UM(e,r),c=0;c<o.length;c++){var f=o[c],d=r.panelId;if(d){if(f.panelId===d)return f}else for(var p=0;p<Co.length;p++)if(Co[p](l,f))return f}return!0},n}();function YM(n){return n[0]>n[1]&&n.reverse(),n}function UM(n,r){return Cd(n,r,{includeMainTypes:QQ})}var nG={grid:function(n,r){var e=n.xAxisModels,o=n.yAxisModels,l=n.gridModels,c=ve(),f={},d={};!e&&!o&&!l||(it(e,function(p){var y=p.axis.grid.model;c.set(y.id,y),f[y.id]=!0}),it(o,function(p){var y=p.axis.grid.model;c.set(y.id,y),d[y.id]=!0}),it(l,function(p){c.set(p.id,p),f[p.id]=!0,d[p.id]=!0}),c.each(function(p){var y=p.coordinateSystem,b=[];it(y.getCartesians(),function(x,S){(Xe(e,x.getAxis("x").model)>=0||Xe(o,x.getAxis("y").model)>=0)&&b.push(x)}),r.push({panelId:"grid--"+p.id,gridModel:p,coordSysModel:p,coordSys:b[0],coordSyses:b,getPanelRect:cs.grid,xAxisDeclared:f[p.id],yAxisDeclared:d[p.id]})}))},geo:function(n,r){it(n.geoModels,function(e){var o=e.coordinateSystem;r.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:o,coordSyses:[o],getPanelRect:cs.geo})})}},Co=[function(n,r){var e=n.xAxisModel,o=n.yAxisModel,l=n.gridModel;return!l&&e&&(l=e.axis.grid.model),!l&&o&&(l=o.axis.grid.model),l&&l===r.gridModel},function(n,r){var e=n.geoModel;return e&&e===r.geoModel}],cs={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,r=n.getBoundingRect().clone();return r.applyTransform($e(n)),r}},id={lineX:hr(iG,0),lineY:hr(iG,1),rect:function(n,r,e,o){var l=n?r.pointToData([e[0][0],e[1][0]],o):r.dataToPoint([e[0][0],e[1][0]],o),c=n?r.pointToData([e[0][1],e[1][1]],o):r.dataToPoint([e[0][1],e[1][1]],o),f=[YM([l[0],c[0]]),YM([l[1],c[1]])];return{values:f,xyMinMax:f}},polygon:function(n,r,e,o){var l=[[1/0,-1/0],[1/0,-1/0]],c=Gt(e,function(f){var d=n?r.pointToData(f,o):r.dataToPoint(f,o);return l[0][0]=Math.min(l[0][0],d[0]),l[1][0]=Math.min(l[1][0],d[1]),l[0][1]=Math.max(l[0][1],d[0]),l[1][1]=Math.max(l[1][1],d[1]),d});return{values:c,xyMinMax:l}}};function iG(n,r,e,o){var l=e.getAxis(["x","y"][n]),c=YM(Gt([0,1],function(d){return r?l.coordToData(l.toLocalCoord(o[d]),!0):l.toGlobalCoord(l.dataToCoord(o[d]))})),f=[];return f[n]=c,f[1-n]=[NaN,NaN],{values:c,xyMinMax:f}}var OD={lineX:hr(Db,0),lineY:hr(Db,1),rect:function(n,r,e){return[[n[0][0]-e[0]*r[0][0],n[0][1]-e[0]*r[0][1]],[n[1][0]-e[1]*r[1][0],n[1][1]-e[1]*r[1][1]]]},polygon:function(n,r,e){return Gt(n,function(o,l){return[o[0]-e[0]*r[l][0],o[1]-e[1]*r[l][1]]})}};function Db(n,r,e,o){return[r[0]-o[n]*e[0],r[1]-o[n]*e[1]]}function tJ(n,r){var e=aG(n),o=aG(r),l=[e[0]/o[0],e[1]/o[1]];return isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l}function aG(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var XM=JQ,AD=it,Py=RR("toolbox-dataZoom_"),$M=null,Ib=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(e,o,l,c){this._brushController||(this._brushController=new ib(l.getZr()),this._brushController.on("brush",ue(this._onBrush,this)).mount()),qM(e,o,this,c,l),Rb(e,o)},r.prototype.onclick=function(e,o,l){oG[l].call(this)},r.prototype.remove=function(e,o){this._brushController&&this._brushController.unmount()},r.prototype.dispose=function(e,o){this._brushController&&this._brushController.dispose()},r.prototype._onBrush=function(e){var o=e.areas;if(!e.isEnd||!o.length)return;var l={},c=this.ecModel;this._brushController.updateCovers([]);var f=new XM(Ey(this.model),c,{include:["grid"]});f.matchOutputRanges(o,c,function(y,b,x){if(x.type==="cartesian2d"){var S=y.brushType;S==="rect"?(d("x",x,b[0]),d("y",x,b[1])):d({lineX:"x",lineY:"y"}[S],x,b)}}),UQ(c,l),this._dispatchZoomAction(l);function d(y,b,x){var S=b.getAxis(y),T=S.model,A=p(y,T,c),E=A.findRepresentativeAxisProxy(T).getMinMaxSpan();(E.minValueSpan!=null||E.maxValueSpan!=null)&&(x=Hh(0,x.slice(),S.scale.getExtent(),0,E.minValueSpan,E.maxValueSpan)),A&&(l[A.id]={dataZoomId:A.id,startValue:x[0],endValue:x[1]})}function p(y,b,x){var S;return x.eachComponent({mainType:"dataZoom",subType:"select"},function(T){var A=T.getAxisModel(y,b.componentIndex);A&&(S=T)}),S}},r.prototype._dispatchZoomAction=function(e){var o=[];AD(e,function(l,c){o.push(Ne(l))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},r.getDefaultOption=function(e){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:Rt.color.backgroundTint}};return o},r}(us),oG={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(XQ(this.ecModel))}};function Ey(n){var r={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return r.xAxisIndex==null&&r.xAxisId==null&&(r.xAxisIndex="all"),r.yAxisIndex==null&&r.yAxisId==null&&(r.yAxisIndex="all"),r}function Rb(n,r){n.setIconStatus("back",qQ(r)>1?"emphasis":"normal")}function qM(n,r,e,o,l){var c=e._isZoomActive;o&&o.type==="takeGlobalCursor"&&(c=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),e._isZoomActive=c,n.setIconStatus("zoom",c?"emphasis":"normal");var f=new XM(Ey(n),r,{include:["grid"]}),d=f.makePanelOpts(l,function(p){return p.xAxisDeclared&&!p.yAxisDeclared?"lineX":!p.xAxisDeclared&&p.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(d).enableBrush(c&&d.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}Fu("dataZoom",function(n){var r=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(!r||r.get(e)==null)return;var o=r.getModel(e),l=[],c=Ey(o),f=Cd(n,c);AD(f.xAxisModels,function(p){return d(p,"xAxis","xAxisIndex")}),AD(f.yAxisModels,function(p){return d(p,"yAxis","yAxisIndex")});function d(p,y,b){var x=p.componentIndex,S={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:Py+y+x};S[b]=x,l.push(S)}return l});var Qv=Ib;function ZM(n){n.registerComponentModel(_D),n.registerComponentView(wD),nd("saveAsImage",SD),nd("magicType",zQ),nd("dataView",Go),nd("dataZoom",Qv),nd("restore",KQ),_r(LQ)}var Nb=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="tooltip",r.dependencies=["axisPointer"],r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:Rt.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:Rt.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:Rt.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:Rt.color.tertiary,fontSize:14}},r}(Yr),sG=Nb;function CD(n){var r=n.get("confine");return r!=null?!!r:n.get("renderMode")==="richText"}function lG(n){if(cr.domSupported){for(var r=document.documentElement.style,e=0,o=n.length;e<o;e++)if(n[e]in r)return n[e]}}var KM=lG(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uG=lG(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function cG(n,r){if(!n)return r;r=fA(r,!0);var e=n.indexOf(r);return n=e===-1?r:"-"+n.slice(0,e)+"-"+r,n.toLowerCase()}function fG(n,r){var e=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return e?r?e[r]:e:null}var eJ=cG(uG,"transition"),PD=cG(KM,"transform"),ED="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(cr.transform3dSupported?"will-change:transform;":"");function rJ(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function nJ(n,r,e){if(!oe(e)||e==="inside")return"";var o=n.get("backgroundColor"),l=n.get("borderWidth");r=Gd(r);var c=rJ(e),f=Math.max(Math.round(l)*1.5,6),d="",p=PD+":",y;Xe(["left","right"],c)>-1?(d+="top:50%",p+="translateY(-50%) rotate("+(y=c==="left"?-225:-45)+"deg)"):(d+="left:50%",p+="translateX(-50%) rotate("+(y=c==="top"?225:45)+"deg)");var b=y*Math.PI/180,x=f+l,S=x*Math.abs(Math.cos(b))+x*Math.abs(Math.sin(b)),T=Math.round(((S-Math.SQRT2*l)/2+Math.SQRT2*l-(S-x)/2)*100)/100;d+=";"+c+":-"+T+"px";var A=r+" solid "+l+"px;",E=["position:absolute;width:"+f+"px;height:"+f+"px;z-index:-1;",d+";"+p+";","border-bottom:"+A,"border-right:"+A,"background-color:"+o+";"];return'<div style="'+E.join("")+'"></div>'}function hG(n,r,e){var o="cubic-bezier(0.23,1,0.32,1)",l="",c="";return e&&(l=" "+n/2+"s "+o,c="opacity"+l+",visibility"+l),r||(l=" "+n+"s "+o,c+=(c.length?",":"")+(cr.transformSupported?""+PD+l:",left"+l+",top"+l)),eJ+":"+c}function dG(n,r,e){var o=n.toFixed(0)+"px",l=r.toFixed(0)+"px";if(!cr.transformSupported)return e?"top:"+l+";left:"+o+";":[["top",l],["left",o]];var c=cr.transform3dSupported,f="translate"+(c?"3d":"")+"("+o+","+l+(c?",0":"")+")";return e?"top:0;left:0;"+PD+":"+f+";":[["top",0],["left",0],[KM,f]]}function iJ(n){var r=[],e=n.get("fontSize"),o=n.getTextColor();o&&r.push("color:"+o),r.push("font:"+n.getFont());var l=fe(n.get("lineHeight"),Math.round(e*3/2));e&&r.push("line-height:"+l+"px");var c=n.get("textShadowColor"),f=n.get("textShadowBlur")||0,d=n.get("textShadowOffsetX")||0,p=n.get("textShadowOffsetY")||0;return c&&f&&r.push("text-shadow:"+d+"px "+p+"px "+f+"px "+c),it(["decoration","align"],function(y){var b=n.get(y);b&&r.push("text-"+y+":"+b)}),r.join(";")}function aJ(n,r,e,o){var l=[],c=n.get("transitionDuration"),f=n.get("backgroundColor"),d=n.get("shadowBlur"),p=n.get("shadowColor"),y=n.get("shadowOffsetX"),b=n.get("shadowOffsetY"),x=n.getModel("textStyle"),S=R5(n,"html"),T=y+"px "+b+"px "+d+"px "+p;return l.push("box-shadow:"+T),r&&c>0&&l.push(hG(c,e,o)),f&&l.push("background-color:"+f),it(["width","color","radius"],function(A){var E="border-"+A,L=fA(E),I=n.get(L);I!=null&&l.push(E+":"+I+(A==="color"?"":"px"))}),l.push(iJ(x)),S!=null&&l.push("padding:"+Vp(S).join("px ")+"px"),l.join(";")+";"}function vG(n,r,e,o,l){var c=r&&r.painter;if(e){var f=c&&c.getViewportRoot();f&&BI(n,f,e,o,l)}else{n[0]=o,n[1]=l;var d=c&&c.getViewportRootOffset();d&&(n[0]+=d.offsetLeft,n[1]+=d.offsetTop)}n[2]=n[0]/r.getWidth(),n[3]=n[1]/r.getHeight()}var oJ=function(){function n(r,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,cr.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var l=this._zr=r.getZr(),c=e.appendTo,f=c&&(oe(c)?document.querySelector(c):Uo(c)?c:ze(c)&&c(r.getDom()));vG(this._styleCoord,l,f,r.getWidth()/2,r.getHeight()/2),(f||r.getDom()).appendChild(o),this._api=r,this._container=f;var d=this;o.onmouseenter=function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0},o.onmousemove=function(p){if(p=p||window.event,!d._enterable){var y=l.handler,b=l.painter.getViewportRoot();El(b,p,!0),y.dispatch("mousemove",p)}},o.onmouseleave=function(){d._inContent=!1,d._enterable&&d._show&&d.hideLater(d._hideDelay)}}return n.prototype.update=function(r){if(!this._container){var e=this._api.getDom(),o=fG(e,"position"),l=e.style;l.position!=="absolute"&&o!=="absolute"&&(l.position="relative")}var c=r.get("alwaysShowContent");c&&this._moveIfResized(),this._alwaysShowContent=c,this._enableDisplayTransition=r.get("displayTransition")&&r.get("transitionDuration")>0,this.el.className=r.get("className")||""},n.prototype.show=function(r,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,l=o.style,c=this._styleCoord;o.innerHTML?l.cssText=ED+aJ(r,!this._firstShow,this._longHide,this._enableDisplayTransition)+dG(c[0],c[1],!0)+("border-color:"+Gd(e)+";")+(r.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):l.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(r,e,o,l,c){var f=this.el;if(r==null){f.innerHTML="";return}var d="";if(oe(c)&&o.get("trigger")==="item"&&!CD(o)&&(d=nJ(o,l,c)),oe(r))f.innerHTML=r+d;else if(r){f.innerHTML="",Ut(r)||(r=[r]);for(var p=0;p<r.length;p++)Uo(r[p])&&r[p].parentNode!==f&&f.appendChild(r[p]);if(d&&f.childNodes.length){var y=document.createElement("div");y.innerHTML=d,f.appendChild(y)}}},n.prototype.setEnterable=function(r){this._enterable=r},n.prototype.getSize=function(){var r=this.el;return r?[r.offsetWidth,r.offsetHeight]:[0,0]},n.prototype.moveTo=function(r,e){if(this.el){var o=this._styleCoord;if(vG(o,this._zr,this._container,r,e),o[0]!=null&&o[1]!=null){var l=this.el.style,c=dG(o[0],o[1]);it(c,function(f){l[f[0]]=f[1]})}}},n.prototype._moveIfResized=function(){var r=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var r=this,e=this.el.style;this._enableDisplayTransition?(e.visibility="hidden",e.opacity="0"):e.display="none",cr.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return r._longHide=!0},500)},n.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(ue(this.hide,this),r)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this._zr;Vet(r&&r.painter&&r.painter.getViewportRoot(),this._container);var e=this.el;if(e){e.onmouseenter=e.onmousemove=e.onmouseleave=null;var o=e.parentNode;o&&o.removeChild(e)}this.el=this._container=null},n}(),sJ=oJ,lJ=function(){function n(r){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=r.getZr(),pG(this._styleCoord,this._zr,r.getWidth()/2,r.getHeight()/2)}return n.prototype.update=function(r){var e=r.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(r,e,o,l,c){var f=this;ce(r)&&un(""),this.el&&this._zr.remove(this.el);var d=o.getModel("textStyle");this.el=new Hr({style:{rich:e.richTextStyles,text:r,lineHeight:22,borderWidth:1,borderColor:l,textShadowColor:d.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:R5(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),it(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(y){f.el.style[y]=o.get(y)}),it(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(y){f.el.style[y]=d.get(y)||0}),this._zr.add(this.el);var p=this;this.el.on("mouseover",function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0}),this.el.on("mouseout",function(){p._enterable&&p._show&&p.hideLater(p._hideDelay),p._inContent=!1})},n.prototype.setEnterable=function(r){this._enterable=r},n.prototype.getSize=function(){var r=this.el,e=this.el.getBoundingRect(),o=kD(r.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},n.prototype.moveTo=function(r,e){var o=this.el;if(o){var l=this._styleCoord;pG(l,this._zr,r,e),r=l[0],e=l[1];var c=o.style,f=ad(c.borderWidth||0),d=kD(c);o.x=r+f+d.left,o.y=e+f+d.top,o.markRedraw()}},n.prototype._moveIfResized=function(){var r=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(ue(this.hide,this),r)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function ad(n){return Math.max(0,n)}function kD(n){var r=ad(n.shadowBlur||0),e=ad(n.shadowOffsetX||0),o=ad(n.shadowOffsetY||0);return{left:ad(r-e),right:ad(r+e),top:ad(r-o),bottom:ad(r+o)}}function pG(n,r,e,o){n[0]=e,n[1]=o,n[2]=n[0]/r.getWidth(),n[3]=n[1]/r.getHeight()}var uJ=lJ,cJ=new kr({shape:{x:-1,y:-1,width:2,height:2}}),fJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o){if(!(cr.node||!o.getDom())){var l=e.getComponent("tooltip"),c=this._renderMode=Irt(l.get("renderMode"));this._tooltipContent=c==="richText"?new uJ(o):new sJ(o,{appendTo:l.get("appendToBody",!0)?"body":l.get("appendTo",!0)})}},r.prototype.render=function(e,o,l){if(!(cr.node||!l.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=o,this._api=l;var c=this._tooltipContent;c.update(e),c.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?ks(this,"_updatePosition",50,"fixRate"):Yu(this,"_updatePosition")}},r.prototype._initGlobalListener=function(){var e=this._tooltipModel,o=e.get("triggerOn");cV("itemTooltip",this._api,ue(function(l,c,f){o!=="none"&&(o.indexOf(l)>=0?this._tryShow(c,f):l==="leave"&&this._hide(f))},this))},r.prototype._keepShow=function(){var e=this._tooltipModel,o=this._ecModel,l=this._api,c=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&c!=="none"&&c!=="click"){var f=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!l.isDisposed()&&f.manuallyShowTip(e,o,l,{x:f._lastX,y:f._lastY,dataByCoordSys:f._lastDataByCoordSys})})}},r.prototype.manuallyShowTip=function(e,o,l,c){if(!(c.from===this.uid||cr.node||!l.getDom())){var f=gG(c,l);this._ticket="";var d=c.dataByCoordSys,p=mG(c,o,l);if(p){var y=p.el.getBoundingRect().clone();y.applyTransform(p.el.transform),this._tryShow({offsetX:y.x+y.width/2,offsetY:y.y+y.height/2,target:p.el,position:c.position,positionDefault:"bottom"},f)}else if(c.tooltip&&c.x!=null&&c.y!=null){var b=cJ;b.x=c.x,b.y=c.y,b.update(),nr(b).tooltipConfig={name:null,option:c.tooltip},this._tryShow({offsetX:c.x,offsetY:c.y,target:b},f)}else if(d)this._tryShow({offsetX:c.x,offsetY:c.y,position:c.position,dataByCoordSys:d,tooltipOption:c.tooltipOption},f);else if(c.seriesIndex!=null){if(this._manuallyAxisShowTip(e,o,l,c))return;var x=RL(c,o),S=x.point[0],T=x.point[1];S!=null&&T!=null&&this._tryShow({offsetX:S,offsetY:T,target:x.el,position:c.position,positionDefault:"bottom"},f)}else c.x!=null&&c.y!=null&&(l.dispatchAction({type:"updateAxisPointer",x:c.x,y:c.y}),this._tryShow({offsetX:c.x,offsetY:c.y,position:c.position,target:l.getZr().findHover(c.x,c.y).target},f))}},r.prototype.manuallyHideTip=function(e,o,l,c){var f=this._tooltipContent;this._tooltipModel&&f.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,c.from!==this.uid&&this._hide(gG(c,l))},r.prototype._manuallyAxisShowTip=function(e,o,l,c){var f=c.seriesIndex,d=c.dataIndex,p=o.getComponent("axisPointer").coordSysAxesInfo;if(!(f==null||d==null||p==null)){var y=o.getSeriesByIndex(f);if(y){var b=y.getData(),x=Bb([b.getItemModel(d),y,(y.coordinateSystem||{}).model],this._tooltipModel);if(x.get("trigger")==="axis")return l.dispatchAction({type:"updateAxisPointer",seriesIndex:f,dataIndex:d,position:c.position}),!0}}},r.prototype._tryShow=function(e,o){var l=e.target,c=this._tooltipModel;if(c){this._lastX=e.offsetX,this._lastY=e.offsetY;var f=e.dataByCoordSys;if(f&&f.length)this._showAxisTooltip(f,e);else if(l){var d=nr(l);if(d.ssrType==="legend")return;this._lastDataByCoordSys=null;var p,y;fh(l,function(b){if(b.tooltipDisabled)return p=y=null,!0;p||y||(nr(b).dataIndex!=null?p=b:nr(b).tooltipConfig!=null&&(y=b))},!0),p?this._showSeriesItemTooltip(e,p,o):y?this._showComponentItemTooltip(e,y,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},r.prototype._showOrMove=function(e,o){var l=e.get("showDelay");o=ue(o,this),clearTimeout(this._showTimout),l>0?this._showTimout=setTimeout(o,l):o()},r.prototype._showAxisTooltip=function(e,o){var l=this._ecModel,c=this._tooltipModel,f=[o.offsetX,o.offsetY],d=Bb([o.tooltipOption],c),p=this._renderMode,y=[],b=Li("section",{blocks:[],noHeader:!0}),x=[],S=new Qx;it(e,function(N){it(N.dataByAxis,function(F){var W=l.getComponent(F.axisDim+"Axis",F.axisIndex),X=F.value;if(!(!W||X==null)){var $=rV(X,W.axis,l,F.seriesDataIndices,F.valueLabelOpt),K=Li("section",{header:$,noHeader:!Xo($),sortBlocks:!0,blocks:[]});b.blocks.push(K),it(F.seriesDataIndices,function(et){var at=l.getSeriesByIndex(et.seriesIndex),ot=et.dataIndexInside,ht=at.getDataParams(ot);if(!(ht.dataIndex<0)){ht.axisDim=F.axisDim,ht.axisIndex=F.axisIndex,ht.axisType=F.axisType,ht.axisId=F.axisId,ht.axisValue=v1(W.axis,{value:X}),ht.axisValueLabel=$,ht.marker=S.makeTooltipMarker("item",Gd(ht.color),p);var yt=sm(at.formatTooltip(ot,!0,null)),vt=yt.frag;if(vt){var bt=Bb([at],c).get("valueFormatter");K.blocks.push(bt?Wt({valueFormatter:bt},vt):vt)}yt.text&&x.push(yt.text),y.push(ht)}})}})}),b.blocks.reverse(),x.reverse();var T=o.position,A=d.get("order"),E=L5(b,S,p,A,l.get("useUTC"),d.get("textStyle"));E&&x.unshift(E);var L=p==="richText"?`

`:"<br/>",I=x.join(L);this._showOrMove(d,function(){this._updateContentNotChangedOnAxis(e,y)?this._updatePosition(d,T,f[0],f[1],this._tooltipContent,y):this._showTooltipContent(d,I,y,Math.random()+"",f[0],f[1],T,null,S)})},r.prototype._showSeriesItemTooltip=function(e,o,l){var c=this._ecModel,f=nr(o),d=f.seriesIndex,p=c.getSeriesByIndex(d),y=f.dataModel||p,b=f.dataIndex,x=f.dataType,S=y.getData(x),T=this._renderMode,A=e.positionDefault,E=Bb([S.getItemModel(b),y,p&&(p.coordinateSystem||{}).model],this._tooltipModel,A?{position:A}:null),L=E.get("trigger");if(!(L!=null&&L!=="item")){var I=y.getDataParams(b,x),N=new Qx;I.marker=N.makeTooltipMarker("item",Gd(I.color),T);var F=sm(y.formatTooltip(b,!1,x)),W=E.get("order"),X=E.get("valueFormatter"),$=F.frag,K=$?L5(X?Wt({valueFormatter:X},$):$,N,T,W,c.get("useUTC"),E.get("textStyle")):F.text,et="item_"+y.name+"_"+b;this._showOrMove(E,function(){this._showTooltipContent(E,K,I,et,e.offsetX,e.offsetY,e.position,e.target,N)}),l({type:"showTip",dataIndexInside:b,dataIndex:S.getRawIndex(b),seriesIndex:d,from:this.uid})}},r.prototype._showComponentItemTooltip=function(e,o,l){var c=this._renderMode==="html",f=nr(o),d=f.tooltipConfig,p=d.option||{},y=p.encodeHTMLContent;if(oe(p)){var b=p;p={content:b,formatter:b},y=!0}y&&c&&p.content&&(p=Ne(p),p.content=yo(p.content));var x=[p],S=this._ecModel.getComponent(f.componentMainType,f.componentIndex);S&&x.push(S),x.push({formatter:p.content});var T=e.positionDefault,A=Bb(x,this._tooltipModel,T?{position:T}:null),E=A.get("content"),L=Math.random()+"",I=new Qx;this._showOrMove(A,function(){var N=Ne(A.get("formatterParams")||{});this._showTooltipContent(A,E,N,L,e.offsetX,e.offsetY,e.position,o,I)}),l({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(e,o,l,c,f,d,p,y,b){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var x=this._tooltipContent;x.setEnterable(e.get("enterable"));var S=e.get("formatter");p=p||e.get("position");var T=o,A=this._getNearestPoint([f,d],l,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)),E=A.color;if(S)if(oe(S)){var L=e.ecModel.get("useUTC"),I=Ut(l)?l[0]:l,N=I&&I.axisType&&I.axisType.indexOf("time")>=0;T=S,N&&(T=W0(I.axisValue,T,L)),T=jN(T,l,!0)}else if(ze(S)){var F=ue(function(W,X){W===this._ticket&&(x.setContent(X,b,e,E,p),this._updatePosition(e,p,f,d,x,l,y))},this);this._ticket=c,T=S(l,c,F)}else T=S;x.setContent(T,b,e,E,p),x.show(e,E),this._updatePosition(e,p,f,d,x,l,y)}},r.prototype._getNearestPoint=function(e,o,l,c,f){if(l==="axis"||Ut(o))return{color:c||f};if(!Ut(o))return{color:c||o.color||o.borderColor}},r.prototype._updatePosition=function(e,o,l,c,f,d,p){var y=this._api.getWidth(),b=this._api.getHeight();o=o||e.get("position");var x=f.getSize(),S=e.get("align"),T=e.get("verticalAlign"),A=p&&p.getBoundingRect().clone();if(p&&A.applyTransform(p.transform),ze(o)&&(o=o([l,c],d,f.el,A,{viewSize:[y,b],contentSize:x.slice()})),Ut(o))l=de(o[0],y),c=de(o[1],b);else if(ce(o)){var E=o;E.width=x[0],E.height=x[1];var L=Wn(E,{width:y,height:b});l=L.x,c=L.y,S=null,T=null}else if(oe(o)&&p){var I=vJ(o,A,x,e.get("borderWidth"));l=I[0],c=I[1]}else{var I=hJ(l,c,f,y,b,S?null:20,T?null:20);l=I[0],c=I[1]}if(S&&(l-=yG(S)?x[0]/2:S==="right"?x[0]:0),T&&(c-=yG(T)?x[1]/2:T==="bottom"?x[1]:0),CD(e)){var I=dJ(l,c,f,y,b);l=I[0],c=I[1]}f.moveTo(l,c)},r.prototype._updateContentNotChangedOnAxis=function(e,o){var l=this._lastDataByCoordSys,c=this._cbParamsList,f=!!l&&l.length===e.length;return f&&it(l,function(d,p){var y=d.dataByAxis||[],b=e[p]||{},x=b.dataByAxis||[];f=f&&y.length===x.length,f&&it(y,function(S,T){var A=x[T]||{},E=S.seriesDataIndices||[],L=A.seriesDataIndices||[];f=f&&S.value===A.value&&S.axisType===A.axisType&&S.axisId===A.axisId&&E.length===L.length,f&&it(E,function(I,N){var F=L[N];f=f&&I.seriesIndex===F.seriesIndex&&I.dataIndex===F.dataIndex}),c&&it(S.seriesDataIndices,function(I){var N=I.seriesIndex,F=o[N],W=c[N];F&&W&&W.data!==F.data&&(f=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=o,!!f},r.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},r.prototype.dispose=function(e,o){cr.node||!o.getDom()||(Yu(this,"_updatePosition"),this._tooltipContent.dispose(),IL("itemTooltip",o))},r.type="tooltip",r}(ui);function Bb(n,r,e){var o=r.ecModel,l;e?(l=new an(e,o,o),l=new an(r.option,l,o)):l=r;for(var c=n.length-1;c>=0;c--){var f=n[c];f&&(f instanceof an&&(f=f.get("tooltip",!0)),oe(f)&&(f={formatter:f}),f&&(l=new an(f,l,o)))}return l}function gG(n,r){return n.dispatchAction||ue(r.dispatchAction,r)}function hJ(n,r,e,o,l,c,f){var d=e.getSize(),p=d[0],y=d[1];return c!=null&&(n+p+c+2>o?n-=p+c:n+=c),f!=null&&(r+y+f>l?r-=y+f:r+=f),[n,r]}function dJ(n,r,e,o,l){var c=e.getSize(),f=c[0],d=c[1];return n=Math.min(n+f,o)-f,r=Math.min(r+d,l)-d,n=Math.max(n,0),r=Math.max(r,0),[n,r]}function vJ(n,r,e,o){var l=e[0],c=e[1],f=Math.ceil(Math.SQRT2*o)+8,d=0,p=0,y=r.width,b=r.height;switch(n){case"inside":d=r.x+y/2-l/2,p=r.y+b/2-c/2;break;case"top":d=r.x+y/2-l/2,p=r.y-c-f;break;case"bottom":d=r.x+y/2-l/2,p=r.y+b+f;break;case"left":d=r.x-l-f,p=r.y+b/2-c/2;break;case"right":d=r.x+y+f,p=r.y+b/2-c/2}return[d,p]}function yG(n){return n==="center"||n==="middle"}function mG(n,r,e){var o=TO(n).queryOptionMap,l=o.keys()[0];if(!(!l||l==="series")){var c=v0(r,l,o.get(l),{useDefault:!1,enableAll:!1,enableNone:!1}),f=c.models[0];if(f){var d=e.getViewOfComponentModel(f),p;if(d.group.traverse(function(y){var b=nr(y).tooltipConfig;if(b&&b.name===n.name)return p=y,!0}),p)return{componentMainType:l,componentIndex:f.componentIndex,el:p}}}}var pJ=fJ;function LD(n){_r(Hv),n.registerComponentModel(sG),n.registerComponentView(pJ),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_t),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_t)}var DD=["rect","polygon","keep","clear"];function gJ(n,r){var e=An(n?n.brush:[]);if(e.length){var o=[];it(e,function(p){var y=p.hasOwnProperty("toolbox")?p.toolbox:[];y instanceof Array&&(o=o.concat(y))});var l=n&&n.toolbox;Ut(l)&&(l=l[0]),l||(l={feature:{}},n.toolbox=[l]);var c=l.feature||(l.feature={}),f=c.brush||(c.brush={}),d=f.type||(f.type=[]);d.push.apply(d,o),yJ(d),r&&!d.length&&d.push.apply(d,DD)}}function yJ(n){var r={};it(n,function(e){r[e]=1}),n.length=0,it(r,function(e,o){n.push(o)})}var bG=it;function zb(n){if(n){for(var r in n)if(n.hasOwnProperty(r))return!0}}function ID(n,r,e){var o={};return bG(r,function(c){var f=o[c]=l();bG(n[c],function(d,p){if(hi.isValidType(p)){var y={type:p,visual:d};e&&e(y,c),f[p]=new hi(y),p==="opacity"&&(y=Ne(y),y.type="colorAlpha",f.__hidden.__alphaForOpacity=new hi(y))}})}),o;function l(){var c=function(){};c.prototype.__hidden=c.prototype;var f=new c;return f}}function _G(n,r,e){var o;it(e,function(l){r.hasOwnProperty(l)&&zb(r[l])&&(o=!0)}),o&&it(e,function(l){r.hasOwnProperty(l)&&zb(r[l])?n[l]=Ne(r[l]):delete n[l]})}function mJ(n,r,e,o,l,c){var f={};it(n,function(x){var S=hi.prepareVisualTypes(r[x]);f[x]=S});var d;function p(x){return Tw(e,d,x)}function y(x,S){Ow(e,d,x,S)}c==null?e.each(b):e.each([c],b);function b(x,S){d=c==null?x:S;var T=e.getRawDataItem(d);if(!(T&&T.visualMap===!1))for(var A=o.call(l,x),E=r[A],L=f[A],I=0,N=L.length;I<N;I++){var F=L[I];E[F]&&E[F].applyVisual(x,p,y)}}}function bJ(n,r,e,o){var l={};return it(n,function(c){var f=hi.prepareVisualTypes(r[c]);l[c]=f}),{progress:function(f,d){var p;o!=null&&(p=d.getDimensionIndex(o));function y(X){return Tw(d,x,X)}function b(X,$){Ow(d,x,X,$)}for(var x,S=d.getStore();(x=f.next())!=null;){var T=d.getRawDataItem(x);if(!(T&&T.visualMap===!1))for(var A=o!=null?S.get(p,x):x,E=e(A),L=r[E],I=l[E],N=0,F=I.length;N<F;N++){var W=I[N];L[W]&&L[W].applyVisual(A,y,b)}}}}}function _J(n){var r=n.brushType,e={point:function(o){return xG[r].point(o,e,n)},rect:function(o){return xG[r].rect(o,e,n)}};return e}var xG={lineX:wG(0),lineY:wG(1),rect:{point:function(n,r,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,r,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,r,e){return n&&e.boundingRect.contain(n[0],n[1])&&Rh(e.range,n[0],n[1])},rect:function(n,r,e){var o=e.range;if(!n||o.length<=1)return!1;var l=n.x,c=n.y,f=n.width,d=n.height,p=o[0];if(Rh(o,l,c)||Rh(o,l+f,c)||Rh(o,l,c+d)||Rh(o,l+f,c+d)||Je.create(n).contain(p[0],p[1])||ig(l,c,l+f,c,o)||ig(l,c,l,c+d,o)||ig(l+f,c,l+f,c+d,o)||ig(l,c+d,l+f,c+d,o))return!0}}};function wG(n){var r=["x","y"],e=["width","height"];return{point:function(o,l,c){if(o){var f=c.range,d=o[n];return Fb(d,f)}},rect:function(o,l,c){if(o){var f=c.range,d=[o[r[n]],o[r[n]]+o[e[n]]];return d[1]<d[0]&&d.reverse(),Fb(d[0],f)||Fb(d[1],f)||Fb(f[0],d)||Fb(f[1],d)}}}}function Fb(n,r){return r[0]<=n&&n<=r[1]}var Dnt=null,SG=["inBrush","outOfBrush"],QM="__ecBrushSelect",JM="__ecInBrushSelectEvent";function RD(n){n.eachComponent({mainType:"brush"},function(r){var e=r.brushTargetManager=new XM(r.option,n);e.setInputRanges(r.areas,n)})}function xJ(n,r,e){var o=[],l,c;n.eachComponent({mainType:"brush"},function(f){e&&e.type==="takeGlobalCursor"&&f.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),RD(n),n.eachComponent({mainType:"brush"},function(f,d){var p={brushId:f.id,brushIndex:d,brushName:f.name,areas:Ne(f.areas),selected:[]};o.push(p);var y=f.option,b=y.brushLink,x=[],S=[],T=[],A=!1;d||(l=y.throttleType,c=y.throttleDelay);var E=Gt(f.areas,function(X){var $=MJ[X.brushType],K=je({boundingRect:$?$(X):void 0},X);return K.selectors=_J(K),K}),L=ID(f.option,SG,function(X){X.mappingMethod="fixed"});Ut(b)&&it(b,function(X){x[X]=1});function I(X){return b==="all"||!!x[X]}function N(X){return!!X.length}n.eachSeries(function(X,$){var K=T[$]=[];X.subType==="parallel"?F(X,$):W(X,$,K)});function F(X,$){var K=X.coordinateSystem;A=A||K.hasAxisBrushed(),I($)&&K.eachActiveState(X.getData(),function(et,at){et==="active"&&(S[at]=1)})}function W(X,$,K){if(!(!X.brushSelector||TG(f,$))&&(it(E,function(at){f.brushTargetManager.controlSeries(at,X,n)&&K.push(at),A=A||N(K)}),I($)&&N(K))){var et=X.getData();et.each(function(at){MG(X,K,et,at)&&(S[at]=1)})}}n.eachSeries(function(X,$){var K={seriesId:X.id,seriesIndex:$,seriesName:X.name,dataIndex:[]};p.selected.push(K);var et=T[$],at=X.getData(),ot=I($)?function(ht){return S[ht]?(K.dataIndex.push(at.getRawIndex(ht)),"inBrush"):"outOfBrush"}:function(ht){return MG(X,et,at,ht)?(K.dataIndex.push(at.getRawIndex(ht)),"inBrush"):"outOfBrush"};(I($)?A:N(et))&&mJ(SG,L,at,ot)})}),wJ(r,l,c,o,e)}function wJ(n,r,e,o,l){if(l){var c=n.getZr();if(!c[JM]){c[QM]||(c[QM]=SJ);var f=ks(c,QM,e,r);f(n,o)}}}function SJ(n,r){if(!n.isDisposed()){var e=n.getZr();e[JM]=!0,n.dispatchAction({type:"brushSelect",batch:r}),e[JM]=!1}}function MG(n,r,e,o){for(var l=0,c=r.length;l<c;l++){var f=r[l];if(n.brushSelector(o,e,f.selectors,f))return!0}}function TG(n,r){var e=n.option.seriesIndex;return e!=null&&e!=="all"&&(Ut(e)?Xe(e,r)<0:r!==e)}var MJ={rect:function(n){return OG(n.range)},polygon:function(n){for(var r,e=n.range,o=0,l=e.length;o<l;o++){r=r||[[1/0,-1/0],[1/0,-1/0]];var c=e[o];c[0]<r[0][0]&&(r[0][0]=c[0]),c[0]>r[0][1]&&(r[0][1]=c[0]),c[1]<r[1][0]&&(r[1][0]=c[1]),c[1]>r[1][1]&&(r[1][1]=c[1])}return r&&OG(r)}};function OG(n){return new Je(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var AG=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o){this.ecModel=e,this.api=o,this.model,(this._brushController=new ib(o.getZr())).on("brush",ue(this._onBrush,this)).mount()},r.prototype.render=function(e,o,l,c){this.model=e,this._updateController(e,o,l,c)},r.prototype.updateTransform=function(e,o,l,c){RD(o),this._updateController(e,o,l,c)},r.prototype.updateVisual=function(e,o,l,c){this.updateTransform(e,o,l,c)},r.prototype.updateView=function(e,o,l,c){this._updateController(e,o,l,c)},r.prototype._updateController=function(e,o,l,c){(!c||c.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(l)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},r.prototype.dispose=function(){this._brushController.dispose()},r.prototype._onBrush=function(e){var o=this.model.id,l=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:Ne(l),$from:o}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:Ne(l),$from:o})},r.type="brush",r}(ui),TJ=AG,OJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.areas=[],e.brushOption={},e}return r.prototype.optionUpdated=function(e,o){var l=this.option;!o&&_G(l,e,["inBrush","outOfBrush"]);var c=l.inBrush=l.inBrush||{};l.outOfBrush=l.outOfBrush||{color:this.option.defaultOutOfBrushColor},c.hasOwnProperty("liftZ")||(c.liftZ=5)},r.prototype.setAreas=function(e){e&&(this.areas=Gt(e,function(o){return CG(this.option,o)},this))},r.prototype.setBrushOption=function(e){this.brushOption=CG(this.option,e),this.brushType=this.brushOption.brushType},r.type="brush",r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:Rt.color.backgroundTint,borderColor:Rt.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:Rt.color.disabled},r}(Yr);function CG(n,r){return lr({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new an(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},r,!0)}var AJ=OJ,Int=["rect","polygon","lineX","lineY","keep","clear"],PG=function(n){Ot(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(e,o,l){var c,f,d;o.eachComponent({mainType:"brush"},function(p){c=p.brushType,f=p.brushOption.brushMode||"single",d=d||!!p.areas.length}),this._brushType=c,this._brushMode=f,it(e.get("type",!0),function(p){e.setIconStatus(p,(p==="keep"?f==="multiple":p==="clear"?d:p===c)?"emphasis":"normal")})},r.prototype.updateView=function(e,o,l){this.render(e,o,l)},r.prototype.getIcons=function(){var e=this.model,o=e.get("icon",!0),l={};return it(e.get("type",!0),function(c){o[c]&&(l[c]=o[c])}),l},r.prototype.onclick=function(e,o,l){var c=this._brushType,f=this._brushMode;l==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:l==="keep"?c:c===l?!1:l,brushMode:l==="keep"?f==="multiple"?"single":"multiple":f}})},r.getDefaultOption=function(e){var o={show:!0,type:Int.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return o},r}(us),CJ=PG;function tT(n){n.registerComponentView(TJ),n.registerComponentModel(AJ),n.registerPreprocessor(gJ),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,xJ),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(r,e){e.eachComponent({mainType:"brush",query:r},function(o){o.setAreas(r.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},_t),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},_t),nd("brush",CJ)}var EG=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.layoutMode={type:"box",ignoreSize:!0},e}return r.type="title",r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:Rt.size.m,backgroundColor:Rt.color.transparent,borderColor:Rt.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:Rt.color.primary},subtextStyle:{fontSize:12,color:Rt.color.quaternary}},r}(Yr),ND=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){if(this.group.removeAll(),!!e.get("show")){var c=this.group,f=e.getModel("textStyle"),d=e.getModel("subtextStyle"),p=e.get("textAlign"),y=fe(e.get("textBaseline"),e.get("textVerticalAlign")),b=new Hr({style:Gn(f,{text:e.get("text"),fill:f.getTextColor()},{disableBox:!0}),z2:10}),x=b.getBoundingRect(),S=e.get("subtext"),T=new Hr({style:Gn(d,{text:S,fill:d.getTextColor(),y:x.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),A=e.get("link"),E=e.get("sublink"),L=e.get("triggerEvent",!0);b.silent=!A&&!L,T.silent=!E&&!L,A&&b.on("click",function(){Mx(A,"_"+e.get("target"))}),E&&T.on("click",function(){Mx(E,"_"+e.get("subtarget"))}),nr(b).eventData=nr(T).eventData=L?{componentType:"title",componentIndex:e.componentIndex}:null,c.add(b),S&&c.add(T);var I=c.getBoundingRect(),N=e.getBoxLayoutParams();N.width=I.width,N.height=I.height;var F=ya(e,l),W=Wn(N,F.refContainer,e.get("padding"));p||(p=e.get("left")||e.get("right"),p==="middle"&&(p="center"),p==="right"?W.x+=W.width:p==="center"&&(W.x+=W.width/2)),y||(y=e.get("top")||e.get("bottom"),y==="center"&&(y="middle"),y==="bottom"?W.y+=W.height:y==="middle"&&(W.y+=W.height/2),y=y||"top"),c.x=W.x,c.y=W.y,c.markRedraw();var X={align:p,verticalAlign:y};b.setStyle(X),T.setStyle(X),I=c.getBoundingRect();var $=W.margin,K=e.getItemStyle(["color","opacity"]);K.fill=e.get("backgroundColor");var et=new kr({shape:{x:I.x-$[3],y:I.y-$[0],width:I.width+$[1]+$[3],height:I.height+$[0]+$[2],r:e.get("borderRadius")},style:K,subPixelOptimize:!0,silent:!0});c.add(et)}},r.type="title",r}(ui);function PJ(n){n.registerComponentModel(EG),n.registerComponentView(ND)}var EJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.layoutMode="box",e}return r.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l),this._initData()},r.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},r.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var o=this._data.count();this.option.loop?e=(e%o+o)%o:(e>=o&&(e=o-1),e<0&&(e=0)),this.option.currentIndex=e},r.prototype.getCurrentIndex=function(){return this.option.currentIndex},r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},r.prototype.setPlayState=function(e){this.option.autoPlay=!!e},r.prototype.getPlayState=function(){return!!this.option.autoPlay},r.prototype._initData=function(){var e=this.option,o=e.data||[],l=e.axisType,c=this._names=[],f;l==="category"?(f=[],it(o,function(y,b){var x=Pa(Tp(y),""),S;ce(y)?(S=Ne(y),S.value=b):S=b,f.push(S),c.push(x)})):f=o;var d={category:"ordinal",time:"time",value:"number"}[l]||"number",p=this._data=new zo([{name:"value",type:d}],this);p.initData(f,c)},r.prototype.getData=function(){return this._data},r.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},r.type="timeline",r.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:Rt.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:Rt.color.secondary},data:[]},r}(Yr),ky=EJ,BD=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="timeline.slider",r.defaultOption=Jf(ky.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:Rt.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:Rt.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:Rt.color.tertiary},itemStyle:{color:Rt.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:Rt.color.accent50,borderColor:Rt.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:Rt.color.accent50,borderColor:Rt.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:Rt.color.accent60},itemStyle:{color:Rt.color.accent60,borderColor:Rt.color.accent60},controlStyle:{color:Rt.color.accent70,borderColor:Rt.color.accent70}},progress:{lineStyle:{color:Rt.color.accent30},itemStyle:{color:Rt.color.accent40}},data:[]}),r}(ky);Ln(BD,eh.prototype);var kG=BD,LG=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="timeline",r}(ui),DG=LG,eT=function(n){Ot(r,n);function r(e,o,l,c){var f=n.call(this,e,o,l)||this;return f.type=c||"value",f}return r.prototype.getLabelModel=function(){return this.model.getModel("label")},r.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},r}(au),IG=eT,RG=Math.PI,NG=br(),kJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(e,o){this.api=o},r.prototype.render=function(e,o,l){if(this.model=e,this.api=l,this.ecModel=o,this.group.removeAll(),e.get("show",!0)){var c=this._layout(e,l),f=this._createGroup("_mainGroup"),d=this._createGroup("_labelGroup"),p=this._axis=this._createAxis(c,e);e.formatTooltip=function(y){var b=p.scale.getLabel({value:y});return Li("nameValue",{noName:!0,value:b})},it(["AxisLine","AxisTick","Control","CurrentPointer"],function(y){this["_render"+y](c,f,p,e)},this),this._renderAxisLabel(c,d,p,e),this._position(c,e)}this._doPlayStop(),this._updateTicksStatus()},r.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},r.prototype.dispose=function(){this._clearTimer()},r.prototype._layout=function(e,o){var l=e.get(["label","position"]),c=e.get("orient"),f=zD(e,o),d;l==null||l==="auto"?d=c==="horizontal"?f.y+f.height/2<o.getHeight()/2?"-":"+":f.x+f.width/2<o.getWidth()/2?"+":"-":oe(l)?d={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[c][l]:d=l;var p={horizontal:"center",vertical:d>=0||d==="+"?"left":"right"},y={horizontal:d>=0||d==="+"?"top":"bottom",vertical:"middle"},b={horizontal:0,vertical:RG/2},x=c==="vertical"?f.height:f.width,S=e.getModel("controlStyle"),T=S.get("show",!0),A=T?S.get("itemSize"):0,E=T?S.get("itemGap"):0,L=A+E,I=e.get(["label","rotate"])||0;I=I*RG/180;var N,F,W,X=S.get("position",!0),$=T&&S.get("showPlayBtn",!0),K=T&&S.get("showPrevBtn",!0),et=T&&S.get("showNextBtn",!0),at=0,ot=x;X==="left"||X==="bottom"?($&&(N=[0,0],at+=L),K&&(F=[at,0],at+=L),et&&(W=[ot-A,0],ot-=L)):($&&(N=[ot-A,0],ot-=L),K&&(F=[0,0],at+=L),et&&(W=[ot-A,0],ot-=L));var ht=[at,ot];return e.get("inverse")&&ht.reverse(),{viewRect:f,mainLength:x,orient:c,rotation:b[c],labelRotation:I,labelPosOpt:d,labelAlign:e.get(["label","align"])||p[c],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||y[c],playPosition:N,prevBtnPosition:F,nextBtnPosition:W,axisExtent:ht,controlSize:A,controlGap:E}},r.prototype._position=function(e,o){var l=this._mainGroup,c=this._labelGroup,f=e.viewRect;if(e.orient==="vertical"){var d=no(),p=f.x,y=f.y+f.height;xc(d,d,[-p,-y]),Cf(d,d,-RG/2),xc(d,d,[p,y]),f=f.clone(),f.applyTransform(d)}var b=N(f),x=N(l.getBoundingRect()),S=N(c.getBoundingRect()),T=[l.x,l.y],A=[c.x,c.y];A[0]=T[0]=b[0][0];var E=e.labelPosOpt;if(E==null||oe(E)){var L=E==="+"?0:1;F(T,x,b,1,L),F(A,S,b,1,1-L)}else{var L=E>=0?0:1;F(T,x,b,1,L),A[1]=T[1]+E}l.setPosition(T),c.setPosition(A),l.rotation=c.rotation=e.rotation,I(l),I(c);function I(W){W.originX=b[0][0]-W.x,W.originY=b[1][0]-W.y}function N(W){return[[W.x,W.x+W.width],[W.y,W.y+W.height]]}function F(W,X,$,K,et){W[K]+=$[K][et]-X[K][et]}},r.prototype._createAxis=function(e,o){var l=o.getData(),c=o.get("axisType"),f=BG(o,c);f.getTicks=function(){return l.mapArray(["value"],function(y){return{value:y}})};var d=l.getDataExtent("value");f.setExtent(d[0],d[1]),f.calcNiceTicks();var p=new IG("value",f,e.axisExtent,c);return p.model=o,p},r.prototype._createGroup=function(e){var o=this[e]=new Ye;return this.group.add(o),o},r.prototype._renderAxisLine=function(e,o,l,c){var f=l.getExtent();if(c.get(["lineStyle","show"])){var d=new ua({shape:{x1:f[0],y1:0,x2:f[1],y2:0},style:Wt({lineCap:"round"},c.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(d);var p=this._progressLine=new ua({shape:{x1:f[0],x2:this._currentPointer?this._currentPointer.x:f[0],y1:0,y2:0},style:je({lineCap:"round",lineWidth:d.style.lineWidth},c.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(p)}},r.prototype._renderAxisTick=function(e,o,l,c){var f=this,d=c.getData(),p=l.scale.getTicks();this._tickSymbols=[],it(p,function(y){var b=l.dataToCoord(y.value),x=d.getItemModel(y.value),S=x.getModel("itemStyle"),T=x.getModel(["emphasis","itemStyle"]),A=x.getModel(["progress","itemStyle"]),E={x:b,y:0,onclick:ue(f._changeTimeline,f,y.value)},L=FG(x,S,o,E);L.ensureState("emphasis").style=T.getItemStyle(),L.ensureState("progress").style=A.getItemStyle(),Qf(L);var I=nr(L);x.get("tooltip")?(I.dataIndex=y.value,I.dataModel=c):I.dataIndex=I.dataModel=null,f._tickSymbols.push(L)})},r.prototype._renderAxisLabel=function(e,o,l,c){var f=this,d=l.getLabelModel();if(d.get("show")){var p=c.getData(),y=l.getViewLabels();this._tickLabels=[],it(y,function(b){var x=b.tickValue,S=p.getItemModel(x),T=S.getModel("label"),A=S.getModel(["emphasis","label"]),E=S.getModel(["progress","label"]),L=l.dataToCoord(b.tickValue),I=new Hr({x:L,y:0,rotation:e.labelRotation-e.rotation,onclick:ue(f._changeTimeline,f,x),silent:!1,style:Gn(T,{text:b.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});I.ensureState("emphasis").style=Gn(A),I.ensureState("progress").style=Gn(E),o.add(I),Qf(I),NG(I).dataIndex=x,f._tickLabels.push(I)})}},r.prototype._renderControl=function(e,o,l,c){var f=e.controlSize,d=e.rotation,p=c.getModel("controlStyle").getItemStyle(),y=c.getModel(["emphasis","controlStyle"]).getItemStyle(),b=c.getPlayState(),x=c.get("inverse",!0);S(e.nextBtnPosition,"next",ue(this._changeTimeline,this,x?"-":"+")),S(e.prevBtnPosition,"prev",ue(this._changeTimeline,this,x?"+":"-")),S(e.playPosition,b?"stop":"play",ue(this._handlePlayClick,this,!b),!0);function S(T,A,E,L){if(T){var I=Bl(fe(c.get(["controlStyle",A+"BtnSize"]),f),f),N=[0,-I/2,I,I],F=zG(c,A+"Icon",N,{x:T[0],y:T[1],originX:f/2,originY:0,rotation:L?-d:0,rectHover:!0,style:p,onclick:E});F.ensureState("emphasis").style=y,o.add(F),Qf(F)}}},r.prototype._renderCurrentPointer=function(e,o,l,c){var f=c.getData(),d=c.getCurrentIndex(),p=f.getItemModel(d).getModel("checkpointStyle"),y=this,b={onCreate:function(x){x.draggable=!0,x.drift=ue(y._handlePointerDrag,y),x.ondragend=ue(y._handlePointerDragend,y),jG(x,y._progressLine,d,l,c,!0)},onUpdate:function(x){jG(x,y._progressLine,d,l,c)}};this._currentPointer=FG(p,p,this._mainGroup,{},this._currentPointer,b)},r.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},r.prototype._handlePointerDrag=function(e,o,l){this._clearTimer(),this._pointerChangeTimeline([l.offsetX,l.offsetY])},r.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},r.prototype._pointerChangeTimeline=function(e,o){var l=this._toAxisCoord(e)[0],c=this._axis,f=bs(c.getExtent().slice());l>f[1]&&(l=f[1]),l<f[0]&&(l=f[0]),this._currentPointer.x=l,this._currentPointer.markRedraw();var d=this._progressLine;d&&(d.shape.x2=l,d.dirty());var p=this._findNearestTick(l),y=this.model;(o||p!==y.getCurrentIndex()&&y.get("realtime"))&&this._changeTimeline(p)},r.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=e.model;e._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},r.prototype._toAxisCoord=function(e){var o=this._mainGroup.getLocalTransform();return Ql(e,o,!0)},r.prototype._findNearestTick=function(e){var o=this.model.getData(),l=1/0,c,f=this._axis;return o.each(["value"],function(d,p){var y=f.dataToCoord(d),b=Math.abs(y-e);b<l&&(l=b,c=p)}),c},r.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},r.prototype._changeTimeline=function(e){var o=this.model.getCurrentIndex();e==="+"?e=o+1:e==="-"&&(e=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},r.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),o=this._tickSymbols,l=this._tickLabels;if(o)for(var c=0;c<o.length;c++)o&&o[c]&&o[c].toggleState("progress",c<e);if(l)for(var c=0;c<l.length;c++)l&&l[c]&&l[c].toggleState("progress",NG(l[c]).dataIndex<=e)},r.type="timeline.slider",r}(DG);function BG(n,r){if(r=r||n.get("type"),r)switch(r){case"category":return new Tv({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new gz({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Ch}}function zD(n,r){return Wn(n.getBoxLayoutParams(),ya(n,r).refContainer,n.get("padding"))}function zG(n,r,e,o){var l=o.style,c=ov(n.get(["controlStyle",r]),o||{},new Je(e[0],e[1],e[2],e[3]));return l&&c.setStyle(l),c}function FG(n,r,e,o,l,c){var f=r.get("color");if(l)l.setColor(f),e.add(l),c&&c.onUpdate(l);else{var d=n.get("symbol");l=ia(d,-1,-1,2,2,f),l.setStyle("strokeNoScale",!0),e.add(l),c&&c.onCreate(l)}var p=r.getItemStyle(["color"]);l.setStyle(p),o=lr({rectHover:!0,z2:100},o,!0);var y=hh(n.get("symbolSize"));o.scaleX=y[0]/2,o.scaleY=y[1]/2;var b=dh(n.get("symbolOffset"),y);b&&(o.x=(o.x||0)+b[0],o.y=(o.y||0)+b[1]);var x=n.get("symbolRotate");return o.rotation=(x||0)*Math.PI/180||0,l.attr(o),l.updateTransform(),l}function jG(n,r,e,o,l,c){if(!n.dragging){var f=l.getModel("checkpointStyle"),d=o.dataToCoord(l.getData().get("value",e));if(c||!f.get("animation",!0))n.attr({x:d,y:0}),r&&r.attr({shape:{x2:d}});else{var p={duration:f.get("animationDuration",!0),easing:f.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:d,y:0},p),r&&r.animateTo({shape:{x2:d}},p)}}}var LJ=kJ;function DJ(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,e,o){var l=e.getComponent("timeline");return l&&r.currentIndex!=null&&(l.setCurrentIndex(r.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.getPlayState()&&(l.setPlayState(!1),o.dispatchAction({type:"timelinePlayChange",playState:!1,from:r.from}))),e.resetOption("timeline",{replaceMerge:l.get("replaceMerge",!0)}),je({currentIndex:l.option.currentIndex},r)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,e){var o=e.getComponent("timeline");o&&r.playState!=null&&o.setPlayState(r.playState)})}function IJ(n){var r=n&&n.timeline;Ut(r)||(r=r?[r]:[]),it(r,function(e){e&&RJ(e)})}function RJ(n){var r=n.type,e={number:"value",time:"time"};if(e[r]&&(n.axisType=e[r],delete n.type),FD(n),Jv(n,"controlPosition")){var o=n.controlStyle||(n.controlStyle={});Jv(o,"position")||(o.position=n.controlPosition),o.position==="none"&&!Jv(o,"show")&&(o.show=!1,delete o.position),delete n.controlPosition}it(n.data||[],function(l){ce(l)&&!Ut(l)&&(!Jv(l,"value")&&Jv(l,"name")&&(l.value=l.name),FD(l))})}function FD(n){var r=n.itemStyle||(n.itemStyle={}),e=r.emphasis||(r.emphasis={}),o=n.label||n.label||{},l=o.normal||(o.normal={}),c={normal:1,emphasis:1};it(o,function(f,d){!c[d]&&!Jv(l,d)&&(l[d]=f)}),e.label&&!Jv(o,"emphasis")&&(o.emphasis=e.label,delete e.label)}function Jv(n,r){return n.hasOwnProperty(r)}function NJ(n){n.registerComponentModel(kG),n.registerComponentView(LJ),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),DJ(n),n.registerPreprocessor(IJ)}function jD(n,r){if(!n)return!1;for(var e=Ut(n)?n:[n],o=0;o<e.length;o++)if(e[o]&&e[o][r])return!0;return!1}function tp(n){Bf(n,"label",["show"])}var rT=br(),jb=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.createdBySelf=!1,e.preventAutoZ=!0,e}return r.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l),this._mergeOption(e,l,!1,!0)},r.prototype.isAnimationEnabled=function(){if(cr.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},r.prototype.mergeOption=function(e,o){this._mergeOption(e,o,!1,!1)},r.prototype._mergeOption=function(e,o,l,c){var f=this.mainType;l||o.eachSeries(function(d){var p=d.get(this.mainType,!0),y=rT(d)[f];if(!p||!p.data){rT(d)[f]=null;return}y?y._mergeOption(p,o,!0):(c&&tp(p),it(p.data,function(b){b instanceof Array?(tp(b[0]),tp(b[1])):tp(b)}),y=this.createMarkerModelFromSeries(p,this,o),Wt(y,{mainType:this.mainType,seriesIndex:d.seriesIndex,name:d.name,createdBySelf:!0}),y.__hostSeries=d),rT(d)[f]=y},this)},r.prototype.formatTooltip=function(e,o,l){var c=this.getData(),f=this.getRawValue(e),d=c.getName(e);return Li("section",{header:this.name,blocks:[Li("nameValue",{name:d,value:f,noName:!d,noValue:f==null})]})},r.prototype.getData=function(){return this._data},r.prototype.setData=function(e){this._data=e},r.prototype.getDataParams=function(e,o){var l=eh.prototype.getDataParams.call(this,e,o),c=this.__hostSeries;return c&&(l.seriesId=c.id,l.seriesName=c.name,l.seriesType=c.subType),l},r.getMarkerModelFromSeries=function(e,o){return rT(e)[o]},r.type="marker",r.dependencies=["series","grid","polar","geo"],r}(Yr);Ln(jb,eh.prototype);var vc=jb,VG=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.createMarkerModelFromSeries=function(e,o,l){return new r(e,o,l)},r.type="markPoint",r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},r}(vc),nT=VG;function Vb(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function BJ(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function iT(n,r,e,o,l,c,f){var d=[],p=Zc(r,l),y=p?r.getCalculationInfo("stackResultDimension"):l,b=Wb(r,y,n),x=r.hostModel,S=x.indicesOfNearest(e,y,b)[0];d[c]=r.get(o,S),d[f]=r.get(y,S);var T=r.get(l,S),A=Eu(r.get(l,S));return A=Math.min(A,20),A>=0&&(d[f]=+d[f].toFixed(A)),[d,T]}var aT={min:hr(iT,"min"),max:hr(iT,"max"),average:hr(iT,"average"),median:hr(iT,"median")};function Ly(n,r){if(r){var e=n.getData(),o=n.coordinateSystem,l=o&&o.dimensions;if(!BJ(r)&&!Ut(r.coord)&&Ut(l)){var c=VD(r,e,o,n);if(r=Ne(r),r.type&&aT[r.type]&&c.baseAxis&&c.valueAxis){var f=Xe(l,c.baseAxis.dim),d=Xe(l,c.valueAxis.dim),p=aT[r.type](e,c.valueAxis.dim,c.baseDataDim,c.valueDataDim,f,d);r.coord=p[0],r.value=p[1]}else r.coord=[r.xAxis!=null?r.xAxis:r.radiusAxis,r.yAxis!=null?r.yAxis:r.angleAxis]}if(r.coord==null||!Ut(l)){r.coord=[];var y=n.getBaseAxis();if(y&&r.type&&aT[r.type]){var b=o.getOtherAxis(y);b&&(r.value=Wb(e,e.mapDimension(b.dim),r.type))}}else for(var x=r.coord,S=0;S<2;S++)aT[x[S]]&&(x[S]=Wb(e,e.mapDimension(l[S]),x[S]));return r}}function VD(n,r,e,o){var l={};return n.valueIndex!=null||n.valueDim!=null?(l.valueDataDim=n.valueIndex!=null?r.getDimension(n.valueIndex):n.valueDim,l.valueAxis=e.getAxis(zJ(o,l.valueDataDim)),l.baseAxis=e.getOtherAxis(l.valueAxis),l.baseDataDim=r.mapDimension(l.baseAxis.dim)):(l.baseAxis=o.getBaseAxis(),l.valueAxis=e.getOtherAxis(l.baseAxis),l.baseDataDim=r.mapDimension(l.baseAxis.dim),l.valueDataDim=r.mapDimension(l.valueAxis.dim)),l}function zJ(n,r){var e=n.getData().getDimensionInfo(r);return e&&e.coordDim}function Gb(n,r){return n&&n.containData&&r.coord&&!Vb(r)?n.containData(r.coord):!0}function FJ(n,r,e){return n&&n.containZone&&r.coord&&e.coord&&!Vb(r)&&!Vb(e)?n.containZone(r.coord,e.coord):!0}function GG(n,r){return n?function(e,o,l,c){var f=c<2?e.coord&&e.coord[c]:e.value;return Bc(f,r[c])}:function(e,o,l,c){return Bc(e.value,r[c])}}function Wb(n,r,e){if(e==="average"){var o=0,l=0;return n.each(r,function(c,f){isNaN(c)||(o+=c,l++)}),o/l}else return e==="median"?n.getMedian(r):n.getDataExtent(r)[e==="max"?1:0]}var GD=br(),jJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.init=function(){this.markerGroupMap=ve()},r.prototype.render=function(e,o,l){var c=this,f=this.markerGroupMap;f.each(function(d){GD(d).keep=!1}),o.eachSeries(function(d){var p=vc.getMarkerModelFromSeries(d,c.type);p&&c.renderSeries(d,p,o,l)}),f.each(function(d){!GD(d).keep&&c.group.remove(d.group)}),VJ(o,f,this.type)},r.prototype.markKeep=function(e){GD(e).keep=!0},r.prototype.toggleBlurSeries=function(e,o){var l=this;it(e,function(c){var f=vc.getMarkerModelFromSeries(c,l.type);if(f){var d=f.getData();d.eachItemGraphicEl(function(p){p&&(o?HO(p):D0(p))})}})},r.type="marker",r}(ui);function VJ(n,r,e){n.eachSeries(function(o){var l=vc.getMarkerModelFromSeries(o,e),c=r.get(o.id);if(l&&c&&c.group){var f=ll(l),d=f.z,p=f.zlevel;sg(c.group,d,p)}})}var WD=jJ;function WG(n,r,e){var o=r.coordinateSystem,l=e.getWidth(),c=e.getHeight(),f=o&&o.getArea&&o.getArea();n.each(function(d){var p=n.getItemModel(d),y=p.get("relativeTo")==="coordinate",b=y?f?f.width:0:l,x=y?f?f.height:0:c,S=y&&f?f.x:0,T=y&&f?f.y:0,A,E=de(p.get("x"),b)+S,L=de(p.get("y"),x)+T;if(!isNaN(E)&&!isNaN(L))A=[E,L];else if(r.getMarkerPosition)A=r.getMarkerPosition(n.getValues(n.dimensions,d));else if(o){var I=n.get(o.dimensions[0],d),N=n.get(o.dimensions[1],d);A=o.dataToPoint([I,N])}isNaN(E)||(A[0]=E),isNaN(L)||(A[1]=L),n.setItemLayout(d,A)})}var HG=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.updateTransform=function(e,o,l){o.eachSeries(function(c){var f=vc.getMarkerModelFromSeries(c,"markPoint");f&&(WG(f.getData(),c,l),this.markerGroupMap.get(c.id).updateLayout())},this)},r.prototype.renderSeries=function(e,o,l,c){var f=e.coordinateSystem,d=e.id,p=e.getData(),y=this.markerGroupMap,b=y.get(d)||y.set(d,new xS),x=GJ(f,e,o);o.setData(x),WG(o.getData(),e,c),x.each(function(S){var T=x.getItemModel(S),A=T.getShallow("symbol"),E=T.getShallow("symbolSize"),L=T.getShallow("symbolRotate"),I=T.getShallow("symbolOffset"),N=T.getShallow("symbolKeepAspect");if(ze(A)||ze(E)||ze(L)||ze(I)){var F=o.getRawValue(S),W=o.getDataParams(S);ze(A)&&(A=A(F,W)),ze(E)&&(E=E(F,W)),ze(L)&&(L=L(F,W)),ze(I)&&(I=I(F,W))}var X=T.getModel("itemStyle").getItemStyle(),$=T.get("z2"),K=dg(p,"color");X.fill||(X.fill=K),x.setItemVisual(S,{z2:fe($,0),symbol:A,symbolSize:E,symbolRotate:L,symbolOffset:I,symbolKeepAspect:N,style:X})}),b.updateData(x),this.group.add(b.group),x.eachItemGraphicEl(function(S){S.traverse(function(T){nr(T).dataModel=o})}),this.markKeep(b),b.group.silent=o.get("silent")||e.get("silent")},r.type="markPoint",r}(WD);function GJ(n,r,e){var o;n?o=Gt(n&&n.dimensions,function(d){var p=r.getData().getDimensionInfo(r.getData().mapDimension(d))||{};return Wt(Wt({},p),{name:d,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var l=new zo(o,e),c=Gt(e.get("data"),hr(Ly,r));n&&(c=Zr(c,hr(Gb,n)));var f=GG(!!n,o);return l.initData(c,null,f),l}var WJ=HG;function HJ(n){n.registerComponentModel(nT),n.registerComponentView(WJ),n.registerPreprocessor(function(r){jD(r.series,"markPoint")&&(r.markPoint=r.markPoint||{})})}var YJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.createMarkerModelFromSeries=function(e,o,l){return new r(e,o,l)},r.type="markLine",r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},r}(vc),UJ=YJ,oT=br(),HD=function(n,r,e,o){var l=n.getData(),c;if(Ut(o))c=o;else{var f=o.type;if(f==="min"||f==="max"||f==="average"||f==="median"||o.xAxis!=null||o.yAxis!=null){var d=void 0,p=void 0;if(o.yAxis!=null||o.xAxis!=null)d=r.getAxis(o.yAxis!=null?"y":"x"),p=mn(o.yAxis,o.xAxis);else{var y=VD(o,l,r,n);d=y.valueAxis;var b=w4(l,y.valueDataDim);p=Wb(l,b,f)}var x=d.dim==="x"?0:1,S=1-x,T=Ne(o),A={coord:[]};T.type=null,T.coord=[],T.coord[S]=-1/0,A.coord[S]=1/0;var E=e.get("precision");E>=0&&qe(p)&&(p=+p.toFixed(Math.min(E,20))),T.coord[x]=A.coord[x]=p,c=[T,A,{type:f,valueIndex:o.valueIndex,value:p}]}else c=[]}var L=[Ly(n,c[0]),Ly(n,c[1]),Wt({},c[2])];return L[2].type=L[2].type||null,lr(L[2],L[0]),lr(L[2],L[1]),L};function Hb(n){return!isNaN(n)&&!isFinite(n)}function sT(n,r,e,o){var l=1-n,c=o.dimensions[n];return Hb(r[l])&&Hb(e[l])&&r[n]===e[n]&&o.getAxis(c).containData(r[n])}function XJ(n,r){if(n.type==="cartesian2d"){var e=r[0].coord,o=r[1].coord;if(e&&o&&(sT(1,e,o,n)||sT(0,e,o,n)))return!0}return Gb(n,r[0])&&Gb(n,r[1])}function YD(n,r,e,o,l){var c=o.coordinateSystem,f=n.getItemModel(r),d,p=de(f.get("x"),l.getWidth()),y=de(f.get("y"),l.getHeight());if(!isNaN(p)&&!isNaN(y))d=[p,y];else{if(o.getMarkerPosition)d=o.getMarkerPosition(n.getValues(n.dimensions,r));else{var b=c.dimensions,x=n.get(b[0],r),S=n.get(b[1],r);d=c.dataToPoint([x,S])}if(Qu(c,"cartesian2d")){var T=c.getAxis("x"),A=c.getAxis("y"),b=c.dimensions;Hb(n.get(b[0],r))?d[0]=T.toGlobalCoord(T.getExtent()[e?0:1]):Hb(n.get(b[1],r))&&(d[1]=A.toGlobalCoord(A.getExtent()[e?0:1]))}isNaN(p)||(d[0]=p),isNaN(y)||(d[1]=y)}n.setItemLayout(r,d)}var $J=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.updateTransform=function(e,o,l){o.eachSeries(function(c){var f=vc.getMarkerModelFromSeries(c,"markLine");if(f){var d=f.getData(),p=oT(f).from,y=oT(f).to;p.each(function(b){YD(p,b,!0,c,l),YD(y,b,!1,c,l)}),d.each(function(b){d.setItemLayout(b,[p.getItemLayout(b),y.getItemLayout(b)])}),this.markerGroupMap.get(c.id).updateLayout()}},this)},r.prototype.renderSeries=function(e,o,l,c){var f=e.coordinateSystem,d=e.id,p=e.getData(),y=this.markerGroupMap,b=y.get(d)||y.set(d,new pl);this.group.add(b.group);var x=YG(f,e,o),S=x.from,T=x.to,A=x.line;oT(o).from=S,oT(o).to=T,o.setData(A);var E=o.get("symbol"),L=o.get("symbolSize"),I=o.get("symbolRotate"),N=o.get("symbolOffset");Ut(E)||(E=[E,E]),Ut(L)||(L=[L,L]),Ut(I)||(I=[I,I]),Ut(N)||(N=[N,N]),x.from.each(function(W){F(S,W,!0),F(T,W,!1)}),A.each(function(W){var X=A.getItemModel(W),$=X.getModel("lineStyle").getLineStyle();A.setItemLayout(W,[S.getItemLayout(W),T.getItemLayout(W)]);var K=X.get("z2");$.stroke==null&&($.stroke=S.getItemVisual(W,"style").fill),A.setItemVisual(W,{z2:fe(K,0),fromSymbolKeepAspect:S.getItemVisual(W,"symbolKeepAspect"),fromSymbolOffset:S.getItemVisual(W,"symbolOffset"),fromSymbolRotate:S.getItemVisual(W,"symbolRotate"),fromSymbolSize:S.getItemVisual(W,"symbolSize"),fromSymbol:S.getItemVisual(W,"symbol"),toSymbolKeepAspect:T.getItemVisual(W,"symbolKeepAspect"),toSymbolOffset:T.getItemVisual(W,"symbolOffset"),toSymbolRotate:T.getItemVisual(W,"symbolRotate"),toSymbolSize:T.getItemVisual(W,"symbolSize"),toSymbol:T.getItemVisual(W,"symbol"),style:$})}),b.updateData(A),x.line.eachItemGraphicEl(function(W){nr(W).dataModel=o,W.traverse(function(X){nr(X).dataModel=o})});function F(W,X,$){var K=W.getItemModel(X);YD(W,X,$,e,c);var et=K.getModel("itemStyle").getItemStyle();et.fill==null&&(et.fill=dg(p,"color")),W.setItemVisual(X,{symbolKeepAspect:K.get("symbolKeepAspect"),symbolOffset:fe(K.get("symbolOffset",!0),N[$?0:1]),symbolRotate:fe(K.get("symbolRotate",!0),I[$?0:1]),symbolSize:fe(K.get("symbolSize"),L[$?0:1]),symbol:fe(K.get("symbol",!0),E[$?0:1]),style:et})}this.markKeep(b),b.group.silent=o.get("silent")||e.get("silent")},r.type="markLine",r}(WD);function YG(n,r,e){var o;n?o=Gt(n&&n.dimensions,function(y){var b=r.getData().getDimensionInfo(r.getData().mapDimension(y))||{};return Wt(Wt({},b),{name:y,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var l=new zo(o,e),c=new zo(o,e),f=new zo([],e),d=Gt(e.get("data"),hr(HD,r,n,e));n&&(d=Zr(d,hr(XJ,n)));var p=GG(!!n,o);return l.initData(Gt(d,function(y){return y[0]}),null,p),c.initData(Gt(d,function(y){return y[1]}),null,p),f.initData(Gt(d,function(y){return y[2]})),f.hasItemOption=!0,{from:l,to:c,line:f}}var qJ=$J;function ZJ(n){n.registerComponentModel(UJ),n.registerComponentView(qJ),n.registerPreprocessor(function(r){jD(r.series,"markLine")&&(r.markLine=r.markLine||{})})}var KJ=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.createMarkerModelFromSeries=function(e,o,l){return new r(e,o,l)},r.type="markArea",r.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},r}(vc),QJ=KJ,lT=br(),JJ=function(n,r,e,o){var l=o[0],c=o[1];if(!(!l||!c)){var f=Ly(n,l),d=Ly(n,c),p=f.coord,y=d.coord;p[0]=mn(p[0],-1/0),p[1]=mn(p[1],-1/0),y[0]=mn(y[0],1/0),y[1]=mn(y[1],1/0);var b=Ol([{},f,d]);return b.coord=[f.coord,d.coord],b.x0=f.x,b.y0=f.y,b.x1=d.x,b.y1=d.y,b}};function Yb(n){return!isNaN(n)&&!isFinite(n)}function UG(n,r,e,o){var l=1-n;return Yb(r[l])&&Yb(e[l])}function XG(n,r){var e=r.coord[0],o=r.coord[1],l={coord:e,x:r.x0,y:r.y0},c={coord:o,x:r.x1,y:r.y1};return Qu(n,"cartesian2d")?e&&o&&(UG(1,e,o,n)||UG(0,e,o,n))?!0:FJ(n,l,c):Gb(n,l)||Gb(n,c)}function $G(n,r,e,o,l){var c=o.coordinateSystem,f=n.getItemModel(r),d,p=de(f.get(e[0]),l.getWidth()),y=de(f.get(e[1]),l.getHeight());if(!isNaN(p)&&!isNaN(y))d=[p,y];else{if(o.getMarkerPosition){var b=n.getValues(["x0","y0"],r),x=n.getValues(["x1","y1"],r),S=c.clampData(b),T=c.clampData(x),A=[];e[0]==="x0"?A[0]=S[0]>T[0]?x[0]:b[0]:A[0]=S[0]>T[0]?b[0]:x[0],e[1]==="y0"?A[1]=S[1]>T[1]?x[1]:b[1]:A[1]=S[1]>T[1]?b[1]:x[1],d=o.getMarkerPosition(A,e,!0)}else{var E=n.get(e[0],r),L=n.get(e[1],r),I=[E,L];c.clampData&&c.clampData(I,I),d=c.dataToPoint(I,!0)}if(Qu(c,"cartesian2d")){var N=c.getAxis("x"),F=c.getAxis("y"),E=n.get(e[0],r),L=n.get(e[1],r);Yb(E)?d[0]=N.toGlobalCoord(N.getExtent()[e[0]==="x0"?0:1]):Yb(L)&&(d[1]=F.toGlobalCoord(F.getExtent()[e[1]==="y0"?0:1]))}isNaN(p)||(d[0]=p),isNaN(y)||(d[1]=y)}return d}var qG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],ZG=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.updateTransform=function(e,o,l){o.eachSeries(function(c){var f=vc.getMarkerModelFromSeries(c,"markArea");if(f){var d=f.getData();d.each(function(p){var y=Gt(qG,function(x){return $G(d,p,x,c,l)});d.setItemLayout(p,y);var b=d.getItemGraphicEl(p);b.setShape("points",y)})}},this)},r.prototype.renderSeries=function(e,o,l,c){var f=e.coordinateSystem,d=e.id,p=e.getData(),y=this.markerGroupMap,b=y.get(d)||y.set(d,{group:new Ye});this.group.add(b.group),this.markKeep(b);var x=UD(f,e,o);o.setData(x),x.each(function(S){var T=Gt(qG,function(ot){return $G(x,S,ot,e,c)}),A=f.getAxis("x").scale,E=f.getAxis("y").scale,L=A.getExtent(),I=E.getExtent(),N=[A.parse(x.get("x0",S)),A.parse(x.get("x1",S))],F=[E.parse(x.get("y0",S)),E.parse(x.get("y1",S))];bs(N),bs(F);var W=!(L[0]>N[1]||L[1]<N[0]||I[0]>F[1]||I[1]<F[0]),X=!W;x.setItemLayout(S,{points:T,allClipped:X});var $=x.getItemModel(S),K=$.getModel("itemStyle").getItemStyle(),et=$.get("z2"),at=dg(p,"color");K.fill||(K.fill=at,oe(K.fill)&&(K.fill=ZT(K.fill,.4))),K.stroke||(K.stroke=at),x.setItemVisual(S,"style",K),x.setItemVisual(S,"z2",fe(et,0))}),x.diff(lT(b).data).add(function(S){var T=x.getItemLayout(S),A=x.getItemVisual(S,"z2");if(!T.allClipped){var E=new xo({z2:fe(A,0),shape:{points:T.points}});x.setItemGraphicEl(S,E),b.group.add(E)}}).update(function(S,T){var A=lT(b).data.getItemGraphicEl(T),E=x.getItemLayout(S),L=x.getItemVisual(S,"z2");E.allClipped?A&&b.group.remove(A):(A?Qr(A,{z2:fe(L,0),shape:{points:E.points}},o,S):A=new xo({shape:{points:E.points}}),x.setItemGraphicEl(S,A),b.group.add(A))}).remove(function(S){var T=lT(b).data.getItemGraphicEl(S);b.group.remove(T)}).execute(),x.eachItemGraphicEl(function(S,T){var A=x.getItemModel(T),E=x.getItemVisual(T,"style");S.useStyle(x.getItemVisual(T,"style")),Da(S,ga(A),{labelFetcher:o,labelDataIndex:T,defaultText:x.getName(T)||"",inheritColor:oe(E.fill)?ZT(E.fill,1):Rt.color.neutral99}),pa(S,A),ri(S,null,null,A.get(["emphasis","disabled"])),nr(S).dataModel=o}),lT(b).data=x,b.group.silent=o.get("silent")||e.get("silent")},r.type="markArea",r}(WD);function UD(n,r,e){var o,l,c=["x0","y0","x1","y1"];if(n){var f=Gt(n&&n.dimensions,function(y){var b=r.getData(),x=b.getDimensionInfo(b.mapDimension(y))||{};return Wt(Wt({},x),{name:y,ordinalMeta:null})});l=Gt(c,function(y,b){return{name:y,type:f[b%2].type}}),o=new zo(l,e)}else l=[{name:"value",type:"float"}],o=new zo(l,e);var d=Gt(e.get("data"),hr(JJ,r,n,e));n&&(d=Zr(d,hr(XG,n)));var p=n?function(y,b,x,S){var T=y.coord[Math.floor(S/2)][S%2];return Bc(T,l[S])}:function(y,b,x,S){return Bc(y.value,l[S])};return o.initData(d,null,p),o.hasItemOption=!0,o}var ttt=ZG;function XD(n){n.registerComponentModel(QJ),n.registerComponentView(ttt),n.registerPreprocessor(function(r){jD(r.series,"markArea")&&(r.markArea=r.markArea||{})})}var KG=function(n,r){if(r==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(r==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},ett=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.layoutMode={type:"box",ignoreSize:!0},e}return r.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l),e.selected=e.selected||{},this._updateSelector(e)},r.prototype.mergeOption=function(e,o){n.prototype.mergeOption.call(this,e,o),this._updateSelector(e)},r.prototype._updateSelector=function(e){var o=e.selector,l=this.ecModel;o===!0&&(o=e.selector=["all","inverse"]),Ut(o)&&it(o,function(c,f){oe(c)&&(c={type:c}),o[f]=lr(c,KG(l,c.type))})},r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var o=!1,l=0;l<e.length;l++){var c=e[l].get("name");if(this.isSelected(c)){this.select(c),o=!0;break}}!o&&this.select(e[0].get("name"))}},r.prototype._updateData=function(e){var o=[],l=[];e.eachRawSeries(function(p){var y=p.name;l.push(y);var b;if(p.legendVisualProvider){var x=p.legendVisualProvider,S=x.getAllNames();e.isSeriesFiltered(p)||(l=l.concat(S)),S.length?o=o.concat(S):b=!0}else b=!0;b&&MO(p)&&o.push(p.name)}),this._availableNames=l;var c=this.get("data")||o,f=ve(),d=Gt(c,function(p){return(oe(p)||qe(p))&&(p={name:p}),f.get(p.name)?null:(f.set(p.name,!0),new an(p,this,this.ecModel))},this);this._data=Zr(d,function(p){return!!p})},r.prototype.getData=function(){return this._data},r.prototype.select=function(e){var o=this.option.selected,l=this.get("selectedMode");if(l==="single"){var c=this._data;it(c,function(f){o[f.get("name")]=!1})}o[e]=!0},r.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},r.prototype.toggleSelected=function(e){var o=this.option.selected;o.hasOwnProperty(e)||(o[e]=!0),this[o[e]?"unSelect":"select"](e)},r.prototype.allSelect=function(){var e=this._data,o=this.option.selected;it(e,function(l){o[l.get("name",!0)]=!0})},r.prototype.inverseSelect=function(){var e=this._data,o=this.option.selected;it(e,function(l){var c=l.get("name",!0);o.hasOwnProperty(c)||(o[c]=!0),o[c]=!o[c]})},r.prototype.isSelected=function(e){var o=this.option.selected;return!(o.hasOwnProperty(e)&&!o[e])&&Xe(this._availableNames,e)>=0},r.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},r.type="legend.plain",r.dependencies=["series"],r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:Rt.size.m,align:"auto",backgroundColor:Rt.color.transparent,borderColor:Rt.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:Rt.color.disabled,inactiveBorderColor:Rt.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:Rt.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:Rt.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:Rt.color.tertiary,borderWidth:1,borderColor:Rt.color.border},emphasis:{selectorLabel:{show:!0,color:Rt.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},r}(Yr),uT=ett,ep=hr,$D=it,od=Ye,rtt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.newlineDisabled=!1,e}return r.prototype.init=function(){this.group.add(this._contentGroup=new od),this.group.add(this._selectorGroup=new od),this._isFirstRender=!0},r.prototype.getContentGroup=function(){return this._contentGroup},r.prototype.getSelectorGroup=function(){return this._selectorGroup},r.prototype.render=function(e,o,l){var c=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var f=e.get("align"),d=e.get("orient");(!f||f==="auto")&&(f=e.get("left")==="right"&&d==="vertical"?"right":"left");var p=e.get("selector",!0),y=e.get("selectorPosition",!0);p&&(!y||y==="auto")&&(y=d==="horizontal"?"end":"start"),this.renderInner(f,e,o,l,p,d,y);var b=ya(e,l).refContainer,x=e.getBoxLayoutParams(),S=e.get("padding"),T=Wn(x,b,S),A=this.layoutInner(e,f,T,c,p,y),E=Wn(je({width:A.width,height:A.height},x),b,S);this.group.x=E.x-A.x,this.group.y=E.y-A.y,this.group.markRedraw(),this.group.add(this._backgroundEl=qV(A,e))}},r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},r.prototype.renderInner=function(e,o,l,c,f,d,p){var y=this.getContentGroup(),b=ve(),x=o.get("selectedMode"),S=o.get("triggerEvent"),T=[];l.eachRawSeries(function(A){!A.get("legendHoverLink")&&T.push(A.id)}),$D(o.getData(),function(A,E){var L=this,I=A.get("name");if(!this.newlineDisabled&&(I===""||I===`
`)){var N=new od;N.newline=!0,y.add(N);return}var F=l.getSeriesByName(I)[0];if(!b.get(I))if(F){var W=F.getData(),X=W.getVisual("legendLineStyle")||{},$=W.getVisual("legendIcon"),K=W.getVisual("style"),et=this._createItem(F,I,E,A,o,e,X,K,$,x,c);et.on("click",ep(JG,I,null,c,T)).on("mouseover",ep(qD,F.name,null,c,T)).on("mouseout",ep(ZD,F.name,null,c,T)),l.ssr&&et.eachChild(function(at){var ot=nr(at);ot.seriesIndex=F.seriesIndex,ot.dataIndex=E,ot.ssrType="legend"}),S&&et.eachChild(function(at){L.packEventData(at,o,F,E,I)}),b.set(I,!0)}else l.eachRawSeries(function(at){var ot=this;if(!b.get(I)&&at.legendVisualProvider){var ht=at.legendVisualProvider;if(!ht.containName(I))return;var yt=ht.indexOfName(I),vt=ht.getItemVisual(yt,"style"),bt=ht.getItemVisual(yt,"legendIcon"),Mt=$o(vt.fill);Mt&&Mt[3]===0&&(Mt[3]=.2,vt=Wt(Wt({},vt),{fill:Il(Mt,"rgba")}));var St=this._createItem(at,I,E,A,o,e,{},vt,bt,x,c);St.on("click",ep(JG,null,I,c,T)).on("mouseover",ep(qD,null,I,c,T)).on("mouseout",ep(ZD,null,I,c,T)),l.ssr&&St.eachChild(function(Pt){var Et=nr(Pt);Et.seriesIndex=at.seriesIndex,Et.dataIndex=E,Et.ssrType="legend"}),S&&St.eachChild(function(Pt){ot.packEventData(Pt,o,at,E,I)}),b.set(I,!0)}},this)},this),f&&this._createSelector(f,o,c,d,p)},r.prototype.packEventData=function(e,o,l,c,f){var d={componentType:"legend",componentIndex:o.componentIndex,dataIndex:c,value:f,seriesIndex:l.seriesIndex};nr(e).eventData=d},r.prototype._createSelector=function(e,o,l,c,f){var d=this.getSelectorGroup();$D(e,function(y){var b=y.type,x=new Hr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){l.dispatchAction({type:b==="all"?"legendAllSelect":"legendInverseSelect",legendId:o.id})}});d.add(x);var S=o.getModel("selectorLabel"),T=o.getModel(["emphasis","selectorLabel"]);Da(x,{normal:S,emphasis:T},{defaultText:y.title}),Qf(x)})},r.prototype._createItem=function(e,o,l,c,f,d,p,y,b,x,S){var T=e.visualDrawType,A=f.get("itemWidth"),E=f.get("itemHeight"),L=f.isSelected(o),I=c.get("symbolRotate"),N=c.get("symbolKeepAspect"),F=c.get("icon");b=F||b||"roundRect";var W=QG(b,c,p,y,T,L,S),X=new od,$=c.getModel("textStyle");if(ze(e.getLegendIcon)&&(!F||F==="inherit"))X.add(e.getLegendIcon({itemWidth:A,itemHeight:E,icon:b,iconRotate:I,itemStyle:W.itemStyle,lineStyle:W.lineStyle,symbolKeepAspect:N}));else{var K=F==="inherit"&&e.getData().getVisual("symbol")?I==="inherit"?e.getData().getVisual("symbolRotate"):I:0;X.add(ntt({itemWidth:A,itemHeight:E,icon:b,iconRotate:K,itemStyle:W.itemStyle,lineStyle:W.lineStyle,symbolKeepAspect:N}))}var et=d==="left"?A+5:-5,at=d,ot=f.get("formatter"),ht=o;oe(ot)&&ot?ht=ot.replace("{name}",o!=null?o:""):ze(ot)&&(ht=ot(o));var yt=L?$.getTextColor():c.get("inactiveColor");X.add(new Hr({style:Gn($,{text:ht,x:et,y:E/2,fill:yt,align:at,verticalAlign:"middle"},{inheritColor:yt})}));var vt=new kr({shape:X.getBoundingRect(),style:{fill:"transparent"}}),bt=c.getModel("tooltip");return bt.get("show")&&uh({el:vt,componentModel:f,itemName:o,itemTooltipOption:bt.option}),X.add(vt),X.eachChild(function(Mt){Mt.silent=!0}),vt.silent=!x,this.getContentGroup().add(X),Qf(X),X.__legendDataIndex=l,X},r.prototype.layoutInner=function(e,o,l,c,f,d){var p=this.getContentGroup(),y=this.getSelectorGroup();Yd(e.get("orient"),p,e.get("itemGap"),l.width,l.height);var b=p.getBoundingRect(),x=[-b.x,-b.y];if(y.markRedraw(),p.markRedraw(),f){Yd("horizontal",y,e.get("selectorItemGap",!0));var S=y.getBoundingRect(),T=[-S.x,-S.y],A=e.get("selectorButtonGap",!0),E=e.getOrient().index,L=E===0?"width":"height",I=E===0?"height":"width",N=E===0?"y":"x";d==="end"?T[E]+=b[L]+A:x[E]+=S[L]+A,T[1-E]+=b[I]/2-S[I]/2,y.x=T[0],y.y=T[1],p.x=x[0],p.y=x[1];var F={x:0,y:0};return F[L]=b[L]+A+S[L],F[I]=Math.max(b[I],S[I]),F[N]=Math.min(0,S[N]+T[1-E]),F}else return p.x=x[0],p.y=x[1],this.group.getBoundingRect()},r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},r.type="legend.plain",r}(ui);function QG(n,r,e,o,l,c,f){function d(L,I){L.lineWidth==="auto"&&(L.lineWidth=I.lineWidth>0?2:0),$D(L,function(N,F){L[F]==="inherit"&&(L[F]=I[F])})}var p=r.getModel("itemStyle"),y=p.getItemStyle(),b=n.lastIndexOf("empty",0)===0?"fill":"stroke",x=p.getShallow("decal");y.decal=!x||x==="inherit"?o.decal:dv(x,f),y.fill==="inherit"&&(y.fill=o[l]),y.stroke==="inherit"&&(y.stroke=o[b]),y.opacity==="inherit"&&(y.opacity=(l==="fill"?o:e).opacity),d(y,o);var S=r.getModel("lineStyle"),T=S.getLineStyle();if(d(T,e),y.fill==="auto"&&(y.fill=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),T.stroke==="auto"&&(T.stroke=o.fill),!c){var A=r.get("inactiveBorderWidth"),E=y[b];y.lineWidth=A==="auto"?o.lineWidth>0&&E?2:0:y.lineWidth,y.fill=r.get("inactiveColor"),y.stroke=r.get("inactiveBorderColor"),T.stroke=S.get("inactiveColor"),T.lineWidth=S.get("inactiveWidth")}return{itemStyle:y,lineStyle:T}}function ntt(n){var r=n.icon||"roundRect",e=ia(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return e.setStyle(n.itemStyle),e.rotation=(n.iconRotate||0)*Math.PI/180,e.setOrigin([n.itemWidth/2,n.itemHeight/2]),r.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill=Rt.color.neutral00,e.style.lineWidth=2),e}function JG(n,r,e,o){ZD(n,r,e,o),e.dispatchAction({type:"legendToggleSelect",name:n!=null?n:r}),qD(n,r,e,o)}function t7(n){for(var r=n.getZr().storage.getDisplayList(),e,o=0,l=r.length;o<l&&!(e=r[o].states.emphasis);)o++;return e&&e.hoverLayer}function qD(n,r,e,o){t7(e)||e.dispatchAction({type:"highlight",seriesName:n,name:r,excludeSeriesId:o})}function ZD(n,r,e,o){t7(e)||e.dispatchAction({type:"downplay",seriesName:n,name:r,excludeSeriesId:o})}var KD=rtt;function e7(n){var r=n.findComponents({mainType:"legend"});r&&r.length&&n.filterSeries(function(e){for(var o=0;o<r.length;o++)if(!r[o].isSelected(e.name))return!1;return!0})}function Dy(n,r,e){var o=n==="allSelect"||n==="inverseSelect",l={},c=[];e.eachComponent({mainType:"legend",query:r},function(d){o?d[n]():d[n](r.name),r7(d,l),c.push(d.componentIndex)});var f={};return e.eachComponent("legend",function(d){it(l,function(p,y){d[p?"select":"unSelect"](y)}),r7(d,f)}),o?{selected:f,legendIndex:c}:{name:r.name,selected:f}}function r7(n,r){var e=r||{};return it(n.getData(),function(o){var l=o.get("name");if(!(l===`
`||l==="")){var c=n.isSelected(l);gt(e,l)?e[l]=e[l]&&c:e[l]=c}}),e}function itt(n){n.registerAction("legendToggleSelect","legendselectchanged",hr(Dy,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",hr(Dy,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",hr(Dy,"inverseSelect")),n.registerAction("legendSelect","legendselected",hr(Dy,"select")),n.registerAction("legendUnSelect","legendunselected",hr(Dy,"unSelect"))}function n7(n){n.registerComponentModel(uT),n.registerComponentView(KD),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,e7),n.registerSubTypeDefaulter("legend",function(){return"plain"}),itt(n)}var att=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},r.prototype.init=function(e,o,l){var c=Ud(e);n.prototype.init.call(this,e,o,l),i7(this,e,c)},r.prototype.mergeOption=function(e,o){n.prototype.mergeOption.call(this,e,o),i7(this,this.option,e)},r.type="legend.scroll",r.defaultOption=Jf(uT.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:Rt.color.accent50,pageIconInactiveColor:Rt.color.accent10,pageIconSize:15,pageTextStyle:{color:Rt.color.tertiary},animationDurationUpdate:800}),r}(uT);function i7(n,r,e){var o=n.getOrient(),l=[1,1];l[o.index]=0,zu(r,e,{type:"box",ignoreSize:!!l})}var ott=att,a7=Ye,QD=["width","height"],cT=["x","y"],o7=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.newlineDisabled=!0,e._currentIndex=0,e}return r.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new a7),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a7)},r.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},r.prototype.renderInner=function(e,o,l,c,f,d,p){var y=this;n.prototype.renderInner.call(this,e,o,l,c,f,d,p);var b=this._controllerGroup,x=o.get("pageIconSize",!0),S=Ut(x)?x:[x,x];A("pagePrev",0);var T=o.getModel("pageTextStyle");b.add(new Hr({name:"pageText",style:{text:"xx/xx",fill:T.getTextColor(),font:T.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),A("pageNext",1);function A(E,L){var I=E+"DataIndex",N=ov(o.get("pageIcons",!0)[o.getOrient().name][L],{onclick:ue(y._pageGo,y,I,o,c)},{x:-S[0]/2,y:-S[1]/2,width:S[0],height:S[1]});N.name=E,b.add(N)}},r.prototype.layoutInner=function(e,o,l,c,f,d){var p=this.getSelectorGroup(),y=e.getOrient().index,b=QD[y],x=cT[y],S=QD[1-y],T=cT[1-y];f&&Yd("horizontal",p,e.get("selectorItemGap",!0));var A=e.get("selectorButtonGap",!0),E=p.getBoundingRect(),L=[-E.x,-E.y],I=Ne(l);f&&(I[b]=l[b]-E[b]-A);var N=this._layoutContentAndController(e,c,I,y,b,S,T,x);if(f){if(d==="end")L[y]+=N[b]+A;else{var F=E[b]+A;L[y]-=F,N[x]-=F}N[b]+=E[b]+A,L[1-y]+=N[T]+N[S]/2-E[S]/2,N[S]=Math.max(N[S],E[S]),N[T]=Math.min(N[T],E[T]+L[1-y]),p.x=L[0],p.y=L[1],p.markRedraw()}return N},r.prototype._layoutContentAndController=function(e,o,l,c,f,d,p,y){var b=this.getContentGroup(),x=this._containerGroup,S=this._controllerGroup;Yd(e.get("orient"),b,e.get("itemGap"),c?l.width:null,c?null:l.height),Yd("horizontal",S,e.get("pageButtonItemGap",!0));var T=b.getBoundingRect(),A=S.getBoundingRect(),E=this._showController=T[f]>l[f],L=[-T.x,-T.y];o||(L[c]=b[y]);var I=[0,0],N=[-A.x,-A.y],F=fe(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(E){var W=e.get("pageButtonPosition",!0);W==="end"?N[c]+=l[f]-A[f]:I[c]+=A[f]+F}N[1-c]+=T[d]/2-A[d]/2,b.setPosition(L),x.setPosition(I),S.setPosition(N);var X={x:0,y:0};if(X[f]=E?l[f]:T[f],X[d]=Math.max(T[d],A[d]),X[p]=Math.min(0,A[p]+N[1-c]),x.__rectSize=l[f],E){var $={x:0,y:0};$[f]=Math.max(l[f]-A[f]-F,0),$[d]=X[d],x.setClipPath(new kr({shape:$})),x.__rectSize=$[f]}else S.eachChild(function(et){et.attr({invisible:!0,silent:!0})});var K=this._getPageInfo(e);return K.pageIndex!=null&&Qr(b,{x:K.contentPosition[0],y:K.contentPosition[1]},E?e:null),this._updatePageInfoView(e,K),X},r.prototype._pageGo=function(e,o,l){var c=this._getPageInfo(o)[e];c!=null&&l.dispatchAction({type:"legendScroll",scrollDataIndex:c,legendId:o.id})},r.prototype._updatePageInfoView=function(e,o){var l=this._controllerGroup;it(["pagePrev","pageNext"],function(b){var x=b+"DataIndex",S=o[x]!=null,T=l.childOfName(b);T&&(T.setStyle("fill",S?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),T.cursor=S?"pointer":"default")});var c=l.childOfName("pageText"),f=e.get("pageFormatter"),d=o.pageIndex,p=d!=null?d+1:0,y=o.pageCount;c&&f&&c.setStyle("text",oe(f)?f.replace("{current}",p==null?"":p+"").replace("{total}",y==null?"":y+""):f({current:p,total:y}))},r.prototype._getPageInfo=function(e){var o=e.get("scrollDataIndex",!0),l=this.getContentGroup(),c=this._containerGroup.__rectSize,f=e.getOrient().index,d=QD[f],p=cT[f],y=this._findTargetItemIndex(o),b=l.children(),x=b[y],S=b.length,T=S?1:0,A={contentPosition:[l.x,l.y],pageCount:T,pageIndex:T-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!x)return A;var E=W(x);A.contentPosition[f]=-E.s;for(var L=y+1,I=E,N=E,F=null;L<=S;++L)F=W(b[L]),(!F&&N.e>I.s+c||F&&!X(F,I.s))&&(N.i>I.i?I=N:I=F,I&&(A.pageNextDataIndex==null&&(A.pageNextDataIndex=I.i),++A.pageCount)),N=F;for(var L=y-1,I=E,N=E,F=null;L>=-1;--L)F=W(b[L]),(!F||!X(N,F.s))&&I.i<N.i&&(N=I,A.pagePrevDataIndex==null&&(A.pagePrevDataIndex=I.i),++A.pageCount,++A.pageIndex),I=F;return A;function W($){if($){var K=$.getBoundingRect(),et=K[p]+$[p];return{s:et,e:et+K[d],i:$.__legendDataIndex}}}function X($,K){return $.e>=K&&$.s<=K+c}},r.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var o,l=this.getContentGroup(),c;return l.eachChild(function(f,d){var p=f.__legendDataIndex;c==null&&p!=null&&(c=d),p===e&&(o=d)}),o!=null?o:c},r.type="legend.scroll",r}(KD),stt=o7;function s7(n){n.registerAction("legendScroll","legendscroll",function(r,e){var o=r.scrollDataIndex;o!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:r},function(l){l.setScrollDataIndex(o)})})}function ltt(n){_r(n7),n.registerComponentModel(ott),n.registerComponentView(stt),s7(n)}function utt(n){_r(n7),_r(ltt)}var ctt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="dataZoom.inside",r.defaultOption=Jf(Kv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),r}(Kv),l7=ctt,vu=br();function u7(n,r,e){vu(n).coordSysRecordMap.each(function(o){var l=o.dataZoomInfoMap.get(r.uid);l&&(l.getRange=e)})}function c7(n,r){for(var e=vu(n).coordSysRecordMap,o=e.keys(),l=0;l<o.length;l++){var c=o[l],f=e.get(c),d=f.dataZoomInfoMap;if(d){var p=r.uid,y=d.get(p);y&&(d.removeKey(p),d.keys().length||f7(e,f))}}}function f7(n,r){if(r){n.removeKey(r.model.uid);var e=r.controller;e&&e.dispose()}}function ftt(n,r){var e={model:r,containsPoint:hr(Ub,r),dispatchAction:hr(JD,n),dataZoomInfoMap:null,controller:null},o=e.controller=new Cv(n.getZr());return it(["pan","zoom","scrollMove"],function(l){o.on(l,function(c){var f=[];e.dataZoomInfoMap.each(function(d){if(c.isAvailableBehavior(d.model.option)){var p=(d.getRange||{})[l],y=p&&p(d.dzReferCoordSysInfo,e.model.mainType,e.controller,c);!d.model.get("disabled",!0)&&y&&f.push({dataZoomId:d.model.id,start:y[0],end:y[1]})}}),f.length&&e.dispatchAction(f)})}),e}function JD(n,r){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:r})}function Ub(n,r,e,o){return n.coordinateSystem.containPoint([e,o])}function h7(n,r,e){var o,l="type_",c={type_true:2,type_move:1,type_false:0,type_undefined:-1},f=!0;return n.each(function(d){var p=d.model,y=p.get("disabled",!0)?!1:p.get("zoomLock",!0)?"move":!0;c[l+y]>c[l+o]&&(o=y),f=f&&p.get("preventDefaultMouseMove",!0)}),{controlType:o,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!f,api:e,zInfo:{component:r.model},triggerInfo:{roamTrigger:null,isInSelf:r.containsPoint}}}}function d7(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(r,e){var o=vu(e),l=o.coordSysRecordMap||(o.coordSysRecordMap=ve());l.each(function(c){c.dataZoomInfoMap=null}),r.eachComponent({mainType:"dataZoom",subType:"inside"},function(c){var f=mD(c);it(f.infoList,function(d){var p=d.model.uid,y=l.get(p)||l.set(p,ftt(e,d.model)),b=y.dataZoomInfoMap||(y.dataZoomInfoMap=ve());b.set(c.uid,{dzReferCoordSysInfo:d,model:c,getRange:null})})}),l.each(function(c){var f=c.controller,d,p=c.dataZoomInfoMap;if(p){var y=p.keys()[0];y!=null&&(d=p.get(y))}if(!d){f7(l,c);return}var b=h7(p,c,e);f.enable(b.controlType,b.opt),ks(c,"dispatchAction",d.model.get("throttle",!0),"fixRate")})})}var htt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return r.prototype.render=function(e,o,l){if(n.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),u7(l,e,{pan:ue(tI.pan,this),zoom:ue(tI.zoom,this),scrollMove:ue(tI.scrollMove,this)})},r.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){c7(this.api,this.dataZoomModel),this.range=null},r.type="dataZoom.inside",r}(GM),tI={zoom:function(n,r,e,o){var l=this.range,c=l.slice(),f=n.axisModels[0];if(f){var d=Xb[r](null,[o.originX,o.originY],f,e,n),p=(d.signal>0?d.pixelStart+d.pixelLength-d.pixel:d.pixel-d.pixelStart)/d.pixelLength*(c[1]-c[0])+c[0],y=Math.max(1/o.scale,0);c[0]=(c[0]-p)*y+p,c[1]=(c[1]-p)*y+p;var b=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Hh(0,c,[0,100],0,b.minSpan,b.maxSpan),this.range=c,l[0]!==c[0]||l[1]!==c[1])return c}},pan:eI(function(n,r,e,o,l,c){var f=Xb[o]([c.oldX,c.oldY],[c.newX,c.newY],r,l,e);return f.signal*(n[1]-n[0])*f.pixel/f.pixelLength}),scrollMove:eI(function(n,r,e,o,l,c){var f=Xb[o]([0,0],[c.scrollDelta,c.scrollDelta],r,l,e);return f.signal*(n[1]-n[0])*c.scrollDelta})};function eI(n){return function(r,e,o,l){var c=this.range,f=c.slice(),d=r.axisModels[0];if(d){var p=n(f,d,r,e,o,l);if(Hh(p,f,[0,100],"all"),this.range=f,c[0]!==f[0]||c[1]!==f[1])return f}}}var Xb={grid:function(n,r,e,o,l){var c=e.axis,f={},d=l.model.coordinateSystem.getRect();return n=n||[0,0],c.dim==="x"?(f.pixel=r[0]-n[0],f.pixelLength=d.width,f.pixelStart=d.x,f.signal=c.inverse?1:-1):(f.pixel=r[1]-n[1],f.pixelLength=d.height,f.pixelStart=d.y,f.signal=c.inverse?-1:1),f},polar:function(n,r,e,o,l){var c=e.axis,f={},d=l.model.coordinateSystem,p=d.getRadiusAxis().getExtent(),y=d.getAngleAxis().getExtent();return n=n?d.pointToCoord(n):[0,0],r=d.pointToCoord(r),e.mainType==="radiusAxis"?(f.pixel=r[0]-n[0],f.pixelLength=p[1]-p[0],f.pixelStart=p[0],f.signal=c.inverse?1:-1):(f.pixel=r[1]-n[1],f.pixelLength=y[1]-y[0],f.pixelStart=y[0],f.signal=c.inverse?-1:1),f},singleAxis:function(n,r,e,o,l){var c=e.axis,f=l.model.coordinateSystem.getRect(),d={};return n=n||[0,0],c.orient==="horizontal"?(d.pixel=r[0]-n[0],d.pixelLength=f.width,d.pixelStart=f.x,d.signal=c.inverse?1:-1):(d.pixel=r[1]-n[1],d.pixelLength=f.height,d.pixelStart=f.y,d.signal=c.inverse?-1:1),d}},dtt=htt;function v7(n){Ay(n),n.registerComponentModel(l7),n.registerComponentView(dtt),d7(n)}var vtt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.type="dataZoom.slider",r.layoutMode="box",r.defaultOption=Jf(Kv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:Rt.color.accent10,borderRadius:0,backgroundColor:Rt.color.transparent,dataBackground:{lineStyle:{color:Rt.color.accent30,width:.5},areaStyle:{color:Rt.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:Rt.color.accent40,width:.5},areaStyle:{color:Rt.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:Rt.color.neutral00,borderColor:Rt.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:Rt.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:Rt.color.tertiary},brushSelect:!0,brushStyle:{color:Rt.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:Rt.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),r}(Kv),ptt=vtt,$b=kr,gtt=1,qb=30,ytt=7,Zb="horizontal",fT="vertical",Rnt=5,mtt=["line","bar","candlestick","scatter"],btt={easing:"cubicOut",duration:100,delay:0},_tt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._displayables={},e}return r.prototype.init=function(e,o){this.api=o,this._onBrush=ue(this._onBrush,this),this._onBrushEnd=ue(this._onBrushEnd,this)},r.prototype.render=function(e,o,l,c){if(n.prototype.render.apply(this,arguments),ks(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!c||c.type!=="dataZoom"||c.from!==this.uid)&&this._buildView(),this._updateView()},r.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){Yu(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},r.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Ye;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(o),this._positionGroup()},r.prototype._resetLocation=function(){var e=this.dataZoomModel,o=this.api,l=e.get("brushSelect"),c=l?ytt:0,f=ya(e,o).refContainer,d=this._findCoordRect(),p=e.get("defaultLocationEdgeGap",!0)||0,y=this._orient===Zb?{right:f.width-d.x-d.width,top:f.height-qb-p-c,width:d.width,height:qb}:{right:p,top:d.y,width:qb,height:d.height},b=Ud(e.option);it(["right","top","width","height"],function(S){b[S]==="ph"&&(b[S]=y[S])});var x=Wn(b,f);this._location={x:x.x,y:x.y},this._size=[x.width,x.height],this._orient===fT&&this._size.reverse()},r.prototype._positionGroup=function(){var e=this.group,o=this._location,l=this._orient,c=this.dataZoomModel.getFirstTargetAxisModel(),f=c&&c.get("inverse"),d=this._displayables.sliderGroup,p=(this._dataShadowInfo||{}).otherAxisInverse;d.attr(l===Zb&&!f?{scaleY:p?1:-1,scaleX:1}:l===Zb&&f?{scaleY:p?1:-1,scaleX:-1}:l===fT&&!f?{scaleY:p?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:p?-1:1,scaleX:-1,rotation:Math.PI/2});var y=e.getBoundingRect([d]);e.x=o.x-y.x,e.y=o.y-y.y,e.markRedraw()},r.prototype._getViewExtent=function(){return[0,this._size[0]]},r.prototype._renderBackground=function(){var e=this.dataZoomModel,o=this._size,l=this._displayables.sliderGroup,c=e.get("brushSelect");l.add(new $b({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var f=new $b({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:ue(this._onClickPanel,this)}),d=this.api.getZr();c?(f.on("mousedown",this._onBrushStart,this),f.cursor="crosshair",d.on("mousemove",this._onBrush),d.on("mouseup",this._onBrushEnd)):(d.off("mousemove",this._onBrush),d.off("mouseup",this._onBrushEnd)),l.add(f)},r.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var o=this._size,l=this._shadowSize||[],c=e.series,f=c.getRawData(),d=c.getShadowDim&&c.getShadowDim(),p=d&&f.getDimensionInfo(d)?c.getShadowDim():e.otherDim;if(p==null)return;var y=this._shadowPolygonPts,b=this._shadowPolylinePts;if(f!==this._shadowData||p!==this._shadowDim||o[0]!==l[0]||o[1]!==l[1]){var x=f.getDataExtent(e.thisDim),S=f.getDataExtent(p),T=(S[1]-S[0])*.3;S=[S[0]-T,S[1]+T];var A=[0,o[1]],E=[0,o[0]],L=[[o[0],0],[0,0]],I=[],N=E[1]/Math.max(1,f.count()-1),F=o[0]/(x[1]-x[0]),W=e.thisAxis.type==="time",X=-N,$=Math.round(f.count()/o[0]),K;f.each([e.thisDim,p],function(yt,vt,bt){if($>0&&bt%$){W||(X+=N);return}X=W?(+yt-x[0])*F:X+N;var Mt=vt==null||isNaN(vt)||vt==="",St=Mt?0:vn(vt,S,A,!0);Mt&&!K&&bt?(L.push([L[L.length-1][0],0]),I.push([I[I.length-1][0],0])):!Mt&&K&&(L.push([X,0]),I.push([X,0])),Mt||(L.push([X,St]),I.push([X,St])),K=Mt}),y=this._shadowPolygonPts=L,b=this._shadowPolylinePts=I}this._shadowData=f,this._shadowDim=p,this._shadowSize=[o[0],o[1]];var et=this.dataZoomModel;function at(yt){var vt=et.getModel(yt?"selectedDataBackground":"dataBackground"),bt=new Ye,Mt=new xo({shape:{points:y},segmentIgnoreThreshold:1,style:vt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),St=new Xa({shape:{points:b},segmentIgnoreThreshold:1,style:vt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return bt.add(Mt),bt.add(St),bt}for(var ot=0;ot<3;ot++){var ht=at(ot===1);this._displayables.sliderGroup.add(ht),this._displayables.dataShadowSegs.push(ht)}},r.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,o=e.get("showDataShadow");if(o!==!1){var l,c=this.ecModel;return e.eachTargetAxis(function(f,d){var p=e.getAxisProxy(f,d).getTargetSeriesModels();it(p,function(y){if(!l&&!(o!==!0&&Xe(mtt,y.get("type"))<0)){var b=c.getComponent(du(f),d).axis,x=p7(f),S,T=y.coordinateSystem;x!=null&&T.getOtherAxis&&(S=T.getOtherAxis(b).inverse),x=y.getData().mapDimension(x);var A=y.getData().mapDimension(f);l={thisAxis:b,series:y,thisDim:A,otherDim:x,otherAxisInverse:S}}},this)},this),l}},r.prototype._renderHandle=function(){var e=this.group,o=this._displayables,l=o.handles=[null,null],c=o.handleLabels=[null,null],f=this._displayables.sliderGroup,d=this._size,p=this.dataZoomModel,y=this.api,b=p.get("borderRadius")||0,x=p.get("brushSelect"),S=o.filler=new $b({silent:x,style:{fill:p.get("fillerColor")},textConfig:{position:"inside"}});f.add(S),f.add(new $b({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:d[0],height:d[1],r:b},style:{stroke:p.get("dataBackgroundColor")||p.get("borderColor"),lineWidth:gtt,fill:Rt.color.transparent}})),it([0,1],function(F){var W=p.get("handleIcon");!Cw[W]&&W.indexOf("path://")<0&&W.indexOf("image://")<0&&(W="path://"+W);var X=ia(W,-1,0,2,2,null,!0);X.attr({cursor:xtt(this._orient),draggable:!0,drift:ue(this._onDragMove,this,F),ondragend:ue(this._onDragEnd,this),onmouseover:ue(this._showDataInfo,this,!0),onmouseout:ue(this._showDataInfo,this,!1),z2:5});var $=X.getBoundingRect(),K=p.get("handleSize");this._handleHeight=de(K,this._size[1]),this._handleWidth=$.width/$.height*this._handleHeight,X.setStyle(p.getModel("handleStyle").getItemStyle()),X.style.strokeNoScale=!0,X.rectHover=!0,X.ensureState("emphasis").style=p.getModel(["emphasis","handleStyle"]).getItemStyle(),Qf(X);var et=p.get("handleColor");et!=null&&(X.style.fill=et),f.add(l[F]=X);var at=p.getModel("textStyle"),ot=p.get("handleLabel")||{},ht=ot.show||!1;e.add(c[F]=new Hr({silent:!0,invisible:!ht,style:Gn(at,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:at.getTextColor(),font:at.getFont()}),z2:10}))},this);var T=S;if(x){var A=de(p.get("moveHandleSize"),d[1]),E=o.moveHandle=new kr({style:p.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:d[1]-.5,height:A}}),L=A*.8,I=o.moveHandleIcon=ia(p.get("moveHandleIcon"),-L/2,-L/2,L,L,Rt.color.neutral00,!0);I.silent=!0,I.y=d[1]+A/2-.5,E.ensureState("emphasis").style=p.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var N=Math.min(d[1]/2,Math.max(A,10));T=o.moveZone=new kr({invisible:!0,shape:{y:d[1]-N,height:A+N}}),T.on("mouseover",function(){y.enterEmphasis(E)}).on("mouseout",function(){y.leaveEmphasis(E)}),f.add(E),f.add(I),f.add(T)}T.attr({draggable:!0,cursor:"default",drift:ue(this._onDragMove,this,"all"),ondragstart:ue(this._showDataInfo,this,!0),ondragend:ue(this._onDragEnd,this),onmouseover:ue(this._showDataInfo,this,!0),onmouseout:ue(this._showDataInfo,this,!1)})},r.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[vn(e[0],[0,100],o,!0),vn(e[1],[0,100],o,!0)]},r.prototype._updateInterval=function(e,o){var l=this.dataZoomModel,c=this._handleEnds,f=this._getViewExtent(),d=l.findRepresentativeAxisProxy().getMinMaxSpan(),p=[0,100];Hh(o,c,f,l.get("zoomLock")?"all":e,d.minSpan!=null?vn(d.minSpan,p,f,!0):null,d.maxSpan!=null?vn(d.maxSpan,p,f,!0):null);var y=this._range,b=this._range=bs([vn(c[0],f,p,!0),vn(c[1],f,p,!0)]);return!y||y[0]!==b[0]||y[1]!==b[1]},r.prototype._updateView=function(e){var o=this._displayables,l=this._handleEnds,c=bs(l.slice()),f=this._size;it([0,1],function(T){var A=o.handles[T],E=this._handleHeight;A.attr({scaleX:E/2,scaleY:E/2,x:l[T]+(T?-1:1),y:f[1]/2-E/2})},this),o.filler.setShape({x:c[0],y:0,width:c[1]-c[0],height:f[1]});var d={x:c[0],width:c[1]-c[0]};o.moveHandle&&(o.moveHandle.setShape(d),o.moveZone.setShape(d),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",d.x+d.width/2));for(var p=o.dataShadowSegs,y=[0,c[0],c[1],f[0]],b=0;b<p.length;b++){var x=p[b],S=x.getClipPath();S||(S=new kr,x.setClipPath(S)),S.setShape({x:y[b],y:0,width:y[b+1]-y[b],height:f[1]})}this._updateDataInfo(e)},r.prototype._updateDataInfo=function(e){var o=this.dataZoomModel,l=this._displayables,c=l.handleLabels,f=this._orient,d=["",""];if(o.get("showDetail")){var p=o.findRepresentativeAxisProxy();if(p){var y=p.getAxisModel().axis,b=this._range,x=e?p.calculateDataWindow({start:b[0],end:b[1]}).valueWindow:p.getDataValueWindow();d=[this._formatLabel(x[0],y),this._formatLabel(x[1],y)]}}var S=bs(this._handleEnds.slice());T.call(this,0),T.call(this,1);function T(A){var E=$e(l.handles[A].parent,this.group),L=gw(A===0?"right":"left",E),I=this._handleWidth/2+Rnt,N=Ql([S[A]+(A===0?-I:I),this._size[1]/2],E);c[A].setStyle({x:N[0],y:N[1],verticalAlign:f===Zb?"middle":L,align:f===Zb?L:"center",text:d[A]})}},r.prototype._formatLabel=function(e,o){var l=this.dataZoomModel,c=l.get("labelFormatter"),f=l.get("labelPrecision");(f==null||f==="auto")&&(f=o.getPixelPrecision());var d=e==null||isNaN(e)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(f,20));return ze(c)?c(e,d):oe(c)?c.replace("{value}",d):d},r.prototype._showDataInfo=function(e){var o=this.dataZoomModel.get("handleLabel")||{},l=o.show||!1,c=this.dataZoomModel.getModel(["emphasis","handleLabel"]),f=c.get("show")||!1,d=e||this._dragging?f:l,p=this._displayables,y=p.handleLabels;y[0].attr("invisible",!d),y[1].attr("invisible",!d),p.moveHandle&&this.api[d?"enterEmphasis":"leaveEmphasis"](p.moveHandle,1)},r.prototype._onDragMove=function(e,o,l,c){this._dragging=!0,_c(c.event);var f=this._displayables.sliderGroup.getLocalTransform(),d=Ql([o,l],f,!0),p=this._updateInterval(e,d[0]),y=this.dataZoomModel.get("realtime");this._updateView(!y),p&&y&&this._dispatchZoomAction(!0)},r.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},r.prototype._onClickPanel=function(e){var o=this._size,l=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(l[0]<0||l[0]>o[0]||l[1]<0||l[1]>o[1])){var c=this._handleEnds,f=(c[0]+c[1])/2,d=this._updateInterval("all",l[0]-f);this._updateView(),d&&this._dispatchZoomAction(!1)}},r.prototype._onBrushStart=function(e){var o=e.offsetX,l=e.offsetY;this._brushStart=new Ke(o,l),this._brushing=!0,this._brushStartTime=+new Date},r.prototype._onBrushEnd=function(e){if(this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var l=o.shape,c=+new Date;if(!(c-this._brushStartTime<200&&Math.abs(l.width)<5)){var f=this._getViewExtent(),d=[0,100],p=this._handleEnds=[l.x,l.x+l.width],y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Hh(0,p,f,0,y.minSpan!=null?vn(y.minSpan,d,f,!0):null,y.maxSpan!=null?vn(y.maxSpan,d,f,!0):null),this._range=bs([vn(p[0],f,d,!0),vn(p[1],f,d,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},r.prototype._onBrush=function(e){this._brushing&&(_c(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},r.prototype._updateBrushRect=function(e,o){var l=this._displayables,c=this.dataZoomModel,f=l.brushRect;f||(f=l.brushRect=new $b({silent:!0,style:c.getModel("brushStyle").getItemStyle()}),l.sliderGroup.add(f)),f.attr("ignore",!1);var d=this._brushStart,p=this._displayables.sliderGroup,y=p.transformCoordToLocal(e,o),b=p.transformCoordToLocal(d.x,d.y),x=this._size;y[0]=Math.max(Math.min(x[0],y[0]),0),f.setShape({x:b[0],y:0,width:y[0]-b[0],height:x[1]})},r.prototype._dispatchZoomAction=function(e){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?btt:null,start:o[0],end:o[1]})},r.prototype._findCoordRect=function(){var e,o=mD(this.dataZoomModel).infoList;if(!e&&o.length){var l=o[0].model.coordinateSystem;e=l.getRect&&l.getRect()}if(!e){var c=this.api.getWidth(),f=this.api.getHeight();e={x:c*.2,y:f*.2,width:c*.6,height:f*.6}}return e},r.type="dataZoom.slider",r}(GM);function p7(n){var r={x:"y",y:"x",radius:"angle",angle:"radius"};return r[n]}function xtt(n){return n==="vertical"?"ns-resize":"ew-resize"}var wtt=_tt;function g7(n){n.registerComponentModel(ptt),n.registerComponentView(wtt),Ay(n)}function sd(n){_r(v7),_r(g7)}var Stt={get:function(n,r,e){var o=Ne((Mtt[n]||{})[r]);return e&&Ut(o)?o[o.length-1]:o}},Mtt={color:{active:["#006edd","#e0ffff"],inactive:[Rt.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},rI=Stt,hT=hi.mapVisual,nI=hi.eachVisual,dT=Ut,iI=it,Ttt=bs,Ott=vn,y7=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return r.prototype.init=function(e,o,l){this.mergeDefaultAndTheme(e,l)},r.prototype.optionUpdated=function(e,o){var l=this.option;!o&&_G(l,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},r.prototype.resetVisual=function(e){var o=this.stateList;e=ue(e,this),this.controllerVisuals=ID(this.option.controller,o,e),this.targetVisuals=ID(this.option.target,o,e)},r.prototype.getItemSymbol=function(){return null},r.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,o=this.option.seriesIndex;o==null&&e==null&&(o="all");var l=v0(this.ecModel,"series",{index:o,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Gt(l,function(c){return c.componentIndex})},r.prototype.eachTargetSeries=function(e,o){it(this.getTargetSeriesIndices(),function(l){var c=this.ecModel.getSeriesByIndex(l);c&&e.call(o,c)},this)},r.prototype.isTargetSeries=function(e){var o=!1;return this.eachTargetSeries(function(l){l===e&&(o=!0)}),o},r.prototype.formatValueText=function(e,o,l){var c=this.option,f=c.precision,d=this.dataBound,p=c.formatter,y;l=l||["<",">"],Ut(e)&&(e=e.slice(),y=!0);var b=o?e:y?[x(e[0]),x(e[1])]:x(e);if(oe(p))return p.replace("{value}",y?b[0]:b).replace("{value2}",y?b[1]:b);if(ze(p))return y?p(e[0],e[1]):p(e);if(y)return e[0]===d[0]?l[0]+" "+b[1]:e[1]===d[1]?l[1]+" "+b[0]:b[0]+" - "+b[1];return b;function x(S){return S===d[0]?"min":S===d[1]?"max":(+S).toFixed(Math.min(f,20))}},r.prototype.resetExtent=function(){var e=this.option,o=Ttt([e.min,e.max]);this._dataExtent=o},r.prototype.getDataDimensionIndex=function(e){var o=this.option.dimension;if(o!=null)return e.getDimensionIndex(o);for(var l=e.dimensions,c=l.length-1;c>=0;c--){var f=l[c],d=e.getDimensionInfo(f);if(!d.isCalculationCoord)return d.storeDimIndex}},r.prototype.getExtent=function(){return this._dataExtent.slice()},r.prototype.completeVisualOption=function(){var e=this.ecModel,o=this.option,l={inRange:o.inRange,outOfRange:o.outOfRange},c=o.target||(o.target={}),f=o.controller||(o.controller={});lr(c,l),lr(f,l);var d=this.isCategory();p.call(this,c),p.call(this,f),y.call(this,c,"inRange","outOfRange"),b.call(this,f);function p(x){dT(o.color)&&!x.inRange&&(x.inRange={color:o.color.slice().reverse()}),x.inRange=x.inRange||{color:e.get("gradientColor")}}function y(x,S,T){var A=x[S],E=x[T];A&&!E&&(E=x[T]={},iI(A,function(L,I){if(hi.isValidType(I)){var N=rI.get(I,"inactive",d);N!=null&&(E[I]=N,I==="color"&&!E.hasOwnProperty("opacity")&&!E.hasOwnProperty("colorAlpha")&&(E.opacity=[0,0]))}}))}function b(x){var S=(x.inRange||{}).symbol||(x.outOfRange||{}).symbol,T=(x.inRange||{}).symbolSize||(x.outOfRange||{}).symbolSize,A=this.get("inactiveColor"),E=this.getItemSymbol(),L=E||"roundRect";iI(this.stateList,function(I){var N=this.itemSize,F=x[I];F||(F=x[I]={color:d?A:[A]}),F.symbol==null&&(F.symbol=S&&Ne(S)||(d?L:[L])),F.symbolSize==null&&(F.symbolSize=T&&Ne(T)||(d?N[0]:[N[0],N[0]])),F.symbol=hT(F.symbol,function($){return $==="none"?L:$});var W=F.symbolSize;if(W!=null){var X=-1/0;nI(W,function($){$>X&&(X=$)}),F.symbolSize=hT(W,function($){return Ott($,[0,X],[0,N[0]],!0)})}},this)}},r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},r.prototype.isCategory=function(){return!!this.option.categories},r.prototype.setSelected=function(e){},r.prototype.getSelected=function(){return null},r.prototype.getValueState=function(e){return null},r.prototype.getVisualMeta=function(e){return null},r.type="visualMap",r.dependencies=["series"],r.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:Rt.color.transparent,borderColor:Rt.color.borderTint,contentColor:Rt.color.theme[0],inactiveColor:Rt.color.disabled,borderWidth:0,padding:Rt.size.m,textGap:10,precision:0,textStyle:{color:Rt.color.secondary}},r}(Yr),Iy=y7,aI=[20,140],Ry=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.optionUpdated=function(e,o){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(l){l.mappingMethod="linear",l.dataExtent=this.getExtent()}),this._resetRange()},r.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=aI[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=aI[1])},r.prototype._resetRange=function(){var e=this.getExtent(),o=this.option.range;!o||o.auto?(e.auto=1,this.option.range=e):Ut(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],e[0]),o[1]=Math.min(o[1],e[1]))},r.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),it(this.stateList,function(e){var o=this.option.controller[e].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},r.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},r.prototype.getSelected=function(){var e=this.getExtent(),o=bs((this.get("range")||[]).slice());return o[0]>e[1]&&(o[0]=e[1]),o[1]>e[1]&&(o[1]=e[1]),o[0]<e[0]&&(o[0]=e[0]),o[1]<e[0]&&(o[1]=e[0]),o},r.prototype.getValueState=function(e){var o=this.option.range,l=this.getExtent(),c=fe(this.option.unboundedRange,!0);return(c&&o[0]<=l[0]||o[0]<=e)&&(c&&o[1]>=l[1]||e<=o[1])?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(e){var o=[];return this.eachTargetSeries(function(l){var c=[],f=l.getData();f.each(this.getDataDimensionIndex(f),function(d,p){e[0]<=d&&d<=e[1]&&c.push(p)},this),o.push({seriesId:l.id,dataIndex:c})},this),o},r.prototype.getVisualMeta=function(e){var o=m7(this,"outOfRange",this.getExtent()),l=m7(this,"inRange",this.option.range.slice()),c=[];function f(T,A){c.push({value:T,color:e(T,A)})}for(var d=0,p=0,y=l.length,b=o.length;p<b&&(!l.length||o[p]<=l[0]);p++)o[p]<l[d]&&f(o[p],"outOfRange");for(var x=1;d<y;d++,x=0)x&&c.length&&f(l[d],"outOfRange"),f(l[d],"inRange");for(var x=1;p<b;p++)(!l.length||l[l.length-1]<o[p])&&(x&&(c.length&&f(c[c.length-1].value,"outOfRange"),x=0),f(o[p],"outOfRange"));var S=c.length;return{stops:c,outerColors:[S?c[0].color:"transparent",S?c[S-1].color:"transparent"]}},r.type="visualMap.continuous",r.defaultOption=Jf(Iy.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:Rt.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:Rt.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:Rt.color.shadow}}),r}(Iy);function m7(n,r,e){if(e[0]===e[1])return e.slice();for(var o=200,l=(e[1]-e[0])/o,c=e[0],f=[],d=0;d<=o&&c<e[1];d++)f.push(c),c+=l;return f.push(e[1]),f}var b7=Ry,Ws=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return r.prototype.init=function(e,o){this.ecModel=e,this.api=o},r.prototype.render=function(e,o,l,c){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,o,l,c)},r.prototype.renderBackground=function(e){var o=this.visualMapModel,l=Vp(o.get("padding")||0),c=e.getBoundingRect();e.add(new kr({z2:-1,silent:!0,shape:{x:c.x-l[3],y:c.y-l[0],width:c.width+l[3]+l[1],height:c.height+l[0]+l[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},r.prototype.getControllerVisual=function(e,o,l){l=l||{};var c=l.forceState,f=this.visualMapModel,d={};if(o==="color"){var p=f.get("contentColor");d.color=p}function y(T){return d[T]}function b(T,A){d[T]=A}var x=f.controllerVisuals[c||f.getValueState(e)],S=hi.prepareVisualTypes(x);return it(S,function(T){var A=x[T];l.convertOpacityToAlpha&&T==="opacity"&&(T="colorAlpha",A=x.__alphaForOpacity),hi.dependsOn(T,o)&&A&&A.applyVisual(e,y,b)}),d[o]},r.prototype.positionGroup=function(e){var o=this.visualMapModel,l=this.api,c=ya(o,l).refContainer;Yl(e,o.getBoxLayoutParams(),c)},r.prototype.doRender=function(e,o,l,c){},r.type="visualMap",r}(ui),_7=Ws,oI=[["left","right","width"],["top","bottom","height"]];function x7(n,r,e){var o=n.option,l=o.align;if(l!=null&&l!=="auto")return l;for(var c={width:r.getWidth(),height:r.getHeight()},f=o.orient==="horizontal"?1:0,d=oI[f],p=[0,null,10],y={},b=0;b<3;b++)y[oI[1-f][b]]=p[b],y[d[b]]=b===2?e[0]:o[d[b]];var x=[["x","width",3],["y","height",0]][f],S=Wn(y,c,o.padding);return d[(S.margin[x[2]]||0)+S[x[0]]+S[x[1]]*.5<c[x[1]]*.5?0:1]}function rp(n,r){return it(n||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(r?r.componentIndex:"")}),n}var pu=vn,Att=it,w7=Math.min,sI=Math.max,lI=12,Ctt=6,Ptt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return r.prototype.init=function(e,o){n.prototype.init.call(this,e,o),this._hoverLinkFromSeriesMouseOver=ue(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=ue(this._hideIndicator,this)},r.prototype.doRender=function(e,o,l,c){(!c||c.type!=="selectDataRange"||c.from!==this.uid)&&this._buildView()},r.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,o=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(o);var l=e.get("text");this._renderEndsText(o,l,0),this._renderEndsText(o,l,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},r.prototype._renderEndsText=function(e,o,l){if(o){var c=o[1-l];c=c!=null?c+"":"";var f=this.visualMapModel,d=f.get("textGap"),p=f.itemSize,y=this._shapes.mainGroup,b=this._applyTransform([p[0]/2,l===0?-d:p[1]+d],y),x=this._applyTransform(l===0?"bottom":"top",y),S=this._orient,T=this.visualMapModel.textStyleModel;this.group.add(new Hr({style:Gn(T,{x:b[0],y:b[1],verticalAlign:T.get("verticalAlign")||(S==="horizontal"?"middle":x),align:T.get("align")||(S==="horizontal"?x:"center"),text:c})}))}},r.prototype._renderBar=function(e){var o=this.visualMapModel,l=this._shapes,c=o.itemSize,f=this._orient,d=this._useHandle,p=x7(o,this.api,c),y=l.mainGroup=this._createBarGroup(p),b=new Ye;y.add(b),b.add(l.outOfRange=S7()),b.add(l.inRange=S7(null,d?O7(this._orient):null,ue(this._dragHandle,this,"all",!1),ue(this._dragHandle,this,"all",!0))),b.setClipPath(new kr({shape:{x:0,y:0,width:c[0],height:c[1],r:3}}));var x=o.textStyleModel.getTextRect("\u56FD"),S=sI(x.width,x.height);d&&(l.handleThumbs=[],l.handleLabels=[],l.handleLabelPoints=[],this._createHandle(o,y,0,c,S,f),this._createHandle(o,y,1,c,S,f)),this._createIndicator(o,y,c,S,f),e.add(y)},r.prototype._createHandle=function(e,o,l,c,f,d){var p=ue(this._dragHandle,this,l,!1),y=ue(this._dragHandle,this,l,!0),b=Bl(e.get("handleSize"),c[0]),x=ia(e.get("handleIcon"),-b/2,-b/2,b,b,null,!0),S=O7(this._orient);x.attr({cursor:S,draggable:!0,drift:p,ondragend:y,onmousemove:function(I){_c(I.event)}}),x.x=c[0]/2,x.useStyle(e.getModel("handleStyle").getItemStyle()),x.setStyle({strokeNoScale:!0,strokeFirst:!0}),x.style.lineWidth*=2,x.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Bd(x,!0),o.add(x);var T=this.visualMapModel.textStyleModel,A=new Hr({cursor:S,draggable:!0,drift:p,onmousemove:function(I){_c(I.event)},ondragend:y,style:Gn(T,{x:0,y:0,text:""})});A.ensureState("blur").style={opacity:.1},A.stateTransition={duration:200},this.group.add(A);var E=[b,0],L=this._shapes;L.handleThumbs[l]=x,L.handleLabelPoints[l]=E,L.handleLabels[l]=A},r.prototype._createIndicator=function(e,o,l,c,f){var d=Bl(e.get("indicatorSize"),l[0]),p=ia(e.get("indicatorIcon"),-d/2,-d/2,d,d,null,!0);p.attr({cursor:"move",invisible:!0,silent:!0,x:l[0]/2});var y=e.getModel("indicatorStyle").getItemStyle();if(p instanceof ka){var b=p.style;p.useStyle(Wt({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},y))}else p.useStyle(y);o.add(p);var x=this.visualMapModel.textStyleModel,S=new Hr({silent:!0,invisible:!0,style:Gn(x,{x:0,y:0,text:""})});this.group.add(S);var T=[(f==="horizontal"?c/2:Ctt)+l[0]/2,0],A=this._shapes;A.indicator=p,A.indicatorLabel=S,A.indicatorLabelPoint=T,this._firstShowIndicator=!0},r.prototype._dragHandle=function(e,o,l,c){if(this._useHandle){if(this._dragging=!o,!o){var f=this._applyTransform([l,c],this._shapes.mainGroup,!0);this._updateInterval(e,f[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():T7(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},r.prototype._resetInterval=function(){var e=this.visualMapModel,o=this._dataInterval=e.getSelected(),l=e.getExtent(),c=[0,e.itemSize[1]];this._handleEnds=[pu(o[0],l,c,!0),pu(o[1],l,c,!0)]},r.prototype._updateInterval=function(e,o){o=o||0;var l=this.visualMapModel,c=this._handleEnds,f=[0,l.itemSize[1]];Hh(o,c,f,e,0);var d=l.getExtent();this._dataInterval=[pu(c[0],f,d,!0),pu(c[1],f,d,!0)]},r.prototype._updateView=function(e){var o=this.visualMapModel,l=o.getExtent(),c=this._shapes,f=[0,o.itemSize[1]],d=e?f:this._handleEnds,p=this._createBarVisual(this._dataInterval,l,d,"inRange"),y=this._createBarVisual(l,l,f,"outOfRange");c.inRange.setStyle({fill:p.barColor}).setShape("points",p.barPoints),c.outOfRange.setStyle({fill:y.barColor}).setShape("points",y.barPoints),this._updateHandle(d,p)},r.prototype._createBarVisual=function(e,o,l,c){var f={forceState:c,convertOpacityToAlpha:!0},d=this._makeColorGradient(e,f),p=[this.getControllerVisual(e[0],"symbolSize",f),this.getControllerVisual(e[1],"symbolSize",f)],y=this._createBarPoints(l,p);return{barColor:new Vc(0,0,0,1,d),barPoints:y,handlesColor:[d[0].color,d[d.length-1].color]}},r.prototype._makeColorGradient=function(e,o){var l=100,c=[],f=(e[1]-e[0])/l;c.push({color:this.getControllerVisual(e[0],"color",o),offset:0});for(var d=1;d<l;d++){var p=e[0]+f*d;if(p>e[1])break;c.push({color:this.getControllerVisual(p,"color",o),offset:d/l})}return c.push({color:this.getControllerVisual(e[1],"color",o),offset:1}),c},r.prototype._createBarPoints=function(e,o){var l=this.visualMapModel.itemSize;return[[l[0]-o[0],e[0]],[l[0],e[0]],[l[0],e[1]],[l[0]-o[1],e[1]]]},r.prototype._createBarGroup=function(e){var o=this._orient,l=this.visualMapModel.get("inverse");return new Ye(o==="horizontal"&&!l?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&l?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!l?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},r.prototype._updateHandle=function(e,o){if(this._useHandle){var l=this._shapes,c=this.visualMapModel,f=l.handleThumbs,d=l.handleLabels,p=c.itemSize,y=c.getExtent(),b=this._applyTransform("left",l.mainGroup);Att([0,1],function(x){var S=f[x];S.setStyle("fill",o.handlesColor[x]),S.y=e[x];var T=pu(e[x],[0,p[1]],y,!0),A=this.getControllerVisual(T,"symbolSize");S.scaleX=S.scaleY=A/p[0],S.x=p[0]-A/2;var E=Ql(l.handleLabelPoints[x],$e(S,this.group));if(this._orient==="horizontal"){var L=b==="left"||b==="top"?(p[0]-A)/2:(p[0]-A)/-2;E[1]+=L}d[x].setStyle({x:E[0],y:E[1],text:c.formatValueText(this._dataInterval[x]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",l.mainGroup):"center"})},this)}},r.prototype._showIndicator=function(e,o,l,c){var f=this.visualMapModel,d=f.getExtent(),p=f.itemSize,y=[0,p[1]],b=this._shapes,x=b.indicator;if(x){x.attr("invisible",!1);var S={convertOpacityToAlpha:!0},T=this.getControllerVisual(e,"color",S),A=this.getControllerVisual(e,"symbolSize"),E=pu(e,d,y,!0),L=p[0]-A/2,I={x:x.x,y:x.y};x.y=E,x.x=L;var N=Ql(b.indicatorLabelPoint,$e(x,this.group)),F=b.indicatorLabel;F.attr("invisible",!1);var W=this._applyTransform("left",b.mainGroup),X=this._orient,$=X==="horizontal";F.setStyle({text:(l||"")+f.formatValueText(o),verticalAlign:$?W:"middle",align:$?"center":W});var K={x:L,y:E,style:{fill:T}},et={style:{x:N[0],y:N[1]}};if(f.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var at={duration:100,easing:"cubicInOut",additive:!0};x.x=I.x,x.y=I.y,x.animateTo(K,at),F.animateTo(et,at)}else x.attr(K),F.attr(et);this._firstShowIndicator=!1;var ot=this._shapes.handleLabels;if(ot)for(var ht=0;ht<ot.length;ht++)this.api.enterBlur(ot[ht])}},r.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(o){if(e._hovering=!0,!e._dragging){var l=e.visualMapModel.itemSize,c=e._applyTransform([o.offsetX,o.offsetY],e._shapes.mainGroup,!0,!0);c[1]=w7(sI(0,c[1]),l[1]),e._doHoverLinkToSeries(c[1],0<=c[0]&&c[0]<=l[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},r.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},r.prototype._doHoverLinkToSeries=function(e,o){var l=this.visualMapModel,c=l.itemSize;if(l.option.hoverLink){var f=[0,c[1]],d=l.getExtent();e=w7(sI(f[0],e),f[1]);var p=M7(l,d,f),y=[e-p,e+p],b=pu(e,f,d,!0),x=[pu(y[0],f,d,!0),pu(y[1],f,d,!0)];y[0]<f[0]&&(x[0]=-1/0),y[1]>f[1]&&(x[1]=1/0),o&&(x[0]===-1/0?this._showIndicator(b,x[1],"< ",p):x[1]===1/0?this._showIndicator(b,x[0],"> ",p):this._showIndicator(b,b,"\u2248 ",p));var S=this._hoverLinkDataIndices,T=[];(o||T7(l))&&(T=this._hoverLinkDataIndices=l.findTargetDataIndices(x));var A=NR(S,T);this._dispatchHighDown("downplay",rp(A[0],l)),this._dispatchHighDown("highlight",rp(A[1],l))}},r.prototype._hoverLinkFromSeriesMouseOver=function(e){var o;if(fh(e.target,function(p){var y=nr(p);if(y.dataIndex!=null)return o=y,!0},!0),!!o){var l=this.ecModel.getSeriesByIndex(o.seriesIndex),c=this.visualMapModel;if(c.isTargetSeries(l)){var f=l.getData(o.dataType),d=f.getStore().get(c.getDataDimensionIndex(f),o.dataIndex);isNaN(d)||this._showIndicator(d,d)}}},r.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var l=0;l<o.length;l++)this.api.leaveBlur(o[l])},r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",rp(e,this.visualMapModel)),e.length=0},r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},r.prototype._applyTransform=function(e,o,l,c){var f=$e(o,c?null:this.group);return Ut(e)?Ql(e,f,l):gw(e,f,l)},r.prototype._dispatchHighDown=function(e,o){o&&o.length&&this.api.dispatchAction({type:e,batch:o})},r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.type="visualMap.continuous",r}(_7);function S7(n,r,e,o){return new xo({shape:{points:n},draggable:!!e,cursor:r,drift:e,onmousemove:function(l){_c(l.event)},ondragend:o})}function M7(n,r,e){var o=lI/2,l=n.get("hoverLinkDataSize");return l&&(o=pu(l,r,e,!0)/2),o}function T7(n){var r=n.get("hoverLinkOnHandle");return!!(r==null?n.get("realtime"):r)}function O7(n){return n==="vertical"?"ns-resize":"ew-resize"}var Kb=Ptt,Ett={type:"selectDataRange",event:"dataRangeSelected",update:"update"},ktt=function(n,r){r.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},Ltt=[{createOnAllSeries:!0,reset:function(n,r){var e=[];return r.eachComponent("visualMap",function(o){var l=n.pipelineContext;!o.isTargetSeries(n)||l&&l.large||e.push(bJ(o.stateList,o.targetVisuals,ue(o.getValueState,o),o.getDataDimensionIndex(n.getData())))}),e}},{createOnAllSeries:!0,reset:function(n,r){var e=n.getData(),o=[];r.eachComponent("visualMap",function(l){if(l.isTargetSeries(n)){var c=l.getVisualMeta(ue(Dtt,null,n,l))||{stops:[],outerColors:[]},f=l.getDataDimensionIndex(e);f>=0&&(c.dimension=f,o.push(c))}}),n.getData().setVisual("visualMeta",o)}}];function Dtt(n,r,e,o){for(var l=r.targetVisuals[o],c=hi.prepareVisualTypes(l),f={color:dg(n.getData(),"color")},d=0,p=c.length;d<p;d++){var y=c[d],b=l[y==="opacity"?"__alphaForOpacity":y];b&&b.applyVisual(e,x,S)}return f.color;function x(T){return f[T]}function S(T,A){f[T]=A}}var A7=it;function Itt(n){var r=n&&n.visualMap;Ut(r)||(r=r?[r]:[]),A7(r,function(e){if(e){Ny(e,"splitList")&&!Ny(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var o=e.pieces;o&&Ut(o)&&A7(o,function(l){ce(l)&&(Ny(l,"start")&&!Ny(l,"min")&&(l.min=l.start),Ny(l,"end")&&!Ny(l,"max")&&(l.max=l.end))})}})}function Ny(n,r){return n&&n.hasOwnProperty&&n.hasOwnProperty(r)}var C7=!1;function bf(n){C7||(C7=!0,n.registerSubTypeDefaulter("visualMap",function(r){return!r.categories&&(!(r.pieces?r.pieces.length>0:r.splitNumber>0)||r.calculable)?"continuous":"piecewise"}),n.registerAction(Ett,ktt),it(Ltt,function(r){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,r)}),n.registerPreprocessor(Itt))}function P7(n){n.registerComponentModel(b7),n.registerComponentView(Kb),bf(n)}var E7=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e._pieceList=[],e}return r.prototype.optionUpdated=function(e,o){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var l=this._mode=this._determineMode();this._pieceList=[],Hs[this._mode].call(this,this._pieceList),this._resetSelected(e,o);var c=this.option.categories;this.resetVisual(function(f,d){l==="categories"?(f.mappingMethod="category",f.categories=Ne(c)):(f.dataExtent=this.getExtent(),f.mappingMethod="piecewise",f.pieceList=Gt(this._pieceList,function(p){return p=Ne(p),d!=="inRange"&&(p.visual=null),p}))})},r.prototype.completeVisualOption=function(){var e=this.option,o={},l=hi.listVisualTypes(),c=this.isCategory();it(e.pieces,function(d){it(l,function(p){d.hasOwnProperty(p)&&(o[p]=1)})}),it(o,function(d,p){var y=!1;it(this.stateList,function(b){y=y||f(e,b,p)||f(e.target,b,p)},this),!y&&it(this.stateList,function(b){(e[b]||(e[b]={}))[p]=rI.get(p,b==="inRange"?"active":"inactive",c)})},this);function f(d,p,y){return d&&d[p]&&d[p].hasOwnProperty(y)}n.prototype.completeVisualOption.apply(this,arguments)},r.prototype._resetSelected=function(e,o){var l=this.option,c=this._pieceList,f=(o?l:e).selected||{};if(l.selected=f,it(c,function(p,y){var b=this.getSelectedMapKey(p);f.hasOwnProperty(b)||(f[b]=!0)},this),l.selectedMode==="single"){var d=!1;it(c,function(p,y){var b=this.getSelectedMapKey(p);f[b]&&(d?f[b]=!1:d=!0)},this)}},r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},r.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},r.prototype.getPieceList=function(){return this._pieceList},r.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},r.prototype.setSelected=function(e){this.option.selected=Ne(e)},r.prototype.getValueState=function(e){var o=hi.findPieceIndex(e,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(e){var o=[],l=this._pieceList;return this.eachTargetSeries(function(c){var f=[],d=c.getData();d.each(this.getDataDimensionIndex(d),function(p,y){var b=hi.findPieceIndex(p,l);b===e&&f.push(y)},this),o.push({seriesId:c.id,dataIndex:f})},this),o},r.prototype.getRepresentValue=function(e){var o;if(this.isCategory())o=e.value;else if(e.value!=null)o=e.value;else{var l=e.interval||[];o=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return o},r.prototype.getVisualMeta=function(e){if(this.isCategory())return;var o=[],l=["",""],c=this;function f(b,x){var S=c.getRepresentValue({interval:b});x||(x=c.getValueState(S));var T=e(S,x);b[0]===-1/0?l[0]=T:b[1]===1/0?l[1]=T:o.push({value:b[0],color:T},{value:b[1],color:T})}var d=this._pieceList.slice();if(!d.length)d.push({interval:[-1/0,1/0]});else{var p=d[0].interval[0];p!==-1/0&&d.unshift({interval:[-1/0,p]}),p=d[d.length-1].interval[1],p!==1/0&&d.push({interval:[p,1/0]})}var y=-1/0;return it(d,function(b){var x=b.interval;x&&(x[0]>y&&f([y,x[0]],"outOfRange"),f(x.slice()),y=x[1])},this),{stops:o,outerColors:l}},r.type="visualMap.piecewise",r.defaultOption=Jf(Iy.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),r}(Iy),Hs={splitNumber:function(n){var r=this.option,e=Math.min(r.precision,20),o=this.getExtent(),l=r.splitNumber;l=Math.max(parseInt(l,10),1),r.splitNumber=l;for(var c=(o[1]-o[0])/l;+c.toFixed(e)!==c&&e<5;)e++;r.precision=e,c=+c.toFixed(e),r.minOpen&&n.push({interval:[-1/0,o[0]],close:[0,0]});for(var f=0,d=o[0];f<l;d+=c,f++){var p=f===l-1?o[1]:d+c;n.push({interval:[d,p],close:[1,1]})}r.maxOpen&&n.push({interval:[o[1],1/0],close:[0,0]}),wO(n),it(n,function(y,b){y.index=b,y.text=this.formatValueText(y.interval)},this)},categories:function(n){var r=this.option;it(r.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),uI(r,n)},pieces:function(n){var r=this.option;it(r.pieces,function(e,o){ce(e)||(e={value:e});var l={text:"",index:o};if(e.label!=null&&(l.text=e.label),e.hasOwnProperty("value")){var c=l.value=e.value;l.interval=[c,c],l.close=[1,1]}else{for(var f=l.interval=[],d=l.close=[0,0],p=[1,0,1],y=[-1/0,1/0],b=[],x=0;x<2;x++){for(var S=[["gte","gt","min"],["lte","lt","max"]][x],T=0;T<3&&f[x]==null;T++)f[x]=e[S[T]],d[x]=p[T],b[x]=T===2;f[x]==null&&(f[x]=y[x])}b[0]&&f[1]===1/0&&(d[0]=0),b[1]&&f[0]===-1/0&&(d[1]=0),f[0]===f[1]&&d[0]&&d[1]&&(l.value=f[0])}l.visual=hi.retrieveVisuals(e),n.push(l)},this),uI(r,n),wO(n),it(n,function(e){var o=e.close,l=[["<","\u2264"][o[1]],[">","\u2265"][o[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,l)},this)}};function uI(n,r){var e=n.inverse;(n.orient==="vertical"?!e:e)&&r.reverse()}var k7=E7,L7=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.doRender=function(){var e=this.group;e.removeAll();var o=this.visualMapModel,l=o.get("textGap"),c=o.textStyleModel,f=this._getItemAlign(),d=o.itemSize,p=this._getViewData(),y=p.endsText,b=mn(o.get("showLabel",!0),!y),x=!o.get("selectedMode");y&&this._renderEndsText(e,y[0],d,b,f),it(p.viewPieceList,function(S){var T=S.piece,A=new Ye;A.onclick=ue(this._onItemClick,this,T),this._enableHoverLink(A,S.indexInModelPieceList);var E=o.getRepresentValue(T);if(this._createItemSymbol(A,E,[0,0,d[0],d[1]],x),b){var L=this.visualMapModel.getValueState(E),I=c.get("align")||f;A.add(new Hr({style:Gn(c,{x:I==="right"?-l:d[0]+l,y:d[1]/2,text:T.text,verticalAlign:c.get("verticalAlign")||"middle",align:I,opacity:fe(c.get("opacity"),L==="outOfRange"?.5:1)}),silent:x}))}e.add(A)},this),y&&this._renderEndsText(e,y[1],d,b,f),Yd(o.get("orient"),e,o.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},r.prototype._enableHoverLink=function(e,o){var l=this;e.on("mouseover",function(){return c("highlight")}).on("mouseout",function(){return c("downplay")});var c=function(f){var d=l.visualMapModel;d.option.hoverLink&&l.api.dispatchAction({type:f,batch:rp(d.findTargetDataIndices(o),d)})}},r.prototype._getItemAlign=function(){var e=this.visualMapModel,o=e.option;if(o.orient==="vertical")return x7(e,this.api,e.itemSize);var l=o.align;return(!l||l==="auto")&&(l="left"),l},r.prototype._renderEndsText=function(e,o,l,c,f){if(o){var d=new Ye,p=this.visualMapModel.textStyleModel;d.add(new Hr({style:Gn(p,{x:c?f==="right"?l[0]:0:l[0]/2,y:l[1]/2,verticalAlign:"middle",align:c?f:"center",text:o})})),e.add(d)}},r.prototype._getViewData=function(){var e=this.visualMapModel,o=Gt(e.getPieceList(),function(d,p){return{piece:d,indexInModelPieceList:p}}),l=e.get("text"),c=e.get("orient"),f=e.get("inverse");return(c==="horizontal"?f:!f)?o.reverse():l&&(l=l.slice().reverse()),{viewPieceList:o,endsText:l}},r.prototype._createItemSymbol=function(e,o,l,c){var f=ia(this.getControllerVisual(o,"symbol"),l[0],l[1],l[2],l[3],this.getControllerVisual(o,"color"));f.silent=c,e.add(f)},r.prototype._onItemClick=function(e){var o=this.visualMapModel,l=o.option,c=l.selectedMode;if(c){var f=Ne(l.selected),d=o.getSelectedMapKey(e);c==="single"||c===!0?(f[d]=!0,it(f,function(p,y){f[y]=y===d})):f[d]=!f[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:f})}},r.type="visualMap.piecewise",r}(_7),vT=L7;function cI(n){n.registerComponentModel(k7),n.registerComponentView(vT),bf(n)}function Rtt(n){_r(P7),_r(cI)}var Ntt=function(){function n(r){this._thumbnailModel=r}return n.prototype.reset=function(r){this._renderVersion=r.getMainProcessVersion()},n.prototype.renderContent=function(r){var e=r.api.getViewOfComponentModel(this._thumbnailModel);e&&(r.group.silent=!0,e.renderContent({group:r.group,targetTrans:r.targetTrans,z2Range:QA(r.group),roamType:r.roamType,viewportRect:r.viewportRect,renderVersion:this._renderVersion}))},n.prototype.updateWindow=function(r,e){var o=e.getViewOfComponentModel(this._thumbnailModel);o&&o.updateWindow({targetTrans:r,renderVersion:this._renderVersion})},n}(),Btt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e.preventAutoZ=!0,e}return r.prototype.optionUpdated=function(e,o){this._updateBridge()},r.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new Ntt(this);if(this._target=null,this.ecModel.eachSeries(function(l){W6(l,null)}),this.shouldShow()){var o=this.getTarget();W6(o.baseMapProvider,e)}},r.prototype.shouldShow=function(){return this.getShallow("show",!0)},r.prototype.getBridge=function(){return this._birdge},r.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?e.subType!=="graph"&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},r.type="thumbnail",r.layoutMode="box",r.dependencies=["series","geo"],r.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:Rt.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:Rt.color.neutral30,borderColor:Rt.color.neutral40,opacity:.3},z:10},r}(Yr),fI=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.render=function(e,o,l){if(this._api=l,this._model=e,this._coordSys||(this._coordSys=new Lv),!this._isEnabled()){this._clear();return}this._renderVersion=l.getMainProcessVersion();var c=this.group;c.removeAll();var f=e.getModel("itemStyle"),d=f.getItemStyle();d.fill==null&&(d.fill=o.get("backgroundColor")||Rt.color.neutral00);var p=ya(e,l).refContainer,y=Wn(mA(e,!0),p),b=d.lineWidth||0,x=this._contentRect=Jl(y.clone(),b/2,!0,!0),S=new Ye;c.add(S),S.setClipPath(new kr({shape:x.plain()}));var T=this._targetGroup=new Ye;S.add(T);var A=y.plain();A.r=f.getShallow("borderRadius",!0),c.add(this._bgRect=new kr({style:d,shape:A,silent:!1,cursor:"grab"}));var E=e.getModel("windowStyle"),L=E.getShallow("borderRadius",!0);S.add(this._windowRect=new kr({shape:{x:0,y:0,width:0,height:0,r:L},style:E.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),hI(e,this)},r.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),hI(this._model,this))},r.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var o=this._targetGroup,l=this._coordSys,c=this._contentRect;if(o.removeAll(),!!e){var f=e.group,d=f.getBoundingRect();o.add(f),this._bgRect.z2=e.z2Range.min-10,l.setBoundingRect(d.x,d.y,d.width,d.height);var p=Wn({left:"center",top:"center",aspect:d.width/d.height},c);l.setViewRect(p.x,p.y,p.width,p.height),f.attr(l.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},r.prototype.updateWindow=function(e){var o=this._bridgeRendered;o&&o.renderVersion===e.renderVersion&&(o.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},r.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var o=Ca([],e.targetTrans),l=Su([],this._coordSys.transform,o);this._transThisToTarget=Ca([],l);var c=e.viewportRect;c?c=c.clone():c=new Je(0,0,this._api.getWidth(),this._api.getHeight()),c.applyTransform(l);var f=this._windowRect,d=f.shape.r;f.setShape(je({r:d},c))}},r.prototype._resetRoamController=function(e){var o=this,l=this._api,c=this._roamController;if(c||(c=this._roamController=new Cv(l.getZr())),!e||!this._isEnabled()){c.disable();return}c.enable(e,{api:l,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(f,d,p){return o._contentRect.contain(d,p)}}}),c.off("pan").off("zoom").on("pan",ue(this._onPan,this)).on("zoom",ue(this._onZoom,this))},r.prototype._onPan=function(e){var o=this._transThisToTarget;if(!(!this._isEnabled()||!o)){var l=$i([],[e.oldX,e.oldY],o),c=$i([],[e.oldX-e.dx,e.oldY-e.dy],o);this._api.dispatchAction(D7(this._model.getTarget().baseMapProvider,{dx:c[0]-l[0],dy:c[1]-l[1]}))}},r.prototype._onZoom=function(e){var o=this._transThisToTarget;if(!(!this._isEnabled()||!o)){var l=$i([],[e.originX,e.originY],o);this._api.dispatchAction(D7(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:l[0],originY:l[1]}))}},r.prototype._isEnabled=function(){var e=this._model;if(!e||!e.shouldShow())return!1;var o=e.getTarget().baseMapProvider;return!!o},r.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},r.prototype.remove=function(){this._clear()},r.prototype.dispose=function(){this._clear()},r.type="thumbnail",r}(ui);function D7(n,r){var e=n.mainType==="series"?n.subType+"Roam":n.mainType+"Roam",o={type:e};return o[n.mainType+"Id"]=n.id,Wt(o,r),o}function hI(n,r){var e=ll(n);sg(r.group,e.z,e.zlevel)}function I7(n){n.registerComponentModel(Btt),n.registerComponentView(fI)}var ztt={label:{enabled:!0},decal:{show:!1}},pT=br(),R7={};function Ftt(n,r){var e=n.getModel("aria");if(!e.get("enabled"))return;var o=Ne(ztt);lr(o.label,n.getLocaleModel().get("aria"),!1),lr(e.option,o,!1),l(),c();function l(){var y=e.getModel("decal"),b=y.get("show");if(b){var x=ve();n.eachSeries(function(S){if(!S.isColorBySeries()){var T=x.get(S.type);T||(T={},x.set(S.type,T)),pT(S).scope=T}}),n.eachRawSeries(function(S){if(n.isSeriesFiltered(S))return;if(ze(S.enableAriaDecal)){S.enableAriaDecal();return}var T=S.getData();if(S.isColorBySeries()){var N=xA(S.ecModel,S.name,R7,n.getSeriesCount()),F=T.getVisual("decal");T.setVisual("decal",W(F,N))}else{var A=S.getRawData(),E={},L=pT(S).scope;T.each(function(X){var $=T.getRawIndex(X);E[$]=X});var I=A.count();A.each(function(X){var $=E[X],K=A.getName(X)||X+"",et=xA(S.ecModel,K,L,I),at=T.getItemVisual($,"decal");T.setItemVisual($,"decal",W(at,et))})}function W(X,$){var K=X?Wt(Wt({},$),X):$;return K.dirty=!0,K}})}}function c(){var y=r.getZr().dom;if(y){var b=n.getLocaleModel().get("aria"),x=e.getModel("label");if(x.option=je(x.option,b),!!x.get("enabled")){if(y.setAttribute("role","img"),x.get("description")){y.setAttribute("aria-label",x.get("description"));return}var S=n.getSeriesCount(),T=x.get(["data","maxCount"])||10,A=x.get(["series","maxCount"])||10,E=Math.min(S,A),L;if(!(S<1)){var I=d();if(I){var N=x.get(["general","withTitle"]);L=f(N,{title:I})}else L=x.get(["general","withoutTitle"]);var F=[],W=S>1?x.get(["series","multiple","prefix"]):x.get(["series","single","prefix"]);L+=f(W,{seriesCount:S}),n.eachSeries(function(et,at){if(at<E){var ot=void 0,ht=et.get("name"),yt=ht?"withName":"withoutName";ot=S>1?x.get(["series","multiple",yt]):x.get(["series","single",yt]),ot=f(ot,{seriesId:et.seriesIndex,seriesName:et.get("name"),seriesType:p(et.subType)});var vt=et.getData();if(vt.count()>T){var bt=x.get(["data","partialData"]);ot+=f(bt,{displayCnt:T})}else ot+=x.get(["data","allData"]);for(var Mt=x.get(["data","separator","middle"]),St=x.get(["data","separator","end"]),Pt=x.get(["data","excludeDimensionId"]),Et=[],Lt=0;Lt<vt.count();Lt++)if(Lt<T){var zt=vt.getName(Lt),Ht=Pt?Zr(vt.getValues(Lt),function(ne,Ce){return Xe(Pt,Ce)===-1}):vt.getValues(Lt),qt=x.get(["data",zt?"withName":"withoutName"]);Et.push(f(qt,{name:zt,value:Ht.join(Mt)}))}ot+=Et.join(Mt)+St,F.push(ot)}});var X=x.getModel(["series","multiple","separator"]),$=X.get("middle"),K=X.get("end");L+=F.join($)+K,y.setAttribute("aria-label",L)}}}}function f(y,b){if(!oe(y))return y;var x=y;return it(b,function(S,T){x=x.replace(new RegExp("\\{\\s*"+T+"\\s*\\}","g"),S)}),x}function d(){var y=n.get("title");return y&&y.length&&(y=y[0]),y&&y.text}function p(y){var b=n.getLocaleModel().get(["series","typeNames"]);return b[y]||b.chart}}function jtt(n){if(!(!n||!n.aria)){var r=n.aria;r.show!=null&&(r.enabled=r.show),r.label=r.label||{},it(["description","general","series","data"],function(e){r[e]!=null&&(r.label[e]=r[e])})}}function Vtt(n){n.registerPreprocessor(jtt),n.registerVisual(n.PRIORITY.VISUAL.ARIA,Ftt)}var N7={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},ld=function(){function n(r){var e=this._condVal=oe(r)?new RegExp(r):bu(r)?r:null;if(e==null){var o="";un(o)}}return n.prototype.evaluate=function(r){var e=typeof r;return oe(e)?this._condVal.test(r):qe(e)?this._condVal.test(r+""):!1},n}(),B7=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),z7=function(){function n(){}return n.prototype.evaluate=function(){for(var r=this.children,e=0;e<r.length;e++)if(!r[e].evaluate())return!1;return!0},n}(),Gtt=function(){function n(){}return n.prototype.evaluate=function(){for(var r=this.children,e=0;e<r.length;e++)if(r[e].evaluate())return!0;return!1},n}(),Wtt=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),Htt=function(){function n(){}return n.prototype.evaluate=function(){for(var r=!!this.valueParser,e=this.getValue,o=e(this.valueGetterParam),l=r?this.valueParser(o):null,c=0;c<this.subCondList.length;c++)if(!this.subCondList[c].evaluate(r?l:o))return!1;return!0},n}();function dI(n,r){if(n===!0||n===!1){var e=new B7;return e.value=n,e}var o="";return F7(n)||un(o),n.and?vI("and",n,r):n.or?vI("or",n,r):n.not?Ytt(n,r):gT(n,r)}function vI(n,r,e){var o=r[n],l="";Ut(o)||un(l),o.length||un(l);var c=n==="and"?new z7:new Gtt;return c.children=Gt(o,function(f){return dI(f,e)}),c.children.length||un(l),c}function Ytt(n,r){var e=n.not,o="";F7(e)||un(o);var l=new Wtt;return l.child=dI(e,r),l.child||un(o),l}function gT(n,r){for(var e="",o=r.prepareGetValue(n),l=[],c=vr(n),f=n.parser,d=f?kA(f):null,p=0;p<c.length;p++){var y=c[p];if(!(y==="parser"||r.valueGetterAttrMap.get(y))){var b=gt(N7,y)?N7[y]:y,x=n[y],S=d?d(x):x,T=Fx(b,S)||b==="reg"&&new ld(S);T||un(e),l.push(T)}}l.length||un(e);var A=new Htt;return A.valueGetterParam=o,A.valueParser=d,A.getValue=r.getValue,A.subCondList=l,A}function F7(n){return ce(n)&&!vi(n)}var np=function(){function n(r,e){this._cond=dI(r,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}();function Utt(n,r){return new np(n,r)}var yT={type:"echarts:filter",transform:function(n){for(var r=n.upstream,e,o=Utt(n.config,{valueGetterAttrMap:ve({dimension:!0}),prepareGetValue:function(d){var p="",y=d.dimension;gt(d,"dimension")||un(p);var b=r.getDimensionInfo(y);return b||un(p),{dimIdx:b.index}},getValue:function(d){return r.retrieveValueFromItem(e,d.dimIdx)}}),l=[],c=0,f=r.count();c<f;c++)e=r.getRawDataItem(c),o.evaluate()&&l.push(e);return{data:l}}},ip="",j7={type:"echarts:sort",transform:function(n){var r=n.upstream,e=n.config,o="",l=An(e);l.length||un(o);var c=[];it(l,function(b){var x=b.dimension,S=b.order,T=b.parser,A=b.incomparable;if(x==null&&un(o),S!=="asc"&&S!=="desc"&&un(o),A&&A!=="min"&&A!=="max"){var E="";un(E)}if(S!=="asc"&&S!=="desc"){var L="";un(L)}var I=r.getDimensionInfo(x);I||un(o);var N=T?kA(T):null;T&&!N&&un(o),c.push({dimIdx:I.index,parser:N,comparator:new zx(S,A)})});var f=r.sourceFormat;f!==Ya&&f!==As&&un(o);for(var d=[],p=0,y=r.count();p<y;p++)d.push(r.getRawDataItem(p));return d.sort(function(b,x){for(var S=0;S<c.length;S++){var T=c[S],A=r.retrieveValueFromItem(b,T.dimIdx),E=r.retrieveValueFromItem(x,T.dimIdx);T.parser&&(A=T.parser(A),E=T.parser(E));var L=T.comparator.evaluate(A,E);if(L!==0)return L}return 0}),{data:d}}};function Xtt(n){n.registerTransform(yT),n.registerTransform(j7)}var pI=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataset",e}return r.prototype.init=function(e,o,l){n.prototype.init.call(this,e,o,l),this._sourceManager=new dm(this),T5(this)},r.prototype.mergeOption=function(e,o){n.prototype.mergeOption.call(this,e,o),T5(this)},r.prototype.optionUpdated=function(){this._sourceManager.dirty()},r.prototype.getSourceManager=function(){return this._sourceManager},r.type="dataset",r.defaultOption={seriesLayoutBy:ee},r}(Yr),$tt=function(n){Ot(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataset",e}return r.type="dataset",r}(ui);function V7(n){n.registerComponentModel(pI),n.registerComponentView($tt)}var gu=xs.CMD;function By(n,r){return Math.abs(n-r)<1e-5}function gI(n){var r=n.data,e=n.len(),o=[],l,c=0,f=0,d=0,p=0;function y(vt,bt){l&&l.length>2&&o.push(l),l=[vt,bt]}function b(vt,bt,Mt,St){By(vt,Mt)&&By(bt,St)||l.push(vt,bt,Mt,St,Mt,St)}function x(vt,bt,Mt,St,Pt,Et){var Lt=Math.abs(bt-vt),zt=Math.tan(Lt/4)*4/3,Ht=bt<vt?-1:1,qt=Math.cos(vt),ne=Math.sin(vt),Ce=Math.cos(bt),Qe=Math.sin(bt),jr=qt*Pt+Mt,wn=ne*Et+St,dr=Ce*Pt+Mt,Ge=Qe*Et+St,Mr=Pt*zt*Ht,Pe=Et*zt*Ht;l.push(jr-Mr*ne,wn+Pe*qt,dr+Mr*Qe,Ge-Pe*Ce,dr,Ge)}for(var S,T,A,E,L=0;L<e;){var I=r[L++],N=L===1;switch(N&&(c=r[L],f=r[L+1],d=c,p=f,(I===gu.L||I===gu.C||I===gu.Q)&&(l=[d,p])),I){case gu.M:c=d=r[L++],f=p=r[L++],y(d,p);break;case gu.L:S=r[L++],T=r[L++],b(c,f,S,T),c=S,f=T;break;case gu.C:l.push(r[L++],r[L++],r[L++],r[L++],c=r[L++],f=r[L++]);break;case gu.Q:S=r[L++],T=r[L++],A=r[L++],E=r[L++],l.push(c+2/3*(S-c),f+2/3*(T-f),A+2/3*(S-A),E+2/3*(T-E),A,E),c=A,f=E;break;case gu.A:var F=r[L++],W=r[L++],X=r[L++],$=r[L++],K=r[L++],et=r[L++]+K;L+=1;var at=!r[L++];S=Math.cos(K)*X+F,T=Math.sin(K)*$+W,N?(d=S,p=T,y(d,p)):b(c,f,S,T),c=Math.cos(et)*X+F,f=Math.sin(et)*$+W;for(var ot=(at?-1:1)*Math.PI/2,ht=K;at?ht>et:ht<et;ht+=ot){var yt=at?Math.max(ht+ot,et):Math.min(ht+ot,et);x(ht,yt,F,W,X,$)}break;case gu.R:d=c=r[L++],p=f=r[L++],S=d+r[L++],T=p+r[L++],y(S,p),b(S,p,S,T),b(S,T,d,T),b(d,T,d,p),b(d,p,S,p);break;case gu.Z:l&&b(c,f,d,p),c=d,f=p;break}}return l&&l.length>2&&o.push(l),o}function yI(n,r,e,o,l,c,f,d,p,y){if(By(n,e)&&By(r,o)&&By(l,f)&&By(c,d)){p.push(f,d);return}var b=2/y,x=b*b,S=f-n,T=d-r,A=Math.sqrt(S*S+T*T);S/=A,T/=A;var E=e-n,L=o-r,I=l-f,N=c-d,F=E*E+L*L,W=I*I+N*N;if(F<x&&W<x){p.push(f,d);return}var X=S*E+T*L,$=-S*I-T*N,K=F-X*X,et=W-$*$;if(K<x&&X>=0&&et<x&&$>=0){p.push(f,d);return}var at=[],ot=[];bd(n,e,l,f,.5,at),bd(r,o,c,d,.5,ot),yI(at[0],ot[0],at[1],ot[1],at[2],ot[2],at[3],ot[3],p,y),yI(at[4],ot[4],at[5],ot[5],at[6],ot[6],at[7],ot[7],p,y)}function qtt(n,r){var e=gI(n),o=[];r=r||1;for(var l=0;l<e.length;l++){var c=e[l],f=[],d=c[0],p=c[1];f.push(d,p);for(var y=2;y<c.length;){var b=c[y++],x=c[y++],S=c[y++],T=c[y++],A=c[y++],E=c[y++];yI(d,p,b,x,S,T,A,E,f,r),d=A,p=E}o.push(f)}return o}function G7(n,r,e){var o=n[r],l=n[1-r],c=Math.abs(o/l),f=Math.ceil(Math.sqrt(c*e)),d=Math.floor(e/f);d===0&&(d=1,f=e);for(var p=[],y=0;y<f;y++)p.push(d);var b=f*d,x=e-b;if(x>0)for(var y=0;y<x;y++)p[y%f]+=1;return p}function W7(n,r,e){for(var o=n.r0,l=n.r,c=n.startAngle,f=n.endAngle,d=Math.abs(f-c),p=d*l,y=l-o,b=p>Math.abs(y),x=G7([p,y],b?0:1,r),S=(b?d:y)/x.length,T=0;T<x.length;T++)for(var A=(b?y:d)/x[T],E=0;E<x[T];E++){var L={};b?(L.startAngle=c+S*T,L.endAngle=c+S*(T+1),L.r0=o+A*E,L.r=o+A*(E+1)):(L.startAngle=c+A*E,L.endAngle=c+A*(E+1),L.r0=o+S*T,L.r=o+S*(T+1)),L.clockwise=n.clockwise,L.cx=n.cx,L.cy=n.cy,e.push(L)}}function Ztt(n,r,e){for(var o=n.width,l=n.height,c=o>l,f=G7([o,l],c?0:1,r),d=c?"width":"height",p=c?"height":"width",y=c?"x":"y",b=c?"y":"x",x=n[d]/f.length,S=0;S<f.length;S++)for(var T=n[p]/f[S],A=0;A<f[S];A++){var E={};E[y]=S*x,E[b]=A*T,E[d]=x,E[p]=T,E.x+=n.x,E.y+=n.y,e.push(E)}}function H7(n,r,e,o){return n*o-e*r}function Ktt(n,r,e,o,l,c,f,d){var p=e-n,y=o-r,b=f-l,x=d-c,S=H7(b,x,p,y);if(Math.abs(S)<1e-6)return null;var T=n-l,A=r-c,E=H7(T,A,b,x)/S;return E<0||E>1?null:new Ke(E*p+n,E*y+r)}function Qtt(n,r,e){var o=new Ke;Ke.sub(o,e,r),o.normalize();var l=new Ke;Ke.sub(l,n,r);var c=l.dot(o);return c}function yu(n,r){var e=n[n.length-1];e&&e[0]===r[0]&&e[1]===r[1]||n.push(r)}function Jtt(n,r,e){for(var o=n.length,l=[],c=0;c<o;c++){var f=n[c],d=n[(c+1)%o],p=Ktt(f[0],f[1],d[0],d[1],r.x,r.y,e.x,e.y);p&&l.push({projPt:Qtt(p,r,e),pt:p,idx:c})}if(l.length<2)return[{points:n},{points:n}];l.sort(function(L,I){return L.projPt-I.projPt});var y=l[0],b=l[l.length-1];if(b.idx<y.idx){var x=y;y=b,b=x}for(var S=[y.pt.x,y.pt.y],T=[b.pt.x,b.pt.y],A=[S],E=[T],c=y.idx+1;c<=b.idx;c++)yu(A,n[c].slice());yu(A,T),yu(A,S);for(var c=b.idx+1;c<=y.idx+o;c++)yu(E,n[c%o].slice());return yu(E,S),yu(E,T),[{points:A},{points:E}]}function mI(n){var r=n.points,e=[],o=[];W_(r,e,o);var l=new Je(e[0],e[1],o[0]-e[0],o[1]-e[1]),c=l.width,f=l.height,d=l.x,p=l.y,y=new Ke,b=new Ke;return c>f?(y.x=b.x=d+c/2,y.y=p,b.y=p+f):(y.y=b.y=p+f/2,y.x=d,b.x=d+c),Jtt(r,y,b)}function vo(n,r,e,o){if(e===1)o.push(r);else{var l=Math.floor(e/2),c=n(r);vo(n,c[0],l,o),vo(n,c[1],e-l,o)}return o}function Y7(n,r){for(var e=[],o=0;o<r;o++)e.push(ow(n));return e}function bI(n,r){r.setStyle(n.style),r.z=n.z,r.z2=n.z2,r.zlevel=n.zlevel}function zy(n){for(var r=[],e=0;e<n.length;)r.push([n[e++],n[e++]]);return r}function U7(n,r){var e=[],o=n.shape,l;switch(n.type){case"rect":Ztt(o,r,e),l=kr;break;case"sector":W7(o,r,e),l=uo;break;case"circle":W7({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},r,e),l=uo;break;default:var c=n.getComputedTransform(),f=c?Math.sqrt(Math.max(c[0]*c[0]+c[1]*c[1],c[2]*c[2]+c[3]*c[3])):1,d=Gt(qtt(n.getUpdatedPathProxy(),f),function(I){return zy(I)}),p=d.length;if(p===0)vo(mI,{points:d[0]},r,e);else if(p===r)for(var y=0;y<p;y++)e.push({points:d[y]});else{var b=0,x=Gt(d,function(I){var N=[],F=[];W_(I,N,F);var W=(F[1]-N[1])*(F[0]-N[0]);return b+=W,{poly:I,area:W}});x.sort(function(I,N){return N.area-I.area});for(var S=r,y=0;y<p;y++){var T=x[y];if(S<=0)break;var A=y===p-1?S:Math.ceil(T.area/b*r);A<0||(vo(mI,{points:T.poly},A,e),S-=A)}}l=xo;break}if(!l)return Y7(n,r);for(var E=[],y=0;y<e.length;y++){var L=new l;L.setShape(e[y]),bI(n,L),E.push(L)}return E}function Fy(n,r){var e=n.length,o=r.length;if(e===o)return[n,r];for(var l=[],c=[],f=e<o?n:r,d=Math.min(e,o),p=Math.abs(o-e)/6,y=(d-2)/6,b=Math.ceil(p/y)+1,x=[f[0],f[1]],S=p,T=2;T<d;){var A=f[T-2],E=f[T-1],L=f[T++],I=f[T++],N=f[T++],F=f[T++],W=f[T++],X=f[T++];if(S<=0){x.push(L,I,N,F,W,X);continue}for(var $=Math.min(S,b-1)+1,K=1;K<=$;K++){var et=K/$;bd(A,L,N,W,et,l),bd(E,I,F,X,et,c),A=l[3],E=c[3],x.push(l[1],c[1],l[2],c[2],A,E),L=l[5],I=c[5],N=l[6],F=c[6]}S-=$-1}return f===n?[x,r]:[n,x]}function Qb(n,r){for(var e=n.length,o=n[e-2],l=n[e-1],c=[],f=0;f<r.length;)c[f++]=o,c[f++]=l;return c}function X7(n,r){for(var e,o,l,c=[],f=[],d=0;d<Math.max(n.length,r.length);d++){var p=n[d],y=r[d],b=void 0,x=void 0;p?y?(e=Fy(p,y),b=e[0],x=e[1],o=b,l=x):(x=Qb(l||p,p),b=p):(b=Qb(o||y,y),x=y),c.push(b),f.push(x)}return[c,f]}function $7(n){for(var r=0,e=0,o=0,l=n.length,c=0,f=l-2;c<l;f=c,c+=2){var d=n[f],p=n[f+1],y=n[c],b=n[c+1],x=d*b-y*p;r+=x,e+=(d+y)*x,o+=(p+b)*x}return r===0?[n[0]||0,n[1]||0]:[e/r/3,o/r/3,r]}function tet(n,r,e,o){for(var l=(n.length-2)/6,c=1/0,f=0,d=n.length,p=d-2,y=0;y<l;y++){for(var b=y*6,x=0,S=0;S<d;S+=2){var T=S===0?b:(b+S-2)%p+2,A=n[T]-e[0],E=n[T+1]-e[1],L=r[S]-o[0],I=r[S+1]-o[1],N=L-A,F=I-E;x+=N*N+F*F}x<c&&(c=x,f=y)}return f}function mT(n){for(var r=[],e=n.length,o=0;o<e;o+=2)r[o]=n[e-o-2],r[o+1]=n[e-o-1];return r}function _I(n,r,e,o){for(var l=[],c,f=0;f<n.length;f++){var d=n[f],p=r[f],y=$7(d),b=$7(p);c==null&&(c=y[2]<0!=b[2]<0);var x=[],S=[],T=0,A=1/0,E=[],L=d.length;c&&(d=mT(d));for(var I=tet(d,p,y,b)*6,N=L-2,F=0;F<N;F+=2){var W=(I+F)%N+2;x[F+2]=d[W]-y[0],x[F+3]=d[W+1]-y[1]}if(x[0]=d[I]-y[0],x[1]=d[I+1]-y[1],e>0)for(var X=o/e,$=-o/2;$<=o/2;$+=X){for(var K=Math.sin($),et=Math.cos($),at=0,F=0;F<d.length;F+=2){var ot=x[F],ht=x[F+1],yt=p[F]-b[0],vt=p[F+1]-b[1],bt=yt*et-vt*K,Mt=yt*K+vt*et;E[F]=bt,E[F+1]=Mt;var St=bt-ot,Pt=Mt-ht;at+=St*St+Pt*Pt}if(at<A){A=at,T=$;for(var Et=0;Et<E.length;Et++)S[Et]=E[Et]}}else for(var Lt=0;Lt<L;Lt+=2)S[Lt]=p[Lt]-b[0],S[Lt+1]=p[Lt+1]-b[1];l.push({from:x,to:S,fromCp:y,toCp:b,rotation:-T})}return l}function ap(n){return n.__isCombineMorphing}function Nnt(n){return n.__morphT>=0}var q7="__mOriginal_";function jy(n,r,e){var o=q7+r,l=n[o]||n[r];n[o]||(n[o]=n[r]);var c=e.replace,f=e.after,d=e.before;n[r]=function(){var p=arguments,y;return d&&d.apply(this,p),c?y=c.apply(this,p):y=l.apply(this,p),f&&f.apply(this,p),y}}function Vy(n,r){var e=q7+r;n[e]&&(n[r]=n[e],n[e]=null)}function Z7(n,r){for(var e=0;e<n.length;e++)for(var o=n[e],l=0;l<o.length;){var c=o[l],f=o[l+1];o[l++]=r[0]*c+r[2]*f+r[4],o[l++]=r[1]*c+r[3]*f+r[5]}}function Jb(n,r){var e=n.getUpdatedPathProxy(),o=r.getUpdatedPathProxy(),l=X7(gI(e),gI(o)),c=l[0],f=l[1],d=n.getComputedTransform(),p=r.getComputedTransform();function y(){this.transform=null}d&&Z7(c,d),p&&Z7(f,p),jy(r,"updateTransform",{replace:y}),r.transform=null;var b=_I(c,f,10,Math.PI),x=[];jy(r,"buildPath",{replace:function(S){for(var T=r.__morphT,A=1-T,E=[],L=0;L<b.length;L++){var I=b[L],N=I.from,F=I.to,W=I.rotation*T,X=I.fromCp,$=I.toCp,K=Math.sin(W),et=Math.cos(W);yi(E,X,$,T);for(var at=0;at<N.length;at+=2){var ot=N[at],ht=N[at+1],yt=F[at],vt=F[at+1],bt=ot*A+yt*T,Mt=ht*A+vt*T;x[at]=bt*et-Mt*K+E[0],x[at+1]=bt*K+Mt*et+E[1]}var St=x[0],Pt=x[1];S.moveTo(St,Pt);for(var at=2;at<N.length;){var yt=x[at++],vt=x[at++],Et=x[at++],Lt=x[at++],zt=x[at++],Ht=x[at++];St===yt&&Pt===vt&&Et===zt&&Lt===Ht?S.lineTo(zt,Ht):S.bezierCurveTo(yt,vt,Et,Lt,zt,Ht),St=zt,Pt=Ht}}}})}function xI(n,r,e){if(!n||!r)return r;var o=e.done,l=e.during;Jb(n,r),r.__morphT=0;function c(){Vy(r,"buildPath"),Vy(r,"updateTransform"),r.__morphT=-1,r.createPathProxy(),r.dirtyShape()}return r.animateTo({__morphT:1},je({during:function(f){r.dirtyShape(),l&&l(f)},done:function(){c(),o&&o()}},e)),r}function eet(n,r,e,o,l,c){var f=16;n=l===e?0:Math.round(32767*(n-e)/(l-e)),r=c===o?0:Math.round(32767*(r-o)/(c-o));for(var d=0,p,y=(1<<f)/2;y>0;y/=2){var b=0,x=0;(n&y)>0&&(b=1),(r&y)>0&&(x=1),d+=y*y*(3*b^x),x===0&&(b===1&&(n=y-1-n,r=y-1-r),p=n,n=r,r=p)}return d}function bT(n){var r=1/0,e=1/0,o=-1/0,l=-1/0,c=Gt(n,function(d){var p=d.getBoundingRect(),y=d.getComputedTransform(),b=p.x+p.width/2+(y?y[4]:0),x=p.y+p.height/2+(y?y[5]:0);return r=Math.min(b,r),e=Math.min(x,e),o=Math.max(b,o),l=Math.max(x,l),[b,x]}),f=Gt(c,function(d,p){return{cp:d,z:eet(d[0],d[1],r,e,o,l),path:n[p]}});return f.sort(function(d,p){return d.z-p.z}).map(function(d){return d.path})}function K7(n){return U7(n.path,n.count)}function Sl(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ret(n,r,e){var o=[];function l(X){for(var $=0;$<X.length;$++){var K=X[$];ap(K)?l(K.childrenRef()):K instanceof Sr&&o.push(K)}}l(n);var c=o.length;if(!c)return Sl();var f=e.dividePath||K7,d=f({path:r,count:c});if(d.length!==c)return console.error("Invalid morphing: unmatched splitted path"),Sl();o=bT(o),d=bT(d);for(var p=e.done,y=e.during,b=e.individualDelay,x=new ms,S=0;S<c;S++){var T=o[S],A=d[S];A.parent=r,A.copyTransform(x),b||Jb(T,A)}r.__isCombineMorphing=!0,r.childrenRef=function(){return d};function E(X){for(var $=0;$<d.length;$++)d[$].addSelfToZr(X)}jy(r,"addSelfToZr",{after:function(X){E(X)}}),jy(r,"removeSelfFromZr",{after:function(X){for(var $=0;$<d.length;$++)d[$].removeSelfFromZr(X)}});function L(){r.__isCombineMorphing=!1,r.__morphT=-1,r.childrenRef=null,Vy(r,"addSelfToZr"),Vy(r,"removeSelfFromZr")}var I=d.length;if(b)for(var N=I,F=function(){N--,N===0&&(L(),p&&p())},S=0;S<I;S++){var W=b?je({delay:(e.delay||0)+b(S,I,o[S],d[S]),done:F},e):e;xI(o[S],d[S],W)}else r.__morphT=0,r.animateTo({__morphT:1},je({during:function(X){for(var $=0;$<I;$++){var K=d[$];K.__morphT=r.__morphT,K.dirtyShape()}y&&y(X)},done:function(){L();for(var X=0;X<n.length;X++)Vy(n[X],"updateTransform");p&&p()}},e));return r.__zr&&E(r.__zr),{fromIndividuals:o,toIndividuals:d,count:I}}function net(n,r,e){var o=r.length,l=[],c=e.dividePath||K7;function f(T){for(var A=0;A<T.length;A++){var E=T[A];ap(E)?f(E.childrenRef()):E instanceof Sr&&l.push(E)}}if(ap(n)){f(n.childrenRef());var d=l.length;if(d<o)for(var p=0,y=d;y<o;y++)l.push(ow(l[p++%d]));l.length=o}else{l=c({path:n,count:o});for(var b=n.getComputedTransform(),y=0;y<l.length;y++)l[y].setLocalTransform(b);if(l.length!==o)return console.error("Invalid morphing: unmatched splitted path"),Sl()}l=bT(l),r=bT(r);for(var x=e.individualDelay,y=0;y<o;y++){var S=x?je({delay:(e.delay||0)+x(y,o,l[y],r[y])},e):e;xI(l[y],r[y],S)}return{fromIndividuals:l,toIndividuals:r,count:r.length}}function Gy(n){return Ut(n[0])}function _f(n,r){for(var e=[],o=n.length,l=0;l<o;l++)e.push({one:n[l],many:[]});for(var l=0;l<r.length;l++){var c=r[l].length,f=void 0;for(f=0;f<c;f++)e[f%o].many.push(r[l][f])}for(var d=0,l=o-1;l>=0;l--)if(!e[l].many.length){var p=e[d].many;if(p.length<=1)if(d)d=0;else return e;var c=p.length,y=Math.ceil(c/2);e[l].many=p.slice(y,c),e[d].many=p.slice(0,y),d++}return e}var iet={clone:function(n){for(var r=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),o=0;o<n.count;o++){var l=ow(n.path);l.setStyle("opacity",e),r.push(l)}return r},split:null};function _T(n,r,e,o,l,c){if(!n.length||!r.length)return;var f=Rp("update",o,l);if(!(f&&f.duration>0))return;var d=o.getModel("universalTransition").get("delay"),p=Object.assign({setToFinal:!0},f),y,b;Gy(n)&&(y=n,b=r),Gy(r)&&(y=r,b=n);function x(I,N,F,W,X){var $=I.many,K=I.one;if($.length===1&&!X){var et=N?$[0]:K,at=N?K:$[0];if(ap(et))x({many:[et],one:at},!0,F,W,!0);else{var ot=d?je({delay:d(F,W)},p):p;xI(et,at,ot),c(et,at,et,at,ot)}}else for(var ht=je({dividePath:iet[e],individualDelay:d&&function(Pt,Et,Lt,zt){return d(Pt+F,W)}},p),yt=N?ret($,K,ht):net(K,$,ht),vt=yt.fromIndividuals,bt=yt.toIndividuals,Mt=vt.length,St=0;St<Mt;St++){var ot=d?je({delay:d(St,Mt)},p):p;c(vt[St],bt[St],N?$[St]:I.one,N?I.one:$[St],ot)}}for(var S=y?y===n:n.length>r.length,T=y?_f(b,y):_f(S?r:n,[S?n:r]),A=0,E=0;E<T.length;E++)A+=T[E].many.length;for(var L=0,E=0;E<T.length;E++)x(T[E],S,L,A),L+=T[E].many.length}function ud(n){if(!n)return[];if(Ut(n)){for(var r=[],e=0;e<n.length;e++)r.push(ud(n[e]));return r}var o=[];return n.traverse(function(l){l instanceof Sr&&!l.disableMorphing&&!l.invisible&&!l.ignore&&o.push(l)}),o}var Wy=1e4,xT=0,wI=1,Q7=2,aet=br();function oet(n,r){for(var e=n.dimensions,o=0;o<e.length;o++){var l=n.getDimensionInfo(e[o]);if(l&&l.otherDims[r]===0)return e[o]}}function SI(n,r,e){var o=n.getDimensionInfo(e),l=o&&o.ordinalMeta;if(o){var c=n.get(o.name,r);return l&&l.categories[c]||c+""}}function J7(n,r,e,o){var l=o?"itemChildGroupId":"itemGroupId",c=oet(n,l);if(c){var f=SI(n,r,c);return f}var d=n.getRawDataItem(r),p=o?"childGroupId":"groupId";if(d&&d[p])return d[p]+"";if(!o)return e||n.getId(r)}function Hy(n){var r=[];return it(n,function(e){var o=e.data,l=e.dataGroupId;if(!(o.count()>Wy))for(var c=o.getIndices(),f=0;f<c.length;f++)r.push({data:o,groupId:J7(o,f,l,!1),childGroupId:J7(o,f,l,!0),divide:e.divide,dataIndex:f})}),r}function MI(n,r,e){n.traverse(function(o){o instanceof Sr&&ni(o,{style:{opacity:0}},r,{dataIndex:e,isFrom:!0})})}function wT(n){if(n.parent){var r=n.getComputedTransform();n.setLocalTransform(r),n.parent.remove(n)}}function Ys(n){n.stopAnimation(),n.isGroup&&n.traverse(function(r){r.stopAnimation()})}function set(n,r,e){var o=Rp("update",e,r);o&&n.traverse(function(l){if(l instanceof Fi){var c=R0(l);c&&l.animateFrom({style:c},o)}})}function uet(n,r){var e=n.length;if(e!==r.length)return!1;for(var o=0;o<e;o++){var l=n[o],c=r[o];if(l.data.getId(l.dataIndex)!==c.data.getId(c.dataIndex))return!1}return!0}function TI(n,r,e){var o=Hy(n),l=Hy(r);function c(F,W,X,$,K){(X||F)&&W.animateFrom({style:X&&X!==F?Wt(Wt({},X.style),F.style):F.style},K)}var f=!1,d=xT,p=ve(),y=ve();o.forEach(function(F){F.groupId&&p.set(F.groupId,!0),F.childGroupId&&y.set(F.childGroupId,!0)});for(var b=0;b<l.length;b++){var x=l[b].groupId;if(y.get(x)){d=wI;break}var S=l[b].childGroupId;if(S&&p.get(S)){d=Q7;break}}function T(F,W){return function(X){var $=X.data,K=X.dataIndex;return W?$.getId(K):F?d===wI?X.childGroupId:X.groupId:d===Q7?X.childGroupId:X.groupId}}var A=uet(o,l),E={};if(!A)for(var b=0;b<l.length;b++){var L=l[b],I=L.data.getItemGraphicEl(L.dataIndex);I&&(E[I.id]=!0)}function N(F,W){var X=o[W],$=l[F],K=$.data.hostModel,et=X.data.getItemGraphicEl(X.dataIndex),at=$.data.getItemGraphicEl($.dataIndex);if(et===at){at&&set(at,$.dataIndex,K);return}et&&E[et.id]||at&&(Ys(at),et?(Ys(et),wT(et),f=!0,_T(ud(et),ud(at),$.divide,K,F,c)):MI(at,K,F))}new qu(o,l,T(!0,A),T(!1,A),null,"multiple").update(N).updateManyToOne(function(F,W){var X=l[F],$=X.data,K=$.hostModel,et=$.getItemGraphicEl(X.dataIndex),at=Zr(Gt(W,function(ot){return o[ot].data.getItemGraphicEl(o[ot].dataIndex)}),function(ot){return ot&&ot!==et&&!E[ot.id]});et&&(Ys(et),at.length?(it(at,function(ot){Ys(ot),wT(ot)}),f=!0,_T(ud(at),ud(et),X.divide,K,F,c)):MI(et,K,X.dataIndex))}).updateOneToMany(function(F,W){var X=o[W],$=X.data.getItemGraphicEl(X.dataIndex);if(!($&&E[$.id])){var K=Zr(Gt(F,function(at){return l[at].data.getItemGraphicEl(l[at].dataIndex)}),function(at){return at&&at!==$}),et=l[F[0]].data.hostModel;K.length&&(it(K,function(at){return Ys(at)}),$?(Ys($),wT($),f=!0,_T(ud($),ud(K),X.divide,et,F[0],c)):it(K,function(at){return MI(at,et,F[0])}))}}).updateManyToMany(function(F,W){new qu(W,F,function(X){return o[X].data.getId(o[X].dataIndex)},function(X){return l[X].data.getId(l[X].dataIndex)}).update(function(X,$){N(F[X],W[$])}).execute()}).execute(),f&&it(r,function(F){var W=F.data,X=W.hostModel,$=X&&e.getViewOfSeriesModel(X),K=Rp("update",X,0);$&&X.isAnimationEnabled()&&K&&K.duration>0&&$.group.traverse(function(et){et instanceof Sr&&!et.animators.length&&et.animateFrom({style:{opacity:0}},K)})})}function t9(n){var r=n.getModel("universalTransition").get("seriesKey");return r||n.id}function e9(n){return Ut(n)?n.sort().join(","):n}function cd(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function r9(n,r){var e=ve(),o=ve(),l=ve();it(n.oldSeries,function(f,d){var p=n.oldDataGroupIds[d],y=n.oldData[d],b=t9(f),x=e9(b);o.set(x,{dataGroupId:p,data:y}),Ut(b)&&it(b,function(S){l.set(S,{key:x,dataGroupId:p,data:y})})});function c(f){e.get(f)&&_H("Duplicated seriesKey in universalTransition "+f)}return it(r.updatedSeries,function(f){if(f.isUniversalTransitionEnabled()&&f.isAnimationEnabled()){var d=f.get("dataGroupId"),p=f.getData(),y=t9(f),b=e9(y),x=o.get(b);if(x)e.set(b,{oldSeries:[{dataGroupId:x.dataGroupId,divide:cd(x.data),data:x.data}],newSeries:[{dataGroupId:d,divide:cd(p),data:p}]});else if(Ut(y)){var S=[];it(y,function(E){var L=o.get(E);L.data&&S.push({dataGroupId:L.dataGroupId,divide:cd(L.data),data:L.data})}),S.length&&e.set(b,{oldSeries:S,newSeries:[{dataGroupId:d,data:p,divide:cd(p)}]})}else{var T=l.get(y);if(T){var A=e.get(T.key);A||(A={oldSeries:[{dataGroupId:T.dataGroupId,data:T.data,divide:cd(T.data)}],newSeries:[]},e.set(T.key,A)),A.newSeries.push({dataGroupId:d,data:p,divide:cd(p)})}}}}),e}function OI(n,r){for(var e=0;e<n.length;e++){var o=r.seriesIndex!=null&&r.seriesIndex===n[e].seriesIndex||r.seriesId!=null&&r.seriesId===n[e].id;if(o)return e}}function cet(n,r,e,o){var l=[],c=[];it(An(n.from),function(f){var d=OI(r.oldSeries,f);d>=0&&l.push({dataGroupId:r.oldDataGroupIds[d],data:r.oldData[d],divide:cd(r.oldData[d]),groupIdDim:f.dimension})}),it(An(n.to),function(f){var d=OI(e.updatedSeries,f);if(d>=0){var p=e.updatedSeries[d].getData();c.push({dataGroupId:r.oldDataGroupIds[d],data:p,divide:cd(p),groupIdDim:f.dimension})}}),l.length>0&&c.length>0&&TI(l,c,o)}function AI(n){n.registerUpdateLifecycle("series:beforeupdate",function(r,e,o){it(An(o.seriesTransition),function(l){it(An(l.to),function(c){for(var f=o.updatedSeries,d=0;d<f.length;d++)(c.seriesIndex!=null&&c.seriesIndex===f[d].seriesIndex||c.seriesId!=null&&c.seriesId===f[d].id)&&(f[d][tw]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(r,e,o){var l=aet(e);if(l.oldSeries&&o.updatedSeries&&o.optionChanged){var c=o.seriesTransition;if(c)it(An(c),function(T){cet(T,l,o,e)});else{var f=r9(l,o);it(f.keys(),function(T){var A=f.get(T);TI(A.oldSeries,A.newSeries,e)})}it(o.updatedSeries,function(T){T[tw]&&(T[tw]=!1)})}for(var d=r.getSeries(),p=l.oldSeries=[],y=l.oldDataGroupIds=[],b=l.oldData=[],x=0;x<d.length;x++){var S=d[x].getData();S.count()<Wy&&(p.push(d[x]),y.push(d[x].get("dataGroupId")),b.push(S))}})}var CI=function(){function n(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return n.prototype.setBreaks=function(r){this.breaks=r.breaks},n.prototype.update=function(r){MT(this,r);var e=this._elapsedExtent;e[0]=this.elapse(r[0]),e[1]=this.elapse(r[1])},n.prototype.hasBreaks=function(){return!!this.breaks.length},n.prototype.calcNiceTickMultiple=function(r,e){for(var o=0;o<this.breaks.length;o++){var l=this.breaks[o];if(l.vmin<r&&r<l.vmax){var c=e(r,l.vmax);return c}}return 0},n.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},n.prototype.normalize=function(r){var e=this._elapsedExtent[1]-this._elapsedExtent[0];return e===0?.5:(this.elapse(r)-this._elapsedExtent[0])/e},n.prototype.scale=function(r){return this.unelapse(r*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},n.prototype.elapse=function(r){for(var e=fs,o=ST,l=!0,c=0;c<this.breaks.length;c++){var f=this.breaks[c];if(r<=f.vmax){r>f.vmin?e+=f.vmin-o+(r-f.vmin)/(f.vmax-f.vmin)*f.gapReal:e+=r-o,o=f.vmax,l=!1;break}e+=f.vmin-o+f.gapReal,o=f.vmax}return l&&(e+=r-o),e},n.prototype.unelapse=function(r){for(var e=fs,o=ST,l=!0,c=0,f=0;f<this.breaks.length;f++){var d=this.breaks[f],p=e+d.vmin-o,y=p+d.gapReal;if(r<=y){r>p?c=d.vmin+(r-p)/(y-p)*(d.vmax-d.vmin):c=o+r-e,o=d.vmax,l=!1;break}e=y,o=d.vmax}return l&&(c=o+r-e),c},n}();function PI(){return new CI}var fs=0,ST=0;function MT(n,r){var e=0,o={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},l=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},c={S:{tpAbs:l(),tpPrct:l()},E:{tpAbs:l(),tpPrct:l()}};it(n.breaks,function(d){var p=d.gapParsed;p.type==="tpPrct"&&(e+=p.val);var y=Hi(d,r);if(y){var b=y.vmin!==d.vmin,x=y.vmax!==d.vmax,S=y.vmax-y.vmin;if(!(b&&x))if(b||x){var T=b?"S":"E";c[T][p.type].has=!0,c[T][p.type].span=S,c[T][p.type].inExtFrac=S/(d.vmax-d.vmin),c[T][p.type].val=p.val}else o[p.type].span+=S,o[p.type].val+=p.val}});var f=e*(0+(r[1]-r[0])+(o.tpAbs.val-o.tpAbs.span)+(c.S.tpAbs.has?(c.S.tpAbs.val-c.S.tpAbs.span)*c.S.tpAbs.inExtFrac:0)+(c.E.tpAbs.has?(c.E.tpAbs.val-c.E.tpAbs.span)*c.E.tpAbs.inExtFrac:0)-o.tpPrct.span-(c.S.tpPrct.has?c.S.tpPrct.span*c.S.tpPrct.inExtFrac:0)-(c.E.tpPrct.has?c.E.tpPrct.span*c.E.tpPrct.inExtFrac:0))/(1-o.tpPrct.val-(c.S.tpPrct.has?c.S.tpPrct.val*c.S.tpPrct.inExtFrac:0)-(c.E.tpPrct.has?c.E.tpPrct.val*c.E.tpPrct.inExtFrac:0));it(n.breaks,function(d){var p=d.gapParsed;p.type==="tpPrct"&&(d.gapReal=e!==0?Math.max(f,0)*p.val/e:0),p.type==="tpAbs"&&(d.gapReal=p.val),d.gapReal==null&&(d.gapReal=0)})}function n9(n,r,e,o,l,c){n!=="no"&&it(e,function(f){var d=Hi(f,c);if(d)for(var p=r.length-1;p>=0;p--){var y=r[p],b=o(y),x=l*3/4;b>d.vmin-x&&b<d.vmax+x&&(n!=="preserve_extent_bound"||b!==c[0]&&b!==c[1])&&r.splice(p,1)}})}function fet(n,r,e,o){it(r,function(l){var c=Hi(l,e);c&&(n.push({value:c.vmin,break:{type:"vmin",parsedBreak:c},time:o?o(c):void 0}),n.push({value:c.vmax,break:{type:"vmax",parsedBreak:c},time:o?o(c):void 0}))}),r.length&&n.sort(function(l,c){return l.value-c.value})}function Hi(n,r){var e=Math.max(n.vmin,r[0]),o=Math.min(n.vmax,r[1]);return e<o||e===o&&e>r[0]&&e<r[1]?{vmin:e,vmax:o,breakOption:n.breakOption,gapParsed:n.gapParsed,gapReal:n.gapReal}:null}function TT(n,r,e){var o=[];if(!n)return{breaks:o};function l(f,d){return f>=0&&f<1-1e-5}it(n,function(f){if(!(!f||f.start==null||f.end==null)&&!f.isExpanded){var d={breakOption:Ne(f),vmin:r(f.start),vmax:r(f.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(f.gap!=null){var p=!1;if(oe(f.gap)){var y=Xo(f.gap);if(y.match(/%$/)){var b=parseFloat(y)/100;l(b,"Percent gap")||(b=0),d.gapParsed.type="tpPrct",d.gapParsed.val=b,p=!0}}if(!p){var x=r(f.gap);(!isFinite(x)||x<0)&&(x=0),d.gapParsed.type="tpAbs",d.gapParsed.val=x}}if(d.vmin===d.vmax&&(d.gapParsed.type="tpAbs",d.gapParsed.val=0),e&&e.noNegative&&it(["vmin","vmax"],function(T){d[T]<0&&(d[T]=0)}),d.vmin>d.vmax){var S=d.vmax;d.vmax=d.vmin,d.vmin=S}o.push(d)}}),o.sort(function(f,d){return f.vmin-d.vmin});var c=-1/0;return it(o,function(f,d){c>f.vmin&&(o[d]=null),c=f.vmax}),{breaks:o.filter(function(f){return!!f})}}function Yy(n,r){return Uy(r)===Uy(n)}function Uy(n){return n.start+"_\0_"+n.end}function OT(n,r,e){var o=[];it(n,function(c,f){var d=r(c);d&&d.type==="vmin"&&o.push([f])}),it(n,function(c,f){var d=r(c);if(d&&d.type==="vmax"){var p=Oa(o,function(y){return Yy(r(n[y[0]]).parsedBreak.breakOption,d.parsedBreak.breakOption)});p&&p.push(f)}});var l=[];return it(o,function(c){c.length===2&&l.push(e?c:[n[c[0]],n[c[1]]])}),l}function i9(n,r,e,o){var l,c;if(n.break){var f=n.break.parsedBreak,d=Oa(e,function(x){return Yy(x.breakOption,n.break.parsedBreak.breakOption)}),p=o(Math.pow(r,f.vmin),d.vmin),y=o(Math.pow(r,f.vmax),d.vmax),b={type:f.gapParsed.type,val:f.gapParsed.type==="tpAbs"?sa(Math.pow(r,f.vmin+f.gapParsed.val))-p:f.gapParsed.val};l={type:n.break.type,parsedBreak:{breakOption:f.breakOption,vmin:p,vmax:y,gapParsed:b,gapReal:f.gapReal}},c=d[n.break.type]}return{brkRoundingCriterion:c,vBreak:l}}function xa(n,r,e){var o={noNegative:!0},l=TT(n,e,o),c=TT(n,e,o),f=Math.log(r);return c.breaks=Gt(c.breaks,function(d){var p=Math.log(d.vmin)/f,y=Math.log(d.vmax)/f,b={type:d.gapParsed.type,val:d.gapParsed.type==="tpAbs"?Math.log(d.vmin+d.gapParsed.val)/f-p:d.gapParsed.val};return{vmin:p,vmax:y,gapParsed:b,gapReal:d.gapReal,breakOption:d.breakOption}}),{parsedOriginal:l,parsedLogged:c}}var a9={vmin:"start",vmax:"end"};function Yi(n,r){return r&&(n=n||{},n.break={type:a9[r.type],start:r.parsedBreak.vmin,end:r.parsedBreak.vmax}),n}function het(){kN({createScaleBreakContext:PI,pruneTicksByBreak:n9,addBreaksToTicks:fet,parseAxisBreakOption:TT,identifyAxisBreak:Yy,serializeAxisBreakIdentifier:Uy,retrieveAxisBreakPairs:OT,getTicksLogTransformBreak:i9,logarithmicParseBreaksFromOption:xa,makeAxisLabelFormatterParamBreak:Yi})}var AT=br();function CT(n,r){var e=Oa(n,function(o){return la().identifyAxisBreak(o.parsedBreak.breakOption,r.breakOption)});return e||n.push(e={zigzagRandomList:[],parsedBreak:r,shouldRemove:!1}),e}function o9(n){it(n,function(r){return r.shouldRemove=!0})}function EI(n){for(var r=n.length-1;r>=0;r--)n[r].shouldRemove&&n.splice(r,1)}function det(n,r,e,o,l){var c=e.axis;if(c.scale.isBlank()||!la())return;var f=la().retrieveAxisBreakPairs(c.scale.getTicks({breakTicks:"only_break"}),function(at){return at.break},!1);if(!f.length)return;var d=e.getModel("breakArea"),p=d.get("zigzagAmplitude"),y=d.get("zigzagMinSpan"),b=d.get("zigzagMaxSpan");y=Math.max(2,y||0),b=Math.max(y,b||0);var x=d.get("expandOnClick"),S=d.get("zigzagZ"),T=d.getModel("itemStyle"),A=T.getItemStyle(),E=A.stroke,L=A.lineWidth,I=A.lineDash,N=A.fill,F=new Ye({ignoreModelZ:!0}),W=c.isHorizontal(),X=AT(r).visualList||(AT(r).visualList=[]);o9(X);for(var $=function(at){var ot=f[at][0].break.parsedBreak,ht=[];ht[0]=c.toGlobalCoord(c.dataToCoord(ot.vmin,!0)),ht[1]=c.toGlobalCoord(c.dataToCoord(ot.vmax,!0)),ht[1]<ht[0]&&ht.reverse();var yt=CT(X,ot);yt.shouldRemove=!1;var vt=new Ye;et(yt.zigzagRandomList,vt,ht[0],ht[1],W,ot),x&&vt.on("click",function(){var bt={type:m1,breaks:[{start:ot.breakOption.start,end:ot.breakOption.end}]};bt[c.dim+"AxisIndex"]=e.componentIndex,l.dispatchAction(bt)}),vt.silent=!x,F.add(vt)},K=0;K<f.length;K++)$(K);n.add(F),EI(X);function et(at,ot,ht,yt,vt,bt){var Mt={stroke:E,lineWidth:L,lineDash:I,fill:"none"},St=vt?0:1,Pt=1-St,Et=o[pr[Pt]]+o[ea[Pt]];function Lt(_n){var Xr=[],xn=[];Xr[St]=xn[St]=_n,Xr[Pt]=o[pr[Pt]],xn[Pt]=Et;var kn={x1:Xr[0],y1:Xr[1],x2:xn[0],y2:xn[1]};return Qo(kn,kn,{lineWidth:1}),Xr[0]=kn.x1,Xr[1]=kn.y1,Xr[St]}ht=Lt(ht),yt=Lt(yt);for(var zt=[],Ht=[],qt=!0,ne=o[pr[Pt]],Ce=0;;Ce++){var Qe=ne===o[pr[Pt]],jr=ne>=Et;jr&&(ne=Et);var wn=[],dr=[];wn[St]=ht,dr[St]=yt,!Qe&&!jr&&(wn[St]+=qt?-p:p,dr[St]-=qt?p:-p),wn[Pt]=ne,dr[Pt]=ne,zt.push(wn),Ht.push(dr);var Ge=void 0;if(Ce<at.length?Ge=at[Ce]:(Ge=Math.random(),at.push(Ge)),ne+=Ge*(b-y)+y,qt=!qt,jr)break}var Mr=la().serializeAxisBreakIdentifier(bt.breakOption);if(ot.add(new Xa({anid:"break_a_"+Mr,shape:{points:zt},style:Mt,z:S})),bt.gapReal!==0){ot.add(new Xa({anid:"break_b_"+Mr,shape:{points:Ht},style:Mt,z:S}));var Pe=Ht.slice();Pe.reverse();var fr=zt.concat(Pe);ot.add(new xo({anid:"break_c_"+Mr,shape:{points:fr},style:{fill:N,opacity:A.opacity},z:S}))}}}function vet(n,r,e,o){var l=n.axis,c=e.transform;ei(o.style);var f=l.getExtent();l.inverse&&(f=f.slice(),f.reverse());var d=la().retrieveAxisBreakPairs(l.scale.getTicks({breakTicks:"only_break"}),function(L){return L.break},!1),p=Gt(d,function(L){var I=L[0].break.parsedBreak,N=[l.dataToCoord(I.vmin,!0),l.dataToCoord(I.vmax,!0)];return N[0]>N[1]&&N.reverse(),{coordPair:N,brkId:la().serializeAxisBreakIdentifier(I.breakOption)}});p.sort(function(L,I){return L.coordPair[0]-I.coordPair[0]});for(var y=f[0],b=null,x=0;x<p.length;x++){var S=p[x],T=Math.max(S.coordPair[0],f[0]),A=Math.min(S.coordPair[1],f[1]);y<=T&&E(y,T,b,S),y=A,b=S}y<=f[1]&&E(y,f[1],b,null);function E(L,I,N,F){function W(ht,yt){c&&($i(ht,ht,c),$i(yt,yt,c))}function X(ht,yt){var vt={x1:ht[0],y1:ht[1],x2:yt[0],y2:yt[1]};Qo(vt,vt,o.style),ht[0]=vt.x1,ht[1]=vt.y1,yt[0]=vt.x2,yt[1]=vt.y2}var $=[L,0],K=[I,0],et=[L,5],at=[I,5];W($,et),X($,et),W(K,at),X(K,at),X($,K);var ot=new ua(Wt({shape:{x1:$[0],y1:$[1],x2:K[0],y2:K[1]}},o));r.add(ot),ot.anid="breakLine_"+(N?N.brkId:"\0")+"_\0_"+(F?F.brkId:"\0")}}function pet(n,r,e){if(Oa(e,function(N){return!N}))return;var o=new Ke;if(!Im(e[0],e[1],o,{direction:-(n?r+Math.PI:r),touchThreshold:0,bidirectional:!1}))return;var l=no();Cf(l,l,-r);var c=Gt(e,function(N){return N.transform?Su(no(),l,N.transform):l});function f(N){var F=e[0].localRect,W=new Ke(F[ea[N]]*c[0][0],F[ea[N]]*c[0][1]);return Math.abs(W.y)<1e-5}var d=.5;if(f(0)||f(1)){var p=Gt(e,function(N,F){var W=N.localRect.clone();return W.applyTransform(c[F]),W}),y=new Ke;y.copy(e[0].label).add(e[1].label).scale(.5),y.transform(l);var b=o.clone().transform(l),x=p[0].x+p[1].x+(b.x>=0?p[0].width:p[1].width),S=(x+b.x)/2-y.x,T=Math.min(S,S-b.x),A=Math.max(S,S-b.x),E=A<0?A:T>0?T:0;d=(S-E)/b.x}var L=new Ke,I=new Ke;Ke.scale(L,o,-d),Ke.scale(I,o,1-d),eS(e[0],L),eS(e[1],I)}function get(n,r){var e={breaks:[]};return it(r.breaks,function(o){if(o){var l=Oa(n.get("breaks",!0),function(d){return la().identifyAxisBreak(d,o)});if(l){var c=r.type,f={isExpanded:!!l.isExpanded};l.isExpanded=c===m1?!0:c===Pz?!1:c===Ez?!l.isExpanded:l.isExpanded,e.breaks.push({start:l.start,end:l.end,isExpanded:!!l.isExpanded,old:f})}}}),e}function yet(){EU({adjustBreakLabelPair:pet,buildAxisBreakLine:vet,rectCoordBuildBreakAxis:det,updateModelAxisBreak:get})}function s9(n){oX(n),het(),yet()}function Xy(){mX(met)}function met(n,r){it(n,function(e){if(!e.model.get(["axisLabel","inside"])){var o=bet(e);if(o){var l=e.isHorizontal()?"height":"width",c=e.model.get(["axisLabel","margin"]);r[l]-=o[l]+c,e.position==="top"?r.y+=o.height+c:e.position==="left"&&(r.x+=o.width+c)}}})}function bet(n){var r=n.model,e=n.scale;if(!r.get(["axisLabel","show"])||e.isBlank())return;var o,l,c=e.getExtent();e instanceof Tv?l=e.count():(o=e.getTicks(),l=o.length);var f=n.getLabelModel(),d=Ng(n),p,y=1;l>40&&(y=Math.ceil(l/40));for(var b=0;b<l;b+=y){var x=o?o[b]:{value:c[0]+b},S=d(x,b),T=f.getTextRect(S),A=E(T,f.get("rotate")||0);p?p.union(A):p=A}return p;function E(L,I){var N=I*Math.PI/180,F=L.width,W=L.height,X=F*Math.abs(Math.cos(N))+Math.abs(W*Math.sin(N)),$=F*Math.abs(Math.sin(N))+Math.abs(W*Math.cos(N)),K=new Je(L.x,L.y,X,$);return K}}_r([VB]),_r([BY]),_r([B4,rz,hnt,Jz,Dh,s$,x$,_6,uu,oq,J6,bq,I8,pZ,TZ,Q8,GZ,uj,JZ,lK,hb,_K,tV]),_r(vV),_r(wV),_r(NE),_r(bb),_r(D8),_r(AV),_r(Pnt),_r(yD),_r(ZM),_r(LD),_r(Hv),_r(tT),_r(PJ),_r(NJ),_r(HJ),_r(ZJ),_r(XD),_r(utt),_r(sd),_r(v7),_r(g7),_r(Rtt),_r(P7),_r(cI),_r(I7),_r(Vtt),_r(Xtt),_r(V7),_r(AI),_r(rP),_r(s9),_r(Xy),_r(RX)}}]);
}());